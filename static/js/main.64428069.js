/*! For license information please see main.64428069.js.LICENSE.txt */
(()=>{var e={8151:(e,t)=>{"use strict";var n;t.storeFocus=function(){n=document.activeElement},t.clearStoredFocus=function(){n=null},t.restoreFocus=function(){if(n){try{n.focus()}catch(e){}n=null}}},5910:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(9539),a=(i=o)&&i.__esModule?i:{default:i};var s={perspective:"px",rotate:"deg",rotateX:"deg",rotateY:"deg",rotateZ:"deg",scale:"",scaleX:"",scaleY:"",scaleZ:"",skew:"deg",skewX:"deg",skewY:"deg",translateX:"px",translateY:"px",translateZ:"px"},l=Object.keys(s),c=function(){function e(t){var n=t.animations,i=t.element,r=t.origin;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.animations=n,this.element=i,this.origin=r}return r(e,[{key:"getStyles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.element,t=this.origin(e),n=[],i={};return this.animations.forEach((function(e){var r=e.prop,o=e.unit||s[r]||"",c=(0,a.default)(e.stops)(t);l.indexOf(r)>-1?n.push(r+"("+c+o+")"):i[r]=""+c+o})),n.length&&(i.transform=n.join(" ")),i}},{key:"applyStyles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.element,t=this.getStyles(e);Object.keys(t).forEach((function(n){return e.style[n]=t[n]}))}}]),e}();t.default=c,e.exports=t.default},9754:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(n){if(n<=e[0])return t[0];if(n>=e[e.length-1])return t[e.length-1];for(var i=0,r=e.length-1;r-i>1;){var o=i+r>>1;n<e[o]?r=o:i=o}return t[i]+(t[r]-t[i])/(e[r]-e[i])*(n-e[i])}},e.exports=t.default},9539:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function(e){var t=[],n=[],o=[],a=[];e.forEach((function(e){var i=r(e,2),s=i[0],l=i[1];t.push(s),isNaN(l)?(n.push(parseInt(l.substr(1,2),16)),o.push(parseInt(l.substr(3,2),16)),a.push(parseInt(l.substr(5,2),16))):n.push(l)}));var l=(0,s.default)(t,n);if(!o.length||!a.length)return function(e){return l(e)};var c=function(){var e=(0,s.default)(t,o),n=(0,s.default)(t,a);return{v:function(t){return"rgb("+Math.round(l(t))+", "+Math.round(e(t))+", "+Math.round(n(t))+")"}}}();if("object"===("undefined"===typeof c?"undefined":i(c)))return c.v};var o,a=n(9754),s=(o=a)&&o.__esModule?o:{default:o};e.exports=t.default},8546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.default)(e)};var i,r=n(7630),o=(i=r)&&i.__esModule?i:{default:i};e.exports=t.default},5216:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"===typeof e&&n.test(e)};var n=/-webkit-|-moz-|-ms-/;e.exports=t.default},4776:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0,function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(n=t.ElementType||(t.ElementType={})),t.isTag=function(e){return e.type===n.Tag||e.type===n.Script||e.type===n.Style},t.Root=n.Root,t.Text=n.Text,t.Directive=n.Directive,t.Comment=n.Comment,t.Script=n.Script,t.Style=n.Style,t.Tag=n.Tag,t.CDATA=n.CDATA,t.Doctype=n.Doctype},8079:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var o=n(4776),a=n(4410);r(n(4410),t);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},l=function(){function e(e,t,n){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"===typeof t&&(n=t,t=s),"object"===typeof e&&(t=e,e=void 0),this.callback=null!==e&&void 0!==e?e:null,this.options=null!==t&&void 0!==t?t:s,this.elementCB=null!==n&&void 0!==n?n:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var n=this.options.xmlMode?o.ElementType.Tag:void 0,i=new a.Element(e,t,void 0,n);this.addNode(i),this.tagStack.push(i)},e.prototype.ontext=function(e){var t=this.lastNode;if(t&&t.type===o.ElementType.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{var n=new a.Text(e);this.addNode(n),this.lastNode=n}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===o.ElementType.Comment)this.lastNode.data+=e;else{var t=new a.Comment(e);this.addNode(t),this.lastNode=t}},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new a.Text(""),t=new a.CDATA([e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var n=new a.ProcessingInstruction(e,t);this.addNode(n)},e.prototype.handleCallback=function(e){if("function"===typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],n=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),n&&(e.prev=n,n.next=e),e.parent=t,this.lastNode=null},e}();t.DomHandler=l,t.default=l},4410:function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.cloneNode=t.hasChildren=t.isDocument=t.isDirective=t.isComment=t.isText=t.isCDATA=t.isTag=t.Element=t.Document=t.CDATA=t.NodeWithChildren=t.ProcessingInstruction=t.Comment=t.Text=t.DataNode=t.Node=void 0;var o=n(4776),a=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),b(this,e)},e}();t.Node=a;var s=function(e){function t(t){var n=e.call(this)||this;return n.data=t,n}return i(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(a);t.DataNode=s;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.ElementType.Text,t}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(s);t.Text=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.ElementType.Comment,t}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(s);t.Comment=c;var u=function(e){function t(t,n){var i=e.call(this,n)||this;return i.name=t,i.type=o.ElementType.Directive,i}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(s);t.ProcessingInstruction=u;var h=function(e){function t(t){var n=e.call(this)||this;return n.children=t,n}return i(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(a);t.NodeWithChildren=h;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.ElementType.CDATA,t}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(h);t.CDATA=d;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.ElementType.Root,t}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(h);t.Document=p;var f=function(e){function t(t,n,i,r){void 0===i&&(i=[]),void 0===r&&(r="script"===t?o.ElementType.Script:"style"===t?o.ElementType.Style:o.ElementType.Tag);var a=e.call(this,i)||this;return a.name=t,a.attribs=n,a.type=r,a}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map((function(t){var n,i;return{name:t,value:e.attribs[t],namespace:null===(n=e["x-attribsNamespace"])||void 0===n?void 0:n[t],prefix:null===(i=e["x-attribsPrefix"])||void 0===i?void 0:i[t]}}))},enumerable:!1,configurable:!0}),t}(h);function m(e){return(0,o.isTag)(e)}function g(e){return e.type===o.ElementType.CDATA}function _(e){return e.type===o.ElementType.Text}function y(e){return e.type===o.ElementType.Comment}function v(e){return e.type===o.ElementType.Directive}function x(e){return e.type===o.ElementType.Root}function b(e,t){var n;if(void 0===t&&(t=!1),_(e))n=new l(e.data);else if(y(e))n=new c(e.data);else if(m(e)){var i=t?w(e.children):[],o=new f(e.name,r({},e.attribs),i);i.forEach((function(e){return e.parent=o})),null!=e.namespace&&(o.namespace=e.namespace),e["x-attribsNamespace"]&&(o["x-attribsNamespace"]=r({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(o["x-attribsPrefix"]=r({},e["x-attribsPrefix"])),n=o}else if(g(e)){i=t?w(e.children):[];var a=new d(i);i.forEach((function(e){return e.parent=a})),n=a}else if(x(e)){i=t?w(e.children):[];var s=new p(i);i.forEach((function(e){return e.parent=s})),e["x-mode"]&&(s["x-mode"]=e["x-mode"]),n=s}else{if(!v(e))throw new Error("Not implemented yet: ".concat(e.type));var h=new u(e.name,e.data);null!=e["x-name"]&&(h["x-name"]=e["x-name"],h["x-publicId"]=e["x-publicId"],h["x-systemId"]=e["x-systemId"]),n=h}return n.startIndex=e.startIndex,n.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function w(e){for(var t=e.map((function(e){return b(e,!0)})),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}t.Element=f,t.isTag=m,t.isCDATA=g,t.isText=_,t.isComment=y,t.isDirective=v,t.isDocument=x,t.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},t.cloneNode=b},6514:e=>{"use strict";var t=/-(.)/g;e.exports=function(e){return e.replace(t,(function(e,t){return t.toUpperCase()}))}},4023:(e,t,n)=>{"use strict";var i=n(6514),r=/^-ms-/;e.exports=function(e){return i(e.replace(r,"ms-"))}},9394:e=>{"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},8186:e=>{"use strict";var t=/([A-Z])/g;e.exports=function(e){return e.replace(t,"-$1").toLowerCase()}},3476:(e,t,n)=>{"use strict";var i=n(8186),r=/^ms-/;e.exports=function(e){return i(e).replace(r,"-ms-")}},7983:e=>{"use strict";e.exports=function(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}},3255:(e,t,n)=>{"use strict";var i=n(9394);e.exports=i},3858:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if("undefined"===typeof document)return e;var t=document.createElement("p").style,n=["ms","O","Moz","Webkit"];if(""===t[e])return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var i=n.length;i--;)if(""===t[n[i]+e])return n[i]+e},e.exports=t.default},2324:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowStart:!0,gridRowEnd:!0,gridColumn:!0,gridColumnStart:!0,gridColumnEnd:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};var i=["Webkit","ms","Moz","O"];Object.keys(n).forEach((function(e){i.forEach((function(t){n[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=n[e]}))}));var r={isUnitlessNumber:n,shorthandPropertyExpansions:{background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}}};t.default=r},8309:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2324));r(n(3255));function r(e){return e&&e.__esModule?e:{default:e}}var o=i.default.isUnitlessNumber;t.default=function(e,t,n){return null==t||"boolean"===typeof t||""===t?"":isNaN(t)||0===t||o.hasOwnProperty(e)&&o[e]?""+t:("string"===typeof t&&(t=t.trim()),t+"px")}},9050:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processStyleName=void 0,t.createMarkupForStyles=function(e,t){var n="";for(var r in e){var o=0===r.indexOf("--");if(e.hasOwnProperty(r)&&"label"!==r){var a=e[r];0,null!=a&&(o?n+=r+":"+a+";":(n+=s(r)+":",n+=(0,i.default)(r,a,t)+";"))}}return n||null};a(n(4023));var i=a(n(8309)),r=a(n(3476)),o=a(n(7983));a(n(3255));function a(e){return e&&e.__esModule?e:{default:e}}var s=t.processStyleName=(0,o.default)(r.default)},9905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n(5800)),o=a(n(338));function a(e){return e&&e.__esModule?e:{default:e}}var s="undefined"!==typeof window,l=new WeakMap,c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=t,s){var n=this.props.document,i=l.get(n);if(i)return i;l.set(n,this),this.sheet=new r.default({document:n})}this.inserted={},this.tagged={}}return i(e,[{key:"hydrate",value:function(e){var t=this;e.forEach((function(e){return t.inserted[e]=!0}))}},{key:"tag",value:function(e){this.tagged[e]=!0}},{key:"isTagged",value:function(e){return this.tagged[e]}},{key:"insert",value:function(e){var t=this;if(!this.inserted[e.className]){var n=(0,o.default)(e);s&&n.forEach((function(e){return t.sheet.insert(e)})),this.inserted[e.className]=!0}}}]),e}();t.default=c},2330:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){for(var n=[],i=0;i<t.length;i++)n=Array.isArray(t[i])?n.concat(e(t[i])):n.concat(t[i]);return n}},338:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.simulations=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];o=!!e},t.default=function(e){var t=e.className,n=e.parsed;return c(t,n)};var i=n(9050),r=n(389),o=!1;var a=/[(),]|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g;function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e&&t)return t.replace(/\&/g,"");if(e&&!t)return"."+e;var n=function(e){if(-1===e.indexOf(","))return[e];for(var t,n=[],i=[],r=0;t=a.exec(e);)switch(t[0]){case"(":r++;break;case")":r--;break;case",":if(r)break;n.push(t.index)}for(t=n.length;t--;)i.unshift(e.slice(n[t]+1)),e=e.slice(0,n[t]);return i.unshift(e),i}(t).map((function(t){return t.indexOf("&")>=0?t.replace(/\&/gm,"."+e):"."+e+t})).join(",");return o&&/^\&\:/.exec(t)&&!/\s/.exec(t)&&(n+=",."+e+"[data-simulate-"+function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.toLowerCase().replace(/[^a-z0-9]/g,t)}(t)+"]"),n}function l(e){var t=(0,r.prefixes)((0,r.fallbacks)((0,r.contentWrap)(e)));return t.selector+"{"+(0,i.createMarkupForStyles)(t.style)+"}"}function c(e,t){var n=[],i=t.plain,r=t.selects,o=t.medias,a=t.supports;return i&&n.push(l({style:i,selector:s(e)})),r&&Object.keys(r).forEach((function(t){return n.push(l({style:r[t],selector:s(e,t)}))})),o&&Object.keys(o).forEach((function(t){return n.push(t+"{"+c(e,o[t]).join("")+"}")})),a&&Object.keys(a).forEach((function(t){return n.push(t+"{"+c(e,a[t]).join("")+"}")})),n}},5289:(e,t)=>{"use strict";function n(e,t){return e.charCodeAt(t++)+(e.charCodeAt(t++)<<8)+(e.charCodeAt(t++)<<16)+(e.charCodeAt(t)<<24)}function i(e,t){return e.charCodeAt(t++)+(e.charCodeAt(t++)<<8)}function r(e,t){return(65535&(e|=0))*(t|=0)+(((e>>>16)*t&65535)<<16)|0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=JSON.stringify(e);return function(e,t){var o=1540483477,a=24,s=t^e.length,l=e.length,c=0;for(;l>=4;){var u=n(e,c);u=r(u,o),u=r(u^=u>>>a,o),s=r(s,o),s^=u,c+=4,l-=4}switch(l){case 3:s^=i(e,c),s=r(s^=e.charCodeAt(c+2)<<16,o);break;case 2:s=r(s^=i(e,c),o);break;case 1:s=r(s^=e.charCodeAt(c),o)}return s=r(s^=s>>>13,o),(s^=s>>>15)>>>0}(t,t.length).toString(36)}},1877:(e,t,n)=>{"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.ZP=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var l=t||{},c=l.css,u=l.className,h=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(l,["css","className"]);return c?s.default.createElement(_,{css:c,render:function(t){var n=u?t?u+" "+t:u:t;return a.createElement.apply(void 0,[e,n?i({},h,{className:n}):h].concat(r))}}):a.createElement.apply(void 0,[e,t].concat(r))};var o=d(n(2007)),a=n(2791),s=d(a),l=n(4164),c=d(n(9905)),u=d(n(5037)),h=d(n(338));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f="undefined"!==typeof window,m=!1,g=(0,u.default)({}).className,_=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=i=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),i.glam=i.context.glam||new c.default(f?{document:document}:void 0),p(i,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"getChildContext",value:function(){return{glam:this.glam}}},{key:"componentWillUnmount",value:function(){this.flush&&this.flush()}},{key:"render",value:function(){var e=this,t=this.props.css,n=(0,u.default)(t),i=n.className===g?"":n.className,r=this.props.render(i);if(!f||f&&m){if(this.glam.isTagged(n.className))return r;this.glam.tag(n.className),this.flush=function(){return e.glam.insert(n)};var o=(0,h.default)(n).join("");return o?a.Children.toArray([s.default.createElement("style",{dangerouslySetInnerHTML:{__html:o}}),r]):r}return this.glam.insert(n),r}}]),t}(s.default.Component);_.displayName="css",_.contextTypes={glam:o.default.object},_.childContextTypes={glam:o.default.object}},5037:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cssLabels=function(e){a=!!e},t.default=function(e){var t=p(d({label:[]},{inputs:e}));return{className:"css-"+(0,r.default)(t),parsed:t}};var i=o(n(2330)),r=o(n(5289));function o(e){return e&&e.__esModule?e:{default:e}}var a=!1;var s={"::placeholder":["::-webkit-input-placeholder","::-moz-placeholder","::-ms-input-placeholder"],":fullscreen":[":-webkit-full-screen",":-moz-full-screen",":-ms-fullscreen"]};var l=/[(),]|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g;function c(e){if(-1===e.indexOf(","))return[e];for(var t,n=[],i=[],r=0;t=l.exec(e);)switch(t[0]){case"(":r++;break;case")":r--;break;case",":if(r)break;n.push(t.index)}for(t=n.length;t--;)i.unshift(e.slice(n[t]+1)),e=e.slice(0,n[t]);return i.unshift(e),i}function u(e,t){var n=c(e).map((function(e){return e.indexOf("&")>=0?e:"&"+e})),i=c(t).map((function(e){return e.indexOf("&")>=0?e:"&"+e}));return i.reduce((function(e,t){return e.concat(n.map((function(e){return t.replace(/\&/g,e)})))}),[]).join(",")}function h(e,t){return e?"@supports "+e.substring(9)+" and "+t.substring(9):t}function d(e,t){var n=t.selector,r=void 0===n?"":n,o=t.mq,l=void 0===o?"":o,c=t.supp,p=void 0===c?"":c,f=t.inputs,m=void 0===f?{}:f;return(Array.isArray(m)?(0,i.default)(m):[m]).filter((function(e){return!!e})).forEach((function(t){var n=t;Object.keys(n||{}).forEach((function(t){if(function(e){for(var t=[":",".","[",">"," "],n=!1,i=e.charAt(0),r=0;r<t.length;r++)if(i===t[r]){n=!0;break}return n||e.indexOf("&")>=0}(t))s[t]&&s[t].forEach((function(i){return d(e,{selector:u(r,i),mq:l,supp:p,inputs:n[t]})})),d(e,{selector:u(r,t),mq:l,supp:p,inputs:n[t]});else if(function(e){return 0===e.indexOf("@media")}(t))d(e,{selector:r,mq:(o=l,c=t,o?"@media "+o.substring(6)+" and "+c.substring(6):c),supp:p,inputs:n[t]});else if(function(e){return 0===e.indexOf("@supports")}(t))d(e,{selector:r,mq:l,supp:h(p,t),inputs:n[t]});else{var i=e;p&&(i[p]=i[p]||{},i=i[p]),l&&(i[l]=i[l]||{},i=i[l]),r&&(i[r]=i[r]||{},i=i[r]),"label"===t?a&&(e.label=e.label.concat(n.label)):i[t]=n[t]}var o,c}))})),e}function p(e){var t=void 0,n=void 0,i=void 0,r=void 0;return Object.keys(e).forEach((function(o){o.indexOf("&")>=0?(n=n||{})[o]=e[o]:0===o.indexOf("@media")?(i=i||{})[o]=p(e[o]):0===o.indexOf("@supports")?(r=r||{})[o]=p(e[o]):"label"===o?e.label.length>0&&((t=t||{}).label=a?e.label.join("."):""):(t=t||{})[o]=e[o]})),{plain:t,selects:n,medias:i,supports:r}}},389:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.fallbacks=function(e){if(Object.keys(e.style).map((function(t){return Array.isArray(e.style[t])})).indexOf(!0)>=0){var t=e.style,n=Object.keys(t).reduce((function(e,n){return e[n]=Array.isArray(t[n])?t[n].join("; "+(0,o.processStyleName)(n)+": "):t[n],e}),{});return i({},e,{style:n})}return e},t.contentWrap=function(e){if(e.style.content){var t=e.style.content;return l.indexOf(t)>=0||/^(attr|calc|counters?|url)\(/.test(t)?e:t.charAt(0)!==t.charAt(t.length-1)||'"'!==t.charAt(0)&&"'"!==t.charAt(0)?i({},e,{style:i({},e.style,{content:'"'+t+'"'})}):e}return e},t.prefixes=function(e){return i({},e,{style:(0,s.default)(i({},e.style))})};var r,o=n(9050),a=n(350),s=(r=a)&&r.__esModule?r:{default:r};var l=["normal","none","counter","open-quote","close-quote","no-open-quote","no-close-quote","initial","inherit"]},350:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t in e){var n=e[t],i=(0,o.default)(_,t,n,e,y);i&&(e[t]=i),(0,r.default)(y,t,e)}return e};var i=g(n(9169)),r=g(n(8183)),o=g(n(4715)),a=g(n(4053)),s=g(n(4370)),l=g(n(6840)),c=g(n(4751)),u=g(n(48)),h=g(n(4810)),d=g(n(8574)),p=g(n(9091)),f=g(n(6312)),m=g(n(4500));function g(e){return e&&e.__esModule?e:{default:e}}var _=[s.default,a.default,l.default,u.default,h.default,d.default,p.default,f.default,m.default,c.default],y=i.default.prefixMap},5800:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function i(e){return e[e.length-1]}var r="undefined"!==typeof window,o=function(){if(r){var e=document.createElement("div");return e.innerHTML="\x3c!--[if lt IE 10]><i></i><![endif]--\x3e",1===e.getElementsByTagName("i").length}return!1}(),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.document,i=t.speedy,r=void 0===i||i,a=t.maxLength,s=void 0===a?o?4e3:65e3:a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.document=n,this.isSpeedy=r,this.tags=[],this.maxLength=s,this.ctr=0,this.inject()}return n(e,[{key:"makeStyleTag",value:function(){var e=this.document.createElement("style");return e.type="text/css",e.setAttribute("data-glamor",""),e.appendChild(this.document.createTextNode("")),(this.document.head||this.document.getElementsByTagName("head")[0]).appendChild(e),e}},{key:"sheetForTag",value:function(e){if(e.sheet)return e.sheet;for(var t=0;t<this.document.styleSheets.length;t++)if(this.document.styleSheets[t].ownerNode===e)return this.document.styleSheets[t]}},{key:"getSheet",value:function(){return this.sheetForTag(i(this.tags))}},{key:"inject",value:function(){if(this.injected)throw new Error("already injected");this.tags[0]=this.makeStyleTag(),this.injected=!0}},{key:"_insert",value:function(e){try{var t=this.getSheet();t&&t.insertRule(e,-1!==e.indexOf("@import")?0:t.cssRules.length)}catch(n){0}}},{key:"insert",value:function(e){var t=this.getSheet();if(this.isSpeedy&&t&&t.insertRule)this._insert(e);else if(-1!==e.indexOf("@import")){var n=i(this.tags);n.insertBefore(this.document.createTextNode(e),n.firstChild)}else i(this.tags).appendChild(this.document.createTextNode(e));this.ctr++,this.ctr%this.maxLength===0&&this.tags.push(this.makeStyleTag())}},{key:"rules",value:function(){var e=this,t=[];return this.tags.forEach((function(n){return t.splice.apply(t,[t.length,0].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Array.from(e.sheetForTag(n).cssRules))))})),t}}]),e}();t.default=a},9127:(e,t)=>{t.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"]},9409:e=>{var t="html",n="head",i="body",r=/<([a-zA-Z]+[0-9]?)/,o=/<head[^]*>/i,a=/<body[^]*>/i,s=function(){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},l=function(){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},c="object"===typeof window&&window.DOMParser;if("function"===typeof c){var u=new c;s=l=function(e,t){return t&&(e="<"+t+">"+e+"</"+t+">"),u.parseFromString(e,"text/html")}}if("object"===typeof document&&document.implementation){var h=document.implementation.createHTMLDocument();s=function(e,t){return t?(h.documentElement.querySelector(t).innerHTML=e,h):(h.documentElement.innerHTML=e,h)}}var d,p="object"===typeof document?document.createElement("template"):{};p.content&&(d=function(e){return p.innerHTML=e,p.content.childNodes}),e.exports=function(e){var c,u,h,p,f=e.match(r);switch(f&&f[1]&&(c=f[1].toLowerCase()),c){case t:return u=l(e),o.test(e)||(h=u.querySelector(n))&&h.parentNode.removeChild(h),a.test(e)||(h=u.querySelector(i))&&h.parentNode.removeChild(h),u.querySelectorAll(t);case n:case i:return p=(u=s(e)).querySelectorAll(c),a.test(e)&&o.test(e)?p[0].parentNode.childNodes:p;default:return d?d(e):(h=s(e,i).querySelector(i)).childNodes}}},159:(e,t,n)=>{var i=n(9409),r=n(1716).formatDOM,o=/<(![a-zA-Z\s]+)>/;e.exports=function(e){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(""===e)return[];var t,n=e.match(o);return n&&n[1]&&(t=n[1]),r(i(e),null,t)}},1716:(e,t,n)=>{for(var i,r=n(8079),o=n(9127).CASE_SENSITIVE_TAG_NAMES,a=r.Comment,s=r.Element,l=r.ProcessingInstruction,c=r.Text,u={},h=0,d=o.length;h<d;h++)i=o[h],u[i.toLowerCase()]=i;function p(e){for(var t,n={},i=0,r=e.length;i<r;i++)n[(t=e[i]).name]=t.value;return n}function f(e){var t=function(e){return u[e]}(e=e.toLowerCase());return t||e}t.formatAttributes=p,t.formatDOM=function e(t,n,i){n=n||null;for(var r,o=[],u=0,h=t.length;u<h;u++){var d,m=t[u];switch(m.nodeType){case 1:r=f(m.nodeName),(d=new s(r,p(m.attributes))).children=e("template"===r?m.content.childNodes:m.childNodes,d);break;case 3:d=new c(m.nodeValue);break;case 8:d=new a(m.nodeValue);break;default:continue}var g=o[u-1]||null;g&&(g.next=d),d.parent=n,d.prev=g,d.next=null,o.push(d)}return i&&((d=new l(i.substring(0,i.indexOf(" ")).toLowerCase(),i)).next=o[0]||null,d.parent=n,o.unshift(d),o[1]&&(o[1].prev=o[0])),o}},6854:(e,t,n)=>{var i=n(8079),r=n(159),o=n(8131),a=n(4595);r="function"===typeof r.default?r.default:r;var s={lowerCaseAttributeNames:!1};function l(e,t){if("string"!==typeof e)throw new TypeError("First argument must be a string");return""===e?[]:a(r(e,(t=t||{}).htmlparser2||s),t)}l.domToReact=a,l.htmlToDOM=r,l.attributesToProps=o,l.Comment=i.Comment,l.Element=i.Element,l.ProcessingInstruction=i.ProcessingInstruction,l.Text=i.Text,e.exports=l,l.default=l},8131:(e,t,n)=>{var i=n(6195),r=n(4141),o=["checked","value"],a=["input","select","textarea"],s={reset:!0,submit:!0};function l(e){return i.possibleStandardNames[e]}e.exports=function(e,t){var n,c,u,h,d,p={},f=(e=e||{}).type&&s[e.type];for(n in e)if(u=e[n],i.isCustomAttribute(n))p[n]=u;else if(h=l(c=n.toLowerCase()))switch(d=i.getPropertyInfo(h),-1===o.indexOf(h)||-1===a.indexOf(t)||f||(h=l("default"+c)),p[h]=u,d&&d.type){case i.BOOLEAN:p[h]=!0;break;case i.OVERLOADED_BOOLEAN:""===u&&(p[h]=!0)}else r.PRESERVE_CUSTOM_ATTRIBUTES&&(p[n]=u);return r.setStyleProp(e.style,p),p}},4595:(e,t,n)=>{var i=n(2791),r=n(8131),o=n(4141),a=o.setStyleProp,s=o.canTextBeChildOfNode;function l(e){return o.PRESERVE_CUSTOM_ATTRIBUTES&&"tag"===e.type&&o.isCustomComponent(e.name,e.attribs)}e.exports=function e(t,n){for(var c,u,h,d,p,f=(n=n||{}).library||i,m=f.cloneElement,g=f.createElement,_=f.isValidElement,y=[],v="function"===typeof n.replace,x=n.transform||o.returnFirstArg,b=n.trim,w=0,E=t.length;w<E;w++)if(c=t[w],v&&_(h=n.replace(c)))E>1&&(h=m(h,{key:h.key||w})),y.push(x(h,c,w));else if("text"!==c.type){switch(d=c.attribs,l(c)?a(d.style,d):d&&(d=r(d,c.name)),p=null,c.type){case"script":case"style":c.children[0]&&(d.dangerouslySetInnerHTML={__html:c.children[0].data});break;case"tag":"textarea"===c.name&&c.children[0]?d.defaultValue=c.children[0].data:c.children&&c.children.length&&(p=e(c.children,n));break;default:continue}E>1&&(d.key=w),y.push(x(g(c.name,d,p),c,w))}else{if((u=!c.data.trim().length)&&c.parent&&!s(c.parent))continue;if(b&&u)continue;y.push(x(c.data,c,w))}return 1===y.length?y[0]:y}},4141:(e,t,n)=>{var i=n(2791),r=n(5792).default;var o=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);var a={reactCompat:!0};var s=i.version.split(".")[0]>=16,l=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);e.exports={PRESERVE_CUSTOM_ATTRIBUTES:s,ELEMENTS_WITH_NO_TEXT_CHILDREN:l,invertObject:function(e,t){if(!e||"object"!==typeof e)throw new TypeError("First argument must be an object");var n="function"===typeof t,i={},r={};for(var o in e){var a=e[o];n&&(i=t(o,a))&&2===i.length?r[i[0]]=i[1]:"string"===typeof a&&(r[a]=o)}return r},isCustomComponent:function(e,t){return-1===e.indexOf("-")?t&&"string"===typeof t.is:!o.has(e)},setStyleProp:function(e,t){if(null!==e&&void 0!==e)try{t.style=r(e,a)}catch(n){t.style={}}},canTextBeChildOfNode:function(e){return!l.has(e.name)},returnFirstArg:function(e){return e}}},7630:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=/[A-Z]/g,r=/^ms-/,o={};function a(e){return"-"+e.toLowerCase()}const s=function(e){if(o.hasOwnProperty(e))return o[e];var t=e.replace(i,a);return o[e]=r.test(t)?"-"+t:t}},1065:e=>{var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,i=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,l=/^\s+|\s+$/g,c="";function u(e){return e?e.replace(l,c):c}e.exports=function(e,l){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];l=l||{};var h=1,d=1;function p(e){var t=e.match(n);t&&(h+=t.length);var i=e.lastIndexOf("\n");d=~i?e.length-i:d+e.length}function f(){var e={line:h,column:d};return function(t){return t.position=new m(e),v(),t}}function m(e){this.start=e,this.end={line:h,column:d},this.source=l.source}m.prototype.content=e;var g=[];function _(t){var n=new Error(l.source+":"+h+":"+d+": "+t);if(n.reason=t,n.filename=l.source,n.line=h,n.column=d,n.source=e,!l.silent)throw n;g.push(n)}function y(t){var n=t.exec(e);if(n){var i=n[0];return p(i),e=e.slice(i.length),n}}function v(){y(i)}function x(e){var t;for(e=e||[];t=b();)!1!==t&&e.push(t);return e}function b(){var t=f();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;c!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,c===e.charAt(n-1))return _("End of comment missing");var i=e.slice(2,n-2);return d+=2,p(i),e=e.slice(n),d+=2,t({type:"comment",comment:i})}}function w(){var e=f(),n=y(r);if(n){if(b(),!y(o))return _("property missing ':'");var i=y(a),l=e({type:"declaration",property:u(n[0].replace(t,c)),value:i?u(i[0].replace(t,c)):c});return y(s),l}}return v(),function(){var e,t=[];for(x(t);e=w();)!1!==e&&(t.push(e),x(t));return t}()}},4370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,o.default)(t)&&t.indexOf("cross-fade(")>-1)return a.map((function(e){return t.replace(/cross-fade\(/g,e+"cross-fade(")}))};var i,r=n(5216),o=(i=r)&&i.__esModule?i:{default:i};var a=["-webkit-",""];e.exports=t.default},4053:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("cursor"===e&&i.hasOwnProperty(t))return n.map((function(e){return e+t}))};var n=["-webkit-","-moz-",""],i={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};e.exports=t.default},6840:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,o.default)(t)&&t.indexOf("filter(")>-1)return a.map((function(e){return t.replace(/filter\(/g,e+"filter(")}))};var i,r=n(5216),o=(i=r)&&i.__esModule?i:{default:i};var a=["-webkit-",""];e.exports=t.default},4751:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("display"===e&&n.hasOwnProperty(t))return n[t]};var n={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]};e.exports=t.default},48:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){"flexDirection"===e&&"string"===typeof t&&(t.indexOf("column")>-1?r.WebkitBoxOrient="vertical":r.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?r.WebkitBoxDirection="reverse":r.WebkitBoxDirection="normal");i.hasOwnProperty(e)&&(r[i[e]]=n[t]||t)};var n={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},i={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"};e.exports=t.default},4810:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,o.default)(t)&&s.test(t))return a.map((function(e){return e+t}))};var i,r=n(5216),o=(i=r)&&i.__esModule?i:{default:i};var a=["-webkit-","-moz-",""],s=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;e.exports=t.default},8574:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,o.default)(t)&&t.indexOf("image-set(")>-1)return a.map((function(e){return t.replace(/image-set\(/g,e+"image-set(")}))};var i,r=n(5216),o=(i=r)&&i.__esModule?i:{default:i};var a=["-webkit-",""];e.exports=t.default},9091:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]},e.exports=t.default},6312:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(i.hasOwnProperty(e)&&r.hasOwnProperty(t))return n.map((function(e){return e+t}))};var n=["-webkit-","-moz-",""],i={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},r={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},4500:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,a){if("string"===typeof t&&s.hasOwnProperty(e)){var c=function(e,t){if((0,r.default)(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),o=0,a=n.length;o<a;++o){var s=n[o],c=[s];for(var u in t){var h=(0,i.default)(u);if(s.indexOf(h)>-1&&"order"!==h)for(var d=t[u],p=0,f=d.length;p<f;++p)c.unshift(s.replace(h,l[d[p]]+h))}n[o]=c.join(",")}return n.join(",")}(t,a),u=c.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-moz-|-ms-/.test(e)})).join(",");if(e.indexOf("Webkit")>-1)return u;var h=c.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-webkit-|-ms-/.test(e)})).join(",");return e.indexOf("Moz")>-1?h:(n["Webkit"+(0,o.default)(e)]=u,n["Moz"+(0,o.default)(e)]=h,c)}};var i=a(n(8546)),r=a(n(5216)),o=a(n(7255));function a(e){return e&&e.__esModule?e:{default:e}}var s={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},l={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};e.exports=t.default},9169:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["Webkit"],i=["Moz"],r=["ms"],o=["Webkit","Moz"],a=["Webkit","ms"],s=["Webkit","Moz","ms"];t.default={plugins:[],prefixMap:{appearance:o,userSelect:s,textEmphasisPosition:n,textEmphasis:n,textEmphasisStyle:n,textEmphasisColor:n,boxDecorationBreak:n,clipPath:n,maskImage:n,maskMode:n,maskRepeat:n,maskPosition:n,maskClip:n,maskOrigin:n,maskSize:n,maskComposite:n,mask:n,maskBorderSource:n,maskBorderMode:n,maskBorderSlice:n,maskBorderWidth:n,maskBorderOutset:n,maskBorderRepeat:n,maskBorder:n,maskType:n,textDecorationStyle:n,textDecorationSkip:n,textDecorationLine:n,textDecorationColor:n,filter:n,fontFeatureSettings:n,breakAfter:s,breakBefore:s,breakInside:s,columnCount:o,columnFill:o,columnGap:o,columnRule:o,columnRuleColor:o,columnRuleStyle:o,columnRuleWidth:o,columns:o,columnSpan:o,columnWidth:o,writingMode:a,flex:n,flexBasis:n,flexDirection:n,flexGrow:n,flexFlow:n,flexShrink:n,flexWrap:n,alignContent:n,alignItems:n,alignSelf:n,justifyContent:n,order:n,transform:n,transformOrigin:n,transformOriginX:n,transformOriginY:n,backfaceVisibility:n,perspective:n,perspectiveOrigin:n,transformStyle:n,transformOriginZ:n,animation:n,animationDelay:n,animationDirection:n,animationFillMode:n,animationDuration:n,animationIterationCount:n,animationName:n,animationPlayState:n,animationTimingFunction:n,backdropFilter:n,fontKerning:n,scrollSnapType:a,scrollSnapPointsX:a,scrollSnapPointsY:a,scrollSnapDestination:a,scrollSnapCoordinate:a,shapeImageThreshold:n,shapeImageMargin:n,shapeImageOutside:n,hyphens:s,flowInto:a,flowFrom:a,regionFragment:a,textAlignLast:i,tabSize:i,wrapFlow:r,wrapThrough:r,wrapMargin:r,gridTemplateColumns:r,gridTemplateRows:r,gridTemplateAreas:r,gridTemplate:r,gridAutoColumns:r,gridAutoRows:r,gridAutoFlow:r,grid:r,gridRowStart:r,gridColumnStart:r,gridRowEnd:r,gridRow:r,gridColumn:r,gridColumnEnd:r,gridColumnGap:r,gridRowGap:r,gridArea:r,gridGap:r,textSizeAdjust:a,borderImage:n,borderImageOutset:n,borderImageRepeat:n,borderImageSlice:n,borderImageSource:n,borderImageWidth:n,transitionDelay:n,transitionDuration:n,transitionProperty:n,transitionTimingFunction:n}},e.exports=t.default},7255:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.exports=t.default},8183:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(e.hasOwnProperty(t))for(var i=e[t],r=0,a=i.length;r<a;++r)n[i[r]+(0,o.default)(t)]=n[t]};var i,r=n(7255),o=(i=r)&&i.__esModule?i:{default:i};e.exports=t.default},4715:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,i,r){for(var o=0,a=e.length;o<a;++o){var s=e[o](t,n,i,r);if(s)return s}},e.exports=t.default},5483:function(e){e.exports=function(){"use strict";var e,t,n;function i(i,r){if(e)if(t){var o="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk); self.onerror = null;",a={};e(a),n=r(a),"undefined"!==typeof window&&window&&window.URL&&window.URL.createObjectURL&&(n.workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"})))}else t=r;else e=r}return i(["exports"],(function(e){var t="undefined"!=typeof self?self:{},n="2.15.0";let i;const r={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(null==i){const e=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{i=null!={NODE_ENV:"production",PUBLIC_URL:"/reunion",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MAPBOX_ACCESS_TOKEN:"pk.eyJ1IjoibmdyYW5nZSIsImEiOiJjbG05MzZkOWowa2lpM2RycmEwNWNianRzIn0.Ef2-MgCSKnHfrRGv7T6mLQ"}.API_URL_REGEX?new RegExp({NODE_ENV:"production",PUBLIC_URL:"/reunion",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MAPBOX_ACCESS_TOKEN:"pk.eyJ1IjoibmdyYW5nZSIsImEiOiJjbG05MzZkOWowa2lpM2RycmEwNWNianRzIn0.Ef2-MgCSKnHfrRGv7T6mLQ"}.API_URL_REGEX):e}catch(t){i=e}}return i},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){if(!r.API_URL)return null;try{const e=new URL(r.API_URL);return"api.mapbox.cn"===e.hostname?"https://events.mapbox.cn/events/v2":"api.mapbox.com"===e.hostname?"https://events.mapbox.com/events/v2":null}catch(e){return null}},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},o={supported:!1,testSupport:function(e){!l&&s&&(c?u(e):a=e)}};let a,s,l=!1,c=!1;function u(e){const t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,s),e.isContextLost())return;o.supported=!0}catch(e){}e.deleteTexture(t),l=!0}t.document&&(s=t.document.createElement("img"),s.onload=function(){a&&u(a),a=null,c=!0},s.onerror=function(){l=!0,a=null},s.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const h="01";function d(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var p=f;function f(e,t,n,i){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(i-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=i}f.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,i=0;i<8;i++){var r=this.sampleCurveX(n)-e;if(Math.abs(r)<t)return n;var o=this.sampleCurveDerivativeX(n);if(Math.abs(o)<1e-6)break;n-=r/o}var a=0,s=1;for(n=e,i=0;i<20&&(r=this.sampleCurveX(n),!(Math.abs(r-e)<t));i++)e>r?a=n:s=n,n=.5*(s-a)+a;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}};var m=d(p),g=_;function _(e,t){this.x=e,this.y=t}_.prototype={clone:function(){return new _(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),i=n*this.x+t*this.y;return this.x=t*this.x-n*this.y,this.y=i,this},_rotateAround:function(e,t){var n=Math.cos(e),i=Math.sin(e),r=t.y+i*(this.x-t.x)+n*(this.y-t.y);return this.x=t.x+n*(this.x-t.x)-i*(this.y-t.y),this.y=r,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},_.convert=function(e){return e instanceof _?e:Array.isArray(e)?new _(e[0],e[1]):e};var y=d(g);const v=Math.PI/180,x=180/Math.PI;function b(e){return e*v}function w(e){return e*x}const E=[[0,0],[1,0],[1,1],[0,1]];function T(e){if(e<=0)return 0;if(e>=1)return 1;const t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function k(e,t,n,i){const r=new m(e,t,n,i);return function(e){return r.solve(e)}}const S=k(.25,.1,.25,1);function C(e,t,n){return Math.min(n,Math.max(t,e))}function M(e,t,n){return(n=C((n-e)/(t-e),0,1))*n*(3-2*n)}function z(e,t,n){const i=n-t,r=((e-t)%i+i)%i+t;return r===t?n:r}function A(e,t,n){if(!e.length)return n(null,[]);let i=e.length;const r=new Array(e.length);let o=null;e.forEach(((e,a)=>{t(e,((e,t)=>{e&&(o=e),r[a]=t,0==--i&&n(o,r)}))}))}function P(e){const t=[];for(const n in e)t.push(e[n]);return t}function I(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const r of n)for(const t in r)e[t]=r[t];return e}let L=1;function D(){return L++}function O(){return function e(t){return t?(t^Math.random()*(16>>t/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function R(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function B(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function F(e,t){e.forEach((e=>{t[e]&&(t[e]=t[e].bind(t))}))}function j(e,t){return-1!==e.indexOf(t,e.length-t.length)}function N(e,t,n){const i={};for(const r in e)i[r]=t.call(n||this,e[r],r,e);return i}function U(e,t,n){const i={};for(const r in e)t.call(n||this,e[r],r,e)&&(i[r]=e[r]);return i}function V(e){return Array.isArray(e)?e.map(V):"object"==typeof e&&e?N(e,V):e}const q={};function G(e){q[e]||("undefined"!=typeof console&&console.warn(e),q[e]=!0)}function W(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function Z(e){let t=0;for(let n,i,r=0,o=e.length,a=o-1;r<o;a=r++)n=e[r],i=e[a],t+=(i.x-n.x)*(n.y+i.y);return t}function H(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function X(e){const t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,((e,n,i,r)=>{const o=i||r;return t[n]=!o||o.toLowerCase(),""})),t["max-age"]){const e=parseInt(t["max-age"],10);isNaN(e)?delete t["max-age"]:t["max-age"]=e}return t}let K=null;function Y(e){if(null==K){const t=e.navigator?e.navigator.userAgent:null;K=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return K}function J(e){try{const n=t[e];return n.setItem("_mapbox_test_",1),n.removeItem("_mapbox_test_"),!0}catch(e){return!1}}function $(e,t){return[e[4*t],e[4*t+1],e[4*t+2],e[4*t+3]]}const Q="mapbox-tiles";let ee,te,ne=500,ie=50;function re(){try{return t.caches}catch(e){}}function oe(){re()&&!ee&&(ee=t.caches.open(Q))}function ae(e){const t=e.indexOf("?");if(t<0)return e;const n=function(e){const t=e.indexOf("?");return t>0?e.slice(t+1).split("&"):[]}(e),i=n.filter((e=>{const t=e.split("=");return"language"===t[0]||"worldview"===t[0]}));return i.length?"".concat(e.slice(0,t),"?").concat(i.join("&")):e.slice(0,t)}let se=1/0;const le={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(le);class ce extends Error{constructor(e,t,n){401===t&&xe(n)&&(e+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(e),this.status=t,this.url=n}toString(){return"".concat(this.name,": ").concat(this.message," (").concat(this.status,"): ").concat(this.url)}}const ue=H()?()=>self.worker&&self.worker.referrer:()=>("blob:"===t.location.protocol?t.parent:t).location.href,he=function(e,n){if(!(/^file:/.test(i=e.url)||/^file:/.test(ue())&&!/^\w+:/.test(i))){if(t.fetch&&t.Request&&t.AbortController&&t.Request.prototype.hasOwnProperty("signal"))return function(e,n){const i=new t.AbortController,r=new t.Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:ue(),referrerPolicy:e.referrerPolicy,signal:i.signal});let o=!1,a=!1;const s=(l=r.url).indexOf("sku=")>0&&xe(l);var l;"json"===e.type&&r.headers.set("Accept","application/json");const c=(i,o,l)=>{if(a)return;if(i&&"SecurityError"!==i.message&&G(i.toString()),o&&l)return u(o);const c=Date.now();t.fetch(r).then((t=>{if(t.ok){const e=s?t.clone():null;return u(t,e,c)}return n(new ce(t.statusText,t.status,e.url))})).catch((t=>{"AbortError"!==t.name&&n(new Error("".concat(t.message," ").concat(e.url)))}))},u=(i,s,l)=>{("arrayBuffer"===e.type?i.arrayBuffer():"json"===e.type?i.json():i.text()).then((e=>{a||(s&&l&&function(e,n,i){if(oe(),!ee)return;const r={status:n.status,statusText:n.statusText,headers:new t.Headers};n.headers.forEach(((e,t)=>r.headers.set(t,e)));const o=X(n.headers.get("Cache-Control")||"");if(o["no-store"])return;o["max-age"]&&r.headers.set("Expires",new Date(i+1e3*o["max-age"]).toUTCString());const a=r.headers.get("Expires");a&&(new Date(a).getTime()-i<42e4||function(e,t){if(void 0===te)try{new Response(new ReadableStream),te=!0}catch(e){te=!1}te?t(e.body):e.blob().then(t)}(n,(n=>{const i=new t.Response(n,r);oe(),ee&&ee.then((t=>t.put(ae(e.url),i))).catch((e=>G(e.message)))})))}(r,s,l),o=!0,n(null,e,i.headers.get("Cache-Control"),i.headers.get("Expires")))})).catch((e=>{a||n(new Error(e.message))}))};return s?function(e,t){if(oe(),!ee)return t(null);const n=ae(e.url);ee.then((e=>{e.match(n).then((i=>{const r=function(e){if(!e)return!1;const t=new Date(e.headers.get("Expires")||0),n=X(e.headers.get("Cache-Control")||"");return t>Date.now()&&!n["no-cache"]}(i);e.delete(n),r&&e.put(n,i.clone()),t(null,i,r)})).catch(t)})).catch(t)}(r,c):c(null,null),{cancel:()=>{a=!0,o||i.abort()}}}(e,n);if(H()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,n,void 0,!0)}var i;return function(e,n){const i=new t.XMLHttpRequest;i.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(i.responseType="arraybuffer");for(const t in e.headers)i.setRequestHeader(t,e.headers[t]);return"json"===e.type&&(i.responseType="text",i.setRequestHeader("Accept","application/json")),i.withCredentials="include"===e.credentials,i.onerror=()=>{n(new Error(i.statusText))},i.onload=()=>{if((i.status>=200&&i.status<300||0===i.status)&&null!==i.response){let t=i.response;if("json"===e.type)try{t=JSON.parse(i.response)}catch(e){return n(e)}n(null,t,i.getResponseHeader("Cache-Control"),i.getResponseHeader("Expires"))}else n(new ce(i.statusText,i.status,e.url))},i.send(e.body),{cancel:()=>i.abort()}}(e,n)},de=function(e,t){return he(I(e,{type:"arrayBuffer"}),t)};function pe(e){const n=t.document.createElement("a");return n.href=e,n.protocol===t.document.location.protocol&&n.host===t.document.location.host}const fe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let me,ge;me=[],ge=0;const _e=function(e,n){if(o.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*"),ge>=r.MAX_PARALLEL_IMAGE_REQUESTS){const t={requestParameters:e,callback:n,cancelled:!1,cancel(){this.cancelled=!0}};return me.push(t),t}ge++;let i=!1;const a=()=>{if(!i)for(i=!0,ge--;me.length&&ge<r.MAX_PARALLEL_IMAGE_REQUESTS;){const e=me.shift(),{requestParameters:t,callback:n,cancelled:i}=e;i||(e.cancel=_e(t,n).cancel)}},s=de(e,((e,i,r,o)=>{a(),e?n(e):i&&(t.createImageBitmap?function(e,n){const i=new t.Blob([new Uint8Array(e)],{type:"image/png"});t.createImageBitmap(i).then((e=>{n(null,e)})).catch((e=>{n(new Error("Could not load image because of ".concat(e.message,". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")))}))}(i,((e,t)=>n(e,t,r,o))):function(e,n){const i=new t.Image,r=t.URL;i.onload=()=>{n(null,i),r.revokeObjectURL(i.src),i.onload=null,t.requestAnimationFrame((()=>{i.src=fe}))},i.onerror=()=>n(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const o=new t.Blob([new Uint8Array(e)],{type:"image/png"});i.src=e.byteLength?r.createObjectURL(o):fe}(i,((e,t)=>n(e,t,r,o))))}));return{cancel:()=>{s.cancel(),a()}}},ye="NO_ACCESS_TOKEN";function ve(e){return 0===e.indexOf("mapbox:")}function xe(e){return r.API_URL_REGEX.test(e)}function be(e){return r.API_CDN_URL_REGEX.test(e)}function we(e){return r.API_STYLE_REGEX.test(e)&&!Ee(e)}function Ee(e){return r.API_SPRITE_REGEX.test(e)}const Te=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function ke(e){const t=e.match(Te);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function Se(e){const t=e.params.length?"?".concat(e.params.join("&")):"";return"".concat(e.protocol,"://").concat(e.authority).concat(e.path).concat(t)}const Ce="mapbox.eventData";function Me(e){if(!e)return null;const n=e.split(".");if(!n||3!==n.length)return null;try{return JSON.parse(decodeURIComponent(t.atob(n[1]).split("").map((e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2))).join("")))}catch(e){return null}}class ze{constructor(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(e){const n=Me(r.ACCESS_TOKEN);let i="";return i=n&&n.u?t.btoa(encodeURIComponent(n.u).replace(/%([0-9A-F]{2})/g,((e,t)=>String.fromCharCode(Number("0x"+t))))):r.ACCESS_TOKEN||"",e?"".concat(Ce,".").concat(e,":").concat(i):"".concat(Ce,":").concat(i)}fetchEventData(){const e=J("localStorage"),n=this.getStorageKey(),i=this.getStorageKey("uuid");if(e)try{const e=t.localStorage.getItem(n);e&&(this.eventData=JSON.parse(e));const r=t.localStorage.getItem(i);r&&(this.anonId=r)}catch(e){G("Unable to read from LocalStorage")}}saveEventData(){const e=J("localStorage"),n=this.getStorageKey(),i=this.getStorageKey("uuid");if(e)try{t.localStorage.setItem(i,this.anonId),Object.keys(this.eventData).length>=1&&t.localStorage.setItem(n,JSON.stringify(this.eventData))}catch(e){G("Unable to write to LocalStorage")}}processRequests(e){}postEvent(e,t,n,i){if(!r.EVENTS_URL)return;const o=ke(r.EVENTS_URL);o.params.push("access_token=".concat(i||r.ACCESS_TOKEN||""));const a={event:this.type,created:new Date(e).toISOString()},s=t?I(a,t):a,l={url:Se(o),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=function(e,t){return he(I(e,{method:"POST"}),t)}(l,(e=>{this.pendingRequest=null,n(e),this.saveEventData(),this.processRequests(i)}))}queueRequest(e,t){this.queue.push(e),this.processRequests(t)}}const Ae=new class extends ze{constructor(e){super("appUserTurnstile"),this._customAccessToken=e}postTurnstileEvent(e,t){r.EVENTS_URL&&r.ACCESS_TOKEN&&Array.isArray(e)&&e.some((e=>ve(e)||xe(e)))&&this.queueRequest(Date.now(),t)}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const t=Me(r.ACCESS_TOKEN),i=t?t.u:r.ACCESS_TOKEN;let o=i!==this.eventData.tokenU;B(this.anonId)||(this.anonId=O(),o=!0);const a=this.queue.shift();if(this.eventData.lastSuccess){const e=new Date(this.eventData.lastSuccess),t=new Date(a),n=(a-this.eventData.lastSuccess)/864e5;o=o||n>=1||n<-1||e.getDate()!==t.getDate()}else o=!0;o?this.postEvent(a,{sdkIdentifier:"mapbox-gl-js",sdkVersion:n,skuId:h,"enabled.telemetry":!1,userId:this.anonId},(e=>{e||(this.eventData.lastSuccess=a,this.eventData.tokenU=i)}),e):this.processRequests()}},Pe=Ae.postTurnstileEvent.bind(Ae),Ie=new class extends ze{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(e,t,n,i){this.skuToken=t,this.errorCb=i,r.EVENTS_URL&&(n||r.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},n):this.errorCb(new Error(ye)))}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;const{id:t,timestamp:i}=this.queue.shift();t&&this.success[t]||(this.anonId||this.fetchEventData(),B(this.anonId)||(this.anonId=O()),this.postEvent(i,{sdkIdentifier:"mapbox-gl-js",sdkVersion:n,skuId:h,skuToken:this.skuToken,userId:this.anonId},(e=>{e?this.errorCb(e):t&&(this.success[t]=!0)}),e))}},Le=Ie.postMapLoadEvent.bind(Ie),De=new class extends ze{constructor(){super("gljs.performance")}postPerformanceEvent(e,t){r.EVENTS_URL&&(e||r.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:t},e)}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;const{timestamp:i,performanceData:r}=this.queue.shift(),o=function(e){const i=t.performance.getEntriesByType("resource"),r=t.performance.getEntriesByType("mark"),o=function(e){const t={};if(e)for(const n in e)if("other"!==n)for(const i of e[n]){const e="".concat(n,"ResolveRangeMin"),r="".concat(n,"ResolveRangeMax"),o="".concat(n,"RequestCount"),a="".concat(n,"RequestCachedCount");t[e]=Math.min(t[e]||1/0,i.startTime),t[r]=Math.max(t[r]||-1/0,i.responseEnd);const s=e=>{void 0===t[e]&&(t[e]=0),++t[e]};void 0!==i.transferSize&&0===i.transferSize&&s(a),s(o)}return t}(function(e,t){const n={};if(e)for(const i of e){const e=t(i);void 0===n[e]&&(n[e]=[]),n[e].push(i)}return n}(i,Ue)),a=t.devicePixelRatio,s=t.navigator.connection||t.navigator.mozConnection||t.navigator.webkitConnection,l={counters:[],metadata:[],attributes:[]},c=(e,t,n)=>{null!=n&&e.push({name:t,value:n.toString()})};for(const t in o)c(l.counters,t,o[t]);if(e.interactionRange[0]!==1/0&&e.interactionRange[1]!==-1/0&&(c(l.counters,"interactionRangeMin",e.interactionRange[0]),c(l.counters,"interactionRangeMax",e.interactionRange[1])),r)for(const t of Object.keys(je)){const e=je[t],n=r.find((t=>t.name===e));n&&c(l.counters,e,n.startTime)}return c(l.counters,"visibilityHidden",e.visibilityHidden),c(l.attributes,"style",function(e){if(e)for(const t of e){const e=t.name.split("?")[0];if(we(e)){const t=e.split("/").slice(-2);if(2===t.length)return"mapbox://styles/".concat(t[0],"/").concat(t[1])}}}(i)),c(l.attributes,"terrainEnabled",e.terrainEnabled?"true":"false"),c(l.attributes,"fogEnabled",e.fogEnabled?"true":"false"),c(l.attributes,"projection",e.projection),c(l.attributes,"zoom",e.zoom),c(l.metadata,"devicePixelRatio",a),c(l.metadata,"connectionEffectiveType",s?s.effectiveType:void 0),c(l.metadata,"navigatorUserAgent",t.navigator.userAgent),c(l.metadata,"screenWidth",t.screen.width),c(l.metadata,"screenHeight",t.screen.height),c(l.metadata,"windowWidth",t.innerWidth),c(l.metadata,"windowHeight",t.innerHeight),c(l.metadata,"mapWidth",e.width/a),c(l.metadata,"mapHeight",e.height/a),c(l.metadata,"webglRenderer",e.renderer),c(l.metadata,"webglVendor",e.vendor),c(l.metadata,"sdkVersion",n),c(l.metadata,"sdkIdentifier","mapbox-gl-js"),l}(r);for(const t of o.metadata);for(const t of o.counters);for(const t of o.attributes);this.postEvent(i,o,(()=>{}),e)}},Oe=De.postPerformanceEvent.bind(De),Re=new class extends ze{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(e,t,n,i){if(!r.API_URL||!r.SESSION_PATH)return;const o=ke(r.API_URL+r.SESSION_PATH);o.params.push("sku=".concat(t||"")),o.params.push("access_token=".concat(i||r.ACCESS_TOKEN||""));const a={url:Se(o),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(e,t){return he(I(e,{method:"GET"}),t)}(a,(e=>{this.pendingRequest=null,n(e),this.saveEventData(),this.processRequests(i)}))}getSessionAPI(e,t,n,i){this.skuToken=t,this.errorCb=i,r.SESSION_PATH&&r.API_URL&&(n||r.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},n):this.errorCb(new Error(ye)))}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;const{id:t,timestamp:n}=this.queue.shift();t&&this.success[t]||this.getSession(n,this.skuToken,(e=>{e?this.errorCb(e):t&&(this.success[t]=!0)}),e)}},Be=Re.getSessionAPI.bind(Re),Fe=new Set,je={create:"create",load:"load",fullLoad:"fullLoad"},Ne={mark(e){t.performance.mark(e)},measure(e,n,i){t.performance.measure(e,n,i)}};function Ue(e){const t=e.name.split("?")[0];return be(t)&&t.includes("mapbox-gl.js")?"javascript":be(t)&&t.includes("mapbox-gl.css")?"css":function(e){return r.API_FONTS_REGEX.test(e)}(t)?"fontRange":Ee(t)?"sprite":we(t)?"style":function(e){return r.API_TILEJSON_REGEX.test(e)}(t)?"tilejson":"other"}const Ve=t.performance;function qe(e){const t=e?e.url.toString():void 0;return Ve.getEntriesByName(t)}let Ge,We,Ze,He;const Xe={now:()=>void 0!==Ze?Ze:t.performance.now(),setNow(e){Ze=e},restoreNow(){Ze=void 0},frame(e){const n=t.requestAnimationFrame(e);return{cancel:()=>t.cancelAnimationFrame(n)}},getImageData(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const{width:i,height:r}=e;He||(He=t.document.createElement("canvas"));const o=He.getContext("2d",{willReadFrequently:!0});if(!o)throw new Error("failed to create canvas 2d context");return(i>He.width||r>He.height)&&(He.width=i,He.height=r),o.clearRect(-n,-n,i+2*n,r+2*n),o.drawImage(e,0,0,i,r),o.getImageData(-n,-n,i+2*n,r+2*n)},resolveURL:e=>(Ge||(Ge=t.document.createElement("a")),Ge.href=e,Ge.href),get devicePixelRatio(){return t.devicePixelRatio},get prefersReducedMotion(){return!!t.matchMedia&&(null==We&&(We=t.matchMedia("(prefers-reduced-motion: reduce)")),We.matches)}};function Ke(e,t,n){n[e]&&-1!==n[e].indexOf(t)||(n[e]=n[e]||[],n[e].push(t))}function Ye(e,t,n){if(n&&n[e]){const i=n[e].indexOf(t);-1!==i&&n[e].splice(i,1)}}class Je{constructor(e){I(this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.type=e}}class $e extends Je{constructor(e){super("error",I({error:e},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}}class Qe{on(e,t){return this._listeners=this._listeners||{},Ke(e,t,this._listeners),this}off(e,t){return Ye(e,t,this._listeners),Ye(e,t,this._oneTimeListeners),this}once(e,t){return t?(this._oneTimeListeners=this._oneTimeListeners||{},Ke(e,t,this._oneTimeListeners),this):new Promise((t=>this.once(e,t)))}fire(e,t){"string"==typeof e&&(e=new Je(e,t||{}));const n=e.type;if(this.listens(n)){e.target=this;const t=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];for(const n of t)n.call(this,e);const i=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];for(const o of i)Ye(n,o,this._oneTimeListeners),o.call(this,e);const r=this._eventedParent;r&&(I(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),r.fire(e))}else e instanceof $e&&console.error(e.error);return this}listens(e){return!!(this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e))}setEventedParent(e,t){return this._eventedParent=e,this._eventedParentData=t,this}}var et=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]},"fill-extrusion-rounded-roof":{"type":"boolean","default":true,"requires":["fill-extrusion-edge-radius"],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function tt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const r of n)for(const t in r)e[t]=r[t];return e}function nt(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function it(e){if(Array.isArray(e))return e.map(it);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const n in e)t[n]=it(e[n]);return t}return nt(e)}class rt extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}var ot=rt;class at{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.parent=e,this.bindings={};for(const[n,i]of t)this.bindings[n]=i}concat(e){return new at(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error("".concat(e," not found in scope."))}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}var st=at;const lt={kind:"null"},ct={kind:"number"},ut={kind:"string"},ht={kind:"boolean"},dt={kind:"color"},pt={kind:"object"},ft={kind:"value"},mt={kind:"collator"},gt={kind:"formatted"},_t={kind:"resolvedImage"};function yt(e,t){return{kind:"array",itemType:e,N:t}}function vt(e){if("array"===e.kind){const t=vt(e.itemType);return"number"==typeof e.N?"array<".concat(t,", ").concat(e.N,">"):"value"===e.itemType.kind?"array":"array<".concat(t,">")}return e.kind}const xt=[lt,ct,ut,ht,dt,gt,pt,yt(ft),_t];function bt(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!bt(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(const e of xt)if(!bt(e,t))return null}return"Expected ".concat(vt(e)," but found ").concat(vt(t)," instead.")}function wt(e,t){return t.some((t=>t.kind===e.kind))}function Et(e,t){return t.some((t=>"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e))}var Tt,kt={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function St(e){return(e=Math.round(e))<0?0:e>255?255:e}function Ct(e){return St("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function Mt(e){return(t="%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t}function zt(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}try{Tt={}.parseCSSColor=function(e){var t,n=e.replace(/ /g,"").toLowerCase();if(n in kt)return kt[n].slice();if("#"===n[0])return 4===n.length?(t=parseInt(n.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===n.length&&(t=parseInt(n.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var i=n.indexOf("("),r=n.indexOf(")");if(-1!==i&&r+1===n.length){var o=n.substr(0,i),a=n.substr(i+1,r-(i+1)).split(","),s=1;switch(o){case"rgba":if(4!==a.length)return null;s=Mt(a.pop());case"rgb":return 3!==a.length?null:[Ct(a[0]),Ct(a[1]),Ct(a[2]),s];case"hsla":if(4!==a.length)return null;s=Mt(a.pop());case"hsl":if(3!==a.length)return null;var l=(parseFloat(a[0])%360+360)%360/360,c=Mt(a[1]),u=Mt(a[2]),h=u<=.5?u*(c+1):u+c-u*c,d=2*u-h;return[St(255*zt(d,h,l+1/3)),St(255*zt(d,h,l)),St(255*zt(d,h,l-1/3)),s];default:return null}}return null}}catch(e){}class At{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.r=e,this.g=t,this.b=n,this.a=i}static parse(e){if(!e)return;if(e instanceof At)return e;if("string"!=typeof e)return;const t=Tt(e);return t?new At(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3]):void 0}toString(){const[e,t,n,i]=this.toArray();return"rgba(".concat(Math.round(e),",").concat(Math.round(t),",").concat(Math.round(n),",").concat(i,")")}toArray(){const{r:e,g:t,b:n,a:i}=this;return 0===i?[0,0,0,0]:[255*e/i,255*t/i,255*n/i,i]}toArray01(){const{r:e,g:t,b:n,a:i}=this;return 0===i?[0,0,0,0]:[e/i,t/i,n/i,i]}toArray01PremultipliedAlpha(){const{r:e,g:t,b:n,a:i}=this;return[e,t,n,i]}}At.black=new At(0,0,0,1),At.white=new At(1,1,1,1),At.transparent=new At(0,0,0,0),At.red=new At(1,0,0,1),At.blue=new At(0,0,1,1);var Pt=At;class It{constructor(e,t,n){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Lt{constructor(e,t,n,i,r){this.text=e.normalize?e.normalize():e,this.image=t,this.scale=n,this.fontStack=i,this.textColor=r}}class Dt{constructor(e){this.sections=e}static fromString(e){return new Dt([new Lt(e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some((e=>0!==e.text.length||e.image&&0!==e.image.name.length))}static factory(e){return e instanceof Dt?e:Dt.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map((e=>e.text)).join("")}serialize(){const e=["format"];for(const t of this.sections){if(t.image){e.push(["image",t.image.name]);continue}e.push(t.text);const n={};t.fontStack&&(n["text-font"]=["literal",t.fontStack.split(",")]),t.scale&&(n["font-scale"]=t.scale),t.textColor&&(n["text-color"]=["rgba"].concat(t.textColor.toArray())),e.push(n)}return e}}class Ot{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new Ot({name:e,available:!1}):null}serialize(){return["image",this.name]}}function Rt(e,t,n,i){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===i||"number"==typeof i&&i>=0&&i<=1?null:"Invalid rgba value [".concat([e,t,n,i].join(", "),"]: 'a' must be between 0 and 1."):"Invalid rgba value [".concat(("number"==typeof i?[e,t,n,i]:[e,t,n]).join(", "),"]: 'r', 'g', and 'b' must be between 0 and 255.")}function Bt(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof Pt)return!0;if(e instanceof It)return!0;if(e instanceof Dt)return!0;if(e instanceof Ot)return!0;if(Array.isArray(e)){for(const t of e)if(!Bt(t))return!1;return!0}if("object"==typeof e){for(const t in e)if(!Bt(e[t]))return!1;return!0}return!1}function Ft(e){if(null===e)return lt;if("string"==typeof e)return ut;if("boolean"==typeof e)return ht;if("number"==typeof e)return ct;if(e instanceof Pt)return dt;if(e instanceof It)return mt;if(e instanceof Dt)return gt;if(e instanceof Ot)return _t;if(Array.isArray(e)){const t=e.length;let n;for(const i of e){const e=Ft(i);if(n){if(n===e)continue;n=ft;break}n=e}return yt(n||ft,t)}return pt}function jt(e){const t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof Pt||e instanceof Dt||e instanceof Ot?e.toString():JSON.stringify(e)}class Nt{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(2!==e.length)return t.error("'literal' expression requires exactly one argument, but found ".concat(e.length-1," instead."));if(!Bt(e[1]))return t.error("invalid value");const n=e[1];let i=Ft(n);const r=t.expectedType;return"array"!==i.kind||0!==i.N||!r||"array"!==r.kind||"number"==typeof r.N&&0!==r.N||(i=r),new Nt(i,n)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Pt?["rgba"].concat(this.value.toArray()):this.value instanceof Dt?this.value.serialize():this.value}}var Ut=Nt,Vt=class{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}};const qt={string:ut,number:ct,boolean:ht,object:pt};class Gt{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let n,i=1;const r=e[0];if("array"===r){let r,o;if(e.length>2){const n=e[1];if("string"!=typeof n||!(n in qt)||"object"===n)return t.error('The item type argument of "array" must be one of string, number, boolean',1);r=qt[n],i++}else r=ft;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);o=e[2],i++}n=yt(r,o)}else n=qt[r];const o=[];for(;i<e.length;i++){const n=t.parse(e[i],i,ft);if(!n)return null;o.push(n)}return new Gt(n,o)}evaluate(e){for(let t=0;t<this.args.length;t++){const n=this.args[t].evaluate(e);if(!bt(this.type,Ft(n)))return n;if(t===this.args.length-1)throw new Vt("Expected value to be of type ".concat(vt(this.type),", but found ").concat(vt(Ft(n))," instead."))}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}serialize(){const e=this.type,t=[e.kind];if("array"===e.kind){const n=e.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){t.push(n.kind);const i=e.N;("number"==typeof i||this.args.length>1)&&t.push(i)}}return t.concat(this.args.map((e=>e.serialize())))}}var Wt=Gt;class Zt{constructor(e){this.type=gt,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[1];if(!Array.isArray(n)&&"object"==typeof n)return t.error("First argument must be an image or text section.");const i=[];let r=!1;for(let o=1;o<=e.length-1;++o){const n=e[o];if(r&&"object"==typeof n&&!Array.isArray(n)){r=!1;let e=null;if(n["font-scale"]&&(e=t.parse(n["font-scale"],1,ct),!e))return null;let o=null;if(n["text-font"]&&(o=t.parse(n["text-font"],1,yt(ut)),!o))return null;let a=null;if(n["text-color"]&&(a=t.parse(n["text-color"],1,dt),!a))return null;const s=i[i.length-1];s.scale=e,s.font=o,s.textColor=a}else{const n=t.parse(e[o],1,ft);if(!n)return null;const a=n.type.kind;if("string"!==a&&"value"!==a&&"null"!==a&&"resolvedImage"!==a)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");r=!0,i.push({content:n,scale:null,font:null,textColor:null})}}return new Zt(i)}evaluate(e){return new Dt(this.sections.map((t=>{const n=t.content.evaluate(e);return Ft(n)===_t?new Lt("",n,null,null,null):new Lt(jt(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor)}outputDefined(){return!1}serialize(){const e=["format"];for(const t of this.sections){e.push(t.content.serialize());const n={};t.scale&&(n["font-scale"]=t.scale.serialize()),t.font&&(n["text-font"]=t.font.serialize()),t.textColor&&(n["text-color"]=t.textColor.serialize()),e.push(n)}return e}}class Ht{constructor(e){this.type=_t,this.input=e}static parse(e,t){if(2!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,ut);return n?new Ht(n):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),n=Ot.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Xt={"to-boolean":ht,"to-color":dt,"to-number":ct,"to-string":ut};class Kt{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[0];if(("to-boolean"===n||"to-string"===n)&&2!==e.length)return t.error("Expected one argument.");const i=Xt[n],r=[];for(let o=1;o<e.length;o++){const n=t.parse(e[o],o,ft);if(!n)return null;r.push(n)}return new Kt(i,r)}evaluate(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){let t,n;for(const i of this.args){if(t=i.evaluate(e),n=null,t instanceof Pt)return t;if("string"==typeof t){const n=e.parseColor(t);if(n)return n}else if(Array.isArray(t)&&(n=t.length<3||t.length>4?"Invalid rbga value ".concat(JSON.stringify(t),": expected an array containing either three or four numeric values."):Rt(t[0],t[1],t[2],t[3]),!n))return new Pt(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new Vt(n||"Could not parse color from value '".concat("string"==typeof t?t:String(JSON.stringify(t)),"'"))}if("number"===this.type.kind){let t=null;for(const n of this.args){if(t=n.evaluate(e),null===t)return 0;const i=Number(t);if(!isNaN(i))return i}throw new Vt("Could not convert ".concat(JSON.stringify(t)," to number."))}return"formatted"===this.type.kind?Dt.fromString(jt(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?Ot.fromString(jt(this.args[0].evaluate(e))):jt(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}serialize(){if("formatted"===this.type.kind)return new Zt([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new Ht(this.args[0]).serialize();const e=["to-".concat(this.type.kind)];return this.eachChild((t=>{e.push(t.serialize())})),e}}var Yt=Kt;const Jt=["Unknown","Point","LineString","Polygon"];var $t=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&void 0!==this.feature.id?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?Jt[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const e=this.featureDistanceData.center,t=this.featureDistanceData.scale,{x:n,y:i}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(n*t-e[0])+this.featureDistanceData.bearing[1]*(i*t-e[1])}return 0}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Pt.parse(e)),t}};class Qt{constructor(e,t,n,i){this.name=e,this.type=t,this._evaluate=n,this.args=i}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map((e=>e.serialize())))}static parse(e,t){const n=e[0],i=Qt.definitions[n];if(!i)return t.error('Unknown expression "'.concat(n,'". If you wanted a literal array, use ["literal", [...]].'),0);const r=Array.isArray(i)?i[0]:i.type,o=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,a=o.filter((t=>{let[n]=t;return!Array.isArray(n)||n.length===e.length-1}));let s=null;for(const[l,c]of a){s=new Cn(t.registry,t.path,null,t.scope);const i=[];let o=!1;for(let t=1;t<e.length;t++){const n=e[t],r=Array.isArray(l)?l[t-1]:l.type,a=s.parse(n,1+i.length,r);if(!a){o=!0;break}i.push(a)}if(!o)if(Array.isArray(l)&&l.length!==i.length)s.error("Expected ".concat(l.length," arguments, but found ").concat(i.length," instead."));else{for(let e=0;e<i.length;e++){const t=Array.isArray(l)?l[e]:l.type,n=i[e];s.concat(e+1).checkSubtype(t,n.type)}if(0===s.errors.length)return new Qt(n,r,c,i)}}if(1===a.length)t.errors.push(...s.errors);else{const n=(a.length?a:o).map((e=>{let[t]=e;return n=t,Array.isArray(n)?"(".concat(n.map(vt).join(", "),")"):"(".concat(vt(n.type),"...)");var n})).join(" | "),i=[];for(let r=1;r<e.length;r++){const n=t.parse(e[r],1+i.length);if(!n)return null;i.push(vt(n.type))}t.error("Expected arguments of type ".concat(n,", but found (").concat(i.join(", "),") instead."))}return null}static register(e,t){Qt.definitions=t;for(const n in t)e[n]=Qt}}var en=Qt;class tn{constructor(e,t,n){this.type=mt,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(2!==e.length)return t.error("Expected one argument.");const n=e[1];if("object"!=typeof n||Array.isArray(n))return t.error("Collator options argument must be an object.");const i=t.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,ht);if(!i)return null;const r=t.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,ht);if(!r)return null;let o=null;return n.locale&&(o=t.parse(n.locale,1,ut),!o)?null:new tn(i,r,o)}evaluate(e){return new It(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){const e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}const nn=8192;function rn(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function on(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function an(e,t){const n=(180+e[0])/360,i=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,r=Math.pow(2,t.z);return[Math.round(n*r*nn),Math.round(i*r*nn)]}function sn(e,t,n){const i=e[0]-t[0],r=e[1]-t[1],o=e[0]-n[0],a=e[1]-n[1];return i*a-o*r==0&&i*o<=0&&r*a<=0}function ln(e,t){let n=!1;for(let a=0,s=t.length;a<s;a++){const s=t[a];for(let t=0,a=s.length;t<a-1;t++){if(sn(e,s[t],s[t+1]))return!1;(r=s[t])[1]>(i=e)[1]!=(o=s[t+1])[1]>i[1]&&i[0]<(o[0]-r[0])*(i[1]-r[1])/(o[1]-r[1])+r[0]&&(n=!n)}}var i,r,o;return n}function cn(e,t){for(let n=0;n<t.length;n++)if(ln(e,t[n]))return!0;return!1}function un(e,t,n,i){const r=i[0]-n[0],o=i[1]-n[1],a=(e[0]-n[0])*o-r*(e[1]-n[1]),s=(t[0]-n[0])*o-r*(t[1]-n[1]);return a>0&&s<0||a<0&&s>0}function hn(e,t,n){for(const c of n)for(let n=0;n<c.length-1;++n)if(0!=(s=[(a=c[n+1])[0]-(o=c[n])[0],a[1]-o[1]])[0]*(l=[(r=t)[0]-(i=e)[0],r[1]-i[1]])[1]-s[1]*l[0]&&un(i,r,o,a)&&un(o,a,i,r))return!0;var i,r,o,a,s,l;return!1}function dn(e,t){for(let n=0;n<e.length;++n)if(!ln(e[n],t))return!1;for(let n=0;n<e.length-1;++n)if(hn(e[n],e[n+1],t))return!1;return!0}function pn(e,t){for(let n=0;n<t.length;n++)if(dn(e,t[n]))return!0;return!1}function fn(e,t,n){const i=[];for(let r=0;r<e.length;r++){const o=[];for(let i=0;i<e[r].length;i++){const a=an(e[r][i],n);rn(t,a),o.push(a)}i.push(o)}return i}function mn(e,t,n){const i=[];for(let r=0;r<e.length;r++){const o=fn(e[r],t,n);i.push(o)}return i}function gn(e,t,n,i){if(e[0]<n[0]||e[0]>n[2]){const t=.5*i;let r=e[0]-n[0]>t?-i:n[0]-e[0]>t?i:0;0===r&&(r=e[0]-n[2]>t?-i:n[2]-e[0]>t?i:0),e[0]+=r}rn(t,e)}function _n(e,t,n,i){const r=Math.pow(2,i.z)*nn,o=[i.x*nn,i.y*nn],a=[];if(!e)return a;for(const s of e)for(const e of s){const i=[e.x+o[0],e.y+o[1]];gn(i,t,n,r),a.push(i)}return a}function yn(e,t,n,i){const r=Math.pow(2,i.z)*nn,o=[i.x*nn,i.y*nn],a=[];if(!e)return a;for(const l of e){const e=[];for(const n of l){const i=[n.x+o[0],n.y+o[1]];rn(t,i),e.push(i)}a.push(e)}if(t[2]-t[0]<=r/2){(s=t)[0]=s[1]=1/0,s[2]=s[3]=-1/0;for(const e of a)for(const i of e)gn(i,t,n,r)}var s;return a}class vn{constructor(e,t){this.type=ht,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error("'within' expression requires exactly one argument, but found ".concat(e.length-1," instead."));if(Bt(e[1])){const t=e[1];if("FeatureCollection"===t.type)for(let e=0;e<t.features.length;++e){const n=t.features[e].geometry.type;if("Polygon"===n||"MultiPolygon"===n)return new vn(t,t.features[e].geometry)}else if("Feature"===t.type){const e=t.geometry.type;if("Polygon"===e||"MultiPolygon"===e)return new vn(t,t.geometry)}else if("Polygon"===t.type||"MultiPolygon"===t.type)return new vn(t,t)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=e.canonicalID();if(!r)return!1;if("Polygon"===t.type){const o=fn(t.coordinates,i,r),a=_n(e.geometry(),n,i,r);if(!on(n,i))return!1;for(const e of a)if(!ln(e,o))return!1}if("MultiPolygon"===t.type){const o=mn(t.coordinates,i,r),a=_n(e.geometry(),n,i,r);if(!on(n,i))return!1;for(const e of a)if(!cn(e,o))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=e.canonicalID();if(!r)return!1;if("Polygon"===t.type){const o=fn(t.coordinates,i,r),a=yn(e.geometry(),n,i,r);if(!on(n,i))return!1;for(const e of a)if(!dn(e,o))return!1}if("MultiPolygon"===t.type){const o=mn(t.coordinates,i,r),a=yn(e.geometry(),n,i,r);if(!on(n,i))return!1;for(const e of a)if(!pn(e,o))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var xn=vn;function bn(e){if(e instanceof en){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof xn)return!1;let t=!0;return e.eachChild((e=>{t&&!bn(e)&&(t=!1)})),t}function wn(e){if(e instanceof en&&"feature-state"===e.name)return!1;let t=!0;return e.eachChild((e=>{t&&!wn(e)&&(t=!1)})),t}function En(e,t){if(e instanceof en&&t.indexOf(e.name)>=0)return!1;let n=!0;return e.eachChild((e=>{n&&!En(e,t)&&(n=!1)})),n}class Tn{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");const n=e[1];return t.scope.has(n)?new Tn(n,t.scope.get(n)):t.error('Unknown variable "'.concat(n,'". Make sure "').concat(n,'" has been bound in an enclosing "let" expression before using it.'),1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var kn=Tn;class Sn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new st,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];this.registry=e,this.path=t,this.key=t.map((e=>"[".concat(e,"]"))).join(""),this.scope=i,this.errors=r,this.expectedType=n}parse(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return t?this.concat(t,n,i)._parse(e,r):this._parse(e,r)}_parse(e,t){function n(e,t,n){return"assert"===n?new Wt(t,[e]):"coerce"===n?new Yt(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=e[0];if("string"!=typeof i)return this.error("Expression name must be a string, but found ".concat(typeof i,' instead. If you wanted a literal array, use ["literal", [...]].'),0),null;const r=this.registry[i];if(r){let i=r.parse(e,this);if(!i)return null;if(this.expectedType){const e=this.expectedType,r=i.type;if("string"!==e.kind&&"number"!==e.kind&&"boolean"!==e.kind&&"object"!==e.kind&&"array"!==e.kind||"value"!==r.kind)if("color"!==e.kind&&"formatted"!==e.kind&&"resolvedImage"!==e.kind||"value"!==r.kind&&"string"!==r.kind){if(this.checkSubtype(e,r))return null}else i=n(i,e,t.typeAnnotation||"coerce");else i=n(i,e,t.typeAnnotation||"assert")}if(!(i instanceof Ut)&&"resolvedImage"!==i.type.kind&&Mn(i)){const t=new $t;try{i=new Ut(i.type,i.evaluate(t))}catch(e){return this.error(e.message),null}}return i}return this.error('Unknown expression "'.concat(i,'". If you wanted a literal array, use ["literal", [...]].'),0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found ".concat(typeof e," instead."))}concat(e,t,n){const i="number"==typeof e?this.path.concat(e):this.path,r=n?this.scope.concat(n):this.scope;return new Sn(this.registry,i,t||null,r,this.errors)}error(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r="".concat(this.key).concat(n.map((e=>"[".concat(e,"]"))).join(""));this.errors.push(new ot(r,e))}checkSubtype(e,t){const n=bt(e,t);return n&&this.error(n),n}}var Cn=Sn;function Mn(e){if(e instanceof kn)return Mn(e.boundExpression);if(e instanceof en&&"error"===e.name)return!1;if(e instanceof tn)return!1;if(e instanceof xn)return!1;const t=e instanceof Yt||e instanceof Wt;let n=!0;return e.eachChild((e=>{n=t?n&&Mn(e):n&&e instanceof Ut})),!!n&&bn(e)&&En(e,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function zn(e,t){const n=e.length-1;let i,r,o=0,a=n,s=0;for(;o<=a;)if(s=Math.floor((o+a)/2),i=e[s],r=e[s+1],i<=t){if(s===n||t<r)return s;o=s+1}else{if(!(i>t))throw new Vt("Input is not a number.");a=s-1}return 0}class An{constructor(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[i,r]of n)this.labels.push(i),this.outputs.push(r)}static parse(e,t){if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only ".concat(e.length-1,"."));if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");const n=t.parse(e[1],1,ct);if(!n)return null;const i=[];let r=null;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(let o=1;o<e.length;o+=2){const n=1===o?-1/0:e[o],a=e[o+1],s=o,l=o+1;if("number"!=typeof n)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',s);if(i.length&&i[i.length-1][0]>=n)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',s);const c=t.parse(a,l,r);if(!c)return null;r=r||c.type,i.push([n,c])}return new An(r,n,i)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return n[0].evaluate(e);const r=t.length;return i>=t[r-1]?n[r-1].evaluate(e):n[zn(t,i)].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}serialize(){const e=["step",this.input.serialize()];for(let t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}var Pn=An;function In(e,t,n){return e*(1-n)+t*n}var Ln=Object.freeze({__proto__:null,array:function(e,t,n){return e.map(((e,i)=>In(e,t[i],n)))},color:function(e,t,n){return new Pt(In(e.r,t.r,n),In(e.g,t.g,n),In(e.b,t.b,n),In(e.a,t.a,n))},number:In});const Dn=.95047,On=1.08883,Rn=4/29,Bn=6/29,Fn=3*Bn*Bn,jn=Bn*Bn*Bn,Nn=Math.PI/180,Un=180/Math.PI;function Vn(e){return e>jn?Math.pow(e,1/3):e/Fn+Rn}function qn(e){return e>Bn?e*e*e:Fn*(e-Rn)}function Gn(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Wn(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Zn(e){const t=Wn(e.r),n=Wn(e.g),i=Wn(e.b),r=Vn((.4124564*t+.3575761*n+.1804375*i)/Dn),o=Vn((.2126729*t+.7151522*n+.072175*i)/1);return{l:116*o-16,a:500*(r-o),b:200*(o-Vn((.0193339*t+.119192*n+.9503041*i)/On)),alpha:e.a}}function Hn(e){let t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,i=isNaN(e.b)?t:t-e.b/200;return t=1*qn(t),n=Dn*qn(n),i=On*qn(i),new Pt(Gn(3.2404542*n-1.5371385*t-.4985314*i),Gn(-.969266*n+1.8760108*t+.041556*i),Gn(.0556434*n-.2040259*t+1.0572252*i),e.alpha)}function Xn(e,t,n){const i=t-e;return e+n*(i>180||i<-180?i-360*Math.round(i/360):i)}const Kn={forward:Zn,reverse:Hn,interpolate:function(e,t,n){return{l:In(e.l,t.l,n),a:In(e.a,t.a,n),b:In(e.b,t.b,n),alpha:In(e.alpha,t.alpha,n)}}},Yn={forward:function(e){const{l:t,a:n,b:i}=Zn(e),r=Math.atan2(i,n)*Un;return{h:r<0?r+360:r,c:Math.sqrt(n*n+i*i),l:t,alpha:e.a}},reverse:function(e){const t=e.h*Nn,n=e.c;return Hn({l:e.l,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})},interpolate:function(e,t,n){return{h:Xn(e.h,t.h,n),c:In(e.c,t.c,n),l:In(e.l,t.l,n),alpha:In(e.alpha,t.alpha,n)}}};var Jn=Object.freeze({__proto__:null,hcl:Yn,lab:Kn});class $n{constructor(e,t,n,i,r){this.type=e,this.operator=t,this.interpolation=n,this.input=i,this.labels=[],this.outputs=[];for(const[o,a]of r)this.labels.push(o),this.outputs.push(a)}static interpolationFactor(e,t,n,i){let r=0;if("exponential"===e.name)r=Qn(t,e.base,n,i);else if("linear"===e.name)r=Qn(t,1,n,i);else if("cubic-bezier"===e.name){const o=e.controlPoints;r=new m(o[0],o[1],o[2],o[3]).solve(Qn(t,1,n,i))}return r}static parse(e,t){let[n,i,r,...o]=e;if(!Array.isArray(i)||0===i.length)return t.error("Expected an interpolation type expression.",1);if("linear"===i[0])i={name:"linear"};else if("exponential"===i[0]){const e=i[1];if("number"!=typeof e)return t.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:e}}else{if("cubic-bezier"!==i[0])return t.error("Unknown interpolation type ".concat(String(i[0])),1,0);{const e=i.slice(1);if(4!==e.length||e.some((e=>"number"!=typeof e||e<0||e>1)))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:e}}}if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only ".concat(e.length-1,"."));if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(r=t.parse(r,2,ct),!r)return null;const a=[];let s=null;"interpolate-hcl"===n||"interpolate-lab"===n?s=dt:t.expectedType&&"value"!==t.expectedType.kind&&(s=t.expectedType);for(let l=0;l<o.length;l+=2){const e=o[l],n=o[l+1],i=l+3,r=l+4;if("number"!=typeof e)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',i);if(a.length&&a[a.length-1][0]>=e)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',i);const c=t.parse(n,r,s);if(!c)return null;s=s||c.type,a.push([e,c])}return"number"===s.kind||"color"===s.kind||"array"===s.kind&&"number"===s.itemType.kind&&"number"==typeof s.N?new $n(s,n,i,r,a):t.error("Type ".concat(vt(s)," is not interpolatable."))}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return n[0].evaluate(e);const r=t.length;if(i>=t[r-1])return n[r-1].evaluate(e);const o=zn(t,i),a=$n.interpolationFactor(this.interpolation,i,t[o],t[o+1]),s=n[o].evaluate(e),l=n[o+1].evaluate(e);return"interpolate"===this.operator?Ln[this.type.kind.toLowerCase()](s,l,a):"interpolate-hcl"===this.operator?Yn.reverse(Yn.interpolate(Yn.forward(s),Yn.forward(l),a)):Kn.reverse(Kn.interpolate(Kn.forward(s),Kn.forward(l),a))}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}serialize(){let e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const t=[this.operator,e,this.input.serialize()];for(let n=0;n<this.labels.length;n++)t.push(this.labels[n],this.outputs[n].serialize());return t}}function Qn(e,t,n,i){const r=i-n,o=e-n;return 0===r?0:1===t?o/r:(Math.pow(t,o)-1)/(Math.pow(t,r)-1)}var ei=$n;class ti{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expectected at least one argument.");let n=null;const i=t.expectedType;i&&"value"!==i.kind&&(n=i);const r=[];for(const a of e.slice(1)){const e=t.parse(a,1+r.length,n,void 0,{typeAnnotation:"omit"});if(!e)return null;n=n||e.type,r.push(e)}const o=i&&r.some((e=>bt(i,e.type)));return new ti(o?ft:n,r)}evaluate(e){let t,n=null,i=0;for(const r of this.args){if(i++,n=r.evaluate(e),n&&n instanceof Ot&&!n.available&&(t||(t=n),n=null,i===this.args.length))return t;if(null!==n)break}return n}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}serialize(){const e=["coalesce"];return this.eachChild((t=>{e.push(t.serialize())})),e}}var ni=ti;class ii{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found ".concat(e.length-1," instead."));const n=[];for(let r=1;r<e.length-1;r+=2){const i=e[r];if("string"!=typeof i)return t.error("Expected string, but found ".concat(typeof i," instead."),r);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",r);const o=t.parse(e[r+1],r+1);if(!o)return null;n.push([i,o])}const i=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return i?new ii(n,i):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=["let"];for(const[t,n]of this.bindings)e.push(t,n.serialize());return e.push(this.result.serialize()),e}}var ri=ii;class oi{constructor(e,t,n){this.type=e,this.index=t,this.input=n}static parse(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found ".concat(e.length-1," instead."));const n=t.parse(e[1],1,ct),i=t.parse(e[2],2,yt(t.expectedType||ft));return n&&i?new oi(i.type.itemType,n,i):null}evaluate(e){const t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new Vt("Array index out of bounds: ".concat(t," < 0."));if(t>=n.length)throw new Vt("Array index out of bounds: ".concat(t," > ").concat(n.length-1,"."));if(t!==Math.floor(t))throw new Vt("Array index must be an integer, but found ".concat(t," instead."));return n[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var ai=oi;class si{constructor(e,t){this.type=ht,this.needle=e,this.haystack=t}static parse(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found ".concat(e.length-1," instead."));const n=t.parse(e[1],1,ft),i=t.parse(e[2],2,ft);return n&&i?wt(n.type,[ht,ut,ct,lt,ft])?new si(n,i):t.error("Expected first argument to be of type boolean, string, number or null, but found ".concat(vt(n.type)," instead")):null}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(null==n)return!1;if(!Et(t,["boolean","string","number","null"]))throw new Vt("Expected first argument to be of type boolean, string, number or null, but found ".concat(vt(Ft(t))," instead."));if(!Et(n,["string","array"]))throw new Vt("Expected second argument to be of type array or string, but found ".concat(vt(Ft(n))," instead."));return n.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var li=si;class ci{constructor(e,t,n){this.type=ct,this.needle=e,this.haystack=t,this.fromIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found ".concat(e.length-1," instead."));const n=t.parse(e[1],1,ft),i=t.parse(e[2],2,ft);if(!n||!i)return null;if(!wt(n.type,[ht,ut,ct,lt,ft]))return t.error("Expected first argument to be of type boolean, string, number or null, but found ".concat(vt(n.type)," instead"));if(4===e.length){const r=t.parse(e[3],3,ct);return r?new ci(n,i,r):null}return new ci(n,i)}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!Et(t,["boolean","string","number","null"]))throw new Vt("Expected first argument to be of type boolean, string, number or null, but found ".concat(vt(Ft(t))," instead."));if(!Et(n,["string","array"]))throw new Vt("Expected second argument to be of type array or string, but found ".concat(vt(Ft(n))," instead."));if(this.fromIndex){const i=this.fromIndex.evaluate(e);return n.indexOf(t,i)}return n.indexOf(t)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var ui=ci;class hi{constructor(e,t,n,i,r,o){this.inputType=e,this.type=t,this.input=n,this.cases=i,this.outputs=r,this.otherwise=o}static parse(e,t){if(e.length<5)return t.error("Expected at least 4 arguments, but found only ".concat(e.length-1,"."));if(e.length%2!=1)return t.error("Expected an even number of arguments.");let n,i;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);const r={},o=[];for(let l=2;l<e.length-1;l+=2){let a=e[l];const s=e[l+1];Array.isArray(a)||(a=[a]);const c=t.concat(l);if(0===a.length)return c.error("Expected at least one branch label.");for(const e of a){if("number"!=typeof e&&"string"!=typeof e)return c.error("Branch labels must be numbers or strings.");if("number"==typeof e&&Math.abs(e)>Number.MAX_SAFE_INTEGER)return c.error("Branch labels must be integers no larger than ".concat(Number.MAX_SAFE_INTEGER,"."));if("number"==typeof e&&Math.floor(e)!==e)return c.error("Numeric branch labels must be integer values.");if(n){if(c.checkSubtype(n,Ft(e)))return null}else n=Ft(e);if(void 0!==r[String(e)])return c.error("Branch labels must be unique.");r[String(e)]=o.length}const u=t.parse(s,l,i);if(!u)return null;i=i||u.type,o.push(u)}const a=t.parse(e[1],1,ft);if(!a)return null;const s=t.parse(e[e.length-1],e.length-1,i);return s?"value"!==a.type.kind&&t.concat(1).checkSubtype(n,a.type)?null:new hi(n,i,a,r,o,s):null}evaluate(e){const t=this.input.evaluate(e);return(Ft(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const e=["match",this.input.serialize()],t=Object.keys(this.cases).sort(),n=[],i={};for(const o of t){const e=i[this.cases[o]];void 0===e?(i[this.cases[o]]=n.length,n.push([this.cases[o],[o]])):n[e][1].push(o)}const r=e=>"number"===this.inputType.kind?Number(e):e;for(const[o,a]of n)e.push(1===a.length?r(a[0]):a.map(r)),e.push(this.outputs[o].serialize());return e.push(this.otherwise.serialize()),e}}var di=hi;class pi{constructor(e,t,n){this.type=e,this.branches=t,this.otherwise=n}static parse(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found only ".concat(e.length-1,"."));if(e.length%2!=0)return t.error("Expected an odd number of arguments.");let n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);const i=[];for(let o=1;o<e.length-1;o+=2){const r=t.parse(e[o],o,ht);if(!r)return null;const a=t.parse(e[o+1],o+1,n);if(!a)return null;i.push([r,a]),n=n||a.type}const r=t.parse(e[e.length-1],e.length-1,n);return r?new pi(n,i,r):null}evaluate(e){for(const[t,n]of this.branches)if(t.evaluate(e))return n.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,n]of this.branches)e(t),e(n);e(this.otherwise)}outputDefined(){return this.branches.every((e=>{let[t,n]=e;return n.outputDefined()}))&&this.otherwise.outputDefined()}serialize(){const e=["case"];return this.eachChild((t=>{e.push(t.serialize())})),e}}var fi=pi;class mi{constructor(e,t,n,i){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=i}static parse(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found ".concat(e.length-1," instead."));const n=t.parse(e[1],1,ft),i=t.parse(e[2],2,ct);if(!n||!i)return null;if(!wt(n.type,[yt(ft),ut,ft]))return t.error("Expected first argument to be of type array or string, but found ".concat(vt(n.type)," instead"));if(4===e.length){const r=t.parse(e[3],3,ct);return r?new mi(n.type,n,i,r):null}return new mi(n.type,n,i)}evaluate(e){const t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!Et(t,["string","array"]))throw new Vt("Expected first argument to be of type array or string, but found ".concat(vt(Ft(t))," instead."));if(this.endIndex){const i=this.endIndex.evaluate(e);return t.slice(n,i)}return t.slice(n)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var gi=mi;function _i(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function yi(e,t,n,i){return 0===i.compare(t,n)}function vi(e,t,n){const i="=="!==e&&"!="!==e;return class r{constructor(e,t,n){this.type=ht,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}static parse(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");const n=e[0];let o=t.parse(e[1],1,ft);if(!o)return null;if(!_i(n,o.type))return t.concat(1).error('"'.concat(n,"\" comparisons are not supported for type '").concat(vt(o.type),"'."));let a=t.parse(e[2],2,ft);if(!a)return null;if(!_i(n,a.type))return t.concat(2).error('"'.concat(n,"\" comparisons are not supported for type '").concat(vt(a.type),"'."));if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot compare types '".concat(vt(o.type),"' and '").concat(vt(a.type),"'."));i&&("value"===o.type.kind&&"value"!==a.type.kind?o=new Wt(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new Wt(o.type,[a])));let s=null;if(4===e.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(s=t.parse(e[3],3,mt),!s)return null}return new r(o,a,s)}evaluate(r){const o=this.lhs.evaluate(r),a=this.rhs.evaluate(r);if(i&&this.hasUntypedArgument){const t=Ft(o),n=Ft(a);if(t.kind!==n.kind||"string"!==t.kind&&"number"!==t.kind)throw new Vt('Expected arguments for "'.concat(e,'" to be (string, string) or (number, number), but found (').concat(t.kind,", ").concat(n.kind,") instead."))}if(this.collator&&!i&&this.hasUntypedArgument){const e=Ft(o),n=Ft(a);if("string"!==e.kind||"string"!==n.kind)return t(r,o,a)}return this.collator?n(r,o,a,this.collator.evaluate(r)):t(r,o,a)}eachChild(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}outputDefined(){return!0}serialize(){const t=[e];return this.eachChild((e=>{t.push(e.serialize())})),t}}}const xi=vi("==",(function(e,t,n){return t===n}),yi),bi=vi("!=",(function(e,t,n){return t!==n}),(function(e,t,n,i){return!yi(0,t,n,i)})),wi=vi("<",(function(e,t,n){return t<n}),(function(e,t,n,i){return i.compare(t,n)<0})),Ei=vi(">",(function(e,t,n){return t>n}),(function(e,t,n,i){return i.compare(t,n)>0})),Ti=vi("<=",(function(e,t,n){return t<=n}),(function(e,t,n,i){return i.compare(t,n)<=0})),ki=vi(">=",(function(e,t,n){return t>=n}),(function(e,t,n,i){return i.compare(t,n)>=0}));class Si{constructor(e,t,n,i,r,o){this.type=ut,this.number=e,this.locale=t,this.currency=n,this.unit=i,this.minFractionDigits=r,this.maxFractionDigits=o}static parse(e,t){if(3!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,ct);if(!n)return null;const i=e[2];if("object"!=typeof i||Array.isArray(i))return t.error("NumberFormat options argument must be an object.");let r=null;if(i.locale&&(r=t.parse(i.locale,1,ut),!r))return null;let o=null;if(i.currency&&(o=t.parse(i.currency,1,ut),!o))return null;let a=null;if(i.unit&&(a=t.parse(i.unit,1,ut),!a))return null;let s=null;if(i["min-fraction-digits"]&&(s=t.parse(i["min-fraction-digits"],1,ct),!s))return null;let l=null;return i["max-fraction-digits"]&&(l=t.parse(i["max-fraction-digits"],1,ct),!l)?null:new Si(n,r,o,a,s,l)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(e):void 0,unit:this.unit?this.unit.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.unit&&e(this.unit),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.unit&&(e.unit=this.unit.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class Ci{constructor(e){this.type=ct,this.input=e}static parse(e,t){if(2!==e.length)return t.error("Expected 1 argument, but found ".concat(e.length-1," instead."));const n=t.parse(e[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?t.error("Expected argument of type string or array, but found ".concat(vt(n.type)," instead.")):new Ci(n):null}evaluate(e){const t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new Vt("Expected value to be of type string or array, but found ".concat(vt(Ft(t))," instead."))}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){const e=["length"];return this.eachChild((t=>{e.push(t.serialize())})),e}}const Mi={"==":xi,"!=":bi,">":Ei,"<":wi,">=":ki,"<=":Ti,array:Wt,at:ai,boolean:Wt,case:fi,coalesce:ni,collator:tn,format:Zt,image:Ht,in:li,"index-of":ui,interpolate:ei,"interpolate-hcl":ei,"interpolate-lab":ei,length:Ci,let:ri,literal:Ut,match:di,number:Wt,"number-format":Si,object:Wt,slice:gi,step:Pn,string:Wt,"to-boolean":Yt,"to-color":Yt,"to-number":Yt,"to-string":Yt,var:kn,within:xn};function zi(e,t){let[n,i,r,o]=t;n=n.evaluate(e),i=i.evaluate(e),r=r.evaluate(e);const a=o?o.evaluate(e):1,s=Rt(n,i,r,a);if(s)throw new Vt(s);return new Pt(n/255*a,i/255*a,r/255*a,a)}function Ai(e,t){return e in t}function Pi(e,t){const n=t[e];return void 0===n?null:n}function Ii(e){return{type:e}}en.register(Mi,{error:[{kind:"error"},[ut],(e,t)=>{let[n]=t;throw new Vt(n.evaluate(e))}],typeof:[ut,[ft],(e,t)=>{let[n]=t;return vt(Ft(n.evaluate(e)))}],"to-rgba":[yt(ct,4),[dt],(e,t)=>{let[n]=t;return n.evaluate(e).toArray()}],rgb:[dt,[ct,ct,ct],zi],rgba:[dt,[ct,ct,ct,ct],zi],has:{type:ht,overloads:[[[ut],(e,t)=>{let[n]=t;return Ai(n.evaluate(e),e.properties())}],[[ut,pt],(e,t)=>{let[n,i]=t;return Ai(n.evaluate(e),i.evaluate(e))}]]},get:{type:ft,overloads:[[[ut],(e,t)=>{let[n]=t;return Pi(n.evaluate(e),e.properties())}],[[ut,pt],(e,t)=>{let[n,i]=t;return Pi(n.evaluate(e),i.evaluate(e))}]]},"feature-state":[ft,[ut],(e,t)=>{let[n]=t;return Pi(n.evaluate(e),e.featureState||{})}],properties:[pt,[],e=>e.properties()],"geometry-type":[ut,[],e=>e.geometryType()],id:[ft,[],e=>e.id()],zoom:[ct,[],e=>e.globals.zoom],pitch:[ct,[],e=>e.globals.pitch||0],"distance-from-center":[ct,[],e=>e.distanceFromCenter()],"heatmap-density":[ct,[],e=>e.globals.heatmapDensity||0],"line-progress":[ct,[],e=>e.globals.lineProgress||0],"sky-radial-progress":[ct,[],e=>e.globals.skyRadialProgress||0],accumulated:[ft,[],e=>void 0===e.globals.accumulated?null:e.globals.accumulated],"+":[ct,Ii(ct),(e,t)=>{let n=0;for(const i of t)n+=i.evaluate(e);return n}],"*":[ct,Ii(ct),(e,t)=>{let n=1;for(const i of t)n*=i.evaluate(e);return n}],"-":{type:ct,overloads:[[[ct,ct],(e,t)=>{let[n,i]=t;return n.evaluate(e)-i.evaluate(e)}],[[ct],(e,t)=>{let[n]=t;return-n.evaluate(e)}]]},"/":[ct,[ct,ct],(e,t)=>{let[n,i]=t;return n.evaluate(e)/i.evaluate(e)}],"%":[ct,[ct,ct],(e,t)=>{let[n,i]=t;return n.evaluate(e)%i.evaluate(e)}],ln2:[ct,[],()=>Math.LN2],pi:[ct,[],()=>Math.PI],e:[ct,[],()=>Math.E],"^":[ct,[ct,ct],(e,t)=>{let[n,i]=t;return Math.pow(n.evaluate(e),i.evaluate(e))}],sqrt:[ct,[ct],(e,t)=>{let[n]=t;return Math.sqrt(n.evaluate(e))}],log10:[ct,[ct],(e,t)=>{let[n]=t;return Math.log(n.evaluate(e))/Math.LN10}],ln:[ct,[ct],(e,t)=>{let[n]=t;return Math.log(n.evaluate(e))}],log2:[ct,[ct],(e,t)=>{let[n]=t;return Math.log(n.evaluate(e))/Math.LN2}],sin:[ct,[ct],(e,t)=>{let[n]=t;return Math.sin(n.evaluate(e))}],cos:[ct,[ct],(e,t)=>{let[n]=t;return Math.cos(n.evaluate(e))}],tan:[ct,[ct],(e,t)=>{let[n]=t;return Math.tan(n.evaluate(e))}],asin:[ct,[ct],(e,t)=>{let[n]=t;return Math.asin(n.evaluate(e))}],acos:[ct,[ct],(e,t)=>{let[n]=t;return Math.acos(n.evaluate(e))}],atan:[ct,[ct],(e,t)=>{let[n]=t;return Math.atan(n.evaluate(e))}],min:[ct,Ii(ct),(e,t)=>Math.min(...t.map((t=>t.evaluate(e))))],max:[ct,Ii(ct),(e,t)=>Math.max(...t.map((t=>t.evaluate(e))))],abs:[ct,[ct],(e,t)=>{let[n]=t;return Math.abs(n.evaluate(e))}],round:[ct,[ct],(e,t)=>{let[n]=t;const i=n.evaluate(e);return i<0?-Math.round(-i):Math.round(i)}],floor:[ct,[ct],(e,t)=>{let[n]=t;return Math.floor(n.evaluate(e))}],ceil:[ct,[ct],(e,t)=>{let[n]=t;return Math.ceil(n.evaluate(e))}],"filter-==":[ht,[ut,ft],(e,t)=>{let[n,i]=t;return e.properties()[n.value]===i.value}],"filter-id-==":[ht,[ft],(e,t)=>{let[n]=t;return e.id()===n.value}],"filter-type-==":[ht,[ut],(e,t)=>{let[n]=t;return e.geometryType()===n.value}],"filter-<":[ht,[ut,ft],(e,t)=>{let[n,i]=t;const r=e.properties()[n.value],o=i.value;return typeof r==typeof o&&r<o}],"filter-id-<":[ht,[ft],(e,t)=>{let[n]=t;const i=e.id(),r=n.value;return typeof i==typeof r&&i<r}],"filter->":[ht,[ut,ft],(e,t)=>{let[n,i]=t;const r=e.properties()[n.value],o=i.value;return typeof r==typeof o&&r>o}],"filter-id->":[ht,[ft],(e,t)=>{let[n]=t;const i=e.id(),r=n.value;return typeof i==typeof r&&i>r}],"filter-<=":[ht,[ut,ft],(e,t)=>{let[n,i]=t;const r=e.properties()[n.value],o=i.value;return typeof r==typeof o&&r<=o}],"filter-id-<=":[ht,[ft],(e,t)=>{let[n]=t;const i=e.id(),r=n.value;return typeof i==typeof r&&i<=r}],"filter->=":[ht,[ut,ft],(e,t)=>{let[n,i]=t;const r=e.properties()[n.value],o=i.value;return typeof r==typeof o&&r>=o}],"filter-id->=":[ht,[ft],(e,t)=>{let[n]=t;const i=e.id(),r=n.value;return typeof i==typeof r&&i>=r}],"filter-has":[ht,[ft],(e,t)=>{let[n]=t;return n.value in e.properties()}],"filter-has-id":[ht,[],e=>null!==e.id()&&void 0!==e.id()],"filter-type-in":[ht,[yt(ut)],(e,t)=>{let[n]=t;return n.value.indexOf(e.geometryType())>=0}],"filter-id-in":[ht,[yt(ft)],(e,t)=>{let[n]=t;return n.value.indexOf(e.id())>=0}],"filter-in-small":[ht,[ut,yt(ft)],(e,t)=>{let[n,i]=t;return i.value.indexOf(e.properties()[n.value])>=0}],"filter-in-large":[ht,[ut,yt(ft)],(e,t)=>{let[n,i]=t;return function(e,t,n,i){for(;n<=i;){const r=n+i>>1;if(t[r]===e)return!0;t[r]>e?i=r-1:n=r+1}return!1}(e.properties()[n.value],i.value,0,i.value.length-1)}],all:{type:ht,overloads:[[[ht,ht],(e,t)=>{let[n,i]=t;return n.evaluate(e)&&i.evaluate(e)}],[Ii(ht),(e,t)=>{for(const n of t)if(!n.evaluate(e))return!1;return!0}]]},any:{type:ht,overloads:[[[ht,ht],(e,t)=>{let[n,i]=t;return n.evaluate(e)||i.evaluate(e)}],[Ii(ht),(e,t)=>{for(const n of t)if(n.evaluate(e))return!0;return!1}]]},"!":[ht,[ht],(e,t)=>{let[n]=t;return!n.evaluate(e)}],"is-supported-script":[ht,[ut],(e,t)=>{let[n]=t;const i=e.globals&&e.globals.isSupportedScript;return!i||i(n.evaluate(e))}],upcase:[ut,[ut],(e,t)=>{let[n]=t;return n.evaluate(e).toUpperCase()}],downcase:[ut,[ut],(e,t)=>{let[n]=t;return n.evaluate(e).toLowerCase()}],concat:[ut,Ii(ft),(e,t)=>t.map((t=>jt(t.evaluate(e)))).join("")],"resolved-locale":[ut,[mt],(e,t)=>{let[n]=t;return n.evaluate(e).resolvedLocale()}]});var Li=Mi;function Di(e){return{result:"success",value:e}}function Oi(e){return{result:"error",value:e}}function Ri(e){return"data-driven"===e["property-type"]}function Bi(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function Fi(e){return!!e.expression&&e.expression.interpolated}function ji(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function Ni(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function Ui(e){return e}function Vi(e,t){const n="color"===t.type,i=e.stops&&"object"==typeof e.stops[0][0],r=i||!(i||void 0!==e.property),o=e.type||(Fi(t)?"exponential":"interval");if(n&&((e=tt({},e)).stops&&(e.stops=e.stops.map((e=>[e[0],Pt.parse(e[1])]))),e.default=Pt.parse(e.default?e.default:t.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!Jn[e.colorSpace])throw new Error("Unknown color space: ".concat(e.colorSpace));let a,s,l;if("exponential"===o)a=Zi;else if("interval"===o)a=Wi;else if("categorical"===o){a=Gi,s=Object.create(null);for(const t of e.stops)s[t[0]]=t[1];l=typeof e.stops[0][0]}else{if("identity"!==o)throw new Error('Unknown function type "'.concat(o,'"'));a=Hi}if(i){const n={},i=[];for(let t=0;t<e.stops.length;t++){const r=e.stops[t],o=r[0].zoom;void 0===n[o]&&(n[o]={zoom:o,type:e.type,property:e.property,default:e.default,stops:[]},i.push(o)),n[o].stops.push([r[0].value,r[1]])}const r=[];for(const e of i)r.push([n[e].zoom,Vi(n[e],t)]);const o={name:"linear"};return{kind:"composite",interpolationType:o,interpolationFactor:ei.interpolationFactor.bind(void 0,o),zoomStops:r.map((e=>e[0])),evaluate:(n,i)=>{let{zoom:o}=n;return Zi({stops:r,base:e.base},t,o).evaluate(o,i)}}}if(r){const n="exponential"===o?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:n,interpolationFactor:ei.interpolationFactor.bind(void 0,n),zoomStops:e.stops.map((e=>e[0])),evaluate:n=>{let{zoom:i}=n;return a(e,t,i,s,l)}}}return{kind:"source",evaluate(n,i){const r=i&&i.properties?i.properties[e.property]:void 0;return void 0===r?qi(e.default,t.default):a(e,t,r,s,l)}}}function qi(e,t,n){return void 0!==e?e:void 0!==t?t:void 0!==n?n:void 0}function Gi(e,t,n,i,r){return qi(typeof n===r?i[n]:void 0,e.default,t.default)}function Wi(e,t,n){if("number"!==ji(n))return qi(e.default,t.default);const i=e.stops.length;if(1===i)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[i-1][0])return e.stops[i-1][1];const r=zn(e.stops.map((e=>e[0])),n);return e.stops[r][1]}function Zi(e,t,n){const i=void 0!==e.base?e.base:1;if("number"!==ji(n))return qi(e.default,t.default);const r=e.stops.length;if(1===r)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];const o=zn(e.stops.map((e=>e[0])),n),a=function(e,t,n,i){const r=i-n,o=e-n;return 0===r?0:1===t?o/r:(Math.pow(t,o)-1)/(Math.pow(t,r)-1)}(n,i,e.stops[o][0],e.stops[o+1][0]),s=e.stops[o][1],l=e.stops[o+1][1];let c=Ln[t.type]||Ui;if(e.colorSpace&&"rgb"!==e.colorSpace){const t=Jn[e.colorSpace];c=(e,n)=>t.reverse(t.interpolate(t.forward(e),t.forward(n),a))}return"function"==typeof s.evaluate?{evaluate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=s.evaluate.apply(void 0,t),r=l.evaluate.apply(void 0,t);if(void 0!==i&&void 0!==r)return c(i,r,a)}}:c(s,l,a)}function Hi(e,t,n){return"color"===t.type?n=Pt.parse(n):"formatted"===t.type?n=Dt.fromString(n.toString()):"resolvedImage"===t.type?n=Ot.fromString(n.toString()):ji(n)===t.type||"enum"===t.type&&t.values[n]||(n=void 0),qi(n,e.default,t.default)}class Xi{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new $t,this._defaultValue=t?function(e){return"color"===e.type&&(Ni(e.default)||Array.isArray(e.default))?new Pt(0,0,0,0):"color"===e.type?Pt.parse(e.default)||null:void 0===e.default?null:e.default}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null}evaluateWithoutErrorHandling(e,t,n,i,r,o,a,s){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=i||null,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=o,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=s||null,this.expression.evaluate(this._evaluator)}evaluate(e,t,n,i,r,o,a,s){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=i||null,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=o||null,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=s||null;try{const e=this.expression.evaluate(this._evaluator);if(null==e||"number"==typeof e&&e!=e)return this._defaultValue;if(this._enumValues&&!(e in this._enumValues))throw new Vt("Expected value to be one of ".concat(Object.keys(this._enumValues).map((e=>JSON.stringify(e))).join(", "),", but found ").concat(JSON.stringify(e)," instead."));return e}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}function Ki(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in Li}function Yi(e,t){const n=new Cn(Li,[],t?function(e){const t={color:dt,string:ut,number:ct,enum:ut,boolean:ht,formatted:gt,resolvedImage:_t};return"array"===e.type?yt(t[e.value]||ft,e.length):t[e.type]}(t):void 0),i=n.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return i?Di(new Xi(i,t)):Oi(n.errors)}class Ji{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!wn(t.expression)}evaluateWithoutErrorHandling(e,t,n,i,r,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,i,r,o)}evaluate(e,t,n,i,r,o){return this._styleExpression.evaluate(e,t,n,i,r,o)}}class $i{constructor(e,t,n,i){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent="camera"!==e&&!wn(t.expression),this.interpolationType=i}evaluateWithoutErrorHandling(e,t,n,i,r,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,i,r,o)}evaluate(e,t,n,i,r,o){return this._styleExpression.evaluate(e,t,n,i,r,o)}interpolationFactor(e,t,n){return this.interpolationType?ei.interpolationFactor(this.interpolationType,e,t,n):0}}function Qi(e,t){if("error"===(e=Yi(e,t)).result)return e;const n=e.value.expression,i=bn(n);if(!i&&!Ri(t))return Oi([new ot("","data expressions not supported")]);const r=En(n,["zoom","pitch","distance-from-center"]);if(!r&&!Bi(t))return Oi([new ot("","zoom expressions not supported")]);const o=tr(n);return o||r?o instanceof ot?Oi([o]):o instanceof ei&&!Fi(t)?Oi([new ot("",'"interpolate" expressions cannot be used with this property')]):Di(o?new $i(i?"camera":"composite",e.value,o.labels,o instanceof ei?o.interpolation:void 0):new Ji(i?"constant":"source",e.value)):Oi([new ot("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class er{constructor(e,t){this._parameters=e,this._specification=t,tt(this,Vi(this._parameters,this._specification))}static deserialize(e){return new er(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}function tr(e){let t=null;if(e instanceof ri)t=tr(e.result);else if(e instanceof ni){for(const n of e.args)if(t=tr(n),t)break}else(e instanceof Pn||e instanceof ei)&&e.input instanceof en&&"zoom"===e.input.name&&(t=e);return t instanceof ot||e.eachChild((e=>{const n=tr(e);n instanceof ot?t=n:!t&&n?t=new ot("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&n&&t!==n&&(t=new ot("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),t}class nr{constructor(e,t,n,i){this.message=(e?"".concat(e,": "):"")+n,i&&(this.identifier=i),null!=t&&t.__line__&&(this.line=t.__line__)}}function ir(e){const t=e.key,n=e.value,i=e.valueSpec||{},r=e.objectElementValidators||{},o=e.style,a=e.styleSpec;let s=[];const l=ji(n);if("object"!==l)return[new nr(t,n,"object expected, ".concat(l," found"))];for(const c in n){const e=c.split(".")[0];let l;r[e]?l=r[e]:i[e]?l=Br:r["*"]?l=r["*"]:i["*"]&&(l=Br),l?s=s.concat(l({key:(t?"".concat(t,"."):t)+c,value:n[c],valueSpec:i[e]||i["*"],style:o,styleSpec:a,object:n,objectKey:c},n)):s.push(new nr(t,n[c],'unknown property "'.concat(c,'"')))}for(const c in i)r[c]||i[c].required&&void 0===i[c].default&&void 0===n[c]&&s.push(new nr(t,n,'missing required property "'.concat(c,'"')));return s}function rr(e){const t=e.value,n=e.valueSpec,i=e.style,r=e.styleSpec,o=e.key,a=e.arrayElementValidator||Br;if("array"!==ji(t))return[new nr(o,t,"array expected, ".concat(ji(t)," found"))];if(n.length&&t.length!==n.length)return[new nr(o,t,"array length ".concat(n.length," expected, length ").concat(t.length," found"))];if(n["min-length"]&&t.length<n["min-length"])return[new nr(o,t,"array length at least ".concat(n["min-length"]," expected, length ").concat(t.length," found"))];let s={type:n.value,values:n.values,minimum:n.minimum,maximum:n.maximum,function:void 0};r.$version<7&&(s.function=n.function),"object"===ji(n.value)&&(s=n.value);let l=[];for(let c=0;c<t.length;c++)l=l.concat(a({array:t,arrayIndex:c,value:t[c],valueSpec:s,style:i,styleSpec:r,key:"".concat(o,"[").concat(c,"]")}));return l}function or(e){const t=e.key,n=e.value,i=e.valueSpec;let r=ji(n);if("number"===r&&n!=n&&(r="NaN"),"number"!==r)return[new nr(t,n,"number expected, ".concat(r," found"))];if("minimum"in i){let r=i.minimum;if("array"===ji(i.minimum)&&(r=i.minimum[e.arrayIndex]),n<r)return[new nr(t,n,"".concat(n," is less than the minimum value ").concat(r))]}if("maximum"in i){let r=i.maximum;if("array"===ji(i.maximum)&&(r=i.maximum[e.arrayIndex]),n>r)return[new nr(t,n,"".concat(n," is greater than the maximum value ").concat(r))]}return[]}function ar(e){const t=e.valueSpec,n=nt(e.value.type);let i,r,o,a={};const s="categorical"!==n&&void 0===e.value.property,l=!s,c="array"===ji(e.value.stops)&&"array"===ji(e.value.stops[0])&&"object"===ji(e.value.stops[0][0]),u=ir({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===n)return[new nr(e.key,e.value,'identity function may not have a "stops" property')];let t=[];const i=e.value;return t=t.concat(rr({key:e.key,value:i,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:h})),"array"===ji(i)&&0===i.length&&t.push(new nr(e.key,i,"array must have at least one stop")),t},default:function(e){return Br({key:e.key,value:e.value,valueSpec:t,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===n&&s&&u.push(new nr(e.key,e.value,'missing required property "property"')),"identity"===n||e.value.stops||u.push(new nr(e.key,e.value,'missing required property "stops"')),"exponential"===n&&e.valueSpec.expression&&!Fi(e.valueSpec)&&u.push(new nr(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!Ri(e.valueSpec)?u.push(new nr(e.key,e.value,"property functions not supported")):s&&!Bi(e.valueSpec)&&u.push(new nr(e.key,e.value,"zoom functions not supported"))),"categorical"!==n&&!c||void 0!==e.value.property||u.push(new nr(e.key,e.value,'"property" property is required')),u;function h(e){let n=[];const i=e.value,s=e.key;if("array"!==ji(i))return[new nr(s,i,"array expected, ".concat(ji(i)," found"))];if(2!==i.length)return[new nr(s,i,"array length 2 expected, length ".concat(i.length," found"))];if(c){if("object"!==ji(i[0]))return[new nr(s,i,"object expected, ".concat(ji(i[0])," found"))];if(void 0===i[0].zoom)return[new nr(s,i,"object stop key must have zoom")];if(void 0===i[0].value)return[new nr(s,i,"object stop key must have value")];const t=nt(i[0].zoom);if("number"!=typeof t)return[new nr(s,i[0].zoom,"stop zoom values must be numbers")];if(o&&o>t)return[new nr(s,i[0].zoom,"stop zoom values must appear in ascending order")];t!==o&&(o=t,r=void 0,a={}),n=n.concat(ir({key:"".concat(s,"[0]"),value:i[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:or,value:d}}))}else n=n.concat(d({key:"".concat(s,"[0]"),value:i[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},i));return Ki(it(i[1]))?n.concat([new nr("".concat(s,"[1]"),i[1],"expressions are not allowed in function stops.")]):n.concat(Br({key:"".concat(s,"[1]"),value:i[1],valueSpec:t,style:e.style,styleSpec:e.styleSpec}))}function d(e,o){const s=ji(e.value),l=nt(e.value),c=null!==e.value?e.value:o;if(i){if(s!==i)return[new nr(e.key,c,"".concat(s," stop domain type must match previous stop domain type ").concat(i))]}else i=s;if("number"!==s&&"string"!==s&&"boolean"!==s&&"number"!=typeof l&&"string"!=typeof l&&"boolean"!=typeof l)return[new nr(e.key,c,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==n){let i="number expected, ".concat(s," found");return Ri(t)&&void 0===n&&(i+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new nr(e.key,c,i)]}return"categorical"!==n||"number"!==s||"number"==typeof l&&isFinite(l)&&Math.floor(l)===l?"categorical"!==n&&"number"===s&&"number"==typeof l&&"number"==typeof r&&void 0!==r&&l<r?[new nr(e.key,c,"stop domain values must appear in ascending order")]:(r=l,"categorical"===n&&l in a?[new nr(e.key,c,"stop domain values must be unique")]:(a[l]=!0,[])):[new nr(e.key,c,"integer expected, found ".concat(String(l)))]}}function sr(e){const t=("property"===e.expressionContext?Qi:Yi)(it(e.value),e.valueSpec);if("error"===t.result)return t.value.map((t=>new nr("".concat(e.key).concat(t.key),e.value,t.message)));const n=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!n.outputDefined())return[new nr(e.key,e.value,'Invalid data expression for "'.concat(e.propertyKey,'". Output values must be contained as literals within the expression.'))];if("property"===e.expressionContext&&"layout"===e.propertyType&&!wn(n))return[new nr(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext)return lr(n,e);if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!En(n,["zoom","feature-state"]))return[new nr(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!bn(n))return[new nr(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function lr(e,t){const n=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(t.valueSpec&&t.valueSpec.expression)for(const r of t.valueSpec.expression.parameters)n.delete(r);if(0===n.size)return[];const i=[];return e instanceof en&&n.has(e.name)?[new nr(t.key,t.value,'["'.concat(e.name,'"] expression is not supported in a filter for a ').concat(t.object.type," layer with id: ").concat(t.object.id))]:(e.eachChild((e=>{i.push(...lr(e,t))})),i)}function cr(e){const t=e.key,n=e.value,i=e.valueSpec,r=[];return Array.isArray(i.values)?-1===i.values.indexOf(nt(n))&&r.push(new nr(t,n,"expected one of [".concat(i.values.join(", "),"], ").concat(JSON.stringify(n)," found"))):-1===Object.keys(i.values).indexOf(nt(n))&&r.push(new nr(t,n,"expected one of [".concat(Object.keys(i.values).join(", "),"], ").concat(JSON.stringify(n)," found"))),r}function ur(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!ur(t)&&"boolean"!=typeof t)return!1;return!0;default:return!0}}function hr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fill";if(null==e)return{filter:()=>!0,needGeometry:!1,needFeature:!1};ur(e)||(e=yr(e));const n=e;let i=!0;try{i=function(e){if(!fr(e))return e;let t=it(e);return pr(t),t=dr(t),t}(n)}catch(e){console.warn("Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n".concat(JSON.stringify(n,null,2),"\n        "))}const r=et["filter_".concat(t)],o=Yi(i,r);let a=null;if("error"===o.result)throw new Error(o.value.map((e=>"".concat(e.key,": ").concat(e.message))).join(", "));a=(e,t,n)=>o.value.evaluate(e,t,{},n);let s=null,l=null;if(i!==n){const e=Yi(n,r);if("error"===e.result)throw new Error(e.value.map((e=>"".concat(e.key,": ").concat(e.message))).join(", "));s=(t,n,i,r,o)=>e.value.evaluate(t,n,{},i,void 0,void 0,r,o),l=!bn(e.value.expression)}return{filter:a,dynamicFilter:s||void 0,needGeometry:_r(i),needFeature:!!l}}function dr(e){if(!Array.isArray(e))return e;const t=function(e){if(mr.has(e[0]))for(let t=1;t<e.length;t++)if(fr(e[t]))return!0;return e}(e);return!0===t?t:t.map((e=>dr(e)))}function pr(e){let t=!1;const n=[];if("case"===e[0]){for(let i=1;i<e.length-1;i+=2)t=t||fr(e[i]),n.push(e[i+1]);n.push(e[e.length-1])}else if("match"===e[0]){t=t||fr(e[1]);for(let t=2;t<e.length-1;t+=2)n.push(e[t+1]);n.push(e[e.length-1])}else if("step"===e[0]){t=t||fr(e[1]);for(let t=1;t<e.length-1;t+=2)n.push(e[t+1])}t&&(e.length=0,e.push("any",...n));for(let i=1;i<e.length;i++)pr(e[i])}function fr(e){if(!Array.isArray(e))return!1;if("pitch"===(t=e[0])||"distance-from-center"===t)return!0;var t;for(let n=1;n<e.length;n++)if(fr(e[n]))return!0;return!1}const mr=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function gr(e,t){return e<t?-1:e>t?1:0}function _r(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(let t=1;t<e.length;t++)if(_r(e[t]))return!0;return!1}function yr(e){if(!e)return!0;const t=e[0];return e.length<=1?"any"!==t:"=="===t?vr(e[1],e[2],"=="):"!="===t?wr(vr(e[1],e[2],"==")):"<"===t||">"===t||"<="===t||">="===t?vr(e[1],e[2],t):"any"===t?(n=e.slice(1),["any"].concat(n.map(yr))):"all"===t?["all"].concat(e.slice(1).map(yr)):"none"===t?["all"].concat(e.slice(1).map(yr).map(wr)):"in"===t?xr(e[1],e.slice(2)):"!in"===t?wr(xr(e[1],e.slice(2))):"has"===t?br(e[1]):"!has"===t?wr(br(e[1])):"within"!==t||e;var n}function vr(e,t,n){switch(e){case"$type":return["filter-type-".concat(n),t];case"$id":return["filter-id-".concat(n),t];default:return["filter-".concat(n),e,t]}}function xr(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((e=>typeof e!=typeof t[0]))?["filter-in-large",e,["literal",t.sort(gr)]]:["filter-in-small",e,["literal",t]]}}function br(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function wr(e){return["!",e]}function Er(e){return ur(it(e.value))?sr(tt({},e,{expressionContext:"filter",valueSpec:e.styleSpec["filter_".concat(e.layerType||"fill")]})):Tr(e)}function Tr(e){const t=e.value,n=e.key;if("array"!==ji(t))return[new nr(n,t,"array expected, ".concat(ji(t)," found"))];const i=e.styleSpec;let r,o=[];if(t.length<1)return[new nr(n,t,"filter array must have at least 1 element")];switch(o=o.concat(cr({key:"".concat(n,"[0]"),value:t[0],valueSpec:i.filter_operator,style:e.style,styleSpec:e.styleSpec})),nt(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&"$type"===nt(t[1])&&o.push(new nr(n,t,'"$type" cannot be use with operator "'.concat(t[0],'"')));case"==":case"!=":3!==t.length&&o.push(new nr(n,t,'filter array for operator "'.concat(t[0],'" must have 3 elements')));case"in":case"!in":t.length>=2&&(r=ji(t[1]),"string"!==r&&o.push(new nr("".concat(n,"[1]"),t[1],"string expected, ".concat(r," found"))));for(let a=2;a<t.length;a++)r=ji(t[a]),"$type"===nt(t[1])?o=o.concat(cr({key:"".concat(n,"[").concat(a,"]"),value:t[a],valueSpec:i.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==r&&"number"!==r&&"boolean"!==r&&o.push(new nr("".concat(n,"[").concat(a,"]"),t[a],"string, number, or boolean expected, ".concat(r," found")));break;case"any":case"all":case"none":for(let i=1;i<t.length;i++)o=o.concat(Tr({key:"".concat(n,"[").concat(i,"]"),value:t[i],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":r=ji(t[1]),2!==t.length?o.push(new nr(n,t,'filter array for "'.concat(t[0],'" operator must have 2 elements'))):"string"!==r&&o.push(new nr("".concat(n,"[1]"),t[1],"string expected, ".concat(r," found")));break;case"within":r=ji(t[1]),2!==t.length?o.push(new nr(n,t,'filter array for "'.concat(t[0],'" operator must have 2 elements'))):"object"!==r&&o.push(new nr("".concat(n,"[1]"),t[1],"object expected, ".concat(r," found")))}return o}function kr(e,t){const n=e.key,i=e.style,r=e.styleSpec,o=e.value,a=e.objectKey,s=r["".concat(t,"_").concat(e.layerType)];if(!s)return[];const l=a.match(/^(.*)-transition$/);if("paint"===t&&l&&s[l[1]]&&s[l[1]].transition)return Br({key:n,value:o,valueSpec:r.transition,style:i,styleSpec:r});const c=e.valueSpec||s[a];if(!c)return[new nr(n,o,'unknown property "'.concat(a,'"'))];let u;if("string"===ji(o)&&Ri(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(o))){const e='`{ "type": "identity", "property": '.concat(u?JSON.stringify(u[1]):'"_"'," }`");return[new nr(n,o,'"'.concat(a,'" does not support interpolation syntax\nUse an identity property function instead: ').concat(e,"."))]}const h=[];return"symbol"===e.layerType&&("text-field"===a&&i&&!i.glyphs&&h.push(new nr(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&Ni(it(o))&&"identity"===nt(o.type)&&h.push(new nr(n,o,'"text-font" does not support identity functions'))),h.concat(Br({key:e.key,value:o,valueSpec:c,style:i,styleSpec:r,expressionContext:"property",propertyType:t,propertyKey:a}))}function Sr(e){return kr(e,"paint")}function Cr(e){return kr(e,"layout")}function Mr(e){let t=[];const n=e.value,i=e.key,r=e.style,o=e.styleSpec;n.type||n.ref||t.push(new nr(i,n,'either "type" or "ref" is required'));let a=nt(n.type);const s=nt(n.ref);if(n.id){const o=nt(n.id);for(let a=0;a<e.arrayIndex;a++){const e=r.layers[a];nt(e.id)===o&&t.push(new nr(i,n.id,'duplicate layer id "'.concat(n.id,'", previously used at line ').concat(e.id.__line__)))}}if("ref"in n){let e;["type","source","source-layer","filter","layout"].forEach((e=>{e in n&&t.push(new nr(i,n[e],'"'.concat(e,'" is prohibited for ref layers')))})),r.layers.forEach((t=>{nt(t.id)===s&&(e=t)})),e?e.ref?t.push(new nr(i,n.ref,"ref cannot reference another ref layer")):a=nt(e.type):"string"==typeof s&&t.push(new nr(i,n.ref,'ref layer "'.concat(s,'" not found')))}else if("background"!==a&&"sky"!==a)if(n.source){const e=r.sources&&r.sources[n.source],o=e&&nt(e.type);e?"vector"===o&&"raster"===a?t.push(new nr(i,n.source,'layer "'.concat(n.id,'" requires a raster source'))):"raster"===o&&"raster"!==a?t.push(new nr(i,n.source,'layer "'.concat(n.id,'" requires a vector source'))):"vector"!==o||n["source-layer"]?"raster-dem"===o&&"hillshade"!==a?t.push(new nr(i,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==a||!n.paint||!n.paint["line-gradient"]&&!n.paint["line-trim-offset"]||"geojson"===o&&e.lineMetrics||t.push(new nr(i,n,'layer "'.concat(n.id,'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.'))):t.push(new nr(i,n,'layer "'.concat(n.id,'" must specify a "source-layer"'))):t.push(new nr(i,n.source,'source "'.concat(n.source,'" not found')))}else t.push(new nr(i,n,'missing required property "source"'));return t=t.concat(ir({key:i,value:n,valueSpec:o.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Br({key:"".concat(i,".type"),value:n.type,valueSpec:o.layer.type,style:e.style,styleSpec:e.styleSpec,object:n,objectKey:"type"}),filter:e=>Er(tt({layerType:a},e)),layout:e=>ir({layer:n,key:e.key,value:e.value,valueSpec:{},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":e=>Cr(tt({layerType:a},e))}}),paint:e=>ir({layer:n,key:e.key,value:e.value,valueSpec:{},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":e=>Sr(tt({layerType:a},e))}})}})),t}function zr(e){const t=e.value,n=e.key,i=ji(t);return"string"!==i?[new nr(n,t,"string expected, ".concat(i," found"))]:[]}const Ar={promoteId:function(e){let{key:t,value:n}=e;if("string"===ji(n))return zr({key:t,value:n});{const e=[];for(const i in n)e.push(...zr({key:"".concat(t,".").concat(i),value:n[i]}));return e}}};function Pr(e){const t=e.value,n=e.key,i=e.styleSpec,r=e.style;if(!t.type)return[new nr(n,t,'"type" is required')];const o=nt(t.type);let a;switch(o){case"vector":case"raster":case"raster-dem":return a=ir({key:n,value:t,valueSpec:i["source_".concat(o.replace("-","_"))],style:e.style,styleSpec:i,objectElementValidators:Ar}),a;case"geojson":if(a=ir({key:n,value:t,valueSpec:i.source_geojson,style:r,styleSpec:i,objectElementValidators:Ar}),t.cluster)for(const e in t.clusterProperties){const[i,r]=t.clusterProperties[e],o="string"==typeof i?[i,["accumulated"],["get",e]]:i;a.push(...sr({key:"".concat(n,".").concat(e,".map"),value:r,expressionContext:"cluster-map"})),a.push(...sr({key:"".concat(n,".").concat(e,".reduce"),value:o,expressionContext:"cluster-reduce"}))}return a;case"video":return ir({key:n,value:t,valueSpec:i.source_video,style:r,styleSpec:i});case"image":return ir({key:n,value:t,valueSpec:i.source_image,style:r,styleSpec:i});case"canvas":return[new nr(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return cr({key:"".concat(n,".type"),value:t.type,valueSpec:{values:Ir(i)},style:r,styleSpec:i})}}function Ir(e){return e.source.reduce(((t,n)=>{const i=e[n];return"enum"===i.type.type&&(t=t.concat(Object.keys(i.type.values))),t}),[])}function Lr(e){const t=e.value,n=e.styleSpec,i=n.light,r=e.style;let o=[];const a=ji(t);if(void 0===t)return o;if("object"!==a)return o=o.concat([new nr("light",t,"object expected, ".concat(a," found"))]),o;for(const s in t){const e=s.match(/^(.*)-transition$/);o=o.concat(e&&i[e[1]]&&i[e[1]].transition?Br({key:s,value:t[s],valueSpec:n.transition,style:r,styleSpec:n}):i[s]?Br({key:s,value:t[s],valueSpec:i[s],style:r,styleSpec:n}):[new nr(s,t[s],'unknown property "'.concat(s,'"'))])}return o}function Dr(e){const t=e.value,n=e.key,i=e.style,r=e.styleSpec,o=r.terrain;let a=[];const s=ji(t);if(void 0===t)return a;if("object"!==s)return a=a.concat([new nr("terrain",t,"object expected, ".concat(s," found"))]),a;for(const l in t){const e=l.match(/^(.*)-transition$/);a=a.concat(e&&o[e[1]]&&o[e[1]].transition?Br({key:l,value:t[l],valueSpec:r.transition,style:i,styleSpec:r}):o[l]?Br({key:l,value:t[l],valueSpec:o[l],style:i,styleSpec:r}):[new nr(l,t[l],'unknown property "'.concat(l,'"'))])}if(t.source){const e=i.sources&&i.sources[t.source],r=e&&nt(e.type);e?"raster-dem"!==r&&a.push(new nr(n,t.source,"terrain cannot be used with a source of type ".concat(String(r),', it only be used with a "raster-dem" source type'))):a.push(new nr(n,t.source,'source "'.concat(t.source,'" not found')))}else a.push(new nr(n,t,'terrain is missing required property "source"'));return a}function Or(e){const t=e.value,n=e.style,i=e.styleSpec,r=i.fog;let o=[];const a=ji(t);if(void 0===t)return o;if("object"!==a)return o=o.concat([new nr("fog",t,"object expected, ".concat(a," found"))]),o;for(const s in t){const e=s.match(/^(.*)-transition$/);o=o.concat(e&&r[e[1]]&&r[e[1]].transition?Br({key:s,value:t[s],valueSpec:i.transition,style:n,styleSpec:i}):r[s]?Br({key:s,value:t[s],valueSpec:r[s],style:n,styleSpec:i}):[new nr(s,t[s],'unknown property "'.concat(s,'"'))])}return o}const Rr={"*":()=>[],array:rr,boolean:function(e){const t=e.value,n=e.key,i=ji(t);return"boolean"!==i?[new nr(n,t,"boolean expected, ".concat(i," found"))]:[]},number:or,color:function(e){const t=e.key,n=e.value,i=ji(n);return"string"!==i?[new nr(t,n,"color expected, ".concat(i," found"))]:null===Tt(n)?[new nr(t,n,'color expected, "'.concat(n,'" found'))]:[]},enum:cr,filter:Er,function:ar,layer:Mr,object:ir,source:Pr,light:Lr,terrain:Dr,fog:Or,string:zr,formatted:function(e){return 0===zr(e).length?[]:sr(e)},resolvedImage:function(e){return 0===zr(e).length?[]:sr(e)},projection:function(e){const t=e.value,n=e.styleSpec,i=n.projection,r=e.style;let o=[];const a=ji(t);if("object"===a)for(const s in t)o=o.concat(Br({key:s,value:t[s],valueSpec:i[s],style:r,styleSpec:n}));else"string"!==a&&(o=o.concat([new nr("projection",t,"object or string expected, ".concat(a," found"))]));return o}};function Br(e){const t=e.value,n=e.valueSpec,i=e.styleSpec;return n.expression&&Ni(nt(t))?ar(e):n.expression&&Ki(it(t))?sr(e):n.type&&Rr[n.type]?Rr[n.type](e):ir(tt({},e,{valueSpec:n.type?i[n.type]:n}))}function Fr(e){const t=e.value,n=e.key,i=zr(e);return i.length||(-1===t.indexOf("{fontstack}")&&i.push(new nr(n,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&i.push(new nr(n,t,'"glyphs" url must include a "{range}" token'))),i}function jr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:et;return Vr(Br({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:Fr,"*":()=>[]}}))}const Nr=e=>Vr(Sr(e)),Ur=e=>Vr(Cr(e));function Vr(e){return e.slice().sort(((e,t)=>e.line&&t.line?e.line-t.line:0))}function qr(e,t){let n=!1;if(t&&t.length)for(const i of t)e.fire(new $e(new Error(i.message))),n=!0;return n}var Gr=Zr,Wr=3;function Zr(e,t,n){var i=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var r=new Int32Array(this.arrayBuffer);e=r[0],this.d=(t=r[1])+2*(n=r[2]);for(var o=0;o<this.d*this.d;o++){var a=r[Wr+o],s=r[Wr+o+1];i.push(a===s?null:r.subarray(a,s))}var l=r[Wr+i.length+1];this.keys=r.subarray(r[Wr+i.length],l),this.bboxes=r.subarray(l),this.insert=this._insertReadonly}else{this.d=t+2*n;for(var c=0;c<this.d*this.d;c++)i.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=n,this.scale=t/e,this.uid=0;var u=n/t*e;this.min=-u,this.max=e+u}Zr.prototype.insert=function(e,t,n,i,r){this._forEachCell(t,n,i,r,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(i),this.bboxes.push(r)},Zr.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Zr.prototype._insertCell=function(e,t,n,i,r,o){this.cells[r].push(o)},Zr.prototype.query=function(e,t,n,i,r){var o=this.min,a=this.max;if(e<=o&&t<=o&&a<=n&&a<=i&&!r)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,n,i,this._queryCell,s,{},r),s},Zr.prototype._queryCell=function(e,t,n,i,r,o,a,s){var l=this.cells[r];if(null!==l)for(var c=this.keys,u=this.bboxes,h=0;h<l.length;h++){var d=l[h];if(void 0===a[d]){var p=4*d;(s?s(u[p+0],u[p+1],u[p+2],u[p+3]):e<=u[p+2]&&t<=u[p+3]&&n>=u[p+0]&&i>=u[p+1])?(a[d]=!0,o.push(c[d])):a[d]=!1}}},Zr.prototype._forEachCell=function(e,t,n,i,r,o,a,s){for(var l=this._convertToCellCoord(e),c=this._convertToCellCoord(t),u=this._convertToCellCoord(n),h=this._convertToCellCoord(i),d=l;d<=u;d++)for(var p=c;p<=h;p++){var f=this.d*p+d;if((!s||s(this._convertFromCellCoord(d),this._convertFromCellCoord(p),this._convertFromCellCoord(d+1),this._convertFromCellCoord(p+1)))&&r.call(this,e,t,n,i,f,o,a,s))return}},Zr.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},Zr.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},Zr.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=Wr+this.cells.length+1+1,n=0,i=0;i<this.cells.length;i++)n+=this.cells[i].length;var r=new Int32Array(t+n+this.keys.length+this.bboxes.length);r[0]=this.extent,r[1]=this.n,r[2]=this.padding;for(var o=t,a=0;a<e.length;a++){var s=e[a];r[Wr+a]=o,r.set(s,o),o+=s.length}return r[Wr+e.length]=o,r.set(this.keys,o),r[Wr+e.length+1]=o+=this.keys.length,r.set(this.bboxes,o),o+=this.bboxes.length,r.buffer};var Hr=d(Gr);const Xr={};function Kr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),Xr[t]={klass:e,omit:n.omit||[]}}Kr(Object,"Object"),Hr.serialize=function(e,t){const n=e.toArrayBuffer();return t&&t.push(n),{buffer:n}},Hr.deserialize=function(e){return new Hr(e.buffer)},Object.defineProperty(Hr,"name",{value:"Grid"}),Kr(Hr,"Grid"),Kr(Pt,"Color"),Kr(Error,"Error"),Kr(ce,"AJAXError"),Kr(Ot,"ResolvedImage"),Kr(er,"StylePropertyFunction"),Kr(Xi,"StyleExpression",{omit:["_evaluator"]}),Kr($i,"ZoomDependentExpression"),Kr(Ji,"ZoomConstantExpression"),Kr(en,"CompoundExpression",{omit:["_evaluate"]});for(const Em in Li)Xr[Li[Em]._classRegistryKey]||Kr(Li[Em],"Expression".concat(Em));function Yr(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function Jr(e){return t.ImageBitmap&&e instanceof t.ImageBitmap}function $r(e,n){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(Yr(e)||Jr(e))return n&&n.push(e),e;if(ArrayBuffer.isView(e)){const t=e;return n&&n.push(t.buffer),t}if(e instanceof t.ImageData)return n&&n.push(e.data.buffer),e;if(Array.isArray(e)){const t=[];for(const i of e)t.push($r(i,n));return t}if("object"==typeof e){const t=e.constructor,i=t._classRegistryKey;if(!i)throw new Error("can't serialize object of unregistered class ".concat(i));const r=t.serialize?t.serialize(e,n):{};if(!t.serialize){for(const t in e)e.hasOwnProperty(t)&&(Xr[i].omit.indexOf(t)>=0||(r[t]=$r(e[t],n)));e instanceof Error&&(r.message=e.message)}if(r.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==i&&(r.$name=i),r}throw new Error("can't serialize object of type "+typeof e)}function Qr(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||Yr(e)||Jr(e)||ArrayBuffer.isView(e)||e instanceof t.ImageData)return e;if(Array.isArray(e))return e.map(Qr);if("object"==typeof e){const t=e.$name||"Object",{klass:n}=Xr[t];if(!n)throw new Error("can't deserialize unregistered class ".concat(t));if(n.deserialize)return n.deserialize(e);const i=Object.create(n.prototype);for(const r of Object.keys(e))"$name"!==r&&(i[r]=Qr(e[r]));return i}throw new Error("can't deserialize object of type "+typeof e)}const eo={"Latin-1 Supplement":e=>e>=128&&e<=255,Arabic:e=>e>=1536&&e<=1791,"Arabic Supplement":e=>e>=1872&&e<=1919,"Arabic Extended-A":e=>e>=2208&&e<=2303,"Hangul Jamo":e=>e>=4352&&e<=4607,"Unified Canadian Aboriginal Syllabics":e=>e>=5120&&e<=5759,Khmer:e=>e>=6016&&e<=6143,"Unified Canadian Aboriginal Syllabics Extended":e=>e>=6320&&e<=6399,"General Punctuation":e=>e>=8192&&e<=8303,"Letterlike Symbols":e=>e>=8448&&e<=8527,"Number Forms":e=>e>=8528&&e<=8591,"Miscellaneous Technical":e=>e>=8960&&e<=9215,"Control Pictures":e=>e>=9216&&e<=9279,"Optical Character Recognition":e=>e>=9280&&e<=9311,"Enclosed Alphanumerics":e=>e>=9312&&e<=9471,"Geometric Shapes":e=>e>=9632&&e<=9727,"Miscellaneous Symbols":e=>e>=9728&&e<=9983,"Miscellaneous Symbols and Arrows":e=>e>=11008&&e<=11263,"CJK Radicals Supplement":e=>e>=11904&&e<=12031,"Kangxi Radicals":e=>e>=12032&&e<=12255,"Ideographic Description Characters":e=>e>=12272&&e<=12287,"CJK Symbols and Punctuation":e=>e>=12288&&e<=12351,Hiragana:e=>e>=12352&&e<=12447,Katakana:e=>e>=12448&&e<=12543,Bopomofo:e=>e>=12544&&e<=12591,"Hangul Compatibility Jamo":e=>e>=12592&&e<=12687,Kanbun:e=>e>=12688&&e<=12703,"Bopomofo Extended":e=>e>=12704&&e<=12735,"CJK Strokes":e=>e>=12736&&e<=12783,"Katakana Phonetic Extensions":e=>e>=12784&&e<=12799,"Enclosed CJK Letters and Months":e=>e>=12800&&e<=13055,"CJK Compatibility":e=>e>=13056&&e<=13311,"CJK Unified Ideographs Extension A":e=>e>=13312&&e<=19903,"Yijing Hexagram Symbols":e=>e>=19904&&e<=19967,"CJK Unified Ideographs":e=>e>=19968&&e<=40959,"Yi Syllables":e=>e>=40960&&e<=42127,"Yi Radicals":e=>e>=42128&&e<=42191,"Hangul Jamo Extended-A":e=>e>=43360&&e<=43391,"Hangul Syllables":e=>e>=44032&&e<=55215,"Hangul Jamo Extended-B":e=>e>=55216&&e<=55295,"Private Use Area":e=>e>=57344&&e<=63743,"CJK Compatibility Ideographs":e=>e>=63744&&e<=64255,"Arabic Presentation Forms-A":e=>e>=64336&&e<=65023,"Vertical Forms":e=>e>=65040&&e<=65055,"CJK Compatibility Forms":e=>e>=65072&&e<=65103,"Small Form Variants":e=>e>=65104&&e<=65135,"Arabic Presentation Forms-B":e=>e>=65136&&e<=65279,"Halfwidth and Fullwidth Forms":e=>e>=65280&&e<=65519};function to(e){for(const t of e)if(ro(t.charCodeAt(0)))return!0;return!1}function no(e){for(const t of e)if(!io(t.charCodeAt(0)))return!1;return!0}function io(e){return!(eo.Arabic(e)||eo["Arabic Supplement"](e)||eo["Arabic Extended-A"](e)||eo["Arabic Presentation Forms-A"](e)||eo["Arabic Presentation Forms-B"](e))}function ro(e){return!(746!==e&&747!==e&&(e<4352||!(eo["Bopomofo Extended"](e)||eo.Bopomofo(e)||eo["CJK Compatibility Forms"](e)&&!(e>=65097&&e<=65103)||eo["CJK Compatibility Ideographs"](e)||eo["CJK Compatibility"](e)||eo["CJK Radicals Supplement"](e)||eo["CJK Strokes"](e)||!(!eo["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||eo["CJK Unified Ideographs Extension A"](e)||eo["CJK Unified Ideographs"](e)||eo["Enclosed CJK Letters and Months"](e)||eo["Hangul Compatibility Jamo"](e)||eo["Hangul Jamo Extended-A"](e)||eo["Hangul Jamo Extended-B"](e)||eo["Hangul Jamo"](e)||eo["Hangul Syllables"](e)||eo.Hiragana(e)||eo["Ideographic Description Characters"](e)||eo.Kanbun(e)||eo["Kangxi Radicals"](e)||eo["Katakana Phonetic Extensions"](e)||eo.Katakana(e)&&12540!==e||!(!eo["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!eo["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||eo["Unified Canadian Aboriginal Syllabics"](e)||eo["Unified Canadian Aboriginal Syllabics Extended"](e)||eo["Vertical Forms"](e)||eo["Yijing Hexagram Symbols"](e)||eo["Yi Syllables"](e)||eo["Yi Radicals"](e))))}function oo(e){return!(ro(e)||function(e){return!!(eo["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||eo["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||eo["Letterlike Symbols"](e)||eo["Number Forms"](e)||eo["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||eo["Control Pictures"](e)&&9251!==e||eo["Optical Character Recognition"](e)||eo["Enclosed Alphanumerics"](e)||eo["Geometric Shapes"](e)||eo["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||eo["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||eo["CJK Symbols and Punctuation"](e)||eo.Katakana(e)||eo["Private Use Area"](e)||eo["CJK Compatibility Forms"](e)||eo["Small Form Variants"](e)||eo["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function ao(e){return e>=1424&&e<=2303||eo["Arabic Presentation Forms-A"](e)||eo["Arabic Presentation Forms-B"](e)}function so(e,t){return!(!t&&ao(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||eo.Khmer(e))}function lo(e){for(const t of e)if(ao(t.charCodeAt(0)))return!0;return!1}const co="deferred",uo="loading",ho="loaded";let po=null,fo="unavailable",mo=null;const go=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&(fo="error"),po&&po(e)};function _o(){yo.fire(new Je("pluginStateChange",{pluginStatus:fo,pluginURL:mo}))}const yo=new Qe,vo=function(){return fo},xo=function(){if(fo!==co||!mo)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");fo=uo,_o(),mo&&de({url:mo},(e=>{e?go(e):(fo=ho,_o())}))},bo={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>fo===ho||null!=bo.applyArabicShaping,isLoading:()=>fo===uo,setState(e){fo=e.pluginStatus,mo=e.pluginURL},isParsed:()=>null!=bo.applyArabicShaping&&null!=bo.processBidirectionalText&&null!=bo.processStyledBidirectionalText,getPluginURL:()=>mo};class wo{constructor(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.transition=t.transition,this.pitch=t.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(e){return function(e,t){for(const n of e)if(!so(n.charCodeAt(0),t))return!1;return!0}(e,bo.isLoaded())}}class Eo{constructor(e,t){this.property=e,this.value=t,this.expression=function(e,t){if(Ni(e))return new er(e,t);if(Ki(e)){const n=Qi(e,t);if("error"===n.result)throw new Error(n.value.map((e=>"".concat(e.key,": ").concat(e.message))).join(", "));return n.value}{let n=e;return"string"==typeof e&&"color"===t.type&&(n=Pt.parse(e)),{kind:"constant",evaluate:()=>n}}}(void 0===t?e.specification.default:t,e.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(e,t,n){return this.property.possiblyEvaluate(this,e,t,n)}}class To{constructor(e){this.property=e,this.value=new Eo(e,void 0)}transitioned(e,t){return new So(this.property,this.value,t,I({},e.transition,this.transition),e.now)}untransitioned(){return new So(this.property,this.value,null,{},0)}}class ko{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)}getValue(e){return V(this._values[e].value.value)}setValue(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new To(this._values[e].property)),this._values[e].value=new Eo(this._values[e].property,null===t?void 0:V(t))}getTransition(e){return V(this._values[e].transition)}setTransition(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new To(this._values[e].property)),this._values[e].transition=V(t)||void 0}serialize(){const e={};for(const t of Object.keys(this._values)){const n=this.getValue(t);void 0!==n&&(e[t]=n);const i=this.getTransition(t);void 0!==i&&(e["".concat(t,"-transition")]=i)}return e}transitioned(e,t){const n=new Co(this._properties);for(const i of Object.keys(this._values))n._values[i]=this._values[i].transitioned(e,t._values[i]);return n}untransitioned(){const e=new Co(this._properties);for(const t of Object.keys(this._values))e._values[t]=this._values[t].untransitioned();return e}}class So{constructor(e,t,n,i,r){const o=i.delay||0,a=i.duration||0;r=r||0,this.property=e,this.value=t,this.begin=r+o,this.end=this.begin+a,e.specification.transition&&(i.delay||i.duration)&&(this.prior=n)}possiblyEvaluate(e,t,n){const i=e.now||0,r=this.value.possiblyEvaluate(e,t,n),o=this.prior;if(o){if(i>this.end)return this.prior=null,r;if(this.value.isDataDriven())return this.prior=null,r;if(i<this.begin)return o.possiblyEvaluate(e,t,n);{const a=(i-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(e,t,n),r,T(a))}}return r}}class Co{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)}possiblyEvaluate(e,t,n){const i=new Ao(this._properties);for(const r of Object.keys(this._values))i._values[r]=this._values[r].possiblyEvaluate(e,t,n);return i}hasTransition(){for(const e of Object.keys(this._values))if(this._values[e].prior)return!0;return!1}}class Mo{constructor(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)}getValue(e){return V(this._values[e].value)}setValue(e,t){this._values[e]=new Eo(this._values[e].property,null===t?void 0:V(t))}serialize(){const e={};for(const t of Object.keys(this._values)){const n=this.getValue(t);void 0!==n&&(e[t]=n)}return e}possiblyEvaluate(e,t,n){const i=new Ao(this._properties);for(const r of Object.keys(this._values))i._values[r]=this._values[r].possiblyEvaluate(e,t,n);return i}}class zo{constructor(e,t,n){this.property=e,this.value=t,this.parameters=n}isConstant(){return"constant"===this.value.kind}constantOr(e){return"constant"===this.value.kind?this.value.value:e}evaluate(e,t,n,i){return this.property.evaluate(this.value,this.parameters,e,t,n,i)}}class Ao{constructor(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)}get(e){return this._values[e]}}class Po{constructor(e){this.specification=e}possiblyEvaluate(e,t){return e.expression.evaluate(t)}interpolate(e,t,n){const i=Ln[this.specification.type];return i?i(e,t,n):e}}class Io{constructor(e,t){this.specification=e,this.overrides=t}possiblyEvaluate(e,t,n,i){return new zo(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},n,i)}:e.expression,t)}interpolate(e,t,n){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new zo(this,{kind:"constant",value:void 0},e.parameters);const i=Ln[this.specification.type];return i?new zo(this,{kind:"constant",value:i(e.value.value,t.value.value,n)},e.parameters):e}evaluate(e,t,n,i,r,o){return"constant"===e.kind?e.value:e.evaluate(t,n,i,r,o)}}class Lo{constructor(e){this.specification=e}possiblyEvaluate(e,t,n,i){return!!e.expression.evaluate(t,null,{},n,i)}interpolate(){return!1}}class Do{constructor(e){this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const t=new wo(0,{});for(const n in e){const i=e[n];i.specification.overridable&&this.overridableProperties.push(n);const r=this.defaultPropertyValues[n]=new Eo(i,void 0),o=this.defaultTransitionablePropertyValues[n]=new To(i);this.defaultTransitioningPropertyValues[n]=o.untransitioned(),this.defaultPossiblyEvaluatedValues[n]=r.possiblyEvaluate(t)}}}function Oo(e,t){return 256*(e=C(Math.floor(e),0,255))+C(Math.floor(t),0,255)}Kr(Io,"DataDrivenProperty"),Kr(Po,"DataConstantProperty"),Kr(Lo,"ColorRampProperty");const Ro={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Bo{constructor(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Fo{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}static deserialize(e){const t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(e){this.reserve(e),this.length=e}reserve(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function jo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=0,i=0;return{members:e.map((e=>{const r=Ro[e.type].BYTES_PER_ELEMENT,o=n=No(n,Math.max(t,r)),a=e.components||1;return i=Math.max(i,r),n+=r*a,{name:e.name,type:e.type,components:a,offset:o}})),size:No(n,Math.max(i,t)),alignment:t}}function No(e,t){return Math.ceil(e/t)*t}class Uo extends Fo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const i=2*e;return this.int16[i+0]=t,this.int16[i+1]=n,e}}Uo.prototype.bytesPerElement=4,Kr(Uo,"StructArrayLayout2i4");class Vo extends Fo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n)}emplace(e,t,n,i){const r=3*e;return this.int16[r+0]=t,this.int16[r+1]=n,this.int16[r+2]=i,e}}Vo.prototype.bytesPerElement=6,Kr(Vo,"StructArrayLayout3i6");class qo extends Fo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n,i)}emplace(e,t,n,i,r){const o=4*e;return this.int16[o+0]=t,this.int16[o+1]=n,this.int16[o+2]=i,this.int16[o+3]=r,e}}qo.prototype.bytesPerElement=8,Kr(qo,"StructArrayLayout4i8");class Go extends Fo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o,a){const s=this.length;return this.resize(s+1),this.emplace(s,e,t,n,i,r,o,a)}emplace(e,t,n,i,r,o,a,s){const l=6*e,c=12*e,u=3*e;return this.int16[l+0]=t,this.int16[l+1]=n,this.uint8[c+4]=i,this.uint8[c+5]=r,this.uint8[c+6]=o,this.uint8[c+7]=a,this.float32[u+2]=s,e}}Go.prototype.bytesPerElement=12,Kr(Go,"StructArrayLayout2i4ub1f12");class Wo extends Fo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n,i)}emplace(e,t,n,i,r){const o=4*e;return this.float32[o+0]=t,this.float32[o+1]=n,this.float32[o+2]=i,this.float32[o+3]=r,e}}Wo.prototype.bytesPerElement=16,Kr(Wo,"StructArrayLayout4f16");class Zo extends Fo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,i,r)}emplace(e,t,n,i,r,o){const a=6*e,s=3*e;return this.uint16[a+0]=t,this.uint16[a+1]=n,this.uint16[a+2]=i,this.uint16[a+3]=r,this.float32[s+2]=o,e}}Zo.prototype.bytesPerElement=12,Kr(Zo,"StructArrayLayout4ui1f12");class Ho extends Fo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n,i)}emplace(e,t,n,i,r){const o=4*e;return this.uint16[o+0]=t,this.uint16[o+1]=n,this.uint16[o+2]=i,this.uint16[o+3]=r,e}}Ho.prototype.bytesPerElement=8,Kr(Ho,"StructArrayLayout4ui8");class Xo extends Fo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,i,r,o)}emplace(e,t,n,i,r,o,a){const s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=i,this.int16[s+3]=r,this.int16[s+4]=o,this.int16[s+5]=a,e}}Xo.prototype.bytesPerElement=12,Kr(Xo,"StructArrayLayout6i12");class Ko extends Fo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o,a,s,l,c,u,h){const d=this.length;return this.resize(d+1),this.emplace(d,e,t,n,i,r,o,a,s,l,c,u,h)}emplace(e,t,n,i,r,o,a,s,l,c,u,h,d){const p=12*e;return this.int16[p+0]=t,this.int16[p+1]=n,this.int16[p+2]=i,this.int16[p+3]=r,this.uint16[p+4]=o,this.uint16[p+5]=a,this.uint16[p+6]=s,this.uint16[p+7]=l,this.int16[p+8]=c,this.int16[p+9]=u,this.int16[p+10]=h,this.int16[p+11]=d,e}}Ko.prototype.bytesPerElement=24,Kr(Ko,"StructArrayLayout4i4ui4i24");class Yo extends Fo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,i,r,o)}emplace(e,t,n,i,r,o,a){const s=10*e,l=5*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=i,this.float32[l+2]=r,this.float32[l+3]=o,this.float32[l+4]=a,e}}Yo.prototype.bytesPerElement=20,Kr(Yo,"StructArrayLayout3i3f20");class Jo extends Fo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint32[1*e+0]=t,e}}Jo.prototype.bytesPerElement=4,Kr(Jo,"StructArrayLayout1ul4");class $o extends Fo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o,a,s,l,c,u,h,d){const p=this.length;return this.resize(p+1),this.emplace(p,e,t,n,i,r,o,a,s,l,c,u,h,d)}emplace(e,t,n,i,r,o,a,s,l,c,u,h,d,p){const f=20*e,m=10*e;return this.int16[f+0]=t,this.int16[f+1]=n,this.int16[f+2]=i,this.int16[f+3]=r,this.int16[f+4]=o,this.float32[m+3]=a,this.float32[m+4]=s,this.float32[m+5]=l,this.float32[m+6]=c,this.int16[f+14]=u,this.uint32[m+8]=h,this.uint16[f+18]=d,this.uint16[f+19]=p,e}}$o.prototype.bytesPerElement=40,Kr($o,"StructArrayLayout5i4f1i1ul2ui40");class Qo extends Fo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o,a){const s=this.length;return this.resize(s+1),this.emplace(s,e,t,n,i,r,o,a)}emplace(e,t,n,i,r,o,a,s){const l=8*e;return this.int16[l+0]=t,this.int16[l+1]=n,this.int16[l+2]=i,this.int16[l+4]=r,this.int16[l+5]=o,this.int16[l+6]=a,this.int16[l+7]=s,e}}Qo.prototype.bytesPerElement=16,Kr(Qo,"StructArrayLayout3i2i2i16");class ea extends Fo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,i,r)}emplace(e,t,n,i,r,o){const a=4*e,s=8*e;return this.float32[a+0]=t,this.float32[a+1]=n,this.float32[a+2]=i,this.int16[s+6]=r,this.int16[s+7]=o,e}}ea.prototype.bytesPerElement=16,Kr(ea,"StructArrayLayout2f1f2i16");class ta extends Fo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n,i)}emplace(e,t,n,i,r){const o=12*e,a=3*e;return this.uint8[o+0]=t,this.uint8[o+1]=n,this.float32[a+1]=i,this.float32[a+2]=r,e}}ta.prototype.bytesPerElement=12,Kr(ta,"StructArrayLayout2ub2f12");class na extends Fo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n)}emplace(e,t,n,i){const r=3*e;return this.float32[r+0]=t,this.float32[r+1]=n,this.float32[r+2]=i,e}}na.prototype.bytesPerElement=12,Kr(na,"StructArrayLayout3f12");class ia extends Fo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n)}emplace(e,t,n,i){const r=3*e;return this.uint16[r+0]=t,this.uint16[r+1]=n,this.uint16[r+2]=i,e}}ia.prototype.bytesPerElement=6,Kr(ia,"StructArrayLayout3ui6");class ra extends Fo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,_,y,v,x){const b=this.length;return this.resize(b+1),this.emplace(b,e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,_,y,v,x)}emplace(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,_,y,v,x,b){const w=30*e,E=15*e,T=60*e;return this.int16[w+0]=t,this.int16[w+1]=n,this.int16[w+2]=i,this.float32[E+2]=r,this.float32[E+3]=o,this.uint16[w+8]=a,this.uint16[w+9]=s,this.uint32[E+5]=l,this.uint32[E+6]=c,this.uint32[E+7]=u,this.uint16[w+16]=h,this.uint16[w+17]=d,this.uint16[w+18]=p,this.float32[E+10]=f,this.float32[E+11]=m,this.uint8[T+48]=g,this.uint8[T+49]=_,this.uint8[T+50]=y,this.uint32[E+13]=v,this.int16[w+28]=x,this.uint8[T+58]=b,e}}ra.prototype.bytesPerElement=60,Kr(ra,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class oa extends Fo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,_,y,v,x,b,w,E,T,k,S,C,M,z){const A=this.length;return this.resize(A+1),this.emplace(A,e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,_,y,v,x,b,w,E,T,k,S,C,M,z)}emplace(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,_,y,v,x,b,w,E,T,k,S,C,M,z,A){const P=38*e,I=19*e;return this.int16[P+0]=t,this.int16[P+1]=n,this.int16[P+2]=i,this.float32[I+2]=r,this.float32[I+3]=o,this.int16[P+8]=a,this.int16[P+9]=s,this.int16[P+10]=l,this.int16[P+11]=c,this.int16[P+12]=u,this.int16[P+13]=h,this.uint16[P+14]=d,this.uint16[P+15]=p,this.uint16[P+16]=f,this.uint16[P+17]=m,this.uint16[P+18]=g,this.uint16[P+19]=_,this.uint16[P+20]=y,this.uint16[P+21]=v,this.uint16[P+22]=x,this.uint16[P+23]=b,this.uint16[P+24]=w,this.uint16[P+25]=E,this.uint16[P+26]=T,this.uint16[P+27]=k,this.uint16[P+28]=S,this.uint32[I+15]=C,this.float32[I+16]=M,this.float32[I+17]=z,this.float32[I+18]=A,e}}oa.prototype.bytesPerElement=76,Kr(oa,"StructArrayLayout3i2f6i15ui1ul3f76");class aa extends Fo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.float32[1*e+0]=t,e}}aa.prototype.bytesPerElement=4,Kr(aa,"StructArrayLayout1f4");class sa extends Fo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,i,r)}emplace(e,t,n,i,r,o){const a=5*e;return this.float32[a+0]=t,this.float32[a+1]=n,this.float32[a+2]=i,this.float32[a+3]=r,this.float32[a+4]=o,e}}sa.prototype.bytesPerElement=20,Kr(sa,"StructArrayLayout5f20");class la extends Fo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n,i)}emplace(e,t,n,i,r){const o=6*e;return this.uint32[3*e+0]=t,this.uint16[o+2]=n,this.uint16[o+3]=i,this.uint16[o+4]=r,e}}la.prototype.bytesPerElement=12,Kr(la,"StructArrayLayout1ul3ui12");class ca extends Fo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const i=2*e;return this.uint16[i+0]=t,this.uint16[i+1]=n,e}}ca.prototype.bytesPerElement=4,Kr(ca,"StructArrayLayout2ui4");class ua extends Fo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint16[1*e+0]=t,e}}ua.prototype.bytesPerElement=2,Kr(ua,"StructArrayLayout1ui2");class ha extends Fo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const i=2*e;return this.float32[i+0]=t,this.float32[i+1]=n,e}}ha.prototype.bytesPerElement=8,Kr(ha,"StructArrayLayout2f8");class da extends Bo{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}da.prototype.size=40;class pa extends $o{get(e){return new da(this,e)}}Kr(pa,"CollisionBoxArray");class fa extends Bo{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(e){this._structArray.uint8[this._pos1+49]=e}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(e){this._structArray.uint8[this._pos1+50]=e}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(e){this._structArray.uint32[this._pos4+13]=e}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(e){this._structArray.uint8[this._pos1+58]=e}}fa.prototype.size=60;class ma extends ra{get(e){return new fa(this,e)}}Kr(ma,"PlacedSymbolArray");class ga extends Bo{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(e){this._structArray.uint32[this._pos4+15]=e}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}ga.prototype.size=76;class _a extends oa{get(e){return new ga(this,e)}}Kr(_a,"SymbolInstanceArray");class ya extends aa{getoffsetX(e){return this.float32[1*e+0]}}Kr(ya,"GlyphOffsetArray");class va extends Uo{getx(e){return this.int16[2*e+0]}gety(e){return this.int16[2*e+1]}}Kr(va,"SymbolLineVertexArray");class xa extends Bo{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}xa.prototype.size=12;class ba extends la{get(e){return new xa(this,e)}}Kr(ba,"FeatureIndexArray");class wa extends ca{geta_centroid_pos0(e){return this.uint16[2*e+0]}geta_centroid_pos1(e){return this.uint16[2*e+1]}}Kr(wa,"FillExtrusionCentroidArray");const Ea=jo([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),Ta=jo([{name:"a_dash",components:4,type:"Uint16"}]);var ka={exports:{}},Sa={exports:{}};Sa.exports=function(e,t){var n,i,r,o,a,s,l,c;for(i=e.length-(n=3&e.length),r=t,a=3432918353,s=461845907,c=0;c<i;)l=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,r=27492+(65535&(o=5*(65535&(r=(r^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|r>>>19))+((5*(r>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(l=0,n){case 3:l^=(255&e.charCodeAt(c+2))<<16;case 2:l^=(255&e.charCodeAt(c+1))<<8;case 1:r^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(c)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return r^=e.length,r=2246822507*(65535&(r^=r>>>16))+((2246822507*(r>>>16)&65535)<<16)&4294967295,r=3266489909*(65535&(r^=r>>>13))+((3266489909*(r>>>16)&65535)<<16)&4294967295,(r^=r>>>16)>>>0};var Ca=Sa.exports,Ma={exports:{}};Ma.exports=function(e,t){for(var n,i=e.length,r=t^i,o=0;i>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),i-=4,++o;switch(i){case 3:r^=(255&e.charCodeAt(o+2))<<16;case 2:r^=(255&e.charCodeAt(o+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(o)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),(r^=r>>>15)>>>0};var za=Ca,Aa=Ma.exports;ka.exports=za,ka.exports.murmur3=za,ka.exports.murmur2=Aa;var Pa=d(ka.exports);class Ia{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(e,t,n,i){this.ids.push(La(e)),this.positions.push(t,n,i)}getPositions(e){const t=La(e);let n=0,i=this.ids.length-1;for(;n<i;){const e=n+i>>1;this.ids[e]>=t?i=e:n=e+1}const r=[];for(;this.ids[n]===t;)r.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return r}static serialize(e,t){const n=new Float64Array(e.ids),i=new Uint32Array(e.positions);return Da(n,i,0,n.length-1),t&&t.push(n.buffer,i.buffer),{ids:n,positions:i}}static deserialize(e){const t=new Ia;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t}}function La(e){const t=+e;return!isNaN(t)&&Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:Pa(String(e))}function Da(e,t,n,i){for(;n<i;){const r=e[n+i>>1];let o=n-1,a=i+1;for(;;){do{o++}while(e[o]<r);do{a--}while(e[a]>r);if(o>=a)break;Oa(e,o,a),Oa(t,3*o,3*a),Oa(t,3*o+1,3*a+1),Oa(t,3*o+2,3*a+2)}a-n<i-a?(Da(e,t,n,a),n=a+1):(Da(e,t,a+1,i),i=a)}}function Oa(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}Kr(Ia,"FeaturePositionMap");class Ra{constructor(e){this.gl=e.gl,this.initialized=!1}fetchUniformLocation(e,t){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(e,t),this.initialized=!0),!!this.location}}class Ba extends Ra{constructor(e){super(e),this.current=0}set(e,t,n){this.fetchUniformLocation(e,t)&&this.current!==n&&(this.current=n,this.gl.uniform1f(this.location,n))}}class Fa extends Ra{constructor(e){super(e),this.current=[0,0,0,0]}set(e,t,n){this.fetchUniformLocation(e,t)&&(n[0]===this.current[0]&&n[1]===this.current[1]&&n[2]===this.current[2]&&n[3]===this.current[3]||(this.current=n,this.gl.uniform4f(this.location,n[0],n[1],n[2],n[3])))}}class ja extends Ra{constructor(e){super(e),this.current=Pt.transparent}set(e,t,n){this.fetchUniformLocation(e,t)&&(n.r===this.current.r&&n.g===this.current.g&&n.b===this.current.b&&n.a===this.current.a||(this.current=n,this.gl.uniform4f(this.location,n.r,n.g,n.b,n.a)))}}const Na=new Float32Array(16),Ua=new Float32Array(9),Va=new Float32Array(4);function qa(e){return[Oo(255*e.r,255*e.g),Oo(255*e.b,255*e.a)]}class Ga{constructor(e,t,n){this.value=e,this.uniformNames=t.map((e=>"u_".concat(e))),this.type=n}setUniform(e,t,n,i,r){t.set(e,r,i.constantOr(this.value))}getBinding(e,t){return"color"===this.type?new ja(e):new Ba(e)}}class Wa{constructor(e,t){this.uniformNames=t.map((e=>"u_".concat(e))),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(e){this.pixelRatio=e.pixelRatio||1,this.pattern=e.tl.concat(e.br)}setUniform(e,t,n,i,r){const o="u_pattern"===r||"u_dash"===r?this.pattern:"u_pixel_ratio"===r?this.pixelRatio:null;o&&t.set(e,r,o)}getBinding(e,t){return"u_pattern"===t||"u_dash"===t?new Fa(e):new Ba(e)}}class Za{constructor(e,t,n,i){this.expression=e,this.type=n,this.maxValue=0,this.paintVertexAttributes=t.map((e=>({name:"a_".concat(e),type:"Float32",components:"color"===n?2:1,offset:0}))),this.paintVertexArray=new i}populatePaintArray(e,t,n,i,r,o){const a=this.paintVertexArray.length,s=this.expression.evaluate(new wo(0),t,{},r,i,o);this.paintVertexArray.resize(e),this._setPaintValue(a,e,s)}updatePaintArray(e,t,n,i,r){const o=this.expression.evaluate({zoom:0},n,i,void 0,r);this._setPaintValue(e,t,o)}_setPaintValue(e,t,n){if("color"===this.type){const i=qa(n);for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,i[0],i[1])}else{for(let i=e;i<t;i++)this.paintVertexArray.emplace(i,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ha{constructor(e,t,n,i,r,o){this.expression=e,this.uniformNames=t.map((e=>"u_".concat(e,"_t"))),this.type=n,this.useIntegerZoom=i,this.zoom=r,this.maxValue=0,this.paintVertexAttributes=t.map((e=>({name:"a_".concat(e),type:"Float32",components:"color"===n?4:2,offset:0}))),this.paintVertexArray=new o}populatePaintArray(e,t,n,i,r,o){const a=this.expression.evaluate(new wo(this.zoom),t,{},r,i,o),s=this.expression.evaluate(new wo(this.zoom+1),t,{},r,i,o),l=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(l,e,a,s)}updatePaintArray(e,t,n,i,r){const o=this.expression.evaluate({zoom:this.zoom},n,i,void 0,r),a=this.expression.evaluate({zoom:this.zoom+1},n,i,void 0,r);this._setPaintValue(e,t,o,a)}_setPaintValue(e,t,n,i){if("color"===this.type){const r=qa(n),o=qa(i);for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,r[0],r[1],o[0],o[1])}else{for(let r=e;r<t;r++)this.paintVertexArray.emplace(r,n,i);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(i))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(e,t,n,i,r){const o=this.useIntegerZoom?Math.floor(n.zoom):n.zoom,a=C(this.expression.interpolationFactor(o,this.zoom,this.zoom+1),0,1);t.set(e,r,a)}getBinding(e,t){return new Ba(e)}}class Xa{constructor(e,t,n,i,r){this.expression=e,this.layerId=r,this.paintVertexAttributes=("array"===n?Ta:Ea).members;for(let o=0;o<t.length;++o);this.paintVertexArray=new i}populatePaintArray(e,t,n){const i=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValues(i,e,t.patterns&&t.patterns[this.layerId],n)}updatePaintArray(e,t,n,i,r,o){this._setPaintValues(e,t,n.patterns&&n.patterns[this.layerId],o)}_setPaintValues(e,t,n,i){if(!i||!n)return;const r=i[n];if(!r)return;const{tl:o,br:a,pixelRatio:s}=r;for(let l=e;l<t;l++)this.paintVertexArray.emplace(l,o[0],o[1],a[0],a[1],s)}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ka{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0;this.binders={},this._buffers=[];const i=[];for(const r in e.paint._values){if(!n(r))continue;const o=e.paint.get(r);if(!(o instanceof zo&&Ri(o.property.specification)))continue;const a=$a(r,e.type),s=o.value,l=o.property.specification.type,c=!!o.property.useIntegerZoom,u="line-dasharray"===r||r.endsWith("pattern"),h="line-dasharray"===r&&"constant"!==e.layout.get("line-cap").value.kind;if("constant"!==s.kind||h)if("source"===s.kind||h||u){const t=ts(r,l,"source");this.binders[r]=u?new Xa(s,a,l,t,e.id):new Za(s,a,l,t),i.push("/a_".concat(r))}else{const e=ts(r,l,"composite");this.binders[r]=new Ha(s,a,l,c,t,e),i.push("/z_".concat(r))}else this.binders[r]=u?new Wa(s.value,a):new Ga(s.value,a,l),i.push("/u_".concat(r))}this.cacheKey=i.sort().join("")}getMaxValue(e){const t=this.binders[e];return t instanceof Za||t instanceof Ha?t.maxValue:0}populatePaintArrays(e,t,n,i,r,o){for(const a in this.binders){const s=this.binders[a];(s instanceof Za||s instanceof Ha||s instanceof Xa)&&s.populatePaintArray(e,t,n,i,r,o)}}setConstantPatternPositions(e){for(const t in this.binders){const n=this.binders[t];n instanceof Wa&&n.setConstantPatternPositions(e)}}updatePaintArrays(e,t,n,i,r,o){let a=!1;for(const s in e){const l=t.getPositions(s);for(const t of l){const l=n.feature(t.index);for(const n in this.binders){const c=this.binders[n];if((c instanceof Za||c instanceof Ha||c instanceof Xa)&&!0===c.expression.isStateDependent){const u=i.paint.get(n);c.expression=u.value,c.updatePaintArray(t.start,t.end,l,e[s],r,o),a=!0}}}}return a}defines(){const e=[];for(const t in this.binders){const n=this.binders[t];(n instanceof Ga||n instanceof Wa)&&e.push(...n.uniformNames.map((e=>"#define HAS_UNIFORM_".concat(e))))}return e}getBinderAttributes(){const e=[];for(const t in this.binders){const n=this.binders[t];if(n instanceof Za||n instanceof Ha||n instanceof Xa)for(let t=0;t<n.paintVertexAttributes.length;t++)e.push(n.paintVertexAttributes[t].name)}return e}getBinderUniforms(){const e=[];for(const t in this.binders){const n=this.binders[t];if(n instanceof Ga||n instanceof Wa||n instanceof Ha)for(const t of n.uniformNames)e.push(t)}return e}getPaintVertexBuffers(){return this._buffers}getUniforms(e){const t=[];for(const n in this.binders){const i=this.binders[n];if(i instanceof Ga||i instanceof Wa||i instanceof Ha)for(const r of i.uniformNames)t.push({name:r,property:n,binding:i.getBinding(e,r)})}return t}setUniforms(e,t,n,i,r){for(const{name:o,property:a,binding:s}of n)this.binders[a].setUniform(e,s,r,i.get(a),o)}updatePaintBuffers(){this._buffers=[];for(const e in this.binders){const t=this.binders[e];(t instanceof Za||t instanceof Ha||t instanceof Xa)&&t.paintVertexBuffer&&this._buffers.push(t.paintVertexBuffer)}}upload(e){for(const t in this.binders){const n=this.binders[t];(n instanceof Za||n instanceof Ha||n instanceof Xa)&&n.upload(e)}this.updatePaintBuffers()}destroy(){for(const e in this.binders){const t=this.binders[e];(t instanceof Za||t instanceof Ha||t instanceof Xa)&&t.destroy()}}}class Ya{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0;this.programConfigurations={};for(const i of e)this.programConfigurations[i.id]=new Ka(i,t,n);this.needsUpload=!1,this._featureMap=new Ia,this._bufferOffset=0}populatePaintArrays(e,t,n,i,r,o,a){for(const s in this.programConfigurations)this.programConfigurations[s].populatePaintArrays(e,t,i,r,o,a);void 0!==t.id&&this._featureMap.add(t.id,n,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}updatePaintArrays(e,t,n,i,r){for(const o of n)this.needsUpload=this.programConfigurations[o.id].updatePaintArrays(e,this._featureMap,t,o,i,r)||this.needsUpload}get(e){return this.programConfigurations[e]}upload(e){if(this.needsUpload){for(const t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}}destroy(){for(const e in this.programConfigurations)this.programConfigurations[e].destroy()}}const Ja={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function $a(e,t){return Ja[e]||[e.replace("".concat(t,"-"),"").replace(/-/g,"_")]}const Qa={"line-pattern":{source:Zo,composite:Zo},"fill-pattern":{source:Zo,composite:Zo},"fill-extrusion-pattern":{source:Zo,composite:Zo},"line-dasharray":{source:Ho,composite:Ho}},es={color:{source:ha,composite:Wo},number:{source:aa,composite:ha}};function ts(e,t,n){const i=Qa[e];return i&&i[n]||es[t][n]}Kr(Ga,"ConstantBinder"),Kr(Wa,"PatternConstantBinder"),Kr(Za,"SourceExpressionBinder"),Kr(Xa,"PatternCompositeBinder"),Kr(Ha,"CompositeExpressionBinder"),Kr(Ka,"ProgramConfiguration",{omit:["_buffers"]}),Kr(Ya,"ProgramConfigurationSet");const ns="-transition";class is extends Qe{constructor(e,t){if(super(),this.id=e.id,this.type=e.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,"custom"!==e.type&&(this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&"sky"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),t.layout&&(this._unevaluatedLayout=new Mo(t.layout)),t.paint)){this._transitionablePaint=new ko(t.paint);for(const t in e.paint)this.setPaintProperty(t,e.paint[t],{validate:!1});for(const t in e.layout)this.setLayoutProperty(t,e.layout[t],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Ao(t.paint)}}getLayoutProperty(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)}setLayoutProperty(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};null!=t&&this._validate(Ur,"layers.".concat(this.id,".layout.").concat(e),e,t,n)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)}getPaintProperty(e){return j(e,ns)?this._transitionablePaint.getTransition(e.slice(0,-11)):this._transitionablePaint.getValue(e)}setPaintProperty(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=t&&this._validate(Nr,"layers.".concat(this.id,".paint.").concat(e),e,t,n))return!1;if(j(e,ns))return this._transitionablePaint.setTransition(e.slice(0,-11),t||void 0),!1;{const n=this._transitionablePaint._values[e],i=n.value.isDataDriven(),r=n.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);const o=this._transitionablePaint._values[e].value,a=o.isDataDriven(),s=j(e,"pattern")||"line-dasharray"===e;return a||i||s||this._handleOverridablePaintPropertyUpdate(e,r,o)}}_handleSpecialPaintPropertyUpdate(e){}getProgramIds(){return null}getProgramConfiguration(e){return null}_handleOverridablePaintPropertyUpdate(e,t,n){return!1}isHidden(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility}updateTransitions(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(e,t){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)}serialize(){const e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),U(e,((e,t)=>!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)))}_validate(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(!r||!1!==r.validate)&&qr(this,e.call(jr,{key:t,layerType:this.type,objectKey:n,value:i,styleSpec:et,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const e in this.paint._values){const t=this.paint.get(e);if(t instanceof zo&&Ri(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=hr(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const rs=jo([{name:"a_pos",components:2,type:"Int16"}],4),os=jo([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class as{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.segments=e}prepareSegment(e,t,n,i){let r=this.segments[this.segments.length-1];return e>as.MAX_VERTEX_ARRAY_LENGTH&&G("Max vertices per segment is ".concat(as.MAX_VERTEX_ARRAY_LENGTH,": bucket requested ").concat(e)),(!r||r.vertexLength+e>as.MAX_VERTEX_ARRAY_LENGTH||r.sortKey!==i)&&(r={vertexOffset:t.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==i&&(r.sortKey=i),this.segments.push(r)),r}get(){return this.segments}destroy(){for(const e of this.segments)for(const t in e.vaos)e.vaos[t].destroy()}static simpleSegment(e,t,n,i){return new as([{vertexOffset:e,primitiveOffset:t,vertexLength:n,primitiveLength:i,vaos:{},sortKey:0}])}}as.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Kr(as,"SegmentVector");var ss=8192;class ls{constructor(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))}setNorthEast(e){return this._ne=e instanceof Vl?new Vl(e.lng,e.lat):Vl.convert(e),this}setSouthWest(e){return this._sw=e instanceof Vl?new Vl(e.lng,e.lat):Vl.convert(e),this}extend(e){const t=this._sw,n=this._ne;let i,r;if(e instanceof Vl)i=e,r=e;else{if(!(e instanceof ls))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(ls.convert(e)):this.extend(Vl.convert(e)):"object"==typeof e&&null!==e&&e.hasOwnProperty("lat")&&(e.hasOwnProperty("lon")||e.hasOwnProperty("lng"))?this.extend(Vl.convert(e)):this;if(i=e._sw,r=e._ne,!i||!r)return this}return t||n?(t.lng=Math.min(i.lng,t.lng),t.lat=Math.min(i.lat,t.lat),n.lng=Math.max(r.lng,n.lng),n.lat=Math.max(r.lat,n.lat)):(this._sw=new Vl(i.lng,i.lat),this._ne=new Vl(r.lng,r.lat)),this}getCenter(){return new Vl((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Vl(this.getWest(),this.getNorth())}getSouthEast(){return new Vl(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return"LngLatBounds(".concat(this._sw.toString(),", ").concat(this._ne.toString(),")")}isEmpty(){return!(this._sw&&this._ne)}contains(e){const{lng:t,lat:n}=Vl.convert(e);let i=this._sw.lng<=t&&t<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=t&&t>=this._ne.lng),this._sw.lat<=n&&n<=this._ne.lat&&i}static convert(e){return!e||e instanceof ls?e:new ls(e)}}var cs=1e-6,us="undefined"!=typeof Float32Array?Float32Array:Array;function hs(){var e=new us(9);return us!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function ds(e,t,n){var i=t[0],r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=n[0],p=n[1],f=n[2],m=n[3],g=n[4],_=n[5],y=n[6],v=n[7],x=n[8];return e[0]=d*i+p*a+f*c,e[1]=d*r+p*s+f*u,e[2]=d*o+p*l+f*h,e[3]=m*i+g*a+_*c,e[4]=m*r+g*s+_*u,e[5]=m*o+g*l+_*h,e[6]=y*i+v*a+x*c,e[7]=y*r+v*s+x*u,e[8]=y*o+v*l+x*h,e}function ps(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function fs(e,t){var n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],h=t[9],d=t[10],p=t[11],f=t[12],m=t[13],g=t[14],_=t[15],y=n*s-i*a,v=n*l-r*a,x=n*c-o*a,b=i*l-r*s,w=i*c-o*s,E=r*c-o*l,T=u*m-h*f,k=u*g-d*f,S=u*_-p*f,C=h*g-d*m,M=h*_-p*m,z=d*_-p*g,A=y*z-v*M+x*C+b*S-w*k+E*T;return A?(e[0]=(s*z-l*M+c*C)*(A=1/A),e[1]=(r*M-i*z-o*C)*A,e[2]=(m*E-g*w+_*b)*A,e[3]=(d*w-h*E-p*b)*A,e[4]=(l*S-a*z-c*k)*A,e[5]=(n*z-r*S+o*k)*A,e[6]=(g*x-f*E-_*v)*A,e[7]=(u*E-d*x+p*v)*A,e[8]=(a*M-s*S+c*T)*A,e[9]=(i*S-n*M-o*T)*A,e[10]=(f*w-m*x+_*y)*A,e[11]=(h*x-u*w-p*y)*A,e[12]=(s*k-a*C-l*T)*A,e[13]=(n*C-i*k+r*T)*A,e[14]=(m*v-f*b-g*y)*A,e[15]=(u*b-h*v+d*y)*A,e):null}function ms(e,t,n){var i=t[0],r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=t[9],p=t[10],f=t[11],m=t[12],g=t[13],_=t[14],y=t[15],v=n[0],x=n[1],b=n[2],w=n[3];return e[0]=v*i+x*s+b*h+w*m,e[1]=v*r+x*l+b*d+w*g,e[2]=v*o+x*c+b*p+w*_,e[3]=v*a+x*u+b*f+w*y,e[4]=(v=n[4])*i+(x=n[5])*s+(b=n[6])*h+(w=n[7])*m,e[5]=v*r+x*l+b*d+w*g,e[6]=v*o+x*c+b*p+w*_,e[7]=v*a+x*u+b*f+w*y,e[8]=(v=n[8])*i+(x=n[9])*s+(b=n[10])*h+(w=n[11])*m,e[9]=v*r+x*l+b*d+w*g,e[10]=v*o+x*c+b*p+w*_,e[11]=v*a+x*u+b*f+w*y,e[12]=(v=n[12])*i+(x=n[13])*s+(b=n[14])*h+(w=n[15])*m,e[13]=v*r+x*l+b*d+w*g,e[14]=v*o+x*c+b*p+w*_,e[15]=v*a+x*u+b*f+w*y,e}function gs(e,t,n){var i,r,o,a,s,l,c,u,h,d,p,f,m=n[0],g=n[1],_=n[2];return t===e?(e[12]=t[0]*m+t[4]*g+t[8]*_+t[12],e[13]=t[1]*m+t[5]*g+t[9]*_+t[13],e[14]=t[2]*m+t[6]*g+t[10]*_+t[14],e[15]=t[3]*m+t[7]*g+t[11]*_+t[15]):(r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=t[9],p=t[10],f=t[11],e[0]=i=t[0],e[1]=r,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=c,e[7]=u,e[8]=h,e[9]=d,e[10]=p,e[11]=f,e[12]=i*m+s*g+h*_+t[12],e[13]=r*m+l*g+d*_+t[13],e[14]=o*m+c*g+p*_+t[14],e[15]=a*m+u*g+f*_+t[15]),e}function _s(e,t,n){var i=n[0],r=n[1],o=n[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function ys(e,t,n){var i=Math.sin(n),r=Math.cos(n),o=t[4],a=t[5],s=t[6],l=t[7],c=t[8],u=t[9],h=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*r+c*i,e[5]=a*r+u*i,e[6]=s*r+h*i,e[7]=l*r+d*i,e[8]=c*r-o*i,e[9]=u*r-a*i,e[10]=h*r-s*i,e[11]=d*r-l*i,e}function vs(e,t,n){var i=Math.sin(n),r=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],c=t[8],u=t[9],h=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*r-c*i,e[1]=a*r-u*i,e[2]=s*r-h*i,e[3]=l*r-d*i,e[8]=o*i+c*r,e[9]=a*i+u*r,e[10]=s*i+h*r,e[11]=l*i+d*r,e}function xs(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function bs(e,t,n){var i,r,o,a=n[0],s=n[1],l=n[2],c=Math.hypot(a,s,l);return c<cs?null:(a*=c=1/c,s*=c,l*=c,i=Math.sin(t),r=Math.cos(t),e[0]=a*a*(o=1-r)+r,e[1]=s*a*o+l*i,e[2]=l*a*o-s*i,e[3]=0,e[4]=a*s*o-l*i,e[5]=s*s*o+r,e[6]=l*s*o+a*i,e[7]=0,e[8]=a*l*o+s*i,e[9]=s*l*o-a*i,e[10]=l*l*o+r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var ws=ms;function Es(){var e=new us(3);return us!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Ts(e){var t=new us(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function ks(e){return Math.hypot(e[0],e[1],e[2])}function Ss(e,t,n){var i=new us(3);return i[0]=e,i[1]=t,i[2]=n,i}function Cs(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function Ms(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function zs(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function As(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function Ps(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function Is(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function Ls(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e[2]=t[2]+n[2]*i,e}function Ds(e,t){var n=t[0],i=t[1],r=t[2],o=n*n+i*i+r*r;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function Os(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Rs(e,t,n){var i=t[0],r=t[1],o=t[2],a=n[0],s=n[1],l=n[2];return e[0]=r*l-o*s,e[1]=o*a-i*l,e[2]=i*s-r*a,e}function Bs(e,t,n){var i=t[0],r=t[1],o=t[2],a=n[3]*i+n[7]*r+n[11]*o+n[15];return e[0]=(n[0]*i+n[4]*r+n[8]*o+n[12])/(a=a||1),e[1]=(n[1]*i+n[5]*r+n[9]*o+n[13])/a,e[2]=(n[2]*i+n[6]*r+n[10]*o+n[14])/a,e}function Fs(e,t,n){var i=n[0],r=n[1],o=n[2],a=t[0],s=t[1],l=t[2],c=r*l-o*s,u=o*a-i*l,h=i*s-r*a,d=r*h-o*u,p=o*c-i*h,f=i*u-r*c,m=2*n[3];return u*=m,h*=m,p*=2,f*=2,e[0]=a+(c*=m)+(d*=2),e[1]=s+u+p,e[2]=l+h+f,e}var js,Ns=Ms,Us=zs,Vs=ks;function qs(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function Gs(e,t){var n=t[0],i=t[1],r=t[2],o=t[3],a=n*n+i*i+r*r+o*o;return a>0&&(a=1/Math.sqrt(a)),e[0]=n*a,e[1]=i*a,e[2]=r*a,e[3]=o*a,e}function Ws(e,t,n){var i=t[0],r=t[1],o=t[2],a=t[3];return e[0]=n[0]*i+n[4]*r+n[8]*o+n[12]*a,e[1]=n[1]*i+n[5]*r+n[9]*o+n[13]*a,e[2]=n[2]*i+n[6]*r+n[10]*o+n[14]*a,e[3]=n[3]*i+n[7]*r+n[11]*o+n[15]*a,e}function Zs(){var e=new us(4);return us!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function Hs(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function Xs(e,t,n){n*=.5;var i=t[0],r=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=i*l+a*s,e[1]=r*l+o*s,e[2]=o*l-r*s,e[3]=a*l-i*s,e}function Ks(e,t,n){n*=.5;var i=t[0],r=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=i*l-o*s,e[1]=r*l+a*s,e[2]=o*l+i*s,e[3]=a*l-r*s,e}Es(),js=new us(4),us!=Float32Array&&(js[0]=0,js[1]=0,js[2]=0,js[3]=0);var Ys=Gs;Es(),Ss(1,0,0),Ss(0,1,0),Zs(),Zs(),hs();const Js=jo([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:$s}=Js,Qs=jo([{name:"a_pos_3",components:3,type:"Int16"}]);var el=jo([{name:"a_pos",type:"Int16",components:2}]);class tl{constructor(e,t){this.pos=e,this.dir=t}intersectsPlane(e,t,n){const i=Os(t,this.dir);if(Math.abs(i)<1e-6)return!1;const r=((e[0]-this.pos[0])*t[0]+(e[1]-this.pos[1])*t[1]+(e[2]-this.pos[2])*t[2])/i;return n[0]=this.pos[0]+this.dir[0]*r,n[1]=this.pos[1]+this.dir[1]*r,n[2]=this.pos[2]+this.dir[2]*r,!0}closestPointOnSphere(e,t,n){if(function(e,t){var n=e[0],i=e[1],r=e[2],o=t[0],a=t[1],s=t[2];return Math.abs(n-o)<=cs*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=cs*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(r-s)<=cs*Math.max(1,Math.abs(r),Math.abs(s))}(this.pos,e)||0===t)return n[0]=n[1]=n[2]=0,!1;const[i,r,o]=this.dir,a=this.pos[0]-e[0],s=this.pos[1]-e[1],l=this.pos[2]-e[2],c=i*i+r*r+o*o,u=2*(a*i+s*r+l*o),h=u*u-4*c*(a*a+s*s+l*l-t*t);if(h<0){const e=Math.max(-u/2,0),c=a+i*e,h=s+r*e,d=l+o*e,p=Math.hypot(c,h,d);return n[0]=c*t/p,n[1]=h*t/p,n[2]=d*t/p,!1}{const e=(-u-Math.sqrt(h))/(2*c);if(e<0){const e=Math.hypot(a,s,l);return n[0]=a*t/e,n[1]=s*t/e,n[2]=l*t/e,!1}return n[0]=a+i*e,n[1]=s+r*e,n[2]=l+o*e,!0}}}class nl{constructor(e,t,n,i,r){this.TL=e,this.TR=t,this.BR=n,this.BL=i,this.horizon=r}static fromInvProjectionMatrix(e,t,n){const i=[-1,1,1],r=[1,1,1],o=[1,-1,1],a=[-1,-1,1],s=Bs(i,i,e),l=Bs(r,r,e),c=Bs(o,o,e),u=Bs(a,a,e);return new nl(s,l,c,u,t/n)}}class il{constructor(e,t){this.points=e,this.planes=t}static fromInvProjectionMatrix(e,t,n,i){const r=Math.pow(2,n),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((n=>{const o=Ws([],n,e),a=1/o[3]/t*r;return function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}(o,o,[a,a,i?1/o[3]:a,a])})),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((e=>{const t=Ds([],Rs([],Ns([],o[e[0]],o[e[1]]),Ns([],o[e[2]],o[e[1]]))),n=-Os(t,o[e[1]]);return t.concat(n)}));return new il(o,a)}}class rl{static fromPoints(e){const t=[1/0,1/0,1/0],n=[-1/0,-1/0,-1/0];for(const i of e)As(t,t,i),Ps(n,n,i);return new rl(t,n)}static applyTransform(e,t){const n=e.getCorners();for(let i=0;i<n.length;++i)Bs(n[i],n[i],t);return rl.fromPoints(n)}constructor(e,t){this.min=e,this.max=t,this.center=Is([],Cs([],this.min,this.max),.5)}quadrant(e){const t=[e%2==0,e<2],n=Ts(this.min),i=Ts(this.max);for(let r=0;r<t.length;r++)n[r]=t[r]?this.min[r]:this.center[r],i[r]=t[r]?this.center[r]:this.max[r];return i[2]=this.max[2],new rl(n,i)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}distanceZ(e){return Math.max(Math.min(this.max[2],e[2]),this.min[2])-e[2]}getCorners(){const e=this.min,t=this.max;return[[e[0],e[1],e[2]],[t[0],e[1],e[2]],[t[0],t[1],e[2]],[e[0],t[1],e[2]],[e[0],e[1],t[2]],[t[0],e[1],t[2]],[t[0],t[1],t[2]],[e[0],t[1],t[2]]]}intersects(e){const t=this.getCorners();let n=!0;for(let i=0;i<e.planes.length;i++){const r=e.planes[i];let o=0;for(let e=0;e<t.length;e++)o+=Os(r,t[e])+r[3]>=0;if(0===o)return 0;o!==t.length&&(n=!1)}if(n)return 2;for(let i=0;i<3;i++){let t=Number.MAX_VALUE,n=-Number.MAX_VALUE;for(let r=0;r<e.points.length;r++){const o=e.points[r][i]-this.min[i];t=Math.min(t,o),n=Math.max(n,o)}if(n<0||t>this.max[i]-this.min[i])return 0}return 1}}const ol=5,al=6,sl=ss/Math.PI/2,ll=16383,cl=64,ul=[cl,32,16],hl=-sl,dl=sl,pl=[new rl([hl,hl,hl],[dl,dl,dl]),new rl([hl,hl,hl],[0,0,dl]),new rl([0,hl,hl],[dl,0,dl]),new rl([hl,0,hl],[0,dl,dl]),new rl([0,0,hl],[dl,dl,dl])];function fl(e){return e*sl/jl}function ml(e,t,n){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const r=Is([],e._camera.position,e.worldSize),o=[t,n,1,1];Ws(o,o,e.pixelMatrixInverse),qs(o,o,1/o[3]);const a=Ds([],Ns([],o,r)),s=e.globeMatrix,l=[s[12],s[13],s[14]],c=Ns([],l,r),u=ks(c),h=Ds([],c),d=e.worldSize/(2*Math.PI),p=Os(h,a),f=Math.asin(d/u);if(f<Math.acos(p)){if(!i)return null;const e=[],t=[];Is(e,a,u/p),Ds(t,Ns(t,e,c)),Ds(a,Cs(a,c,Is(a,t,Math.tan(f)*u)))}const m=[];new tl(r,a).closestPointOnSphere(l,d,m);const g=Ds([],$(s,0)),_=Ds([],$(s,1)),y=Ds([],$(s,2)),v=Os(g,m),x=Os(_,m),b=Os(y,m),E=w(Math.asin(-x/d));let T=w(Math.atan2(v,b));T=e.center.lng+function(e,t){const n=(t-e+180)%360-180;return n<-180?n+360:n}(e.center.lng,T);const k=Gl(T),S=C(Wl(E),0,1);return new $l(k,S)}class gl{constructor(e,t,n){this.a=Ns([],e,n),this.b=Ns([],t,n),this.center=n;const i=Ds([],this.a),r=Ds([],this.b);this.angle=Math.acos(Os(i,r))}}function _l(e,t){if(0===e.angle)return null;let n;return n=0===e.a[t]?1/e.angle*.5*Math.PI:1/e.angle*Math.atan(e.b[t]/e.a[t]/Math.sin(e.angle)-1/Math.tan(e.angle)),n<0||n>1?null:function(e,t,n,i){const r=Math.sin(n);return e*(Math.sin((1-i)*n)/r)+t*(Math.sin(i*n)/r)}(e.a[t],e.b[t],e.angle,C(n,0,1))+e.center[t]}function yl(e){if(e.z<=1)return pl[e.z+2*e.y+e.x];const t=Tl(El(e));return rl.fromPoints(t)}function vl(e,t,n){return Is(e,e,1-n),Ls(e,e,t,n)}function xl(e,t){const n=Ll(t.zoom);if(0===n)return yl(e);const i=El(e),r=Tl(i),o=Gl(i.getWest())*t.worldSize,a=Gl(i.getEast())*t.worldSize,s=Wl(i.getNorth())*t.worldSize,l=Wl(i.getSouth())*t.worldSize,c=[o,s,0],u=[a,s,0],h=[o,l,0],d=[a,l,0],p=fs([],t.globeMatrix);return Bs(c,c,p),Bs(u,u,p),Bs(h,h,p),Bs(d,d,p),r[0]=vl(r[0],h,n),r[1]=vl(r[1],d,n),r[2]=vl(r[2],u,n),r[3]=vl(r[3],c,n),rl.fromPoints(r)}function bl(e,t,n){for(const i of e)Bs(i,i,t),Is(i,i,n)}function wl(e,t,n){const i=t/e.worldSize,r=e.globeMatrix;if(n.z<=1){const e=yl(n).getCorners();return bl(e,r,i),rl.fromPoints(e)}const o=El(n),a=Tl(o);bl(a,r,i);const s=Number.MAX_VALUE,l=[-s,-s,-s],c=[s,s,s];if(o.contains(e.center)){for(const e of a)As(c,c,e),Ps(l,l,e);l[2]=0;const t=e.point,n=[t.x*i,t.y*i,0];return As(c,c,n),Ps(l,l,n),new rl(c,l)}const u=[r[12]*i,r[13]*i,r[14]*i],h=o.getCenter(),d=C(e.center.lat,-Yl,Yl),p=C(h.lat,-Yl,Yl),f=Gl(e.center.lng),m=Wl(d);let g=f-Gl(h.lng);const _=m-Wl(p);g>.5?g-=1:g<-.5&&(g+=1);let y=0;Math.abs(g)>Math.abs(_)?y=g>=0?1:3:(y=_>=0?0:2,Ls(u,u,[r[4]*i,r[5]*i,r[6]*i],-Math.sin(b(_>=0?o.getSouth():o.getNorth()))*sl));const v=a[y],x=a[(y+1)%4],w=new gl(v,x,u),E=[_l(w,0)||v[0],_l(w,1)||v[1],_l(w,2)||v[2]],T=Ll(e.zoom);if(T>0){const i=function(e,t,n,i,r){let{x:o,y:a,z:s}=e;const l=1/(1<<s);let c=o*l,u=c+l,h=a*l,d=h+l,p=0;const f=(c+u)/2-i;return f>.5?p=-1:f<-.5&&(p=1),c=((c+p)*t-(i*=t))*n+i,u=((u+p)*t-i)*n+i,h=(h*t-(r*=t))*n+r,d=(d*t-r)*n+r,[[c,d,0],[u,d,0],[u,h,0],[c,h,0]]}(n,t,e._pixelsPerMercatorPixel,f,m);for(let e=0;e<a.length;e++)vl(a[e],i[e],T);const r=Cs([],i[y],i[(y+1)%4]);Is(r,r,.5),vl(E,r,T)}for(const b of a)As(c,c,b),Ps(l,l,b);return c[2]=Math.min(v[2],x[2]),As(c,c,E),Ps(l,l,E),new rl(c,l)}function El(e){let{x:t,y:n,z:i}=e;const r=1/(1<<i),o=new Vl(Hl(t*r),Xl((n+1)*r)),a=new Vl(Hl((t+1)*r),Xl(n*r));return new ls(o,a)}function Tl(e){const t=b(e.getNorth()),n=b(e.getSouth()),i=Math.cos(t),r=Math.cos(n),o=Math.sin(t),a=Math.sin(n),s=e.getWest(),l=e.getEast();return[kl(r,a,s),kl(r,a,l),kl(i,o,l),kl(i,o,s)]}function kl(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:sl;return n=b(n),[e*Math.sin(n)*i,-t*i,e*Math.cos(n)*i]}function Sl(e,t,n){return kl(Math.cos(b(e)),Math.sin(b(e)),t,n)}function Cl(e,t,n,i){const r=1<<n.z,o=(e/ss+n.x)/r;return Sl(Xl((t/ss+n.y)/r),Hl(o),i)}function Ml(e){let{min:t,max:n}=e;return ll/Math.max(n[0]-t[0],n[1]-t[1],n[2]-t[2])}const zl=new Float64Array(16);function Al(e){const t=Ml(e),n=xs(zl,[t,t,t]);return gs(n,n,((i=[])[0]=-(r=e.min)[0],i[1]=-r[1],i[2]=-r[2],i));var i,r}function Pl(e){const t=(i=e.min,(n=zl)[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=i[0],n[13]=i[1],n[14]=i[2],n[15]=1,n);var n,i;const r=1/Ml(e);return _s(t,t,[r,r,r])}function Il(e,t,n,i,r){const o=function(e){const t=ss/(2*Math.PI);return e/(2*Math.PI)/t}(n),a=[e,t,-n/(2*Math.PI)],s=ps(new Float64Array(16));return gs(s,s,a),_s(s,s,[o,o,o]),ys(s,s,b(-r)),vs(s,s,b(-i)),s}function Ll(e){return M(ol,al,e)}function Dl(e,t){const n=Sl(t.lat,t.lng),i=function(e){const t=Sl(e._center.lat,e._center.lng);let n=Rs([],Ss(0,1,0),t);const i=bs([],-e.angle,t);n=Bs(n,n,i),bs(i,-e._pitch,n);const r=Ds([],t);return Is(r,r,fl(e.cameraToCenterDistance/e.pixelsPerMeter)),Bs(r,r,i),Cs([],t,r)}(e);return a=(r=Ms([],i,n))[0],s=r[1],l=r[2],c=(o=n)[0],u=o[1],h=o[2],p=(d=Math.sqrt(a*a+s*s+l*l)*Math.sqrt(c*c+u*u+h*h))&&Os(r,o)/d,Math.acos(Math.min(Math.max(p,-1),1));var r,o,a,s,l,c,u,h,d,p}function Ol(e,t){return Dl(e,t)>Math.PI/2*1.01}const Rl=b(85),Bl=Math.cos(Rl),Fl=Math.sin(Rl),jl=6371008.8,Nl=2*Math.PI*jl;class Ul{constructor(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LngLat object: (".concat(e,", ").concat(t,")"));if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Ul(z(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return"LngLat(".concat(this.lng,", ").concat(this.lat,")")}distanceTo(e){const t=Math.PI/180,n=this.lat*t,i=e.lat*t,r=Math.sin(n)*Math.sin(i)+Math.cos(n)*Math.cos(i)*Math.cos((e.lng-this.lng)*t);return jl*Math.acos(Math.min(r,1))}toBounds(){const e=360*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)/40075017,t=e/Math.cos(Math.PI/180*this.lat);return new ls(new Ul(this.lng-t,this.lat-e),new Ul(this.lng+t,this.lat+e))}toEcef(e){const t=fl(e);return Sl(this.lat,this.lng,sl+t)}static convert(e){if(e instanceof Ul)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new Ul(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new Ul(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}var Vl=Ul;function ql(e){return Nl*Math.cos(e*Math.PI/180)}function Gl(e){return(180+e)/360}function Wl(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function Zl(e,t){return e/ql(t)}function Hl(e){return 360*e-180}function Xl(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}function Kl(e,t){return e*ql(Xl(t))}const Yl=85.051129;function Jl(e){return 1/Math.cos(e*Math.PI/180)}class $l{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.x=+e,this.y=+t,this.z=+n}static fromLngLat(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=Vl.convert(e);return new $l(Gl(n.lng),Wl(n.lat),Zl(t,n.lat))}toLngLat(){return new Vl(Hl(this.x),Xl(this.y))}toAltitude(){return Kl(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Nl*Jl(Xl(this.y))}}function Ql(e,t,n,i,r,o,a,s,l){const c=(t+i)/2,u=(n+r)/2,h=new y(c,u);s(h),function(e,t,n,i,r,o){const a=n-r,s=i-o;return Math.abs((i-t)*a-(n-e)*s)/Math.hypot(a,s)}(h.x,h.y,o.x,o.y,a.x,a.y)>=l?(Ql(e,t,n,c,u,o,h,s,l),Ql(e,c,u,i,r,h,a,s,l)):e.push(a)}function ec(e,t,n){let i=e[0],r=i.x,o=i.y;t(i);const a=[i];for(let s=1;s<e.length;s++){const l=e[s],{x:c,y:u}=l;t(l),Ql(a,r,o,c,u,i,l,t,n),r=c,o=u,i=l}return a}function tc(e,t,n,i){if(i(t,n)){const r=t.add(n)._mult(.5);tc(e,t,r,i),tc(e,r,n,i)}else e.push(n)}function nc(e,t){let n=e[0];const i=[n];for(let r=1;r<e.length;r++){const o=e[r];tc(i,n,o,t),n=o}return i}const ic=Math.pow(2,14)-1,rc=-ic-1;function oc(e,t){const n=Math.round(e.x*t),i=Math.round(e.y*t);return e.x=C(n,rc,ic),e.y=C(i,rc,ic),(n<e.x||n>e.x+1||i<e.y||i>e.y+1)&&G("Geometry exceeds allowed extent, reduce your vector tile buffer size"),e}function ac(e,t,n){const i=e.loadGeometry(),r=e.extent,o=ss/r;if(t&&n&&n.projection.isReprojectedInTileSpace){const o=1<<t.z,{scale:a,x:s,y:l,projection:c}=n,u=e=>{const n=Hl((t.x+e.x/r)/o),i=Xl((t.y+e.y/r)/o),u=c.project(n,i);e.x=(u.x*a-s)*r,e.y=(u.y*a-l)*r};for(let t=0;t<i.length;t++)if(1!==e.type)i[t]=ec(i[t],u,1);else{const e=[];for(const n of i[t])n.x<0||n.x>=r||n.y<0||n.y>=r||(u(n),e.push(n));i[t]=e}}for(const a of i)for(const e of a)oc(e,o);return i}function sc(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?ac(e):[]}}function lc(e,t,n,i,r){e.emplaceBack(2*t+(i+1)/2,2*n+(r+1)/2)}function cc(e,t,n){const i=16384;e.emplaceBack(t.x,t.y,t.z,n[0]*i,n[1]*i,n[2]*i)}class uc{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.projection=e.projection,this.layoutVertexArray=new Uo,this.indexArray=new ia,this.segments=new as,this.programConfigurations=new Ya(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,n,i){const r=this.layers[0],o=[];let a=null;"circle"===r.type&&(a=r.layout.get("circle-sort-key"));for(const{feature:l,id:c,index:u,sourceLayerIndex:h}of e){const e=this.layers[0]._featureFilter.needGeometry,t=sc(l,e);if(!this.layers[0]._featureFilter.filter(new wo(this.zoom),t,n))continue;const r=a?a.evaluate(t,{},n):void 0,s={id:c,properties:l.properties,type:l.type,sourceLayerIndex:h,index:u,geometry:e?t.geometry:ac(l,n,i),patterns:{},sortKey:r};o.push(s)}a&&o.sort(((e,t)=>e.sortKey-t.sortKey));let s=null;"globe"===i.projection.name&&(this.globeExtVertexArray=new Xo,s=i.projection);for(const l of o){const{geometry:i,index:r,sourceLayerIndex:o}=l,a=e[r].feature;this.addFeature(l,i,r,t.availableImages,n,s),t.featureIndex.insert(a,i,r,o,this.index)}}update(e,t,n,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,rs.members),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,os.members))),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(e,t,n,i,r,o){for(const a of t)for(const t of a){const n=t.x,i=t.y;if(n<0||n>=ss||i<0||i>=ss)continue;if(o){const e=o.projectTilePoint(n,i,r),t=o.upVector(r,n,i),a=this.globeExtVertexArray;cc(a,e,t),cc(a,e,t),cc(a,e,t),cc(a,e,t)}const a=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),s=a.vertexLength;lc(this.layoutVertexArray,n,i,-1,-1),lc(this.layoutVertexArray,n,i,1,-1),lc(this.layoutVertexArray,n,i,1,1),lc(this.layoutVertexArray,n,i,-1,1),this.indexArray.emplaceBack(s,s+1,s+2),this.indexArray.emplaceBack(s,s+2,s+3),a.vertexLength+=4,a.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{},i,r)}}function hc(e,t){for(let n=0;n<e.length;n++)if(xc(t,e[n]))return!0;for(let n=0;n<t.length;n++)if(xc(e,t[n]))return!0;return!!mc(e,t)}function dc(e,t,n){return!!xc(e,t)||!!_c(t,e,n)}function pc(e,t){if(1===e.length)return vc(t,e[0]);for(let n=0;n<t.length;n++){const i=t[n];for(let t=0;t<i.length;t++)if(xc(e,i[t]))return!0}for(let n=0;n<e.length;n++)if(vc(t,e[n]))return!0;for(let n=0;n<t.length;n++)if(mc(e,t[n]))return!0;return!1}function fc(e,t,n){if(e.length>1){if(mc(e,t))return!0;for(let i=0;i<t.length;i++)if(_c(t[i],e,n))return!0}for(let i=0;i<e.length;i++)if(_c(e[i],t,n))return!0;return!1}function mc(e,t){if(0===e.length||0===t.length)return!1;for(let n=0;n<e.length-1;n++){const i=e[n],r=e[n+1];for(let e=0;e<t.length-1;e++)if(gc(i,r,t[e],t[e+1]))return!0}return!1}function gc(e,t,n,i){return W(e,n,i)!==W(t,n,i)&&W(e,t,n)!==W(e,t,i)}function _c(e,t,n){const i=n*n;if(1===t.length)return e.distSqr(t[0])<i;for(let r=1;r<t.length;r++)if(yc(e,t[r-1],t[r])<i)return!0;return!1}function yc(e,t,n){const i=t.distSqr(n);if(0===i)return e.distSqr(t);const r=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/i;return e.distSqr(r<0?t:r>1?n:n.sub(t)._mult(r)._add(t))}function vc(e,t){let n,i,r,o=!1;for(let a=0;a<e.length;a++){n=e[a];for(let e=0,a=n.length-1;e<n.length;a=e++)i=n[e],r=n[a],i.y>t.y!=r.y>t.y&&t.x<(r.x-i.x)*(t.y-i.y)/(r.y-i.y)+i.x&&(o=!o)}return o}function xc(e,t){let n=!1;for(let i=0,r=e.length-1;i<e.length;r=i++){const o=e[i],a=e[r];o.y>t.y!=a.y>t.y&&t.x<(a.x-o.x)*(t.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}function bc(e,t,n,i,r){for(const a of e)if(t<=a.x&&n<=a.y&&i>=a.x&&r>=a.y)return!0;const o=[new y(t,n),new y(t,r),new y(i,r),new y(i,n)];if(e.length>2)for(const a of o)if(xc(e,a))return!0;for(let a=0;a<e.length-1;a++)if(wc(e[a],e[a+1],o))return!0;return!1}function wc(e,t,n){const i=n[0],r=n[2];if(e.x<i.x&&t.x<i.x||e.x>r.x&&t.x>r.x||e.y<i.y&&t.y<i.y||e.y>r.y&&t.y>r.y)return!1;const o=W(e,t,n[0]);return o!==W(e,t,n[1])||o!==W(e,t,n[2])||o!==W(e,t,n[3])}function Ec(e,t,n){const i=t.paint.get(e).value;return"constant"===i.kind?i.value:n.programConfigurations.get(t.id).getMaxValue(e)}function Tc(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function kc(e,t,n,i,r){if(!t[0]&&!t[1])return e;const o=y.convert(t)._mult(r);"viewport"===n&&o._rotate(-i);const a=[];for(let s=0;s<e.length;s++)a.push(e[s].sub(o));return a}function Sc(e,t,n,i){const r=y.convert(e)._mult(i);return"viewport"===t&&r._rotate(-n),r}Kr(uc,"CircleBucket",{omit:["layers"]});const Cc=new Do({"circle-sort-key":new Io(et.layout_circle["circle-sort-key"])});var Mc={paint:new Do({"circle-radius":new Io(et.paint_circle["circle-radius"]),"circle-color":new Io(et.paint_circle["circle-color"]),"circle-blur":new Io(et.paint_circle["circle-blur"]),"circle-opacity":new Io(et.paint_circle["circle-opacity"]),"circle-translate":new Po(et.paint_circle["circle-translate"]),"circle-translate-anchor":new Po(et.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Po(et.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Po(et.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Io(et.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Io(et.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Io(et.paint_circle["circle-stroke-opacity"])}),layout:Cc};function zc(e,t,n,i,r,o,a,s,l){if(o&&e.queryGeometry.isAboveHorizon)return!1;o&&(l*=e.pixelToTileUnitsFactor);const c=e.tileID.canonical,u=n.projection.upVectorScale(c,n.center.lat,n.worldSize).metersToTile;for(const h of t)for(const t of h){const h=t.add(s),d=r&&n.elevation?n.elevation.exaggeration()*r.getElevationAt(h.x,h.y,!0):0,p=n.projection.projectTilePoint(h.x,h.y,c);if(d>0){const e=n.projection.upVector(c,h.x,h.y);p.x+=e[0]*u*d,p.y+=e[1]*u*d,p.z+=e[2]*u*d}const f=o?h:Ac(p.x,p.y,p.z,i),m=o?e.tilespaceRays.map((e=>Lc(e,d))):e.queryGeometry.screenGeometry,g=Ws([],[p.x,p.y,p.z,1],i);if(!a&&o?l*=g[3]/n.cameraToCenterDistance:a&&!o&&(l*=n.cameraToCenterDistance/g[3]),o){const e=Xl((t.y/ss+c.y)/(1<<c.z));l/=n.projection.pixelsPerMeter(e,1)/Zl(1,e)}if(dc(m,f,l))return!0}return!1}function Ac(e,t,n,i){const r=Ws([],[e,t,n,1],i);return new y(r[0]/r[3],r[1]/r[3])}const Pc=Ss(0,0,0),Ic=Ss(0,0,1);function Lc(e,t){const n=Es();return Pc[2]=t,e.intersectsPlane(Pc,Ic,n),new y(n[0],n[1])}class Dc extends uc{}function Oc(e,t,n,i){let{width:r,height:o}=t;if(i){if(i instanceof Uint8ClampedArray)i=new Uint8Array(i.buffer);else if(i.length!==r*o*n)throw new RangeError("mismatched image size")}else i=new Uint8Array(r*o*n);return e.width=r,e.height=o,e.data=i,e}function Rc(e,t,n){const{width:i,height:r}=t;i===e.width&&r===e.height||(Bc(e,t,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,i),height:Math.min(e.height,r)},n),e.width=i,e.height=r,e.data=t.data)}function Bc(e,t,n,i,r,o){if(0===r.width||0===r.height)return t;if(r.width>e.width||r.height>e.height||n.x>e.width-r.width||n.y>e.height-r.height)throw new RangeError("out of range source coordinates for image copy");if(r.width>t.width||r.height>t.height||i.x>t.width-r.width||i.y>t.height-r.height)throw new RangeError("out of range destination coordinates for image copy");const a=e.data,s=t.data;for(let l=0;l<r.height;l++){const c=((n.y+l)*e.width+n.x)*o,u=((i.y+l)*t.width+i.x)*o;for(let e=0;e<r.width*o;e++)s[u+e]=a[c+e]}return t}Kr(Dc,"HeatmapBucket",{omit:["layers"]});class Fc{constructor(e,t){Oc(this,e,1,t)}resize(e){Rc(this,new Fc(e),1)}clone(){return new Fc({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,n,i,r){Bc(e,t,n,i,r,1)}}class jc{constructor(e,t){Oc(this,e,4,t)}resize(e){Rc(this,new jc(e),4)}replace(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}clone(){return new jc({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,n,i,r){Bc(e,t,n,i,r,4)}}Kr(Fc,"AlphaImage"),Kr(jc,"RGBAImage");var Nc={paint:new Do({"heatmap-radius":new Io(et.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Io(et.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Po(et.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Lo(et.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Po(et.paint_heatmap["heatmap-opacity"])})};function Uc(e){const t={},n=e.resolution||256,i=e.clips?e.clips.length:1,r=e.image||new jc({width:n,height:i}),o=(n,i,o)=>{t[e.evaluationKey]=o;const a=e.expression.evaluate(t);r.data[n+i+0]=Math.floor(255*a.r/a.a),r.data[n+i+1]=Math.floor(255*a.g/a.a),r.data[n+i+2]=Math.floor(255*a.b/a.a),r.data[n+i+3]=Math.floor(255*a.a)};if(e.clips)for(let a=0,s=0;a<i;++a,s+=4*n)for(let t=0,i=0;t<n;t++,i+=4){const r=t/(n-1),{start:l,end:c}=e.clips[a];o(s,i,l*(1-r)+c*r)}else for(let a=0,s=0;a<n;a++,s+=4)o(0,s,a/(n-1));return r}var Vc={paint:new Do({"hillshade-illumination-direction":new Po(et.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Po(et.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Po(et.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Po(et.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Po(et.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Po(et.paint_hillshade["hillshade-accent-color"])})};const qc=jo([{name:"a_pos",components:2,type:"Int16"}],4),{members:Gc}=qc;var Wc={exports:{}};function Zc(e,t,n){n=n||2;var i,r,o,a,s,l,c,u=t&&t.length,h=u?t[0]*n:e.length,d=Hc(e,0,h,n,!0),p=[];if(!d||d.next===d.prev)return p;if(u&&(d=function(e,t,n,i){var r,o,a,s=[];for(r=0,o=t.length;r<o;r++)(a=Hc(e,t[r]*i,r<o-1?t[r+1]*i:e.length,i,!1))===a.next&&(a.steiner=!0),s.push(ru(a));for(s.sort(eu),r=0;r<s.length;r++)n=tu(s[r],n);return n}(e,t,d,n)),e.length>80*n){i=o=e[0],r=a=e[1];for(var f=n;f<h;f+=n)(s=e[f])<i&&(i=s),(l=e[f+1])<r&&(r=l),s>o&&(o=s),l>a&&(a=l);c=0!==(c=Math.max(o-i,a-r))?32767/c:0}return Kc(d,p,n,i,r,c,0),p}function Hc(e,t,n,i,r){var o,a;if(r===_u(e,t,n,i)>0)for(o=t;o<n;o+=i)a=fu(o,e[o],e[o+1],a);else for(o=n-i;o>=t;o-=i)a=fu(o,e[o],e[o+1],a);return a&&lu(a,a.next)&&(mu(a),a=a.next),a}function Xc(e,t){if(!e)return e;t||(t=e);var n,i=e;do{if(n=!1,i.steiner||!lu(i,i.next)&&0!==su(i.prev,i,i.next))i=i.next;else{if(mu(i),(i=t=i.prev)===i.next)break;n=!0}}while(n||i!==t);return t}function Kc(e,t,n,i,r,o,a){if(e){!a&&o&&function(e,t,n,i){var r=e;do{0===r.z&&(r.z=iu(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){var t,n,i,r,o,a,s,l,c=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,i=n,s=0,t=0;t<c&&(s++,i=i.nextZ);t++);for(l=c;s>0||l>0&&i;)0!==s&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:e=r,r.prevZ=o,o=r;n=i}o.nextZ=null,c*=2}while(a>1)}(r)}(e,i,r,o);for(var s,l,c=e;e.prev!==e.next;)if(s=e.prev,l=e.next,o?Jc(e,i,r,o):Yc(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),mu(e),e=l.next,c=l.next;else if((e=l)===c){a?1===a?Kc(e=$c(Xc(e),t,n),t,n,i,r,o,2):2===a&&Qc(e,t,n,i,r,o):Kc(Xc(e),t,n,i,r,o,1);break}}}function Yc(e){var t=e.prev,n=e,i=e.next;if(su(t,n,i)>=0)return!1;for(var r=t.x,o=n.x,a=i.x,s=t.y,l=n.y,c=i.y,u=r<o?r<a?r:a:o<a?o:a,h=s<l?s<c?s:c:l<c?l:c,d=r>o?r>a?r:a:o>a?o:a,p=s>l?s>c?s:c:l>c?l:c,f=i.next;f!==t;){if(f.x>=u&&f.x<=d&&f.y>=h&&f.y<=p&&ou(r,s,o,l,a,c,f.x,f.y)&&su(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function Jc(e,t,n,i){var r=e.prev,o=e,a=e.next;if(su(r,o,a)>=0)return!1;for(var s=r.x,l=o.x,c=a.x,u=r.y,h=o.y,d=a.y,p=s<l?s<c?s:c:l<c?l:c,f=u<h?u<d?u:d:h<d?h:d,m=s>l?s>c?s:c:l>c?l:c,g=u>h?u>d?u:d:h>d?h:d,_=iu(p,f,t,n,i),y=iu(m,g,t,n,i),v=e.prevZ,x=e.nextZ;v&&v.z>=_&&x&&x.z<=y;){if(v.x>=p&&v.x<=m&&v.y>=f&&v.y<=g&&v!==r&&v!==a&&ou(s,u,l,h,c,d,v.x,v.y)&&su(v.prev,v,v.next)>=0)return!1;if(v=v.prevZ,x.x>=p&&x.x<=m&&x.y>=f&&x.y<=g&&x!==r&&x!==a&&ou(s,u,l,h,c,d,x.x,x.y)&&su(x.prev,x,x.next)>=0)return!1;x=x.nextZ}for(;v&&v.z>=_;){if(v.x>=p&&v.x<=m&&v.y>=f&&v.y<=g&&v!==r&&v!==a&&ou(s,u,l,h,c,d,v.x,v.y)&&su(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;x&&x.z<=y;){if(x.x>=p&&x.x<=m&&x.y>=f&&x.y<=g&&x!==r&&x!==a&&ou(s,u,l,h,c,d,x.x,x.y)&&su(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function $c(e,t,n){var i=e;do{var r=i.prev,o=i.next.next;!lu(r,o)&&cu(r,i,i.next,o)&&du(r,o)&&du(o,r)&&(t.push(r.i/n|0),t.push(i.i/n|0),t.push(o.i/n|0),mu(i),mu(i.next),i=e=o),i=i.next}while(i!==e);return Xc(i)}function Qc(e,t,n,i,r,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&au(a,s)){var l=pu(a,s);return a=Xc(a,a.next),l=Xc(l,l.next),Kc(a,t,n,i,r,o,0),void Kc(l,t,n,i,r,o,0)}s=s.next}a=a.next}while(a!==e)}function eu(e,t){return e.x-t.x}function tu(e,t){var n=function(e,t){var n,i=t,r=e.x,o=e.y,a=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var s=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&s>a&&(a=s,n=i.x<i.next.x?i:i.next,s===r))return n}i=i.next}while(i!==t);if(!n)return null;var l,c=n,u=n.x,h=n.y,d=1/0;i=n;do{r>=i.x&&i.x>=u&&r!==i.x&&ou(o<h?r:a,o,u,h,o<h?a:r,o,i.x,i.y)&&(l=Math.abs(o-i.y)/(r-i.x),du(i,e)&&(l<d||l===d&&(i.x>n.x||i.x===n.x&&nu(n,i)))&&(n=i,d=l)),i=i.next}while(i!==c);return n}(e,t);if(!n)return t;var i=pu(n,e);return Xc(i,i.next),Xc(n,n.next)}function nu(e,t){return su(e.prev,e,t.prev)<0&&su(t.next,e,e.next)<0}function iu(e,t,n,i,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*r|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*r|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function ru(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function ou(e,t,n,i,r,o,a,s){return(r-a)*(t-s)>=(e-a)*(o-s)&&(e-a)*(i-s)>=(n-a)*(t-s)&&(n-a)*(o-s)>=(r-a)*(i-s)}function au(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&cu(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(du(e,t)&&du(t,e)&&function(e,t){var n=e,i=!1,r=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}(e,t)&&(su(e.prev,e,t.prev)||su(e,t.prev,t))||lu(e,t)&&su(e.prev,e,e.next)>0&&su(t.prev,t,t.next)>0)}function su(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function lu(e,t){return e.x===t.x&&e.y===t.y}function cu(e,t,n,i){var r=hu(su(e,t,n)),o=hu(su(e,t,i)),a=hu(su(n,i,e)),s=hu(su(n,i,t));return r!==o&&a!==s||!(0!==r||!uu(e,n,t))||!(0!==o||!uu(e,i,t))||!(0!==a||!uu(n,e,i))||!(0!==s||!uu(n,t,i))}function uu(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function hu(e){return e>0?1:e<0?-1:0}function du(e,t){return su(e.prev,e,e.next)<0?su(e,t,e.next)>=0&&su(e,e.prev,t)>=0:su(e,t,e.prev)<0||su(e,e.next,t)<0}function pu(e,t){var n=new gu(e.i,e.x,e.y),i=new gu(t.i,t.x,t.y),r=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function fu(e,t,n,i){var r=new gu(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function mu(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function gu(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function _u(e,t,n,i){for(var r=0,o=t,a=n-i;o<n;o+=i)r+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return r}Wc.exports=Zc,Wc.exports.default=Zc,Zc.deviation=function(e,t,n,i){var r=t&&t.length,o=Math.abs(_u(e,0,r?t[0]*n:e.length,n));if(r)for(var a=0,s=t.length;a<s;a++)o-=Math.abs(_u(e,t[a]*n,a<s-1?t[a+1]*n:e.length,n));var l=0;for(a=0;a<i.length;a+=3){var c=i[a]*n,u=i[a+1]*n,h=i[a+2]*n;l+=Math.abs((e[c]-e[h])*(e[u+1]-e[c+1])-(e[c]-e[u])*(e[h+1]-e[c+1]))}return 0===o&&0===l?0:Math.abs((l-o)/o)},Zc.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},i=0,r=0;r<e.length;r++){for(var o=0;o<e[r].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[r][o][a]);r>0&&n.holes.push(i+=e[r-1].length)}return n};var yu=d(Wc.exports);function vu(e,t,n,i,r){xu(e,t,n||0,i||e.length-1,r||wu)}function xu(e,t,n,i,r){for(;i>n;){if(i-n>600){var o=i-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);xu(e,t,Math.max(n,Math.floor(t-a*l/o+c)),Math.min(i,Math.floor(t+(o-a)*l/o+c)),r)}var u=e[t],h=n,d=i;for(bu(e,n,t),r(e[i],u)>0&&bu(e,n,i);h<d;){for(bu(e,h,d),h++,d--;r(e[h],u)<0;)h++;for(;r(e[d],u)>0;)d--}0===r(e[n],u)?bu(e,n,d):bu(e,++d,i),d<=t&&(n=d+1),t<=d&&(i=d-1)}}function bu(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function wu(e,t){return e<t?-1:e>t?1:0}function Eu(e,t){const n=e.length;if(n<=1)return[e];const i=[];let r,o;for(let a=0;a<n;a++){const t=Z(e[a]);0!==t&&(e[a].area=Math.abs(t),void 0===o&&(o=t<0),o===t<0?(r&&i.push(r),r=[e[a]]):r.push(e[a]))}if(r&&i.push(r),t>1)for(let a=0;a<i.length;a++)i[a].length<=t||(vu(i[a],t,1,i[a].length-1,Tu),i[a]=i[a].slice(0,t));return i}function Tu(e,t){return t.area-e.area}function ku(e,t,n){const i=n.patternDependencies;let r=!1;for(const o of t){const t=o.paint.get("".concat(e,"-pattern"));t.isConstant()||(r=!0);const n=t.constantOr(null);n&&(r=!0,i[n]=!0)}return r}function Su(e,t,n,i,r){const o=r.patternDependencies;for(const a of t){const t=a.paint.get("".concat(e,"-pattern")).value;if("constant"!==t.kind){let e=t.evaluate({zoom:i},n,{},r.availableImages);e=e&&e.name?e.name:e,o[e]=!0,n.patterns[a.id]=e}}return n}class Cu{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Uo,this.indexArray=new ia,this.indexArray2=new ca,this.programConfigurations=new Ya(e.layers,e.zoom),this.segments=new as,this.segments2=new as,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id)),this.projection=e.projection}populate(e,t,n,i){this.hasPattern=ku("fill",this.layers,t);const r=this.layers[0].layout.get("fill-sort-key"),o=[];for(const{feature:a,id:s,index:l,sourceLayerIndex:c}of e){const e=this.layers[0]._featureFilter.needGeometry,u=sc(a,e);if(!this.layers[0]._featureFilter.filter(new wo(this.zoom),u,n))continue;const h=r?r.evaluate(u,{},n,t.availableImages):void 0,d={id:s,properties:a.properties,type:a.type,sourceLayerIndex:c,index:l,geometry:e?u.geometry:ac(a,n,i),patterns:{},sortKey:h};o.push(d)}r&&o.sort(((e,t)=>e.sortKey-t.sortKey));for(const a of o){const{geometry:i,index:r,sourceLayerIndex:o}=a;if(this.hasPattern){const e=Su("fill",this.layers,a,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(a,i,r,n,{},t.availableImages);t.featureIndex.insert(e[r].feature,i,r,o,this.index)}}update(e,t,n,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n,i)}addFeatures(e,t,n,i,r){for(const o of this.patternFeatures)this.addFeature(o,o.geometry,o.index,t,n,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Gc),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];for(const a of Eu(t,500)){let e=0;for(const s of a)e+=s.length;const t=this.segments.prepareSegment(e,this.layoutVertexArray,this.indexArray),n=t.vertexLength,i=[],r=[];for(const s of a){if(0===s.length)continue;s!==a[0]&&r.push(i.length/2);const e=this.segments2.prepareSegment(s.length,this.layoutVertexArray,this.indexArray2),t=e.vertexLength;this.layoutVertexArray.emplaceBack(s[0].x,s[0].y),this.indexArray2.emplaceBack(t+s.length-1,t),i.push(s[0].x),i.push(s[0].y);for(let n=1;n<s.length;n++)this.layoutVertexArray.emplaceBack(s[n].x,s[n].y),this.indexArray2.emplaceBack(t+n-1,t+n),i.push(s[n].x),i.push(s[n].y);e.vertexLength+=s.length,e.primitiveLength+=s.length}const o=yu(i,r);for(let a=0;a<o.length;a+=3)this.indexArray.emplaceBack(n+o[a],n+o[a+1],n+o[a+2]);t.vertexLength+=e,t.primitiveLength+=o.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,r,o,i)}}Kr(Cu,"FillBucket",{omit:["layers","patternFeatures"]});const Mu=new Do({"fill-sort-key":new Io(et.layout_fill["fill-sort-key"])});var zu={paint:new Do({"fill-antialias":new Po(et.paint_fill["fill-antialias"]),"fill-opacity":new Io(et.paint_fill["fill-opacity"]),"fill-color":new Io(et.paint_fill["fill-color"]),"fill-outline-color":new Io(et.paint_fill["fill-outline-color"]),"fill-translate":new Po(et.paint_fill["fill-translate"]),"fill-translate-anchor":new Po(et.paint_fill["fill-translate-anchor"]),"fill-pattern":new Io(et.paint_fill["fill-pattern"])}),layout:Mu};const Au=jo([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),Pu=jo([{name:"a_centroid_pos",components:2,type:"Uint16"}]),Iu=jo([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:Lu}=Au;var Du={},Ou=g,Ru=Bu;function Bu(e,t,n,i,r){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=i,this._values=r,e.readFields(Fu,this,t)}function Fu(e,t,n){1==e?t.id=n.readVarint():2==e?function(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var i=t._keys[e.readVarint()],r=t._values[e.readVarint()];t.properties[i]=r}}(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function ju(e){for(var t,n,i=0,r=0,o=e.length,a=o-1;r<o;a=r++)i+=((n=e[a]).x-(t=e[r]).x)*(t.y+n.y);return i}Bu.types=["Unknown","Point","LineString","Polygon"],Bu.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,i=1,r=0,o=0,a=0,s=[];e.pos<n;){if(r<=0){var l=e.readVarint();i=7&l,r=l>>3}if(r--,1===i||2===i)o+=e.readSVarint(),a+=e.readSVarint(),1===i&&(t&&s.push(t),t=[]),t.push(new Ou(o,a));else{if(7!==i)throw new Error("unknown command "+i);t&&t.push(t[0].clone())}}return t&&s.push(t),s},Bu.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,i=0,r=0,o=0,a=1/0,s=-1/0,l=1/0,c=-1/0;e.pos<t;){if(i<=0){var u=e.readVarint();n=7&u,i=u>>3}if(i--,1===n||2===n)(r+=e.readSVarint())<a&&(a=r),r>s&&(s=r),(o+=e.readSVarint())<l&&(l=o),o>c&&(c=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,l,s,c]},Bu.prototype.toGeoJSON=function(e,t,n){var i,r,o=this.extent*Math.pow(2,n),a=this.extent*e,s=this.extent*t,l=this.loadGeometry(),c=Bu.types[this.type];function u(e){for(var t=0;t<e.length;t++){var n=e[t];e[t]=[360*(n.x+a)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/o)*Math.PI/180))-90]}}switch(this.type){case 1:var h=[];for(i=0;i<l.length;i++)h[i]=l[i][0];u(l=h);break;case 2:for(i=0;i<l.length;i++)u(l[i]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var n,i,r=[],o=0;o<t;o++){var a=ju(e[o]);0!==a&&(void 0===i&&(i=a<0),i===a<0?(n&&r.push(n),n=[e[o]]):n.push(e[o]))}return n&&r.push(n),r}(l),i=0;i<l.length;i++)for(r=0;r<l[i].length;r++)u(l[i][r])}1===l.length?l=l[0]:c="Multi"+c;var d={type:"Feature",geometry:{type:c,coordinates:l},properties:this.properties};return"id"in this&&(d.id=this.id),d};var Nu=Ru,Uu=Vu;function Vu(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(qu,this,t),this.length=this._features.length}function qu(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var i=e.readVarint()>>3;t=1===i?e.readString():2===i?e.readFloat():3===i?e.readDouble():4===i?e.readVarint64():5===i?e.readVarint():6===i?e.readSVarint():7===i?e.readBoolean():null}return t}(n))}Vu.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new Nu(this._pbf,t,this.extent,this._keys,this._values)};var Gu=Uu;function Wu(e,t,n){if(3===e){var i=new Gu(n,n.readVarint()+n.pos);i.length&&(t[i.name]=i)}}var Zu=Du.VectorTile=function(e,t){this.layers=e.readFields(Wu,{},t)},Hu=Du.VectorTileFeature=Ru;function Xu(e,t,n,i){const r=[],o=0===i?(e,t,n,i,r,o)=>{e.push(new y(o,n+(o-t)/(i-t)*(r-n)))}:(e,t,n,i,r,o)=>{e.push(new y(t+(o-n)/(r-n)*(i-t),o))};for(const a of e){const e=[];for(const r of a){if(r.length<=2)continue;const a=[];for(let e=0;e<r.length-1;e++){const s=r[e].x,l=r[e].y,c=r[e+1].x,u=r[e+1].y,h=0===i?s:l,d=0===i?c:u;h<t?d>t&&o(a,s,l,c,u,t):h>n?d<n&&o(a,s,l,c,u,n):a.push(r[e]),d<t&&h>=t&&o(a,s,l,c,u,t),d>n&&h<=n&&o(a,s,l,c,u,n)}let s=r[r.length-1];const l=0===i?s.x:s.y;l>=t&&l<=n&&a.push(s),a.length&&(s=a[a.length-1],a[0].x===s.x&&a[0].y===s.y||a.push(a[0]),e.push(a))}e.length&&r.push(e)}return r}Du.VectorTileLayer=Uu;const Ku=Hu.types,Yu=Math.pow(2,13);function Ju(e,t,n,i,r,o,a,s){e.emplaceBack((t<<1)+a,(n<<1)+o,(Math.floor(i*Yu)<<1)+r,Math.round(s))}function $u(e,t,n){const i=16384;e.emplaceBack(t.x,t.y,t.z,n[0]*i,n[1]*i,n[2]*i)}class Qu{constructor(){this.acc=new y(0,0),this.polyCount=[]}startRing(e){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new y(e.x,e.y),this.max=new y(e.x,e.y))}append(e,t){this.currentPolyCount.edges++,this.acc._add(e);const n=this.min,i=this.max;e.x<n.x?n.x=e.x:e.x>i.x&&(i.x=e.x),e.y<n.y?n.y=e.y:e.y>i.y&&(i.y=e.y),((0===e.x||e.x===ss)&&e.x===t.x)!=((0===e.y||e.y===ss)&&e.y===t.y)&&this.processBorderOverlap(e,t),t.x<0!=e.x<0&&this.addBorderIntersection(0,In(t.y,e.y,(0-t.x)/(e.x-t.x))),t.x>ss!=e.x>ss&&this.addBorderIntersection(1,In(t.y,e.y,(ss-t.x)/(e.x-t.x))),t.y<0!=e.y<0&&this.addBorderIntersection(2,In(t.x,e.x,(0-t.y)/(e.y-t.y))),t.y>ss!=e.y>ss&&this.addBorderIntersection(3,In(t.x,e.x,(ss-t.y)/(e.y-t.y)))}addBorderIntersection(e,t){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const n=this.borders[e];t<n[0]&&(n[0]=t),t>n[1]&&(n[1]=t)}processBorderOverlap(e,t){if(e.x===t.x){if(e.y===t.y)return;const n=0===e.x?0:1;this.addBorderIntersection(n,t.y),this.addBorderIntersection(n,e.y)}else{const n=0===e.y?2:3;this.addBorderIntersection(n,t.x),this.addBorderIntersection(n,e.x)}}centroid(){const e=this.polyCount.reduce(((e,t)=>e+t.edges),0);return 0!==e?this.acc.div(e)._round():new y(0,0)}span(){return new y(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce(((e,t)=>e+ +(t[0]!==Number.MAX_VALUE)),0)}}class eh{constructor(e){this.zoom=e.zoom,this.canonical=e.canonical,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=e.projection,this.layoutVertexArray=new qo,this.centroidVertexArray=new wa,this.indexArray=new ia,this.programConfigurations=new Ya(e.layers,e.zoom),this.segments=new as,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id)),this.enableTerrain=e.enableTerrain}populate(e,t,n,i){this.features=[],this.hasPattern=ku("fill-extrusion",this.layers,t),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(e){const t=Math.exp(Math.PI*(1-e.y/(1<<e.z)*2));return 80150034*t/(t*t+1)/ss/(1<<e.z)}(n),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:r,id:o,index:a,sourceLayerIndex:s}of e){const e=this.layers[0]._featureFilter.needGeometry,l=sc(r,e);if(!this.layers[0]._featureFilter.filter(new wo(this.zoom),l,n))continue;const c={id:o,sourceLayerIndex:s,index:a,geometry:e?l.geometry:ac(r,n,i),properties:r.properties,type:r.type,patterns:{}},u=this.layoutVertexArray.length;this.hasPattern?this.features.push(Su("fill-extrusion",this.layers,c,this.zoom,t)):this.addFeature(c,c.geometry,a,n,{},t.availableImages,i),t.featureIndex.insert(r,c.geometry,a,s,this.index,u)}this.sortBorders()}addFeatures(e,t,n,i,r){for(const o of this.features){const{geometry:e}=o;this.addFeature(o,e,o.index,t,n,i,r)}this.sortBorders()}update(e,t,n,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Lu),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=e.createVertexBuffer(this.layoutVertexExtArray,Iu.members,!0))),this.programConfigurations.upload(e),this.uploaded=!0}uploadCentroid(e){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,Pu.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,t,n,i,r,o,a){const s=[new y(0,0),new y(ss,ss)],l=a.projection,c="globe"===l.name,u=this.enableTerrain&&!c?new Qu:null,h="Polygon"===Ku[e.type];c&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new Xo);const d=Eu(t,500);for(let g=d.length-1;g>=0;g--){const e=d[g];(0===e.length||(p=e[0]).every((e=>e.x<=0))||p.every((e=>e.x>=ss))||p.every((e=>e.y<=0))||p.every((e=>e.y>=ss)))&&d.splice(g,1)}var p;let f;if(c)f=lh(d,s,i);else{f=[];for(const e of d)f.push({polygon:e,bounds:s})}const m=h?this.edgeRadius:0;for(const{polygon:g,bounds:_}of f){let e=0,t=0;for(const i of g)h&&!i[0].equals(i[i.length-1])&&i.push(i[0]),t+=h?i.length-1:i.length;const n=this.segments.prepareSegment((h?5:4)*t,this.layoutVertexArray,this.indexArray);if(h){const t=[],r=[];e=n.vertexLength;for(const e of g){let o,a;e.length&&e!==g[0]&&r.push(t.length/2),o=e[1].sub(e[0])._perp()._unit();for(let r=1;r<e.length;r++){const s=e[r],u=e[r===e.length-1?1:r+1];let{x:h,y:d}=s;if(m){a=u.sub(s)._perp()._unit();const e=o.add(a)._unit(),t=m*Math.min(4,1/(o.x*e.x+o.y*e.y));h+=t*e.x,d+=t*e.y,o=a}Ju(this.layoutVertexArray,h,d,0,0,1,1,0),n.vertexLength++,t.push(s.x,s.y),c&&$u(this.layoutVertexExtArray,l.projectTilePoint(h,d,i),l.upVector(i,h,d))}}const o=yu(t,r);for(let i=0;i<o.length;i+=3)this.indexArray.emplaceBack(e+o[i],e+o[i+2],e+o[i+1]),n.primitiveLength++}for(const r of g){u&&r.length&&u.startRing(r[0]);let t,o,a,s=r.length>4&&oh(r[r.length-2],r[0],r[1]),d=m?nh(r[r.length-2],r[0],r[1],m):0;o=r[1].sub(r[0])._perp()._unit();let p=!0;for(let f=1,g=0;f<r.length;f++){let y=r[f-1],v=r[f];const x=r[f===r.length-1?1:f+1];if(u&&h&&u.currentPolyCount.top++,rh(v,y,_)){m&&(o=x.sub(v)._perp()._unit(),p=!p);continue}u&&u.append(v,y);const b=v.sub(y)._perp(),w=b.x/(Math.abs(b.x)+Math.abs(b.y)),E=b.y>0?1:0,T=y.dist(v);if(g+T>32768&&(g=0),m){a=x.sub(v)._perp()._unit();let e=ih(y,v,x,th(o,a),m);isNaN(e)&&(e=0);const t=v.sub(y)._unit();y=y.add(t.mult(d))._round(),v=v.add(t.mult(-e))._round(),d=e,o=a}const k=n.vertexLength,S=r.length>4&&oh(y,v,x);let C=ah(g,s,p);if(Ju(this.layoutVertexArray,y.x,y.y,w,E,0,0,C),Ju(this.layoutVertexArray,y.x,y.y,w,E,0,1,C),g+=T,C=ah(g,S,!p),s=S,Ju(this.layoutVertexArray,v.x,v.y,w,E,0,0,C),Ju(this.layoutVertexArray,v.x,v.y,w,E,0,1,C),n.vertexLength+=4,this.indexArray.emplaceBack(k+0,k+1,k+2),this.indexArray.emplaceBack(k+1,k+3,k+2),n.primitiveLength+=2,m){const i=e+(1===f?r.length-2:f-2),o=1===f?e:i+1;if(this.indexArray.emplaceBack(k+1,i,k+3),this.indexArray.emplaceBack(i,o,k+3),n.primitiveLength+=2,void 0===t&&(t=k),!rh(x,r[f],_)){const e=f===r.length-1?t:n.vertexLength;this.indexArray.emplaceBack(k+2,k+3,e),this.indexArray.emplaceBack(k+3,e+1,e),this.indexArray.emplaceBack(k+3,o,e+1),n.primitiveLength+=3}p=!p}if(c){const e=this.layoutVertexExtArray,t=l.projectTilePoint(y.x,y.y,i),n=l.projectTilePoint(v.x,v.y,i),r=l.upVector(i,y.x,y.y),o=l.upVector(i,v.x,v.y);$u(e,t,r),$u(e,t,r),$u(e,n,o),$u(e,n,o)}}h&&(e+=r.length-1)}}if(u&&u.polyCount.length>0){if(u.borders){u.vertexArrayOffset=this.centroidVertexArray.length;const e=u.borders,t=this.featuresOnBorder.push(u)-1;for(let n=0;n<4;n++)e[n][0]!==Number.MAX_VALUE&&this.borders[n].push(t)}this.encodeCentroid(u.borders?void 0:u.centroid(),u)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,r,o,i)}sortBorders(){for(let e=0;e<4;e++)this.borders[e].sort(((t,n)=>this.featuresOnBorder[t].borders[e][0]-this.featuresOnBorder[n].borders[e][0]))}encodeCentroid(e,t){let n,i,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e)if(0!==e.y){const r=t.span()._mult(this.tileToMeter);n=(Math.max(e.x,1)<<3)+Math.min(7,Math.round(r.x/10)),i=(Math.max(e.y,1)<<3)+Math.min(7,Math.round(r.y/10))}else n=Math.ceil(7*(e.x+450)),i=0;else n=0,i=+r;let o=r?this.centroidVertexArray.length:t.vertexArrayOffset;for(const a of t.polyCount){r&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*a.edges+a.top);for(let e=0;e<a.top;e++)this.centroidVertexArray.emplace(o++,n,i);for(let e=0;e<2*a.edges;e++)this.centroidVertexArray.emplace(o++,0,i),this.centroidVertexArray.emplace(o++,n,i)}}}function th(e,t){const n=e.add(t)._unit();return e.x*n.x+e.y*n.y}function nh(e,t,n,i){const r=t.sub(e)._perp()._unit(),o=n.sub(t)._perp()._unit();return ih(e,t,n,th(r,o),i)}function ih(e,t,n,i,r){const o=Math.sqrt(1-i*i);return Math.min(e.dist(t)/3,t.dist(n)/3,r*o/i)}function rh(e,t,n){return e.x<n[0].x&&t.x<n[0].x||e.x>n[1].x&&t.x>n[1].x||e.y<n[0].y&&t.y<n[0].y||e.y>n[1].y&&t.y>n[1].y}function oh(e,t,n){if(e.x<0||e.x>=ss||t.x<0||t.x>=ss||n.x<0||n.x>=ss)return!1;const i=n.sub(t),r=i.perp(),o=e.sub(t);return(i.x*o.x+i.y*o.y)/Math.sqrt((i.x*i.x+i.y*i.y)*(o.x*o.x+o.y*o.y))>-.866&&r.x*o.x+r.y*o.y<0}function ah(e,t,n){const i=t?2|e:-3&e;return n?1|i:-2&i}function sh(){const e=Math.PI/32,t=Math.tan(e),n=jl;return n*Math.sqrt(1+2*t*t)-n}function lh(e,t,n){const i=1<<n.z,r=Hl(n.x/i),o=Hl((n.x+1)/i),a=Xl(n.y/i),s=Xl((n.y+1)/i);return function(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0;const a=[];if(!e.length||!n||!i)return a;const s=(e,t)=>{for(const n of e)a.push({polygon:n,bounds:t})},l=Math.ceil(Math.log2(n)),c=Math.ceil(Math.log2(i)),u=l-c,h=[];for(let f=0;f<Math.abs(u);f++)h.push(u>0?0:1);for(let f=0;f<Math.min(l,c);f++)h.push(0),h.push(1);let d=e;if(d=Xu(d,t[0].y-r,t[1].y+r,1),d=Xu(d,t[0].x-r,t[1].x+r,0),!d.length)return a;const p=[];for(h.length?p.push({polygons:d,bounds:t,depth:0}):s(d,t);p.length;){const e=p.pop(),t=e.depth,n=h[t],i=e.bounds[0],a=e.bounds[1],l=0===n?i.x:i.y,c=0===n?a.x:a.y,u=o?o(n,l,c):.5*(l+c),d=Xu(e.polygons,l-r,u+r,n),f=Xu(e.polygons,u-r,c+r,n);if(d.length){const e=[i,new y(0===n?u:a.x,1===n?u:a.y)];h.length>t+1?p.push({polygons:d,bounds:e,depth:t+1}):s(d,e)}if(f.length){const e=[new y(0===n?u:i.x,1===n?u:i.y),a];h.length>t+1?p.push({polygons:f,bounds:e,depth:t+1}):s(f,e)}}return a}(e,t,Math.ceil((o-r)/11.25),Math.ceil((a-s)/11.25),1,((e,t,r)=>{if(0===e)return.5*(t+r);{const e=Xl((n.y+t/ss)/i);return(Wl(.5*(Xl((n.y+r/ss)/i)+e))*i-n.y)*ss}}))}Kr(eh,"FillExtrusionBucket",{omit:["layers","features"]}),Kr(Qu,"PartMetadata");const ch=new Do({"fill-extrusion-edge-radius":new Po(et["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var uh={paint:new Do({"fill-extrusion-opacity":new Po(et["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Io(et["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Po(et["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Po(et["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Io(et["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Io(et["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Io(et["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Po(et["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new Po(et["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new Po(et["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"]),"fill-extrusion-rounded-roof":new Po(et["paint_fill-extrusion"]["fill-extrusion-rounded-roof"])}),layout:ch};function hh(e,t,n){var i=2*Math.PI*6378137/256/Math.pow(2,n);return[e*i-2*Math.PI*6378137/2,t*i-2*Math.PI*6378137/2]}class dh{constructor(e,t,n){this.z=e,this.x=t,this.y=n,this.key=mh(0,e,e,t,n)}equals(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}url(e,t){const n=function(e,t,n){var i=hh(256*e,256*(t=Math.pow(2,n)-t-1),n),r=hh(256*(e+1),256*(t+1),n);return i[0]+","+i[1]+","+r[0]+","+r[1]}(this.x,this.y,this.z),i=function(e,t,n){let i,r="";for(let o=e;o>0;o--)i=1<<o-1,r+=(t&i?1:0)+(n&i?2:0);return r}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",i).replace("{bbox-epsg-3857}",n)}toString(){return"".concat(this.z,"/").concat(this.x,"/").concat(this.y)}}class ph{constructor(e,t){this.wrap=e,this.canonical=t,this.key=mh(e,t.z,t.z,t.x,t.y)}}class fh{constructor(e,t,n,i,r){this.overscaledZ=e,this.wrap=t,this.canonical=new dh(n,+i,+r),this.key=0===t&&e===n?this.canonical.key:mh(t,e,n,i,r)}equals(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}scaledTo(e){const t=this.canonical.z-e;return e>this.canonical.z?new fh(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new fh(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)}calculateScaledKey(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.overscaledZ===e&&t)return this.key;if(e>this.canonical.z)return mh(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y);{const n=this.canonical.z-e;return mh(this.wrap*+t,e,e,this.canonical.x>>n,this.canonical.y>>n)}}isChildOf(e){if(e.wrap!==this.wrap)return!1;const t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t}children(e){if(this.overscaledZ>=e)return[new fh(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const t=this.canonical.z+1,n=2*this.canonical.x,i=2*this.canonical.y;return[new fh(t,this.wrap,t,n,i),new fh(t,this.wrap,t,n+1,i),new fh(t,this.wrap,t,n,i+1),new fh(t,this.wrap,t,n+1,i+1)]}isLessThan(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}wrapped(){return new fh(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(e){return new fh(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new ph(this.wrap,this.canonical)}toString(){return"".concat(this.overscaledZ,"/").concat(this.canonical.x,"/").concat(this.canonical.y)}}function mh(e,t,n,i,r){const o=1<<Math.min(n,22);let a=o*(r%o)+i%o;return e&&n<22&&(a+=o*o*((e<0?-2*e-1:2*e)%(1<<2*(22-n)))),16*(32*a+n)+(t-n)}Kr(dh,"CanonicalTileID"),Kr(fh,"OverscaledTileID",{omit:["projMatrix"]});class gh extends y{constructor(e,t,n){super(e,t),this.z=n}}function _h(e,t){return e.x*t.x+e.y*t.y}function yh(e,t){if(1===e.length){let n=0;const i=t[n++];let r;for(;!r||i.equals(r);)if(r=t[n++],!r)return 1/0;for(;n<t.length;n++){const o=t[n],a=e[0],s=r.sub(i),l=o.sub(i),c=a.sub(i),u=_h(s,s),h=_h(s,l),d=_h(l,l),p=_h(c,s),f=_h(c,l),m=u*d-h*h,g=(d*p-h*f)/m,_=(u*f-h*p)/m,y=i.z*(1-g-_)+r.z*g+o.z*_;if(isFinite(y))return y}return 1/0}{let e=1/0;for(const n of t)e=Math.min(e,n.z);return e}}function vh(e,t,n,i,r,o,a,s){const l=a*r.getElevationAt(e,t,!0,!0),c=0!==o[0],u=c?0===o[1]?a*(o[0]/7-450):a*function(e,t,n){const i=Math.floor(t[0]/8),r=Math.floor(t[1]/8),o=10*(t[0]-8*i),a=10*(t[1]-8*r),s=e.getElevationAt(i,r,!0,!0),l=e.getMeterToDEM(n),c=Math.floor(.5*(o*l-1)),u=Math.floor(.5*(a*l-1)),h=e.tileCoordToPixel(i,r),d=2*c+1,p=2*u+1,f=function(e,t,n,i,r){return[e.getElevationAtPixel(t,n,!0),e.getElevationAtPixel(t+r,n,!0),e.getElevationAtPixel(t,n+r,!0),e.getElevationAtPixel(t+i,n+r,!0)]}(e,h.x-c,h.y-u,d,p),m=Math.abs(f[0]-f[1]),g=Math.abs(f[2]-f[3]),_=Math.abs(f[0]-f[2])+Math.abs(f[1]-f[3]),y=Math.min(.25,.5*l*(m+g)/d),v=Math.min(.25,.5*l*_/p);return s+Math.max(y*o,v*a)}(r,o,s):l;return{base:l+(0===n)?-1:n,top:c?Math.max(u+i,l+n+2):l+i}}const xh=jo([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:bh}=xh,wh=jo([{name:"a_packed",components:4,type:"Float32"}]),{members:Eh}=wh,Th=Hu.types,kh=Math.cos(Math.PI/180*37.5);class Sh{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.projection=e.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((e=>{this.gradients[e.id]={}})),this.layoutVertexArray=new Go,this.layoutVertexArray2=new Wo,this.indexArray=new ia,this.programConfigurations=new Ya(e.layers,e.zoom),this.segments=new as,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,n,i){this.hasPattern=ku("line",this.layers,t);const r=this.layers[0].layout.get("line-sort-key"),o=[];for(const{feature:c,id:u,index:h,sourceLayerIndex:d}of e){const e=this.layers[0]._featureFilter.needGeometry,t=sc(c,e);if(!this.layers[0]._featureFilter.filter(new wo(this.zoom),t,n))continue;const a=r?r.evaluate(t,{},n):void 0,s={id:u,properties:c.properties,type:c.type,sourceLayerIndex:d,index:h,geometry:e?t.geometry:ac(c,n,i),patterns:{},sortKey:a};o.push(s)}r&&o.sort(((e,t)=>e.sortKey-t.sortKey));const{lineAtlas:a,featureIndex:s}=t,l=this.addConstantDashes(a);for(const c of o){const{geometry:i,index:r,sourceLayerIndex:o}=c;if(l&&this.addFeatureDashes(c,a),this.hasPattern){const e=Su("line",this.layers,c,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(c,i,r,n,a.positions,t.availableImages);s.insert(e[r].feature,i,r,o,this.index)}}addConstantDashes(e){let t=!1;for(const n of this.layers){const i=n.paint.get("line-dasharray").value,r=n.layout.get("line-cap").value;if("constant"!==i.kind||"constant"!==r.kind)t=!0;else{const t=r.value,n=i.value;if(!n)continue;e.addDash(n,t)}}return t}addFeatureDashes(e,t){const n=this.zoom;for(const i of this.layers){const r=i.paint.get("line-dasharray").value,o=i.layout.get("line-cap").value;if("constant"===r.kind&&"constant"===o.kind)continue;let a,s;if("constant"===r.kind){if(a=r.value,!a)continue}else a=r.evaluate({zoom:n},e);s="constant"===o.kind?o.value:o.evaluate({zoom:n},e),t.addDash(a,s),e.patterns[i.id]=t.getKey(a,s)}}update(e,t,n,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n,i)}addFeatures(e,t,n,i,r){for(const o of this.patternFeatures)this.addFeature(o,o.geometry,o.index,t,n,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,Eh)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,bh),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}addFeature(e,t,n,i,r,o){const a=this.layers[0].layout,s=a.get("line-join").evaluate(e,{}),l=a.get("line-cap").evaluate(e,{}),c=a.get("line-miter-limit"),u=a.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(const h of t)this.addLine(h,e,s,l,c,u);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,r,o,i)}addLine(e,t,n,i,r,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let t=0;t<e.length-1;t++)this.totalDistance+=e[t].dist(e[t+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const a="Polygon"===Th[t.type];let s=e.length;for(;s>=2&&e[s-1].equals(e[s-2]);)s--;let l=0;for(;l<s-1&&e[l].equals(e[l+1]);)l++;if(s<(a?3:2))return;"bevel"===n&&(r=1.05);const c=this.overscaling<=16?15*ss/(512*this.overscaling):0,u=this.segments.prepareSegment(10*s,this.layoutVertexArray,this.indexArray);let h,d,p,f,m;this.e1=this.e2=-1,a&&(h=e[s-2],m=e[l].sub(h)._unit()._perp());for(let g=l;g<s;g++){if(p=g===s-1?a?e[l+1]:void 0:e[g+1],p&&e[g].equals(p))continue;m&&(f=m),h&&(d=h),h=e[g],m=p?p.sub(h)._unit()._perp():f,f=f||m;let t=f.add(m);0===t.x&&0===t.y||t._unit();const _=f.x*m.x+f.y*m.y,y=t.x*m.x+t.y*m.y,v=0!==y?1/y:1/0,x=2*Math.sqrt(2-2*y),b=y<kh&&d&&p,w=f.x*m.y-f.y*m.x>0;if(b&&g>l){const e=h.dist(d);if(e>2*c){const t=h.sub(h.sub(d)._mult(c/e)._round());this.updateDistance(d,t),this.addCurrentVertex(t,f,0,0,u),d=t}}const E=d&&p;let T=E?n:a?"butt":i;if(E&&"round"===T&&(v<o?T="miter":v<=2&&(T="fakeround")),"miter"===T&&v>r&&(T="bevel"),"bevel"===T&&(v>2&&(T="flipbevel"),v<r&&(T="miter")),d&&this.updateDistance(d,h),"miter"===T)t._mult(v),this.addCurrentVertex(h,t,0,0,u);else if("flipbevel"===T){if(v>100)t=m.mult(-1);else{const e=v*f.add(m).mag()/f.sub(m).mag();t._perp()._mult(e*(w?-1:1))}this.addCurrentVertex(h,t,0,0,u),this.addCurrentVertex(h,t.mult(-1),0,0,u)}else if("bevel"===T||"fakeround"===T){const e=-Math.sqrt(v*v-1),t=w?e:0,n=w?0:e;if(d&&this.addCurrentVertex(h,f,t,n,u),"fakeround"===T){const e=Math.round(180*x/Math.PI/20);for(let t=1;t<e;t++){let n=t/e;if(.5!==n){const e=n-.5;n+=n*e*(n-1)*((1.0904+_*(_*(3.55645-1.43519*_)-3.2452))*e*e+(.848013+_*(.215638*_-1.06021)))}const i=m.sub(f)._mult(n)._add(f)._unit()._mult(w?-1:1);this.addHalfVertex(h,i.x,i.y,!1,w,0,u)}}p&&this.addCurrentVertex(h,m,-t,-n,u)}else if("butt"===T)this.addCurrentVertex(h,t,0,0,u);else if("square"===T){const e=d?1:-1;d||this.addCurrentVertex(h,t,e,e,u),this.addCurrentVertex(h,t,0,0,u),d&&this.addCurrentVertex(h,t,e,e,u)}else"round"===T&&(d&&(this.addCurrentVertex(h,f,0,0,u),this.addCurrentVertex(h,f,1,1,u,!0)),p&&(this.addCurrentVertex(h,m,-1,-1,u,!0),this.addCurrentVertex(h,m,0,0,u)));if(b&&g<s-1){const e=h.dist(p);if(e>2*c){const t=h.add(p.sub(h)._mult(c/e)._round());this.updateDistance(h,t),this.addCurrentVertex(t,m,0,0,u),h=t}}}}addCurrentVertex(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const a=t.y*i-t.x,s=-t.y-t.x*i;this.addHalfVertex(e,t.x+t.y*n,t.y-t.x*n,o,!1,n,r),this.addHalfVertex(e,a,s,o,!0,-i,r)}addHalfVertex(e,t,n,i,r,o,a){let{x:s,y:l}=e;this.layoutVertexArray.emplaceBack((s<<1)+(i?1:0),(l<<1)+(r?1:0),Math.round(63*t)+128,Math.round(63*n)+128,1+(0===o?0:o<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const c=a.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,c),a.primitiveLength++),r?this.e2=c:this.e1=c}updateScaledDistance(){if(this.lineClips){const e=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=e*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(e,t){this.distance+=e.dist(t),this.updateScaledDistance()}}Kr(Sh,"LineBucket",{omit:["layers","patternFeatures"]});const Ch=new Do({"line-cap":new Io(et.layout_line["line-cap"]),"line-join":new Io(et.layout_line["line-join"]),"line-miter-limit":new Po(et.layout_line["line-miter-limit"]),"line-round-limit":new Po(et.layout_line["line-round-limit"]),"line-sort-key":new Io(et.layout_line["line-sort-key"])});var Mh={paint:new Do({"line-opacity":new Io(et.paint_line["line-opacity"]),"line-color":new Io(et.paint_line["line-color"]),"line-translate":new Po(et.paint_line["line-translate"]),"line-translate-anchor":new Po(et.paint_line["line-translate-anchor"]),"line-width":new Io(et.paint_line["line-width"]),"line-gap-width":new Io(et.paint_line["line-gap-width"]),"line-offset":new Io(et.paint_line["line-offset"]),"line-blur":new Io(et.paint_line["line-blur"]),"line-dasharray":new Io(et.paint_line["line-dasharray"]),"line-pattern":new Io(et.paint_line["line-pattern"]),"line-gradient":new Lo(et.paint_line["line-gradient"]),"line-trim-offset":new Po(et.paint_line["line-trim-offset"])}),layout:Ch};const zh=new class extends Io{possiblyEvaluate(e,t){return t=new wo(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,transition:t.transition}),super.possiblyEvaluate(e,t)}evaluate(e,t,n,i){return t=I({},t,{zoom:Math.floor(t.zoom)}),super.evaluate(e,t,n,i)}}(Mh.paint.properties["line-width"].specification);function Ah(e,t){return t>0?t+2*e:e}zh.useIntegerZoom=!0;const Ph=jo([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Ih=jo([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),Lh=jo([{name:"a_projected_pos",components:4,type:"Float32"}],4);jo([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Dh=jo([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),Oh=jo([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);jo([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Rh=jo([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Bh=jo([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);jo([{name:"triangle",components:3,type:"Uint16"}]),jo([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),jo([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),jo([{type:"Float32",name:"offsetX"}]),jo([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var Fh=24;const jh=128;function Nh(e,t){const{expression:n}=t;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new wo(e+1))};if("source"===n.kind)return{kind:"source"};{const{zoomStops:t,interpolationType:i}=n;let r=0;for(;r<t.length&&t[r]<=e;)r++;r=Math.max(0,r-1);let o=r;for(;o<t.length&&t[o]<e+1;)o++;o=Math.min(t.length-1,o);const a=t[r],s=t[o];return"composite"===n.kind?{kind:"composite",minZoom:a,maxZoom:s,interpolationType:i}:{kind:"camera",minZoom:a,maxZoom:s,minSize:n.evaluate(new wo(a)),maxSize:n.evaluate(new wo(s)),interpolationType:i}}}function Uh(e,t,n){let{uSize:i,uSizeT:r}=t,{lowerSize:o,upperSize:a}=n;return"source"===e.kind?o/jh:"composite"===e.kind?In(o/jh,a/jh,r):i}function Vh(e,t){let n=0,i=0;if("constant"===e.kind)i=e.layoutSize;else if("source"!==e.kind){const{interpolationType:r,minZoom:o,maxZoom:a}=e,s=r?C(ei.interpolationFactor(r,t,o,a),0,1):0;"camera"===e.kind?i=In(e.minSize,e.maxSize,s):n=s}return{uSizeT:n,uSize:i}}var qh=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:jh,evaluateSizeForFeature:Uh,evaluateSizeForZoom:Vh,getSizeData:Nh});function Gh(e,t,n){return e.sections.forEach((e=>{e.text=function(e,t,n){const i=t.layout.get("text-transform").evaluate(n,{});return"uppercase"===i?e=e.toLocaleUpperCase():"lowercase"===i&&(e=e.toLocaleLowerCase()),bo.applyArabicShaping&&(e=bo.applyArabicShaping(e)),e}(e.text,t,n)})),e}const Wh={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42","\u2190":"\u2191","\u2192":"\u2193"};function Zh(e){return"\ufe36"===e||"\ufe48"===e||"\ufe38"===e||"\ufe44"===e||"\ufe42"===e||"\ufe3e"===e||"\ufe3c"===e||"\ufe3a"===e||"\ufe18"===e||"\ufe40"===e||"\ufe10"===e||"\ufe13"===e||"\ufe14"===e||"\uff40"===e||"\uffe3"===e||"\ufe11"===e||"\ufe12"===e}function Hh(e){return"\ufe35"===e||"\ufe47"===e||"\ufe37"===e||"\ufe43"===e||"\ufe41"===e||"\ufe3d"===e||"\ufe3b"===e||"\ufe39"===e||"\ufe17"===e||"\ufe3f"===e}var Xh=Jh,Kh=function(e,t,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,c=l>>1,u=-7,h=n?r-1:0,d=n?-1:1,p=e[t+h];for(h+=d,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+e[t+h],h+=d,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=i;u>0;a=256*a+e[t+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,i),o-=c}return(p?-1:1)*a*Math.pow(2,o-i)},Yh=function(e,t,n,i,r,o){var a,s,l,c=8*o-r-1,u=(1<<c)-1,h=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,f=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(t*l-1)*Math.pow(2,r),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,r),a=0));r>=8;e[n+p]=255&s,p+=f,s/=256,r-=8);for(a=a<<r|s,c+=r;c>0;e[n+p]=255&a,p+=f,a/=256,c-=8);e[n+p-f]|=128*m};function Jh(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}Jh.Varint=0,Jh.Fixed64=1,Jh.Bytes=2,Jh.Fixed32=5;var $h=4294967296,Qh=1/$h,ed="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function td(e){return e.type===Jh.Bytes?e.readVarint()+e.pos:e.pos+1}function nd(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function id(e,t,n){var i=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(i);for(var r=n.pos-1;r>=e;r--)n.buf[r+i]=n.buf[r]}function rd(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function od(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function ad(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function sd(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function ld(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function cd(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function ud(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function hd(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function dd(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function pd(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function fd(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function md(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}Jh.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var i=this.readVarint(),r=i>>3,o=this.pos;this.type=7&i,e(r,t,this),this.pos===o&&this.skip(i)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=pd(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=md(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=pd(this.buf,this.pos)+pd(this.buf,this.pos+4)*$h;return this.pos+=8,e},readSFixed64:function(){var e=pd(this.buf,this.pos)+md(this.buf,this.pos+4)*$h;return this.pos+=8,e},readFloat:function(){var e=Kh(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=Kh(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,i=this.buf;return t=127&(n=i[this.pos++]),n<128?t:(t|=(127&(n=i[this.pos++]))<<7,n<128?t:(t|=(127&(n=i[this.pos++]))<<14,n<128?t:(t|=(127&(n=i[this.pos++]))<<21,n<128?t:function(e,t,n){var i,r,o=n.buf;if(i=(112&(r=o[n.pos++]))>>4,r<128)return nd(e,i,t);if(i|=(127&(r=o[n.pos++]))<<3,r<128)return nd(e,i,t);if(i|=(127&(r=o[n.pos++]))<<10,r<128)return nd(e,i,t);if(i|=(127&(r=o[n.pos++]))<<17,r<128)return nd(e,i,t);if(i|=(127&(r=o[n.pos++]))<<24,r<128)return nd(e,i,t);if(i|=(1&(r=o[n.pos++]))<<31,r<128)return nd(e,i,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=i[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&ed?function(e,t,n){return ed.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){for(var i="",r=t;r<n;){var o,a,s,l=e[r],c=null,u=l>239?4:l>223?3:l>191?2:1;if(r+u>n)break;1===u?l<128&&(c=l):2===u?128==(192&(o=e[r+1]))&&(c=(31&l)<<6|63&o)<=127&&(c=null):3===u?(a=e[r+2],128==(192&(o=e[r+1]))&&128==(192&a)&&((c=(15&l)<<12|(63&o)<<6|63&a)<=2047||c>=55296&&c<=57343)&&(c=null)):4===u&&(a=e[r+2],s=e[r+3],128==(192&(o=e[r+1]))&&128==(192&a)&&128==(192&s)&&((c=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,u=1):c>65535&&(c-=65536,i+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),i+=String.fromCharCode(c),r+=u}return i}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==Jh.Bytes)return e.push(this.readVarint(t));var n=td(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==Jh.Bytes)return e.push(this.readSVarint());var t=td(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==Jh.Bytes)return e.push(this.readBoolean());var t=td(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==Jh.Bytes)return e.push(this.readFloat());var t=td(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==Jh.Bytes)return e.push(this.readDouble());var t=td(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==Jh.Bytes)return e.push(this.readFixed32());var t=td(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==Jh.Bytes)return e.push(this.readSFixed32());var t=td(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==Jh.Bytes)return e.push(this.readFixed64());var t=td(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==Jh.Bytes)return e.push(this.readSFixed64());var t=td(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===Jh.Varint)for(;this.buf[this.pos++]>127;);else if(t===Jh.Bytes)this.pos=this.readVarint()+this.pos;else if(t===Jh.Fixed32)this.pos+=4;else{if(t!==Jh.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),fd(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),fd(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),fd(this.buf,-1&e,this.pos),fd(this.buf,Math.floor(e*Qh),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),fd(this.buf,-1&e,this.pos),fd(this.buf,Math.floor(e*Qh),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,i;if(e>=0?(n=e%4294967296|0,i=e/4294967296|0):(i=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,i=i+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,n.buf[n.pos]=127&(e>>>=7)}(n,0,t),function(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(i,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var i,r,o=0;o<t.length;o++){if((i=t.charCodeAt(o))>55295&&i<57344){if(!r){i>56319||o+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):r=i;continue}if(i<56320){e[n++]=239,e[n++]=191,e[n++]=189,r=i;continue}i=r-55296<<10|i-56320|65536,r=null}else r&&(e[n++]=239,e[n++]=191,e[n++]=189,r=null);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:(i<65536?e[n++]=i>>12|224:(e[n++]=i>>18|240,e[n++]=i>>12&63|128),e[n++]=i>>6&63|128),e[n++]=63&i|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&id(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),Yh(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),Yh(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var i=this.pos-n;i>=128&&id(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(e,t,n){this.writeTag(e,Jh.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,rd,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,od,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,ld,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,ad,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,sd,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,cd,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,ud,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,hd,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,dd,t)},writeBytesField:function(e,t){this.writeTag(e,Jh.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,Jh.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,Jh.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,Jh.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,Jh.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,Jh.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,Jh.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,Jh.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,Jh.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,Jh.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};var gd=d(Xh);const _d=3;function yd(e,t,n){t.glyphs=[],1===e&&n.readMessage(vd,t)}function vd(e,t,n){if(3===e){const{id:e,bitmap:i,width:r,height:o,left:a,top:s,advance:l}=n.readMessage(xd,{});t.glyphs.push({id:e,bitmap:new Fc({width:r+2*_d,height:o+2*_d},i),metrics:{width:r,height:o,left:a,top:s,advance:l}})}else 4===e?t.ascender=n.readSVarint():5===e&&(t.descender=n.readSVarint())}function xd(e,t,n){1===e?t.id=n.readVarint():2===e?t.bitmap=n.readBytes():3===e?t.width=n.readVarint():4===e?t.height=n.readVarint():5===e?t.left=n.readSVarint():6===e?t.top=n.readSVarint():7===e&&(t.advance=n.readVarint())}const bd=_d;function wd(e){let t=0,n=0;for(const a of e)t+=a.w*a.h,n=Math.max(n,a.w);e.sort(((e,t)=>t.h-e.h));const i=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}];let r=0,o=0;for(const a of e)for(let e=i.length-1;e>=0;e--){const t=i[e];if(!(a.w>t.w||a.h>t.h)){if(a.x=t.x,a.y=t.y,o=Math.max(o,a.y+a.h),r=Math.max(r,a.x+a.w),a.w===t.w&&a.h===t.h){const t=i.pop();e<i.length&&(i[e]=t)}else a.h===t.h?(t.x+=a.w,t.w-=a.w):a.w===t.w?(t.y+=a.h,t.h-=a.h):(i.push({x:t.x+a.w,y:t.y,w:t.w-a.w,h:a.h}),t.y+=a.h,t.h-=a.h);break}}return{w:r,h:o,fill:t/(r*o)||0}}const Ed=1;class Td{constructor(e,t){let{pixelRatio:n,version:i,stretchX:r,stretchY:o,content:a}=t;this.paddedRect=e,this.pixelRatio=n,this.stretchX=r,this.stretchY=o,this.content=a,this.version=i}get tl(){return[this.paddedRect.x+Ed,this.paddedRect.y+Ed]}get br(){return[this.paddedRect.x+this.paddedRect.w-Ed,this.paddedRect.y+this.paddedRect.h-Ed]}get displaySize(){return[(this.paddedRect.w-2*Ed)/this.pixelRatio,(this.paddedRect.h-2*Ed)/this.pixelRatio]}}class kd{constructor(e,t){const n={},i={};this.haveRenderCallbacks=[];const r=[];this.addImages(e,n,r),this.addImages(t,i,r);const{w:o,h:a}=wd(r),s=new jc({width:o||1,height:a||1});for(const l in e){const t=e[l],i=n[l].paddedRect;jc.copy(t.data,s,{x:0,y:0},{x:i.x+Ed,y:i.y+Ed},t.data)}for(const l in t){const e=t[l],n=i[l].paddedRect,r=n.x+Ed,o=n.y+Ed,a=e.data.width,c=e.data.height;jc.copy(e.data,s,{x:0,y:0},{x:r,y:o},e.data),jc.copy(e.data,s,{x:0,y:c-1},{x:r,y:o-1},{width:a,height:1}),jc.copy(e.data,s,{x:0,y:0},{x:r,y:o+c},{width:a,height:1}),jc.copy(e.data,s,{x:a-1,y:0},{x:r-1,y:o},{width:1,height:c}),jc.copy(e.data,s,{x:0,y:0},{x:r+a,y:o},{width:1,height:c})}this.image=s,this.iconPositions=n,this.patternPositions=i}addImages(e,t,n){for(const i in e){const r=e[i],o={x:0,y:0,w:r.data.width+2*Ed,h:r.data.height+2*Ed};n.push(o),t[i]=new Td(o,r),r.hasRenderCallback&&this.haveRenderCallbacks.push(i)}}patchUpdatedImages(e,t){this.haveRenderCallbacks=this.haveRenderCallbacks.filter((t=>e.hasImage(t))),e.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const n in e.updatedImages)this.patchUpdatedImage(this.iconPositions[n],e.getImage(n),t),this.patchUpdatedImage(this.patternPositions[n],e.getImage(n),t)}patchUpdatedImage(e,t,n){if(!e||!t)return;if(e.version===t.version)return;e.version=t.version;const[i,r]=e.tl;n.update(t.data,void 0,{x:i,y:r})}}Kr(Td,"ImagePosition"),Kr(kd,"ImageAtlas");const Sd={horizontal:1,vertical:2,horizontalOnly:3},Cd=-17;class Md{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(e,t){const n=new Md;return n.scale=e||1,n.fontStack=t,n}static forImage(e){const t=new Md;return t.imageName=e,t}}class zd{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(e,t){const n=new zd;for(let i=0;i<e.sections.length;i++){const r=e.sections[i];r.image?n.addImageSection(r):n.addTextSection(r,t)}return n}length(){return this.text.length}getSection(e){return this.sections[this.sectionIndex[e]]}getSections(){return this.sections}getSectionIndex(e){return this.sectionIndex[e]}getCharCode(e){return this.text.charCodeAt(e)}verticalizePunctuation(e){this.text=function(e,t){let n="";for(let i=0;i<e.length;i++){const r=e.charCodeAt(i+1)||null,o=e.charCodeAt(i-1)||null;n+=!t&&(r&&oo(r)&&!Wh[e[i+1]]||o&&oo(o)&&!Wh[e[i-1]])||!Wh[e[i]]?e[i]:Wh[e[i]]}return n}(this.text,e)}trim(){let e=0;for(let n=0;n<this.text.length&&Pd[this.text.charCodeAt(n)];n++)e++;let t=this.text.length;for(let n=this.text.length-1;n>=0&&n>=e&&Pd[this.text.charCodeAt(n)];n--)t--;this.text=this.text.substring(e,t),this.sectionIndex=this.sectionIndex.slice(e,t)}substring(e,t){const n=new zd;return n.text=this.text.substring(e,t),n.sectionIndex=this.sectionIndex.slice(e,t),n.sections=this.sections,n}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((e,t)=>Math.max(e,this.sections[t].scale)),0)}addTextSection(e,t){this.text+=e.text,this.sections.push(Md.forText(e.scale,e.fontStack||t));const n=this.sections.length-1;for(let i=0;i<e.text.length;++i)this.sectionIndex.push(n)}addImageSection(e){const t=e.image?e.image.name:"";if(0===t.length)return void G("Can't add FormattedSection with an empty image.");const n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(Md.forImage(t)),this.sectionIndex.push(this.sections.length-1)):G("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Ad(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f){const m=zd.fromFeature(e,r);h===Sd.vertical&&m.verticalizePunctuation(d);let g=[];const _=function(e,t,n,i,r,o){if(!e)return[];const a=[],s=function(e,t,n,i,r,o){let a=0;for(let s=0;s<e.length();s++){const n=e.getSection(s);a+=Ld(e.getCharCode(s),n,i,r,t,o)}return a/Math.max(1,Math.ceil(a/n))}(e,t,n,i,r,o),l=e.text.indexOf("\u200b")>=0;let c=0;for(let h=0;h<e.length();h++){const n=e.getSection(h),d=e.getCharCode(h);if(Pd[d]||(c+=Ld(d,n,i,r,t,o)),h<e.length()-1){const t=!((u=d)<11904||!(eo["Bopomofo Extended"](u)||eo.Bopomofo(u)||eo["CJK Compatibility Forms"](u)||eo["CJK Compatibility Ideographs"](u)||eo["CJK Compatibility"](u)||eo["CJK Radicals Supplement"](u)||eo["CJK Strokes"](u)||eo["CJK Symbols and Punctuation"](u)||eo["CJK Unified Ideographs Extension A"](u)||eo["CJK Unified Ideographs"](u)||eo["Enclosed CJK Letters and Months"](u)||eo["Halfwidth and Fullwidth Forms"](u)||eo.Hiragana(u)||eo["Ideographic Description Characters"](u)||eo["Kangxi Radicals"](u)||eo["Katakana Phonetic Extensions"](u)||eo.Katakana(u)||eo["Vertical Forms"](u)||eo["Yi Radicals"](u)||eo["Yi Syllables"](u)));(Id[d]||t||n.imageName)&&a.push(Rd(h+1,c,s,a,Od(d,e.getCharCode(h+1),t&&l),!1))}}var u;return Bd(Rd(e.length(),c,s,a,0,!0))}(m,c,o,t,i,p),{processBidirectionalText:y,processStyledBidirectionalText:v}=bo;if(y&&1===m.sections.length){const e=y(m.toString(),_);for(const t of e){const e=new zd;e.text=t,e.sections=m.sections;for(let n=0;n<t.length;n++)e.sectionIndex.push(0);g.push(e)}}else if(v){const e=v(m.text,m.sectionIndex,_);for(const t of e){const e=new zd;e.text=t[0],e.sectionIndex=t[1],e.sections=m.sections,g.push(e)}}else g=function(e,t){const n=[],i=e.text;let r=0;for(const o of t)n.push(e.substring(r,o)),r=o;return r<i.length&&n.push(e.substring(r,i.length)),n}(m,_);const x=[],b={positionedLines:x,text:m.toString(),top:u[1],bottom:u[1],left:u[0],right:u[0],writingMode:h,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(e,t,n,i,r,o,a,s,l,c,u,h){let d=0,p=0,f=0;const m="right"===s?1:"left"===s?0:.5;let g=!1;for(const w of r){const e=w.getSections();for(const n of e){if(n.imageName)continue;const e=t[n.fontStack];if(e&&(g=void 0!==e.ascender&&void 0!==e.descender,!g))break}if(!g)break}let _=0;for(const w of r){w.trim();const r=w.getMaxScale(),a=(r-1)*Fh,s={positionedGlyphs:[],lineOffset:0};e.positionedLines[_]=s;const v=s.positionedGlyphs;let x=0;if(!w.length()){p+=o,++_;continue}let b=0,E=0;for(let o=0;o<w.length();o++){const a=w.getSection(o),s=w.getSectionIndex(o),f=w.getCharCode(o);let m=a.scale,_=null,T=null,k=null,S=Fh,C=0;const M=!(l===Sd.horizontal||!u&&!ro(f)||u&&(Pd[f]||(y=f,eo.Arabic(y)||eo["Arabic Supplement"](y)||eo["Arabic Extended-A"](y)||eo["Arabic Presentation Forms-A"](y)||eo["Arabic Presentation Forms-B"](y))));if(a.imageName){const t=i[a.imageName];if(!t)continue;k=a.imageName,e.iconsInText=e.iconsInText||!0,T=t.paddedRect;const n=t.displaySize;m=m*Fh/h,_={width:n[0],height:n[1],left:Ed,top:-bd,advance:M?n[1]:n[0],localGlyph:!1},C=g?-_.height*m:Cd+r*Fh-n[1]*m,S=_.advance;const o=(M?n[0]:n[1])*m-Fh*r;o>0&&o>x&&(x=o)}else{const e=n[a.fontStack];if(!e)continue;e[f]&&(T=e[f]);const i=t[a.fontStack];if(!i)continue;const o=i.glyphs[f];if(!o)continue;if(_=o.metrics,S=8203!==f?Fh:0,g){const e=void 0!==i.ascender?Math.abs(i.ascender):0,t=void 0!==i.descender?Math.abs(i.descender):0,n=(e+t)*m;b<n&&(b=n,E=(e-t)/2*m),C=-e*m}else C=Cd+(r-m)*Fh}M?(e.verticalizable=!0,v.push({glyph:f,imageName:k,x:d,y:p+C,vertical:M,scale:m,localGlyph:_.localGlyph,fontStack:a.fontStack,sectionIndex:s,metrics:_,rect:T}),d+=S*m+c):(v.push({glyph:f,imageName:k,x:d,y:p+C,vertical:M,scale:m,localGlyph:_.localGlyph,fontStack:a.fontStack,sectionIndex:s,metrics:_,rect:T}),d+=_.advance*m+c)}0!==v.length&&(f=Math.max(d-c,f),g?jd(v,m,x,E,o*r/2):jd(v,m,x,0,o/2)),d=0;const T=o*r+x;s.lineOffset=Math.max(x,a),p+=T,++_}var y;const v=p,{horizontalAlign:x,verticalAlign:b}=Fd(a);(function(e,t,n,i,r,o){const a=(t-n)*r,s=-o*i;for(const l of e)for(const e of l.positionedGlyphs)e.x+=a,e.y+=s})(e.positionedLines,m,x,b,f,v),e.top+=-b*v,e.bottom=e.top+v,e.left+=-x*f,e.right=e.left+f,e.hasBaseline=g}(b,t,n,i,g,a,s,l,h,c,d,f),!function(e){for(const t of e)if(0!==t.positionedGlyphs.length)return!1;return!0}(x)&&b}const Pd={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Id={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Ld(e,t,n,i,r,o){if(t.imageName){const e=i[t.imageName];return e?e.displaySize[0]*t.scale*Fh/o+r:0}{const i=n[t.fontStack],o=i&&i.glyphs[e];return o?o.metrics.advance*t.scale+r:0}}function Dd(e,t,n,i){const r=Math.pow(e-t,2);return i?e<t?r/2:2*r:r+Math.abs(n)*n}function Od(e,t,n){let i=0;return 10===e&&(i-=1e4),n&&(i+=150),40!==e&&65288!==e||(i+=50),41!==t&&65289!==t||(i+=50),i}function Rd(e,t,n,i,r,o){let a=null,s=Dd(t,n,r,o);for(const l of i){const e=Dd(t-l.x,n,r,o)+l.badness;e<=s&&(a=l,s=e)}return{index:e,x:t,priorBreak:a,badness:s}}function Bd(e){return e?Bd(e.priorBreak).concat(e.index):[]}function Fd(e){let t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:t,verticalAlign:n}}function jd(e,t,n,i,r){if(!(t||n||i||r))return;const o=e.length-1,a=e[o],s=(a.x+a.metrics.advance*a.scale)*t;for(let l=0;l<=o;l++)e[l].x-=s,e[l].y+=n+i+r}function Nd(e,t,n){const{horizontalAlign:i,verticalAlign:r}=Fd(n),o=t[0]-e.displaySize[0]*i,a=t[1]-e.displaySize[1]*r;return{image:e,top:a,bottom:a+e.displaySize[1],left:o,right:o+e.displaySize[0]}}function Ud(e,t,n,i,r,o){const a=e.image;let s;if(a.content){const e=a.content,t=a.pixelRatio||1;s=[e[0]/t,e[1]/t,a.displaySize[0]-e[2]/t,a.displaySize[1]-e[3]/t]}const l=t.left*o,c=t.right*o;let u,h,d,p;"width"===n||"both"===n?(p=r[0]+l-i[3],h=r[0]+c+i[1]):(p=r[0]+(l+c-a.displaySize[0])/2,h=p+a.displaySize[0]);const f=t.top*o,m=t.bottom*o;return"height"===n||"both"===n?(u=r[1]+f-i[0],d=r[1]+m+i[2]):(u=r[1]+(f+m-a.displaySize[1])/2,d=u+a.displaySize[1]),{image:a,top:u,right:h,bottom:d,left:p,collisionPadding:s}}class Vd extends y{constructor(e,t,n,i,r){super(e,t),this.angle=i,this.z=n,void 0!==r&&(this.segment=r)}clone(){return new Vd(this.x,this.y,this.z,this.angle,this.segment)}}function qd(e,t,n,i,r){if(void 0===t.segment)return!0;let o=t,a=t.segment+1,s=0;for(;s>-n/2;){if(a--,a<0)return!1;s-=e[a].dist(o),o=e[a]}s+=e[a].dist(e[a+1]),a++;const l=[];let c=0;for(;s<n/2;){const t=e[a],n=e[a+1];if(!n)return!1;let o=e[a-1].angleTo(t)-t.angleTo(n);for(o=Math.abs((o+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:o}),c+=o;s-l[0].distance>i;)c-=l.shift().angleDelta;if(c>r)return!1;a++,s+=t.dist(n)}return!0}function Gd(e){let t=0;for(let n=0;n<e.length-1;n++)t+=e[n].dist(e[n+1]);return t}function Wd(e,t,n){return e?.6*t*n:0}function Zd(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function Hd(e,t,n,i,r,o){const a=Wd(n,r,o),s=Zd(n,i)*o;let l=0;const c=Gd(e)/2;for(let u=0;u<e.length-1;u++){const n=e[u],i=e[u+1],r=n.dist(i);if(l+r>c){const o=(c-l)/r,h=In(n.x,i.x,o),d=In(n.y,i.y,o),p=new Vd(h,d,0,i.angleTo(n),u);return!a||qd(e,p,s,a,t)?p:void 0}l+=r}}function Xd(e,t,n,i,r,o,a,s,l){const c=Wd(i,o,a),u=Zd(i,r),h=u*a,d=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;return t-h<t/4&&(t=h+t/4),Kd(e,d?t/2*s%t:(u/2+2*o)*a*s%t,t,c,n,h,d,!1,l)}function Kd(e,t,n,i,r,o,a,s,l){const c=o/2,u=Gd(e);let h=0,d=t-n,p=[];for(let f=0;f<e.length-1;f++){const t=e[f],a=e[f+1],s=t.dist(a),m=a.angleTo(t);for(;d+n<h+s;){d+=n;const g=(d-h)/s,_=In(t.x,a.x,g),y=In(t.y,a.y,g);if(_>=0&&_<l&&y>=0&&y<l&&d-c>=0&&d+c<=u){const t=new Vd(_,y,0,m,f);t._round(),i&&!qd(e,t,o,i,r)||p.push(t)}}h+=s}return s||p.length||a||(p=Kd(e,h/2,n,i,r,o,a,!0,l)),p}function Yd(e,t,n,i,r){const o=[];for(let a=0;a<e.length;a++){const s=e[a];let l;for(let e=0;e<s.length-1;e++){let a=s[e],c=s[e+1];a.x<t&&c.x<t||(a.x<t?a=new y(t,a.y+(t-a.x)/(c.x-a.x)*(c.y-a.y))._round():c.x<t&&(c=new y(t,a.y+(t-a.x)/(c.x-a.x)*(c.y-a.y))._round()),a.y<n&&c.y<n||(a.y<n?a=new y(a.x+(n-a.y)/(c.y-a.y)*(c.x-a.x),n)._round():c.y<n&&(c=new y(a.x+(n-a.y)/(c.y-a.y)*(c.x-a.x),n)._round()),a.x>=i&&c.x>=i||(a.x>=i?a=new y(i,a.y+(i-a.x)/(c.x-a.x)*(c.y-a.y))._round():c.x>=i&&(c=new y(i,a.y+(i-a.x)/(c.x-a.x)*(c.y-a.y))._round()),a.y>=r&&c.y>=r||(a.y>=r?a=new y(a.x+(r-a.y)/(c.y-a.y)*(c.x-a.x),r)._round():c.y>=r&&(c=new y(a.x+(r-a.y)/(c.y-a.y)*(c.x-a.x),r)._round()),l&&a.equals(l[l.length-1])||(l=[a],o.push(l)),l.push(c)))))}}return o}Kr(Vd,"Anchor");const Jd=1e20;function $d(e,t,n,i,r,o,a,s,l){for(let c=t;c<t+i;c++)Qd(e,n*o+c,o,r,a,s,l);for(let c=n;c<n+r;c++)Qd(e,c*o+t,1,i,a,s,l)}function Qd(e,t,n,i,r,o,a){o[0]=0,a[0]=-Jd,a[1]=Jd,r[0]=e[t];for(let s=1,l=0,c=0;s<i;s++){r[s]=e[t+s*n];const i=s*s;do{const e=o[l];c=(r[s]-r[e]+i-e*e)/(s-e)/2}while(c<=a[l]&&--l>-1);l++,o[l]=s,a[l]=c,a[l+1]=Jd}for(let s=0,l=0;s<i;s++){for(;a[l+1]<s;)l++;const i=o[l],c=s-i;e[t+s*n]=r[i]+c*c}}const ep=2,tp={none:0,ideographs:1,all:2};class np{constructor(e,t,n){this.requestManager=e,this.localGlyphMode=t,this.localFontFamily=n,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(e){this.url=e}getGlyphs(e,t){const n=[];for(const i in e)for(const t of e[i])n.push({stack:i,id:t});A(n,((e,t)=>{let{stack:n,id:i}=e,r=this.entries[n];r||(r=this.entries[n]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let o=r.glyphs[i];if(void 0!==o)return void t(null,{stack:n,id:i,glyph:o});if(o=this._tinySDF(r,n,i),o)return r.glyphs[i]=o,void t(null,{stack:n,id:i,glyph:o});const a=Math.floor(i/256);if(256*a>65535)return void t(new Error("glyphs > 65535 not supported"));if(r.ranges[a])return void t(null,{stack:n,id:i,glyph:o});let s=r.requests[a];s||(s=r.requests[a]=[],np.loadGlyphRange(n,a,this.url,this.requestManager,((e,t)=>{if(t){r.ascender=t.ascender,r.descender=t.descender;for(const e in t.glyphs)this._doesCharSupportLocalGlyph(+e)||(r.glyphs[+e]=t.glyphs[+e]);r.ranges[a]=!0}for(const n of s)n(e,t);delete r.requests[a]}))),s.push(((e,r)=>{e?t(e):r&&t(null,{stack:n,id:i,glyph:r.glyphs[i]||null})}))}),((e,n)=>{if(e)t(e);else if(n){const e={};for(const{stack:t,id:i,glyph:r}of n)void 0===e[t]&&(e[t]={}),void 0===e[t].glyphs&&(e[t].glyphs={}),e[t].glyphs[i]=r&&{id:r.id,bitmap:r.bitmap.clone(),metrics:r.metrics},e[t].ascender=this.entries[t].ascender,e[t].descender=this.entries[t].descender;t(null,e)}}))}_doesCharSupportLocalGlyph(e){return this.localGlyphMode!==tp.none&&(this.localGlyphMode===tp.all?!!this.localFontFamily:!!this.localFontFamily&&(eo["CJK Unified Ideographs"](e)||eo["Hangul Syllables"](e)||eo.Hiragana(e)||eo.Katakana(e)||eo["CJK Symbols and Punctuation"](e)))}_tinySDF(e,t,n){const i=this.localFontFamily;if(!i||!this._doesCharSupportLocalGlyph(n))return;let r=e.tinySDF;if(!r){let n="400";/bold/i.test(t)?n="900":/medium/i.test(t)?n="500":/light/i.test(t)&&(n="200"),r=e.tinySDF=new np.TinySDF({fontFamily:i,fontWeight:n,fontSize:24*ep,buffer:3*ep,radius:8*ep}),r.fontWeight=n}if(this.localGlyphs[r.fontWeight][n])return this.localGlyphs[r.fontWeight][n];const o=String.fromCharCode(n),{data:a,width:s,height:l,glyphWidth:c,glyphHeight:u,glyphLeft:h,glyphTop:d,glyphAdvance:p}=r.draw(o);return this.localGlyphs[r.fontWeight][n]={id:n,bitmap:new Fc({width:s,height:l},a),metrics:{width:c/ep,height:u/ep,left:h/ep,top:d/ep-27,advance:p/ep,localGlyph:!0}}}}np.loadGlyphRange=function(e,t,n,i,r){const o=256*t,a=o+255,s=i.transformRequest(i.normalizeGlyphsURL(n).replace("{fontstack}",e).replace("{range}","".concat(o,"-").concat(a)),le.Glyphs);de(s,((e,t)=>{if(e)r(e);else if(t){const e={},n=function(e){return new gd(e).readFields(yd,{})}(t);for(const t of n.glyphs)e[t.id]=t;r(null,{glyphs:e,ascender:n.ascender,descender:n.descender})}}))},np.TinySDF=class{constructor(){let{fontSize:e=24,buffer:t=3,radius:n=8,cutoff:i=.25,fontFamily:r="sans-serif",fontWeight:o="normal",fontStyle:a="normal"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.buffer=t,this.cutoff=i,this.radius=n;const s=this.size=e+4*t,l=this._createCanvas(s),c=this.ctx=l.getContext("2d",{willReadFrequently:!0});c.font="".concat(a," ").concat(o," ").concat(e,"px ").concat(r),c.textBaseline="alphabetic",c.textAlign="left",c.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Uint16Array(s)}_createCanvas(e){const t=document.createElement("canvas");return t.width=t.height=e,t}draw(e){const{width:t,actualBoundingBoxAscent:n,actualBoundingBoxDescent:i,actualBoundingBoxLeft:r,actualBoundingBoxRight:o}=this.ctx.measureText(e),a=Math.ceil(n),s=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(o-r))),l=Math.min(this.size-this.buffer,a+Math.ceil(i)),c=s+2*this.buffer,u=l+2*this.buffer,h=Math.max(c*u,0),d=new Uint8ClampedArray(h),p={data:d,width:c,height:u,glyphWidth:s,glyphHeight:l,glyphTop:a,glyphLeft:0,glyphAdvance:t};if(0===s||0===l)return p;const{ctx:f,buffer:m,gridInner:g,gridOuter:_}=this;f.clearRect(m,m,s,l),f.fillText(e,m,m+a);const y=f.getImageData(m,m,s,l);_.fill(Jd,0,h),g.fill(0,0,h);for(let v=0;v<l;v++)for(let e=0;e<s;e++){const t=y.data[4*(v*s+e)+3]/255;if(0===t)continue;const n=(v+m)*c+e+m;if(1===t)_[n]=0,g[n]=Jd;else{const e=.5-t;_[n]=e>0?e*e:0,g[n]=e<0?e*e:0}}$d(_,0,0,c,u,c,this.f,this.v,this.z),$d(g,m,m,s,l,c,this.f,this.v,this.z);for(let v=0;v<h;v++){const e=Math.sqrt(_[v])-Math.sqrt(g[v]);d[v]=Math.round(255-255*(e/this.radius+this.cutoff))}return p}};const ip=Ed;function rp(e,t,n,i){const r=[],o=e.image,a=o.pixelRatio,s=o.paddedRect.w-2*ip,l=o.paddedRect.h-2*ip,c=e.right-e.left,u=e.bottom-e.top,h=o.stretchX||[[0,s]],d=o.stretchY||[[0,l]],p=(e,t)=>e+t[1]-t[0],f=h.reduce(p,0),m=d.reduce(p,0),g=s-f,_=l-m;let v=0,x=f,b=0,w=m,E=0,T=g,k=0,S=_;if(o.content&&i){const e=o.content;v=op(h,0,e[0]),b=op(d,0,e[1]),x=op(h,e[0],e[2]),w=op(d,e[1],e[3]),E=e[0]-v,k=e[1]-b,T=e[2]-e[0]-x,S=e[3]-e[1]-w}const C=(i,r,s,l)=>{const h=sp(i.stretch-v,x,c,e.left),d=lp(i.fixed-E,T,i.stretch,f),p=sp(r.stretch-b,w,u,e.top),g=lp(r.fixed-k,S,r.stretch,m),_=sp(s.stretch-v,x,c,e.left),C=lp(s.fixed-E,T,s.stretch,f),M=sp(l.stretch-b,w,u,e.top),z=lp(l.fixed-k,S,l.stretch,m),A=new y(h,p),P=new y(_,p),I=new y(_,M),L=new y(h,M),D=new y(d/a,g/a),O=new y(C/a,z/a),R=t*Math.PI/180;if(R){const e=Math.sin(R),t=Math.cos(R),n=[t,-e,e,t];A._matMult(n),P._matMult(n),L._matMult(n),I._matMult(n)}const B=i.stretch+i.fixed,F=r.stretch+r.fixed;return{tl:A,tr:P,bl:L,br:I,tex:{x:o.paddedRect.x+ip+B,y:o.paddedRect.y+ip+F,w:s.stretch+s.fixed-B,h:l.stretch+l.fixed-F},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:D,pixelOffsetBR:O,minFontScaleX:T/a/c,minFontScaleY:S/a/u,isSDF:n}};if(i&&(o.stretchX||o.stretchY)){const e=ap(h,g,f),t=ap(d,_,m);for(let n=0;n<e.length-1;n++){const i=e[n],o=e[n+1];for(let e=0;e<t.length-1;e++)r.push(C(i,t[e],o,t[e+1]))}}else r.push(C({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:s+1},{fixed:0,stretch:l+1}));return r}function op(e,t,n){let i=0;for(const r of e)i+=Math.max(t,Math.min(n,r[1]))-Math.max(t,Math.min(n,r[0]));return i}function ap(e,t,n){const i=[{fixed:-ip,stretch:0}];for(const[r,o]of e){const e=i[i.length-1];i.push({fixed:r-e.stretch,stretch:e.stretch}),i.push({fixed:r-e.stretch,stretch:e.stretch+(o-r)})}return i.push({fixed:t+ip,stretch:n}),i}function sp(e,t,n,i){return e/t*n+i}function lp(e,t,n,i){return e-t*n/i}function cp(e,t,n,i){const r=t+e.positionedLines[i].lineOffset;return 0===i?n+r/2:n+(r+(t+e.positionedLines[i-1].lineOffset))/2}class up{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hp;if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let n=(this.length>>1)-1;n>=0;n--)this._down(n)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:n}=this,i=t[e];for(;e>0;){const r=e-1>>1,o=t[r];if(n(i,o)>=0)break;t[e]=o,e=r}t[e]=i}_down(e){const{data:t,compare:n}=this,i=this.length>>1,r=t[e];for(;e<i;){let i=1+(e<<1),o=t[i];const a=i+1;if(a<this.length&&n(t[a],o)<0&&(i=a,o=t[a]),n(o,r)>=0)break;t[e]=o,e=i}t[e]=r}}function hp(e,t){return e<t?-1:e>t?1:0}function dp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=1/0,r=1/0,o=-1/0,a=-1/0;const s=e[0];for(let p=0;p<s.length;p++){const e=s[p];(!p||e.x<i)&&(i=e.x),(!p||e.y<r)&&(r=e.y),(!p||e.x>o)&&(o=e.x),(!p||e.y>a)&&(a=e.y)}const l=Math.min(o-i,a-r);let c=l/2;const u=new up([],pp);if(0===l)return new y(i,r);for(let p=i;p<o;p+=l)for(let t=r;t<a;t+=l)u.push(new fp(p+c,t+c,c,e));let h=function(e){let t=0,n=0,i=0;const r=e[0];for(let o=0,a=r.length,s=a-1;o<a;s=o++){const e=r[o],a=r[s],l=e.x*a.y-a.x*e.y;n+=(e.x+a.x)*l,i+=(e.y+a.y)*l,t+=3*l}return new fp(n/t,i/t,0,e)}(e),d=u.length;for(;u.length;){const i=u.pop();(i.d>h.d||!h.d)&&(h=i,n&&console.log("found best %d after %d probes",Math.round(1e4*i.d)/1e4,d)),i.max-h.d<=t||(c=i.h/2,u.push(new fp(i.p.x-c,i.p.y-c,c,e)),u.push(new fp(i.p.x+c,i.p.y-c,c,e)),u.push(new fp(i.p.x-c,i.p.y+c,c,e)),u.push(new fp(i.p.x+c,i.p.y+c,c,e)),d+=4)}return n&&(console.log("num probes: ".concat(d)),console.log("best distance: ".concat(h.d))),h.p}function pp(e,t){return t.max-e.max}class fp{constructor(e,t,n,i){this.p=new y(e,t),this.h=n,this.d=function(e,t){let n=!1,i=1/0;for(let r=0;r<t.length;r++){const o=t[r];for(let t=0,r=o.length,a=r-1;t<r;a=t++){const r=o[t],s=o[a];r.y>e.y!=s.y>e.y&&e.x<(s.x-r.x)*(e.y-r.y)/(s.y-r.y)+r.x&&(n=!n),i=Math.min(i,yc(e,r,s))}}return(n?1:-1)*Math.sqrt(i)}(this.p,i),this.max=this.d+this.h*Math.SQRT2}}const mp=7,gp=Number.POSITIVE_INFINITY,_p=Math.sqrt(2);function yp(e,t){let[n,i]=t,r=0,o=0;if(i===gp){n<0&&(n=0);const t=n/_p;switch(e){case"top-right":case"top-left":o=t-mp;break;case"bottom-right":case"bottom-left":o=-t+mp;break;case"bottom":o=-n+mp;break;case"top":o=n-mp}switch(e){case"top-right":case"bottom-right":r=-t;break;case"top-left":case"bottom-left":r=t;break;case"left":r=n;break;case"right":r=-n}}else{switch(n=Math.abs(n),i=Math.abs(i),e){case"top-right":case"top-left":case"top":o=i-mp;break;case"bottom-right":case"bottom-left":case"bottom":o=-i+mp}switch(e){case"top-right":case"bottom-right":case"right":r=-n;break;case"top-left":case"bottom-left":case"left":r=n}}return[r,o]}function vp(e,t,n,i,r,o,a,s,l,c){e.createArrays(),e.tilePixelRatio=ss/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;const u=e.layers[0].layout,h=e.layers[0]._unevaluatedLayout._values,d={};if("composite"===e.textSizeData.kind){const{minZoom:t,maxZoom:n}=e.textSizeData;d.compositeTextSizes=[h["text-size"].possiblyEvaluate(new wo(t),s),h["text-size"].possiblyEvaluate(new wo(n),s)]}if("composite"===e.iconSizeData.kind){const{minZoom:t,maxZoom:n}=e.iconSizeData;d.compositeIconSizes=[h["icon-size"].possiblyEvaluate(new wo(t),s),h["icon-size"].possiblyEvaluate(new wo(n),s)]}d.layoutTextSize=h["text-size"].possiblyEvaluate(new wo(l+1),s),d.layoutIconSize=h["icon-size"].possiblyEvaluate(new wo(l+1),s),d.textMaxSize=h["text-size"].possiblyEvaluate(new wo(18),s);const p="map"===u.get("text-rotation-alignment")&&"point"!==u.get("symbol-placement"),f=u.get("text-size");for(const m of e.features){const o=u.get("text-font").evaluate(m,{},s).join(","),l=f.evaluate(m,{},s),h=d.layoutTextSize.evaluate(m,{},s),g=(d.layoutIconSize.evaluate(m,{},s),{horizontal:{},vertical:void 0}),_=m.text;let y,v=[0,0];if(_){const i=_.toString(),a=u.get("text-letter-spacing").evaluate(m,{},s)*Fh,c=u.get("text-line-height").evaluate(m,{},s)*Fh,d=no(i)?a:0,f=u.get("text-anchor").evaluate(m,{},s),y=u.get("text-variable-anchor");if(!y){const e=u.get("text-radial-offset").evaluate(m,{},s);v=e?yp(f,[e*Fh,gp]):u.get("text-offset").evaluate(m,{},s).map((e=>e*Fh))}let x=p?"center":u.get("text-justify").evaluate(m,{},s);const b="point"===u.get("symbol-placement"),w=b?u.get("text-max-width").evaluate(m,{},s)*Fh:1/0,E=a=>{e.allowVerticalPlacement&&to(i)&&(g.vertical=Ad(_,t,n,r,o,w,c,f,a,d,v,Sd.vertical,!0,h,l))};if(!p&&y){const e="auto"===x?y.map((e=>xp(e))):[x];let i=!1;for(let a=0;a<e.length;a++){const s=e[a];if(!g.horizontal[s])if(i)g.horizontal[s]=g.horizontal[0];else{const e=Ad(_,t,n,r,o,w,c,"center",s,d,v,Sd.horizontal,!1,h,l);e&&(g.horizontal[s]=e,i=1===e.positionedLines.length)}}E("left")}else{if("auto"===x&&(x=xp(f)),b||u.get("text-writing-mode").indexOf("horizontal")>=0||!to(i)){const e=Ad(_,t,n,r,o,w,c,f,x,d,v,Sd.horizontal,!1,h,l);e&&(g.horizontal[x]=e)}E(b?"left":x)}}let x=!1;if(m.icon&&m.icon.name){const t=i[m.icon.name];t&&(y=Nd(r[m.icon.name],u.get("icon-offset").evaluate(m,{},s),u.get("icon-anchor").evaluate(m,{},s)),x=t.sdf,void 0===e.sdfIcons?e.sdfIcons=t.sdf:e.sdfIcons!==t.sdf&&G("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(t.pixelRatio!==e.pixelRatio||0!==u.get("icon-rotate").constantOr(1))&&(e.iconsNeedLinear=!0))}const b=kp(g.horizontal)||g.vertical;e.iconsInText||(e.iconsInText=!!b&&b.iconsInText),(b||y)&&bp(e,m,g,y,i,d,h,0,v,x,a,s,c)}o&&e.generateCollisionDebugBuffers(l,e.collisionBoxArray)}function xp(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function bp(e,t,n,i,r,o,a,s,l,c,u,h,d){let p=o.textMaxSize.evaluate(t,{},h);void 0===p&&(p=a);const f=e.layers[0].layout,m=f.get("icon-offset").evaluate(t,{},h),g=kp(n.horizontal)||n.vertical,_="globe"===d.name,y=Fh,v=a/y,x=e.tilePixelRatio*p/y,w=(A=e.overscaling,e.zoom>18&&A>2&&(A>>=1),Math.max(ss/(512*A),1)*f.get("symbol-spacing")),E=f.get("text-padding")*e.tilePixelRatio,T=f.get("icon-padding")*e.tilePixelRatio,k=b(f.get("text-max-angle")),S="map"===f.get("text-rotation-alignment")&&"point"!==f.get("symbol-placement"),C="map"===f.get("icon-rotation-alignment")&&"point"!==f.get("symbol-placement"),M=f.get("symbol-placement"),z=w/2;var A;const P=f.get("icon-text-fit");let I;i&&"none"!==P&&(e.allowVerticalPlacement&&n.vertical&&(I=Ud(i,n.vertical,P,f.get("icon-text-fit-padding"),m,v)),g&&(i=Ud(i,g,P,f.get("icon-text-fit-padding"),m,v)));const L=(a,s,p)=>{if(s.x<0||s.x>=ss||s.y<0||s.y>=ss)return;let f=null;if(_){const{x:e,y:t,z:n}=d.projectTilePoint(s.x,s.y,p);f={anchor:new Vd(e,t,n,0,void 0),up:d.upVector(p,s.x,s.y)}}!function(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,_,y,v,x,b,w,E,T){const k=e.addToLineVertexArray(t,i);let S,C,M,z,A,P,I,L=0,D=0,O=0,R=0,B=-1,F=-1;const j={};let N=Pa("");const U=n?n.anchor:t;let V=0,q=0;if(void 0===l._unevaluatedLayout.getValue("text-radial-offset")?[V,q]=l.layout.get("text-offset").evaluate(x,{},T).map((e=>e*Fh)):(V=l.layout.get("text-radial-offset").evaluate(x,{},T)*Fh,q=gp),e.allowVerticalPlacement&&r.vertical){const e=r.vertical;if(f)P=Cp(e),s&&(I=Cp(s));else{const n=l.layout.get("text-rotate").evaluate(x,{},T)+90;M=Sp(c,U,t,u,h,d,e,p,n,m),s&&(z=Sp(c,U,t,u,h,d,s,_,n))}}if(o){const i=l.layout.get("icon-rotate").evaluate(x,{},T),r="none"!==l.layout.get("icon-text-fit"),a=rp(o,i,w,r),p=s?rp(s,i,w,r):void 0;C=Sp(c,U,t,u,h,d,o,_,i),L=4*a.length;const f=e.iconSizeData;let m=null;"source"===f.kind?(m=[jh*l.layout.get("icon-size").evaluate(x,{},T)],m[0]>Ep&&G("".concat(e.layerIds[0],': Value for "icon-size" is >= ').concat(wp,'. Reduce your "icon-size".'))):"composite"===f.kind&&(m=[jh*b.compositeIconSizes[0].evaluate(x,{},T),jh*b.compositeIconSizes[1].evaluate(x,{},T)],(m[0]>Ep||m[1]>Ep)&&G("".concat(e.layerIds[0],': Value for "icon-size" is >= ').concat(wp,'. Reduce your "icon-size".'))),e.addSymbols(e.icon,a,m,v,y,x,!1,n,t,k.lineStartIndex,k.lineLength,-1,E,T),B=e.icon.placedSymbolArray.length-1,p&&(D=4*p.length,e.addSymbols(e.icon,p,m,v,y,x,Sd.vertical,n,t,k.lineStartIndex,k.lineLength,-1,E,T),F=e.icon.placedSymbolArray.length-1)}for(const G in r.horizontal){const i=r.horizontal[G];S||(N=Pa(i.text),f?A=Cp(i):S=Sp(c,U,t,u,h,d,i,p,l.layout.get("text-rotate").evaluate(x,{},T),m));const o=1===i.positionedLines.length;if(O+=Tp(e,n,t,i,a,l,f,x,m,k,r.vertical?Sd.horizontal:Sd.horizontalOnly,o?Object.keys(r.horizontal):[G],j,B,b,E,T),o)break}r.vertical&&(R+=Tp(e,n,t,r.vertical,a,l,f,x,m,k,Sd.vertical,["vertical"],j,F,b,E,T));let W=-1;const Z=(e,t)=>e?Math.max(e,t):t;W=Z(A,W),W=Z(P,W),W=Z(I,W);const H=W>-1?1:0;e.glyphOffsetArray.length>=sf.MAX_GLYPHS&&G("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==x.sortKey&&e.addToSortKeyRanges(e.symbolInstances.length,x.sortKey),e.symbolInstances.emplaceBack(U.x,U.y,U.z,t.x,t.y,j.right>=0?j.right:-1,j.center>=0?j.center:-1,j.left>=0?j.left:-1,j.vertical>=0?j.vertical:-1,B,F,N,void 0!==S?S:e.collisionBoxArray.length,void 0!==S?S+1:e.collisionBoxArray.length,void 0!==M?M:e.collisionBoxArray.length,void 0!==M?M+1:e.collisionBoxArray.length,void 0!==C?C:e.collisionBoxArray.length,void 0!==C?C+1:e.collisionBoxArray.length,z||e.collisionBoxArray.length,z?z+1:e.collisionBoxArray.length,u,O,R,L,D,H,0,V,q,W)}(e,s,f,a,n,i,r,I,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,E,S,l,0,T,C,m,t,o,c,u,h)};if("line"===M)for(const b of Yd(t.geometry,0,0,ss,ss)){const t=Xd(b,w,k,n.vertical||g,i,y,x,e.overscaling,ss);for(const n of t)g&&Mp(e,g.text,z,n)||L(b,n,h)}else if("line-center"===M){for(const b of t.geometry)if(b.length>1){const e=Hd(b,k,n.vertical||g,i,y,x);e&&L(b,e,h)}}else if("Polygon"===t.type)for(const b of Eu(t.geometry,0)){const e=dp(b,16);L(b[0],new Vd(e.x,e.y,0,0,void 0),h)}else if("LineString"===t.type)for(const b of t.geometry)L(b,new Vd(b[0].x,b[0].y,0,0,void 0),h);else if("Point"===t.type)for(const b of t.geometry)for(const e of b)L([e],new Vd(e.x,e.y,0,0,void 0),h)}const wp=255,Ep=wp*jh;function Tp(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g){const _=function(e,t,n,i,r,o,a,s){const l=[];if(0===t.positionedLines.length)return l;const c=i.layout.get("text-rotate").evaluate(o,{})*Math.PI/180,u=function(e){const t=e[0],n=e[1],i=t*n;return i>0?[t,-n]:i<0?[-t,n]:0===t?[n,t]:[n,-t]}(n);let h=Math.abs(t.top-t.bottom);for(const m of t.positionedLines)h-=m.lineOffset;const d=t.positionedLines.length,p=h/d;let f=t.top-n[1];for(let m=0;m<d;++m){const e=t.positionedLines[m];f=cp(t,p,f,m);for(const i of e.positionedGlyphs){if(!i.rect)continue;const e=i.rect||{};let o=bd+1,h=!0,d=1,p=0;if(i.imageName){const e=a[i.imageName];if(!e)continue;if(e.sdf){G("SDF images are not supported in formatted text and will be ignored.");continue}h=!1,d=e.pixelRatio,o=Ed/d}const m=(r||s)&&i.vertical,g=i.metrics.advance*i.scale/2,_=i.metrics,v=i.rect;if(null===v)continue;s&&t.verticalizable&&(p=i.imageName?g-i.metrics.width*i.scale/2:0);const x=r?[i.x+g,i.y]:[0,0];let b=[0,0],w=[0,0],E=!1;r||(m?(w=[i.x+g+u[0],i.y+u[1]-p],E=!0):b=[i.x+g+n[0],i.y+n[1]-p]);const T=v.w*i.scale/(d*(i.localGlyph?ep:1)),k=v.h*i.scale/(d*(i.localGlyph?ep:1));let S,C,M,z;if(m){const e=i.y-f,t=new y(-g,g-e),n=-Math.PI/2,r=new y(...w);S=new y(-g+b[0],b[1]),S._rotateAround(n,t)._add(r),S.x+=-e+g,S.y-=(_.left-o)*i.scale;const a=i.imageName?_.advance*i.scale:Fh*i.scale,s=String.fromCharCode(i.glyph);Zh(s)?S.x+=(1-o)*i.scale:Hh(s)?S.x+=a-_.height*i.scale+(-o-1)*i.scale:S.x+=i.imageName||_.width+2*o===v.w&&_.height+2*o===v.h?(a-k)/2:(a-(_.height+2*o)*i.scale)/2,C=new y(S.x,S.y-T),M=new y(S.x+k,S.y),z=new y(S.x+k,S.y-T)}else{const e=(_.left-o)*i.scale-g+b[0],t=(-_.top-o)*i.scale+b[1],n=e+T,r=t+k;S=new y(e,t),C=new y(n,t),M=new y(e,r),z=new y(n,r)}if(c){let e;e=r?new y(0,0):E?new y(u[0],u[1]):new y(n[0],n[1]),S._rotateAround(c,e),C._rotateAround(c,e),M._rotateAround(c,e),z._rotateAround(c,e)}const A=new y(0,0),P=new y(0,0);l.push({tl:S,tr:C,bl:M,br:z,tex:e,writingMode:t.writingMode,glyphOffset:x,sectionIndex:i.sectionIndex,isSDF:h,pixelOffsetTL:A,pixelOffsetBR:P,minFontScaleX:0,minFontScaleY:0})}}return l}(0,i,l,o,a,s,r,e.allowVerticalPlacement),v=e.textSizeData;let x=null;"source"===v.kind?(x=[jh*o.layout.get("text-size").evaluate(s,{},g)],x[0]>Ep&&G("".concat(e.layerIds[0],': Value for "text-size" is >= ').concat(wp,'. Reduce your "text-size".'))):"composite"===v.kind&&(x=[jh*f.compositeTextSizes[0].evaluate(s,{},g),jh*f.compositeTextSizes[1].evaluate(s,{},g)],(x[0]>Ep||x[1]>Ep)&&G("".concat(e.layerIds[0],': Value for "text-size" is >= ').concat(wp,'. Reduce your "text-size".'))),e.addSymbols(e.text,_,x,l,a,s,u,t,n,c.lineStartIndex,c.lineLength,p,m,g);for(const y of h)d[y]=e.text.placedSymbolArray.length-1;return 4*_.length}function kp(e){for(const t in e)return e[t];return null}function Sp(e,t,n,i,r,o,a,s,l,c){let u=a.top,h=a.bottom,d=a.left,p=a.right;const f=a.collisionPadding;if(f&&(d-=f[0],u-=f[1],p+=f[2],h+=f[3]),l){const e=new y(d,u),t=new y(p,u),n=new y(d,h),i=new y(p,h),r=b(l);let o=new y(0,0);c&&(o=new y(c[0],c[1])),e._rotateAround(r,o),t._rotateAround(r,o),n._rotateAround(r,o),i._rotateAround(r,o),d=Math.min(e.x,t.x,n.x,i.x),p=Math.max(e.x,t.x,n.x,i.x),u=Math.min(e.y,t.y,n.y,i.y),h=Math.max(e.y,t.y,n.y,i.y)}return e.emplaceBack(t.x,t.y,t.z,n.x,n.y,d,u,p,h,s,i,r,o),e.length-1}function Cp(e){e.collisionPadding&&(e.top-=e.collisionPadding[1],e.bottom+=e.collisionPadding[3]);const t=e.bottom-e.top;return t>0?Math.max(10,t):null}function Mp(e,t,n,i){const r=e.compareText;if(t in r){const e=r[t];for(let t=e.length-1;t>=0;t--)if(i.dist(e[t])<n)return!0}else r[t]=[];return r[t].push(i),!1}function zp(e,t){const n=e.fovAboveCenter,i=e.elevation?e.elevation.getMinElevationBelowMSL()*t:0,r=(e._camera.position[2]*e.worldSize-i)/Math.cos(e._pitch),o=Math.sin(n)*r/Math.sin(Math.max(Math.PI/2-e._pitch-n,.01)),a=Math.sin(e._pitch)*o+r;return Math.min(1.01*a,r*(1/e._horizonShift))}function Ap(e,t){if(!t.isReprojectedInTileSpace)return{scale:1<<e.z,x:e.x,y:e.y,x2:e.x+1,y2:e.y+1,projection:t};const n=Math.pow(2,-e.z),i=e.x*n,r=(e.x+1)*n,o=e.y*n,a=(e.y+1)*n,s=Hl(i),l=Hl(r),c=Xl(o),u=Xl(a),h=t.project(s,c),d=t.project(l,c),p=t.project(l,u),f=t.project(s,u);let m=Math.min(h.x,d.x,p.x,f.x),g=Math.min(h.y,d.y,p.y,f.y),_=Math.max(h.x,d.x,p.x,f.x),y=Math.max(h.y,d.y,p.y,f.y);const v=n/16;function x(e,n,i,r,o,a){const s=(i+o)/2,l=(r+a)/2,c=t.project(Hl(s),Xl(l)),u=Math.max(0,m-c.x,g-c.y,c.x-_,c.y-y);m=Math.min(m,c.x),_=Math.max(_,c.x),g=Math.min(g,c.y),y=Math.max(y,c.y),u>v&&(x(e,c,i,r,s,l),x(c,n,s,l,o,a))}x(h,d,i,o,r,o),x(d,p,r,o,r,a),x(p,f,r,a,i,a),x(f,h,i,a,i,o),m-=v,g-=v,_+=v,y+=v;const b=1/Math.max(_-m,y-g);return{scale:b,x:m*b,y:g*b,x2:_*b,y2:y*b,projection:t}}const Pp=ps(new Float32Array(16));class Ip{constructor(e){this.spec=e,this.name=e.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(e,t){return{x:0,y:0,z:0}}unproject(e,t){return new Vl(0,0)}projectTilePoint(e,t,n){return{x:e,y:t,z:0}}locationPoint(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e._coordinatePoint(e.locationCoordinate(t),n)}pixelsPerMeter(e,t){return Zl(1,e)*t}pixelSpaceConversion(e,t,n){return 1}farthestPixelDistance(e){return zp(e,e.pixelsPerMeter)}pointCoordinate(e,t,n,i){const r=e.horizonLineFromTop(!1),o=new y(t,Math.max(r,n));return e.rayIntersectionCoordinate(e.pointRayIntersection(o,i))}pointCoordinate3D(e,t,n){const i=new y(t,n);if(e.elevation)return e.elevation.pointCoordinate(i);{const t=this.pointCoordinate(e,i.x,i.y,0);return[t.x,t.y,t.z]}}isPointAboveHorizon(e,t){if(e.elevation)return!this.pointCoordinate3D(e,t.x,t.y);const n=e.horizonLineFromTop();return t.y<n}createInversionMatrix(e,t){return Pp}createTileMatrix(e,t,n){let i,r,o;const a=n.canonical,s=ps(new Float64Array(16));if(this.isReprojectedInTileSpace){const l=Ap(a,this);i=1,r=l.x+n.wrap*l.scale,o=l.y,_s(s,s,[i/l.scale,i/l.scale,e.pixelsPerMeter/t])}else i=t/e.zoomScale(a.z),r=(a.x+Math.pow(2,a.z)*n.wrap)*i,o=a.y*i;return gs(s,s,[r,o,0]),_s(s,s,[i/ss,i/ss,1]),s}upVector(e,t,n){return[0,0,1]}upVectorScale(e,t,n){return{metersToTile:1}}}class Lp extends Ip{constructor(e){super(e),this.range=[4,7],this.center=e.center||[-96,37.5];const[t,n]=this.parallels=e.parallels||[29.5,45.5],i=Math.sin(b(t));this.n=(i+Math.sin(b(n)))/2,this.c=1+i*(2*this.n-i),this.r0=Math.sqrt(this.c)/this.n}project(e,t){const{n:n,c:i,r0:r}=this,o=b(e-this.center[0]),a=b(t),s=Math.sqrt(i-2*n*Math.sin(a))/n;return{x:s*Math.sin(o*n),y:s*Math.cos(o*n)-r,z:0}}unproject(e,t){const{n:n,c:i,r0:r}=this,o=r+t;let a=Math.atan2(e,Math.abs(o))*Math.sign(o);o*n<0&&(a-=Math.PI*Math.sign(e)*Math.sign(o));const s=b(this.center[0])*n;a=z(a,-Math.PI-s,Math.PI-s);const l=C(w(a/n)+this.center[0],-180,180),c=Math.asin(C((i-(e*e+o*o)*n*n)/(2*n),-1,1)),u=C(w(c),-Yl,Yl);return new Vl(l,u)}}const Dp=1.340264,Op=-.081106,Rp=893e-6,Bp=.003796,Fp=Math.sqrt(3)/2;class jp extends Ip{project(e,t){t=t/180*Math.PI,e=e/180*Math.PI;const n=Math.asin(Fp*Math.sin(t)),i=n*n,r=i*i*i;return{x:.5*(e*Math.cos(n)/(Fp*(Dp+3*Op*i+r*(7*Rp+9*Bp*i)))/Math.PI+.5),y:1-.5*(n*(Dp+Op*i+r*(Rp+Bp*i))/Math.PI+1),z:0}}unproject(e,t){e=(2*e-.5)*Math.PI;let n=t=(2*(1-t)-1)*Math.PI,i=n*n,r=i*i*i;for(let c,u,h,d=0;d<12&&(u=n*(Dp+Op*i+r*(Rp+Bp*i))-t,h=Dp+3*Op*i+r*(7*Rp+9*Bp*i),c=u/h,n=C(n-c,-Math.PI/3,Math.PI/3),i=n*n,r=i*i*i,!(Math.abs(c)<1e-12));++d);const o=Fp*e*(Dp+3*Op*i+r*(7*Rp+9*Bp*i))/Math.cos(n),a=Math.asin(Math.sin(n)/Fp),s=C(180*o/Math.PI,-180,180),l=C(180*a/Math.PI,-Yl,Yl);return new Vl(s,l)}}class Np extends Ip{constructor(e){super(e),this.wrap=!0,this.supportsWorldCopies=!0}project(e,t){return{x:.5+e/360,y:.5-t/360,z:0}}unproject(e,t){const n=360*(e-.5),i=C(360*(.5-t),-Yl,Yl);return new Vl(n,i)}}const Up=Math.PI/2;function Vp(e){return Math.tan((Up+e)/2)}class qp extends Ip{constructor(e){super(e),this.center=e.center||[0,30];const[t,n]=this.parallels=e.parallels||[30,30];let i=b(t),r=b(n);this.southernCenter=i+r<0,this.southernCenter&&(i=-i,r=-r);const o=Math.cos(i),a=Vp(i);this.n=i===r?Math.sin(i):Math.log(o/Math.cos(r))/Math.log(Vp(r)/a),this.f=o*Math.pow(Vp(i),this.n)/this.n}project(e,t){t=b(t),this.southernCenter&&(t=-t),e=b(e-this.center[0]);const n=1e-6,{n:i,f:r}=this;r>0?t<-Up+n&&(t=-Up+n):t>Up-n&&(t=Up-n);const o=r/Math.pow(Vp(t),i);let a=o*Math.sin(i*e),s=r-o*Math.cos(i*e);return a=.5*(a/Math.PI+.5),s=.5*(s/Math.PI+.5),{x:a,y:this.southernCenter?s:1-s,z:0}}unproject(e,t){e=(2*e-.5)*Math.PI,this.southernCenter&&(t=1-t),t=(2*(1-t)-.5)*Math.PI;const{n:n,f:i}=this,r=i-t,o=Math.sign(r),a=Math.sign(n)*Math.sqrt(e*e+r*r);let s=Math.atan2(e,Math.abs(r))*o;r*n<0&&(s-=Math.PI*Math.sign(e)*o);const l=C(w(s/n)+this.center[0],-180,180),c=C(w(2*Math.atan(Math.pow(i/a,1/n))-Up),-Yl,Yl);return new Vl(l,this.southernCenter?-c:c)}}class Gp extends Ip{constructor(e){super(e),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(e,t){return{x:Gl(e),y:Wl(t),z:0}}unproject(e,t){const n=Hl(e),i=Xl(t);return new Vl(n,i)}}const Wp=b(Yl);class Zp extends Ip{project(e,t){const n=(t=b(t))*t,i=n*n;return{x:.5*((e=b(e))*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791))/Math.PI+.5),y:1-.5*(t*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))/Math.PI+1),z:0}}unproject(e,t){e=(2*e-.5)*Math.PI;let n=t=(2*(1-t)-1)*Math.PI,i=25,r=0,o=n*n;do{o=n*n;const e=o*o;r=(n*(1.007226+o*(.015085+e*(.028874*o-.044475-.005916*e)))-t)/(1.007226+o*(.045255+e*(.259866*o-.311325-.005916*11*e))),n=C(n-r,-Wp,Wp)}while(Math.abs(r)>1e-6&&--i>0);o=n*n;const a=C(w(e/(.8707+o*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979))),-180,180),s=w(n);return new Vl(a,s)}}const Hp=b(Yl);class Xp extends Ip{project(e,t){t=b(t),e=b(e);const n=Math.cos(t),i=2/Math.PI,r=Math.acos(n*Math.cos(e/2)),o=Math.sin(r)/r,a=.5*(e*i+2*n*Math.sin(e/2)/o)||0,s=.5*(t+Math.sin(t)/o)||0;return{x:.5*(a/Math.PI+.5),y:1-.5*(s/Math.PI+1),z:0}}unproject(e,t){let n=e=(2*e-.5)*Math.PI,i=t=(2*(1-t)-1)*Math.PI,r=25;const o=1e-6;let a=0,s=0;do{const r=Math.cos(i),o=Math.sin(i),l=2*o*r,c=o*o,u=r*r,h=Math.cos(n/2),d=Math.sin(n/2),p=2*h*d,f=d*d,m=1-u*h*h,g=m?1/m:0,_=m?Math.acos(r*h)*Math.sqrt(1/m):0,y=.5*(2*_*r*d+2*n/Math.PI)-e,v=.5*(_*o+i)-t,x=.5*g*(u*f+_*r*h*c)+1/Math.PI,b=g*(p*l/4-_*o*d),w=.125*g*(l*d-_*o*u*p),E=.5*g*(c*h+_*f*r)+.5,T=b*w-E*x;a=(v*b-y*E)/T,s=(y*w-v*x)/T,n=C(n-a,-Math.PI,Math.PI),i=C(i-s,-Hp,Hp)}while((Math.abs(a)>o||Math.abs(s)>o)&&--r>0);return new Vl(w(n),w(i))}}class Kp extends Ip{constructor(e){super(e),this.center=e.center||[0,0],this.parallels=e.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(b(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(e,t){const{scale:n,cosPhi:i}=this;return{x:b(e)*i*n+.5,y:-Math.sin(b(t))/i*n+.5,z:0}}unproject(e,t){const{scale:n,cosPhi:i}=this,r=-(t-.5)/n,o=C(w((e-.5)/n)/i,-180,180),a=Math.asin(C(r*i,-1,1)),s=C(w(a),-Yl,Yl);return new Vl(o,s)}}class Yp extends Gp{constructor(e){super(e),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug"],this.range=[3,5]}projectTilePoint(e,t,n){const i=Cl(e,t,n);return Bs(i,i,Al(yl(n))),{x:i[0],y:i[1],z:i[2]}}locationPoint(e,t){const n=Sl(t.lat,t.lng),i=Ds([],n),r=e.elevation?e.elevation.getAtPointOrZero(e.locationCoordinate(t),e._centerAltitude):e._centerAltitude;Ls(n,n,i,Zl(1,0)*ss*r);const o=ps(new Float64Array(16));return ms(o,e.pixelMatrix,e.globeMatrix),Bs(n,n,o),new y(n[0],n[1])}pixelsPerMeter(e,t){return Zl(1,0)*t}pixelSpaceConversion(e,t,n){const i=Zl(1,e)*t,r=In(Zl(1,45)*t,i,n);return this.pixelsPerMeter(e,t)/r}createTileMatrix(e,t,n){const i=Pl(yl(n.canonical));return ms(new Float64Array(16),e.globeMatrix,i)}createInversionMatrix(e,t){const{center:n}=e,i=Al(yl(t));return vs(i,i,b(n.lng)),ys(i,i,b(n.lat)),_s(i,i,[e._pixelsPerMercatorPixel,e._pixelsPerMercatorPixel,1]),Float32Array.from(i)}pointCoordinate(e,t,n,i){return ml(e,t,n,!0)||new $l(0,0)}pointCoordinate3D(e,t,n){const i=this.pointCoordinate(e,t,n,0);return[i.x,i.y,i.z]}isPointAboveHorizon(e,t){return!ml(e,t.x,t.y,!1)}farthestPixelDistance(e){const t=function(e,t){const n=e.cameraToCenterDistance,i=e._centerAltitude*t,r=e._camera,o=e._camera.forward(),a=Cs([],Is([],o,-n),[0,0,i]),s=e.worldSize/(2*Math.PI),l=[0,0,-s],c=e.width/e.height,u=Math.tan(e.fovAboveCenter),h=Is([],r.up(),u),d=Is([],r.right(),u*c),p=Ds([],Cs([],Cs([],o,h),d)),f=[];let m;if(new tl(a,p).closestPointOnSphere(l,s,f)){const t=Cs([],f,l),n=Ns([],t,a);m=Math.cos(e.fovAboveCenter)*ks(n)}else{const e=Ns([],a,l),t=Ns([],l,a);Ds(t,t);const n=ks(e)-s;m=Math.sqrt(n*(n+2*s));const i=Math.acos(m/(s+n))-Math.acos(Os(o,t));m*=Math.cos(i)}return 1.01*m}(e,this.pixelsPerMeter(e.center.lat,e.worldSize)),n=Ll(e.zoom);if(n>0){const i=zp(e,Zl(1,e.center.lat)*e.worldSize),r=e.worldSize/(2*Math.PI),o=Math.max(e.width,e.height)/e.worldSize*Math.PI;return In(t,i+r*(1-Math.cos(o)),Math.pow(n,10))}return t}upVector(e,t,n){return Cl(t,n,e,1)}upVectorScale(e){return{metersToTile:fl(Ml(yl(e)))}}}function Jp(e){const t=e.parallels,n=!!t&&Math.abs(t[0]+t[1])<.01;switch(e.name){case"mercator":return new Gp(e);case"equirectangular":return new Np(e);case"naturalEarth":return new Zp(e);case"equalEarth":return new jp(e);case"winkelTripel":return new Xp(e);case"albers":return n?new Kp(e):new Lp(e);case"lambertConformalConic":return n?new Kp(e):new qp(e);case"globe":return new Yp(e)}throw new Error("Invalid projection name: ".concat(e.name))}const $p=Hu.types,Qp=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function ef(e,t,n,i,r,o,a,s,l,c,u,h,d){const p=s?Math.min(Ep,Math.round(s[0])):0,f=s?Math.min(Ep,Math.round(s[1])):0;e.emplaceBack(t,n,Math.round(32*i),Math.round(32*r),o,a,(p<<1)+(l?1:0),f,16*c,16*u,256*h,256*d)}function tf(e,t,n,i,r,o,a){e.emplaceBack(t,n,i,r,o,a)}function nf(e,t,n,i,r){e.emplaceBack(t,n,i,r),e.emplaceBack(t,n,i,r),e.emplaceBack(t,n,i,r),e.emplaceBack(t,n,i,r)}function rf(e){for(const t of e.sections)if(lo(t.text))return!0;return!1}class of{constructor(e){this.layoutVertexArray=new Ko,this.indexArray=new ia,this.programConfigurations=e,this.segments=new as,this.dynamicLayoutVertexArray=new Wo,this.opacityVertexArray=new Jo,this.placedSymbolArray=new ma,this.globeExtVertexArray=new Yo}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(e,t,n,i){this.isEmpty()||(n&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ph.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,Lh.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,Qp,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,Ih.members,!0)),this.opacityVertexBuffer.itemSize=1),(n||i)&&this.programConfigurations.upload(e))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}Kr(of,"SymbolBuffers");class af{constructor(e,t,n){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new n,this.segments=new as,this.collisionVertexArray=new ta,this.collisionVertexArrayExt=new na}upload(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,Dh.members,!0),this.collisionVertexBufferExt=e.createVertexBuffer(this.collisionVertexArrayExt,Oh.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Kr(af,"CollisionBuffers");class sf{constructor(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=ps([]),this.placementViewportMatrix=ps([]);const t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Nh(this.zoom,t["text-size"]),this.iconSizeData=Nh(this.zoom,t["icon-size"]);const n=this.layers[0].layout,i=n.get("symbol-sort-key"),r=n.get("symbol-z-order");this.canOverlap=n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==r&&void 0!==i.constantOr(1),this.sortFeaturesByY=("viewport-y"===r||"auto"===r&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=n.get("text-writing-mode").map((e=>Sd[e])),this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id)),this.sourceID=e.sourceID,this.projection=e.projection}createArrays(){this.text=new of(new Ya(this.layers,this.zoom,(e=>/^text/.test(e)))),this.icon=new of(new Ya(this.layers,this.zoom,(e=>/^icon/.test(e)))),this.glyphOffsetArray=new ya,this.lineVertexArray=new va,this.symbolInstances=new _a}calculateGlyphDependencies(e,t,n,i,r){for(let o=0;o<e.length;o++)if(t[e.charCodeAt(o)]=!0,i&&r){const n=Wh[e.charAt(o)];n&&(t[n.charCodeAt(0)]=!0)}}populate(e,t,n,i){const r=this.layers[0],o=r.layout,a="globe"===this.projection.name,s=o.get("text-font"),l=o.get("text-field"),c=o.get("icon-image"),u=("constant"!==l.value.kind||l.value.value instanceof Dt&&!l.value.value.isEmpty()||l.value.value.toString().length>0)&&("constant"!==s.value.kind||s.value.value.length>0),h="constant"!==c.value.kind||!!c.value.value||Object.keys(c.parameters).length>0,d=o.get("symbol-sort-key");if(this.features=[],!u&&!h)return;const p=t.iconDependencies,f=t.glyphDependencies,m=t.availableImages,g=new wo(this.zoom);for(const{feature:_,id:y,index:v,sourceLayerIndex:x}of e){const e=r._featureFilter.needGeometry,t=sc(_,e);if(!r._featureFilter.filter(g,t,n))continue;if(e||(t.geometry=ac(_,n,i)),a&&1!==_.type&&n.z<=5){const e=t.geometry,i=.98078528056,r=(e,t)=>Os(Cl(e.x,e.y,n,1),Cl(t.x,t.y,n,1))<i;for(let t=0;t<e.length;t++)e[t]=nc(e[t],r)}let l,c;if(u){const e=r.getValueAndResolveTokens("text-field",t,n,m),i=Dt.factory(e);rf(i)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===vo()||this.hasRTLText&&bo.isParsed())&&(l=Gh(i,r,t))}if(h){const e=r.getValueAndResolveTokens("icon-image",t,n,m);c=e instanceof Ot?e:Ot.fromString(e)}if(!l&&!c)continue;const b=this.sortFeaturesByKey?d.evaluate(t,{},n):void 0;if(this.features.push({id:y,text:l,icon:c,index:v,sourceLayerIndex:x,geometry:t.geometry,properties:_.properties,type:$p[_.type],sortKey:b}),c&&(p[c.name]=!0),l){const e=s.evaluate(t,{},n).join(","),i="map"===o.get("text-rotation-alignment")&&"point"!==o.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Sd.vertical)>=0;for(const t of l.sections)if(t.image)p[t.image.name]=!0;else{const n=to(l.toString()),r=t.fontStack||e,o=f[r]=f[r]||{};this.calculateGlyphDependencies(t.text,o,i,this.allowVerticalPlacement,n)}}}"line"===o.get("symbol-placement")&&(this.features=function(e){const t={},n={},i=[];let r=0;function o(t){i.push(e[t]),r++}function a(e,t,r){const o=n[e];return delete n[e],n[t]=o,i[o].geometry[0].pop(),i[o].geometry[0]=i[o].geometry[0].concat(r[0]),o}function s(e,n,r){const o=t[n];return delete t[n],t[e]=o,i[o].geometry[0].shift(),i[o].geometry[0]=r[0].concat(i[o].geometry[0]),o}function l(e,t,n){const i=n?t[0][t[0].length-1]:t[0][0];return"".concat(e,":").concat(i.x,":").concat(i.y)}for(let c=0;c<e.length;c++){const u=e[c],h=u.geometry,d=u.text?u.text.toString():null;if(!d){o(c);continue}const p=l(d,h),f=l(d,h,!0);if(p in n&&f in t&&n[p]!==t[f]){const e=s(p,f,h),r=a(p,f,i[e].geometry);delete t[p],delete n[f],n[l(d,i[r].geometry,!0)]=r,i[e].geometry=null}else p in n?a(p,f,h):f in t?s(p,f,h):(o(c),t[p]=r-1,n[f]=r-1)}return i.filter((e=>e.geometry))}(this.features)),this.sortFeaturesByKey&&this.features.sort(((e,t)=>e.sortKey-t.sortKey))}update(e,t,n,i){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,n,i),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,n,i))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=Jp(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(e,t){const n=this.lineVertexArray.length;if(void 0!==e.segment)for(const{x:i,y:r}of t)this.lineVertexArray.emplaceBack(i,r);return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}}addSymbols(e,t,n,i,r,o,a,s,l,c,u,h,d,p){const f=e.indexArray,m=e.layoutVertexArray,g=e.globeExtVertexArray,_=e.segments.prepareSegment(4*t.length,m,f,this.canOverlap?o.sortKey:void 0),y=this.glyphOffsetArray.length,v=_.vertexLength,x=this.allowVerticalPlacement&&a===Sd.vertical?Math.PI/2:0,b=o.text&&o.text.sections;for(let E=0;E<t.length;E++){const{tl:i,tr:r,bl:a,br:c,tex:u,pixelOffsetTL:h,pixelOffsetBR:y,minFontScaleX:v,minFontScaleY:w,glyphOffset:T,isSDF:k,sectionIndex:S}=t[E],C=_.vertexLength,M=T[1];if(ef(m,l.x,l.y,i.x,M+i.y,u.x,u.y,n,k,h.x,h.y,v,w),ef(m,l.x,l.y,r.x,M+r.y,u.x+u.w,u.y,n,k,y.x,h.y,v,w),ef(m,l.x,l.y,a.x,M+a.y,u.x,u.y+u.h,n,k,h.x,y.y,v,w),ef(m,l.x,l.y,c.x,M+c.y,u.x+u.w,u.y+u.h,n,k,y.x,y.y,v,w),s){const{x:t,y:n,z:i}=s.anchor,[r,o,a]=s.up;tf(g,t,n,i,r,o,a),tf(g,t,n,i,r,o,a),tf(g,t,n,i,r,o,a),tf(g,t,n,i,r,o,a),nf(e.dynamicLayoutVertexArray,t,n,i,x)}else nf(e.dynamicLayoutVertexArray,l.x,l.y,l.z,x);f.emplaceBack(C,C+1,C+2),f.emplaceBack(C+1,C+2,C+3),_.vertexLength+=4,_.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(T[0]),E!==t.length-1&&S===t[E+1].sectionIndex||e.programConfigurations.populatePaintArrays(m.length,o,o.index,{},d,p,b&&b[S])}const w=s?s.anchor:l;e.placedSymbolArray.emplaceBack(w.x,w.y,w.z,l.x,l.y,y,this.glyphOffsetArray.length-y,v,c,u,l.segment,n?n[0]:0,n?n[1]:0,i[0],i[1],a,0,!1,0,h,0)}_commitLayoutVertex(e,t,n,i,r,o,a){e.emplaceBack(t,n,i,r,o,Math.round(a.x),Math.round(a.y))}_addCollisionDebugVertices(e,t,n,i,r,o,a){const s=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray),l=s.vertexLength,c=a.tileAnchorX,u=a.tileAnchorY;for(let d=0;d<4;d++)n.collisionVertexArray.emplaceBack(0,0,0,0);n.collisionVertexArrayExt.emplaceBack(t,-e.padding,-e.padding),n.collisionVertexArrayExt.emplaceBack(t,e.padding,-e.padding),n.collisionVertexArrayExt.emplaceBack(t,e.padding,e.padding),n.collisionVertexArrayExt.emplaceBack(t,-e.padding,e.padding),this._commitLayoutVertex(n.layoutVertexArray,i,r,o,c,u,new y(e.x1,e.y1)),this._commitLayoutVertex(n.layoutVertexArray,i,r,o,c,u,new y(e.x2,e.y1)),this._commitLayoutVertex(n.layoutVertexArray,i,r,o,c,u,new y(e.x2,e.y2)),this._commitLayoutVertex(n.layoutVertexArray,i,r,o,c,u,new y(e.x1,e.y2)),s.vertexLength+=4;const h=n.indexArray;h.emplaceBack(l,l+1),h.emplaceBack(l+1,l+2),h.emplaceBack(l+2,l+3),h.emplaceBack(l+3,l),s.primitiveLength+=4}_addTextDebugCollisionBoxes(e,t,n,i,r,o){for(let a=i;a<r;a++){const i=n.get(a),r=this.getSymbolInstanceTextSize(e,o,t,a);this._addCollisionDebugVertices(i,r,this.textCollisionBox,i.projectedAnchorX,i.projectedAnchorY,i.projectedAnchorZ,o)}}_addIconDebugCollisionBoxes(e,t,n,i,r,o){for(let a=i;a<r;a++){const i=n.get(a),r=this.getSymbolInstanceIconSize(e,t,o.placedIconSymbolIndex);this._addCollisionDebugVertices(i,r,this.iconCollisionBox,i.projectedAnchorX,i.projectedAnchorY,i.projectedAnchorZ,o)}}generateCollisionDebugBuffers(e,t){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new af(Qo,Rh.members,ca),this.iconCollisionBox=new af(Qo,Rh.members,ca);const n=Vh(this.iconSizeData,e),i=Vh(this.textSizeData,e);for(let r=0;r<this.symbolInstances.length;r++){const o=this.symbolInstances.get(r);this._addTextDebugCollisionBoxes(i,e,t,o.textBoxStartIndex,o.textBoxEndIndex,o),this._addTextDebugCollisionBoxes(i,e,t,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o),this._addIconDebugCollisionBoxes(n,e,t,o.iconBoxStartIndex,o.iconBoxEndIndex,o),this._addIconDebugCollisionBoxes(n,e,t,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex,o)}}getSymbolInstanceTextSize(e,t,n,i){const r=this.text.placedSymbolArray.get(t.rightJustifiedTextSymbolIndex>=0?t.rightJustifiedTextSymbolIndex:t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.leftJustifiedTextSymbolIndex>=0?t.leftJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex>=0?t.verticalPlacedTextSymbolIndex:i),o=Uh(this.textSizeData,e,r)/Fh;return this.tilePixelRatio*o}getSymbolInstanceIconSize(e,t,n){const i=this.icon.placedSymbolArray.get(n),r=Uh(this.iconSizeData,e,i);return this.tilePixelRatio*r}_commitDebugCollisionVertexUpdate(e,t,n){e.emplaceBack(t,-n,-n),e.emplaceBack(t,n,-n),e.emplaceBack(t,n,n),e.emplaceBack(t,-n,n)}_updateTextDebugCollisionBoxes(e,t,n,i,r,o){for(let a=i;a<r;a++){const i=n.get(a),r=this.getSymbolInstanceTextSize(e,o,t,a);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,r,i.padding)}}_updateIconDebugCollisionBoxes(e,t,n,i,r,o){for(let a=i;a<r;a++){const i=n.get(a),r=this.getSymbolInstanceIconSize(e,t,o);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,r,i.padding)}}updateCollisionDebugBuffers(e,t){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const n=Vh(this.iconSizeData,e),i=Vh(this.textSizeData,e);for(let r=0;r<this.symbolInstances.length;r++){const o=this.symbolInstances.get(r);this._updateTextDebugCollisionBoxes(i,e,t,o.textBoxStartIndex,o.textBoxEndIndex,o),this._updateTextDebugCollisionBoxes(i,e,t,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o),this._updateIconDebugCollisionBoxes(n,e,t,o.iconBoxStartIndex,o.iconBoxEndIndex,o.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(n,e,t,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex,o.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(e,t,n,i,r,o,a,s,l){const c={};if(t<n){const{x1:n,y1:i,x2:r,y2:o,padding:a,projectedAnchorX:s,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:h,tileAnchorY:d,featureIndex:p}=e.get(t);c.textBox={x1:n,y1:i,x2:r,y2:o,padding:a,projectedAnchorX:s,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:h,tileAnchorY:d},c.textFeatureIndex=p}if(i<r){const{x1:t,y1:n,x2:r,y2:o,padding:a,projectedAnchorX:s,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:h,tileAnchorY:d,featureIndex:p}=e.get(i);c.verticalTextBox={x1:t,y1:n,x2:r,y2:o,padding:a,projectedAnchorX:s,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:h,tileAnchorY:d},c.verticalTextFeatureIndex=p}if(o<a){const{x1:t,y1:n,x2:i,y2:r,padding:a,projectedAnchorX:s,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:h,tileAnchorY:d,featureIndex:p}=e.get(o);c.iconBox={x1:t,y1:n,x2:i,y2:r,padding:a,projectedAnchorX:s,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:h,tileAnchorY:d},c.iconFeatureIndex=p}if(s<l){const{x1:t,y1:n,x2:i,y2:r,padding:o,projectedAnchorX:a,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:h,tileAnchorY:d,featureIndex:p}=e.get(s);c.verticalIconBox={x1:t,y1:n,x2:i,y2:r,padding:o,projectedAnchorX:a,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:h,tileAnchorY:d},c.verticalIconFeatureIndex=p}return c}deserializeCollisionBoxes(e){this.collisionArrays=[];for(let t=0;t<this.symbolInstances.length;t++){const n=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(e,t){const n=e.placedSymbolArray.get(t),i=n.vertexStartIndex+4*n.numGlyphs;for(let r=n.vertexStartIndex;r<i;r+=4)e.indexArray.emplaceBack(r,r+1,r+2),e.indexArray.emplaceBack(r+1,r+2,r+3)}getSortedSymbolIndexes(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const t=Math.sin(e),n=Math.cos(e),i=[],r=[],o=[];for(let a=0;a<this.symbolInstances.length;++a){o.push(a);const e=this.symbolInstances.get(a);i.push(0|Math.round(t*e.tileAnchorX+n*e.tileAnchorY)),r.push(e.featureIndex)}return o.sort(((e,t)=>i[e]-i[t]||r[t]-r[e])),o}addToSortKeyRanges(e,t){const n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===t?n.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})}sortFeatures(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const e of this.symbolInstanceIndexes){const t=this.symbolInstances.get(e);this.featureSortOrder.push(t.featureIndex);const{rightJustifiedTextSymbolIndex:n,centerJustifiedTextSymbolIndex:i,leftJustifiedTextSymbolIndex:r,verticalPlacedTextSymbolIndex:o,placedIconSymbolIndex:a,verticalPlacedIconSymbolIndex:s}=t;n>=0&&this.addIndicesForPlacedSymbol(this.text,n),i>=0&&i!==n&&this.addIndicesForPlacedSymbol(this.text,i),r>=0&&r!==i&&r!==n&&this.addIndicesForPlacedSymbol(this.text,r),o>=0&&this.addIndicesForPlacedSymbol(this.text,o),a>=0&&this.addIndicesForPlacedSymbol(this.icon,a),s>=0&&this.addIndicesForPlacedSymbol(this.icon,s)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Kr(sf,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),sf.MAX_GLYPHS=65535,sf.addDynamicAttributes=nf;const lf=new Do({"symbol-placement":new Po(et.layout_symbol["symbol-placement"]),"symbol-spacing":new Po(et.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Po(et.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Io(et.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Po(et.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Po(et.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Po(et.layout_symbol["icon-ignore-placement"]),"icon-optional":new Po(et.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Po(et.layout_symbol["icon-rotation-alignment"]),"icon-size":new Io(et.layout_symbol["icon-size"]),"icon-text-fit":new Po(et.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Po(et.layout_symbol["icon-text-fit-padding"]),"icon-image":new Io(et.layout_symbol["icon-image"]),"icon-rotate":new Io(et.layout_symbol["icon-rotate"]),"icon-padding":new Po(et.layout_symbol["icon-padding"]),"icon-keep-upright":new Po(et.layout_symbol["icon-keep-upright"]),"icon-offset":new Io(et.layout_symbol["icon-offset"]),"icon-anchor":new Io(et.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Po(et.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Po(et.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Po(et.layout_symbol["text-rotation-alignment"]),"text-field":new Io(et.layout_symbol["text-field"]),"text-font":new Io(et.layout_symbol["text-font"]),"text-size":new Io(et.layout_symbol["text-size"]),"text-max-width":new Io(et.layout_symbol["text-max-width"]),"text-line-height":new Io(et.layout_symbol["text-line-height"]),"text-letter-spacing":new Io(et.layout_symbol["text-letter-spacing"]),"text-justify":new Io(et.layout_symbol["text-justify"]),"text-radial-offset":new Io(et.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Po(et.layout_symbol["text-variable-anchor"]),"text-anchor":new Io(et.layout_symbol["text-anchor"]),"text-max-angle":new Po(et.layout_symbol["text-max-angle"]),"text-writing-mode":new Po(et.layout_symbol["text-writing-mode"]),"text-rotate":new Io(et.layout_symbol["text-rotate"]),"text-padding":new Po(et.layout_symbol["text-padding"]),"text-keep-upright":new Po(et.layout_symbol["text-keep-upright"]),"text-transform":new Io(et.layout_symbol["text-transform"]),"text-offset":new Io(et.layout_symbol["text-offset"]),"text-allow-overlap":new Po(et.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Po(et.layout_symbol["text-ignore-placement"]),"text-optional":new Po(et.layout_symbol["text-optional"])});var cf={paint:new Do({"icon-opacity":new Io(et.paint_symbol["icon-opacity"]),"icon-color":new Io(et.paint_symbol["icon-color"]),"icon-halo-color":new Io(et.paint_symbol["icon-halo-color"]),"icon-halo-width":new Io(et.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Io(et.paint_symbol["icon-halo-blur"]),"icon-translate":new Po(et.paint_symbol["icon-translate"]),"icon-translate-anchor":new Po(et.paint_symbol["icon-translate-anchor"]),"text-opacity":new Io(et.paint_symbol["text-opacity"]),"text-color":new Io(et.paint_symbol["text-color"],{runtimeType:dt,getOverride:e=>e.textColor,hasOverride:e=>!!e.textColor}),"text-halo-color":new Io(et.paint_symbol["text-halo-color"]),"text-halo-width":new Io(et.paint_symbol["text-halo-width"]),"text-halo-blur":new Io(et.paint_symbol["text-halo-blur"]),"text-translate":new Po(et.paint_symbol["text-translate"]),"text-translate-anchor":new Po(et.paint_symbol["text-translate-anchor"])}),layout:lf};class uf{constructor(e){this.type=e.property.overrides?e.property.overrides.runtimeType:lt,this.defaultValue=e}evaluate(e){if(e.formattedSection){const t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}eachChild(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Kr(uf,"FormatSectionOverride",{omit:["defaultValue"]});class hf extends is{constructor(e){super(e,cf)}recalculate(e,t){super.recalculate(e,t),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const n=this.layout.get("text-writing-mode");if(n){const e=[];for(const t of n)e.indexOf(t)<0&&e.push(t);this.layout._values["text-writing-mode"]=e}else this.layout._values["text-writing-mode"]="point"===this.layout.get("symbol-placement")?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(e,t,n,i){const r=this.layout.get(e).evaluate(t,{},n,i),o=this._unevaluatedLayout._values[e];return o.isDataDriven()||Ki(o.value)||!r?r:function(e,t){return t.replace(/{([^{}]+)}/g,((t,n)=>n in e?String(e[n]):""))}(t.properties,r)}createBucket(e){return new sf(e)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const e of cf.paint.overridableProperties){if(!hf.hasPaintOverride(this.layout,e))continue;const t=this.paint.get(e),n=new uf(t),i=new Xi(n,t.property.specification);let r=null;r="constant"===t.value.kind||"source"===t.value.kind?new Ji("source",i):new $i("composite",i,t.value.zoomStops,t.value._interpolationType),this.paint._values[e]=new zo(t.property,r,t.parameters)}}_handleOverridablePaintPropertyUpdate(e,t,n){return!(!this.layout||t.isDataDriven()||n.isDataDriven())&&hf.hasPaintOverride(this.layout,e)}static hasPaintOverride(e,t){const n=e.get("text-field"),i=cf.paint.properties[t];let r=!1;const o=e=>{for(const t of e)if(i.overrides&&i.overrides.hasOverride(t))return void(r=!0)};if("constant"===n.value.kind&&n.value.value instanceof Dt)o(n.value.value.sections);else if("source"===n.value.kind){const e=t=>{r||(t instanceof Ut&&Ft(t.value)===gt?o(t.value.sections):t instanceof Zt?o(t.sections):t.eachChild(e))},t=n.value;t._styleExpression&&e(t._styleExpression.expression)}return r}getProgramConfiguration(e){return new Ka(this,e)}}var df={paint:new Do({"background-color":new Po(et.paint_background["background-color"]),"background-pattern":new Po(et.paint_background["background-pattern"]),"background-opacity":new Po(et.paint_background["background-opacity"])})},pf={paint:new Do({"raster-opacity":new Po(et.paint_raster["raster-opacity"]),"raster-hue-rotate":new Po(et.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Po(et.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Po(et.paint_raster["raster-brightness-max"]),"raster-saturation":new Po(et.paint_raster["raster-saturation"]),"raster-contrast":new Po(et.paint_raster["raster-contrast"]),"raster-resampling":new Po(et.paint_raster["raster-resampling"]),"raster-fade-duration":new Po(et.paint_raster["raster-fade-duration"])})};class ff extends is{constructor(e){super(e,{}),this.implementation=e}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}isLayerDraped(){return void 0!==this.implementation.renderToTile}shouldRedrape(){return!!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)}onRemove(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)}}var mf={paint:new Do({"sky-type":new Po(et.paint_sky["sky-type"]),"sky-atmosphere-sun":new Po(et.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Po(et.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Po(et.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Po(et.paint_sky["sky-gradient-radius"]),"sky-gradient":new Lo(et.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Po(et.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Po(et.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Po(et.paint_sky["sky-opacity"])})};function gf(e,t,n){const i=[0,0,1],r=Hs([]);return Ks(r,r,n?-b(e)+Math.PI:b(e)),Xs(r,r,-b(t)),Fs(i,i,r),Ds(i,i)}const _f={circle:class extends is{constructor(e){super(e,Mc)}createBucket(e){return new uc(e)}queryRadius(e){const t=e;return Ec("circle-radius",this,t)+Ec("circle-stroke-width",this,t)+Tc(this.paint.get("circle-translate"))}queryIntersectsFeature(e,t,n,i,r,o,a,s){const l=Sc(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),c=this.paint.get("circle-radius").evaluate(t,n)+this.paint.get("circle-stroke-width").evaluate(t,n);return zc(e,i,o,a,s,"map"===this.paint.get("circle-pitch-alignment"),"map"===this.paint.get("circle-pitch-scale"),l,c)}getProgramIds(){return["circle"]}getProgramConfiguration(e){return new Ka(this,e)}},heatmap:class extends is{createBucket(e){return new Dc(e)}constructor(e){super(e,Nc),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(e){"heatmap-color"===e&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Uc({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(e){return Ec("heatmap-radius",this,e)}queryIntersectsFeature(e,t,n,i,r,o,a,s){const l=this.paint.get("heatmap-radius").evaluate(t,n);return zc(e,i,o,a,s,!0,!0,new y(0,0),l)}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(e){return new Ka(this,e)}},hillshade:class extends is{constructor(e){super(e,Vc)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends is{constructor(e){super(e,zu)}getProgramIds(){const e=this.paint.get("fill-pattern"),t=e&&e.constantOr(1),n=[t?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&n.push(t&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),n}getProgramConfiguration(e){return new Ka(this,e)}recalculate(e,t){super.recalculate(e,t);const n=this.paint._values["fill-outline-color"];"constant"===n.value.kind&&void 0===n.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(e){return new Cu(e)}queryRadius(){return Tc(this.paint.get("fill-translate"))}queryIntersectsFeature(e,t,n,i,r,o){return!e.queryGeometry.isAboveHorizon&&pc(kc(e.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),i)}isTileClipped(){return!0}},"fill-extrusion":class extends is{constructor(e){super(e,uh)}createBucket(e){return new eh(e)}queryRadius(){return Tc(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(e){return new Ka(this,e)}queryIntersectsFeature(e,t,n,i,r,o,a,s,l){const c=Sc(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),u=this.paint.get("fill-extrusion-height").evaluate(t,n),h=this.paint.get("fill-extrusion-base").evaluate(t,n),d=[0,0],p=s&&o.elevation,f=o.elevation?o.elevation.exaggeration():1,m=e.tile.getBucket(this);if(p&&m instanceof eh){const e=m.centroidVertexArray,t=l+1;t<e.length&&(d[0]=e.geta_centroid_pos0(t),d[1]=e.geta_centroid_pos1(t))}if(0===d[0]&&1===d[1])return!1;"globe"===o.projection.name&&(i=lh([i],[new y(0,0),new y(ss,ss)],e.tileID.canonical).map((e=>e.polygon)).flat());const g=p?s:null,[_,v]=function(e,t,n,i,r,o,a,s,l,c,u){return"globe"===e.projection.name?function(e,t,n,i,r,o,a,s,l,c,u){const h=[],d=[],p=e.projection.upVectorScale(u,e.center.lat,e.worldSize).metersToTile,f=[0,0,0,1],m=[0,0,0,1],g=(e,t,n,i)=>{e[0]=t,e[1]=n,e[2]=i,e[3]=1},_=sh();n>0&&(n+=_),i+=_;for(const y of t){const t=[],_=[];for(const h of y){const d=h.x+r.x,y=h.y+r.y,v=e.projection.projectTilePoint(d,y,u),x=e.projection.upVector(u,h.x,h.y);let b=n,w=i;if(a){const e=vh(d,y,n,i,a,s,l,c);b+=e.base,w+=e.top}0!==n?g(f,v.x+x[0]*p*b,v.y+x[1]*p*b,v.z+x[2]*p*b):g(f,v.x,v.y,v.z),g(m,v.x+x[0]*p*w,v.y+x[1]*p*w,v.z+x[2]*p*w),Bs(f,f,o),Bs(m,m,o),t.push(new gh(f[0],f[1],f[2])),_.push(new gh(m[0],m[1],m[2]))}h.push(t),d.push(_)}return[h,d]}(e,t,n,i,r,o,a,s,l,c,u):a?function(e,t,n,i,r,o,a,s,l){const c=[],u=[],h=[0,0,0,1];for(const d of e){const e=[],p=[];for(const c of d){const u=c.x+i.x,d=c.y+i.y,f=vh(u,d,t,n,o,a,s,l);h[0]=u,h[1]=d,h[2]=f.base,h[3]=1,Ws(h,h,r),h[3]=Math.max(h[3],1e-5);const m=new gh(h[0]/h[3],h[1]/h[3],h[2]/h[3]);h[0]=u,h[1]=d,h[2]=f.top,h[3]=1,Ws(h,h,r),h[3]=Math.max(h[3],1e-5);const g=new gh(h[0]/h[3],h[1]/h[3],h[2]/h[3]);e.push(m),p.push(g)}c.push(e),u.push(p)}return[c,u]}(t,n,i,r,o,a,s,l,c):function(e,t,n,i,r){const o=[],a=[],s=r[8]*t,l=r[9]*t,c=r[10]*t,u=r[11]*t,h=r[8]*n,d=r[9]*n,p=r[10]*n,f=r[11]*n;for(const m of e){const e=[],t=[];for(const n of m){const o=n.x+i.x,a=n.y+i.y,m=r[0]*o+r[4]*a+r[12],g=r[1]*o+r[5]*a+r[13],_=r[2]*o+r[6]*a+r[14],y=r[3]*o+r[7]*a+r[15],v=m+s,x=g+l,b=_+c,w=Math.max(y+u,1e-5),E=m+h,T=g+d,k=_+p,S=Math.max(y+f,1e-5);e.push(new gh(v/w,x/w,b/w)),t.push(new gh(E/S,T/S,k/S))}o.push(e),a.push(t)}return[o,a]}(t,n,i,r,o)}(o,i,h,u,c,a,g,d,f,o.center.lat,e.tileID.canonical),x=e.queryGeometry;return function(e,t,n){let i=1/0;pc(n,t)&&(i=yh(n,t[0]));for(let r=0;r<t.length;r++){const o=t[r],a=e[r];for(let e=0;e<o.length-1;e++){const t=o[e],r=[t,o[e+1],a[e+1],a[e],t];hc(n,r)&&(i=Math.min(i,yh(n,r)))}}return i!==1/0&&i}(_,v,x.isPointQuery()?x.screenBounds:x.screenGeometry)}},line:class extends is{constructor(e){super(e,Mh),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(e){if("line-gradient"===e){const e=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=e._styleExpression&&e._styleExpression.expression instanceof Pn,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}widthExpression(){return this._transitionablePaint._values["line-width"].value.expression}recalculate(e,t){super.recalculate(e,t),this.paint._values["line-floorwidth"]=zh.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)}createBucket(e){return new Sh(e)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(e){return new Ka(this,e)}queryRadius(e){const t=e,n=Ah(Ec("line-width",this,t),Ec("line-gap-width",this,t)),i=Ec("line-offset",this,t);return n/2+Math.abs(i)+Tc(this.paint.get("line-translate"))}queryIntersectsFeature(e,t,n,i,r,o){if(e.queryGeometry.isAboveHorizon)return!1;const a=kc(e.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),s=e.pixelToTileUnitsFactor/2*Ah(this.paint.get("line-width").evaluate(t,n),this.paint.get("line-gap-width").evaluate(t,n)),l=this.paint.get("line-offset").evaluate(t,n);return l&&(i=function(e,t){const n=[],i=new y(0,0);for(let r=0;r<e.length;r++){const o=e[r],a=[];for(let e=0;e<o.length;e++){const n=o[e],r=o[e+1],s=0===e?i:n.sub(o[e-1])._unit()._perp(),l=e===o.length-1?i:r.sub(n)._unit()._perp(),c=s._add(l)._unit();c._mult(1/(c.x*l.x+c.y*l.y)),a.push(c._mult(t)._add(n))}n.push(a)}return n}(i,l*e.pixelToTileUnitsFactor)),function(e,t,n){for(let i=0;i<t.length;i++){const r=t[i];if(e.length>=3)for(let t=0;t<r.length;t++)if(xc(e,r[t]))return!0;if(fc(e,r,n))return!0}return!1}(a,i,s)}isTileClipped(){return!0}},symbol:hf,background:class extends is{constructor(e){super(e,df)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends is{constructor(e){super(e,pf)}getProgramIds(){return["raster"]}},sky:class extends is{constructor(e){super(e,mf),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(e){"sky-gradient"===e?this._updateColorRamp():"sky-atmosphere-sun"!==e&&"sky-atmosphere-halo-color"!==e&&"sky-atmosphere-color"!==e&&"sky-atmosphere-sun-intensity"!==e||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=Uc({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(e){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const t=e.style.light.properties.get("position");return this._lightPosition.azimuthal!==t.azimuthal||this._lightPosition.polar!==t.polar}return!1}getCenter(e,t){if("atmosphere"===this.paint.get("sky-type")){const n=this.paint.get("sky-atmosphere-sun"),i=!n,r=e.style.light,o=r.properties.get("position");return i&&"viewport"===r.properties.get("anchor")&&G("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),i?gf(o.azimuthal,90-o.polar,t):gf(n[0],90-n[1],t)}const n=this.paint.get("sky-gradient-center");return gf(n[0],90-n[1],t)}is3D(){return!1}isSky(){return!0}markSkyboxValid(e){this._skyboxInvalidated=!1,this._lightPosition=e.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const e=this.paint.get("sky-type");return"atmosphere"===e?["skyboxCapture","skybox"]:"gradient"===e?["skyboxGradient"]:null}}};class yf{constructor(e,t,n,i){this.context=e,this.format=n,this.texture=e.gl.createTexture(),this.update(t,i)}update(e,n,i){const{width:r,height:o}=e,{context:a}=this,{gl:s}=a,{HTMLImageElement:l,HTMLCanvasElement:c,HTMLVideoElement:u,ImageData:h,ImageBitmap:d}=t;if(s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!n||!1!==n.premultiply)),i||this.size&&this.size[0]===r&&this.size[1]===o){const{x:t,y:n}=i||{x:0,y:0};e instanceof l||e instanceof c||e instanceof u||e instanceof h||d&&e instanceof d?s.texSubImage2D(s.TEXTURE_2D,0,t,n,s.RGBA,s.UNSIGNED_BYTE,e):s.texSubImage2D(s.TEXTURE_2D,0,t,n,r,o,s.RGBA,s.UNSIGNED_BYTE,e.data)}else this.size=[r,o],e instanceof l||e instanceof c||e instanceof u||e instanceof h||d&&e instanceof d?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,e):s.texImage2D(s.TEXTURE_2D,0,this.format,r,o,0,this.format,s.UNSIGNED_BYTE,e.data);this.useMipmap=Boolean(n&&n.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&s.generateMipmap(s.TEXTURE_2D)}bind(e,t){const{context:n}=this,{gl:i}=n;i.bindTexture(i.TEXTURE_2D,this.texture),e!==this.filter&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,e),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,this.useMipmap?e===i.NEAREST?i.NEAREST_MIPMAP_NEAREST:i.LINEAR_MIPMAP_NEAREST:e),this.filter=e),t!==this.wrap&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,t),this.wrap=t)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:e}=this.context;e.deleteTexture(this.texture),this.texture=null}}class vf{constructor(e){this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._callback()}),0))}remove(){this._channel=void 0,this._callback=()=>{}}}class xf{constructor(){this.tasks={},this.taskQueue=[],F(["process"],this),this.invoker=new vf(this.process),this.nextId=0}add(e,t){const n=this.nextId++,i=function(e){let{type:t,isSymbolTile:n,zoom:i}=e;return i=i||0,"message"===t?0:"maybePrepare"!==t||n?"parseTile"!==t||n?"parseTile"===t&&n?300-i:"maybePrepare"===t&&n?400-i:500:200-i:100-i}(t);if(0===i){H();try{e()}finally{}return{cancel:()=>{}}}return this.tasks[n]={fn:e,metadata:t,priority:i,id:n},this.taskQueue.push(n),this.invoker.trigger(),{cancel:()=>{delete this.tasks[n]}}}process(){H();try{if(this.taskQueue=this.taskQueue.filter((e=>!!this.tasks[e])),!this.taskQueue.length)return;const e=this.pick();if(null===e)return;const t=this.tasks[e];if(delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),!t)return;t.fn()}finally{}}pick(){let e=null,t=1/0;for(let i=0;i<this.taskQueue.length;i++){const n=this.tasks[this.taskQueue[i]];n.priority<t&&(t=n.priority,e=i)}if(null===e)return null;const n=this.taskQueue[e];return this.taskQueue.splice(e,1),n}remove(){this.invoker.remove()}}class bf{constructor(e){this._stringToNumber={},this._numberToString=[];for(let t=0;t<e.length;t++){const n=e[t];this._stringToNumber[n]=t,this._numberToString[t]=n}}encode(e){return this._stringToNumber[e]}decode(e){return this._numberToString[e]}}const wf=["tile","layer","source","sourceLayer","state"];class Ef{constructor(e,t,n,i,r){this.type="Feature",this._vectorTileFeature=e,this._z=t,this._x=n,this._y=i,this.properties=e.properties,this.id=r}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(e){this._geometry=e}toJSON(){const e={type:"Feature",state:void 0,geometry:this.geometry,properties:this.properties};void 0!==this.id&&(e.id=this.id);for(const t of wf)void 0!==this[t]&&(e[t]=this[t]);return e}}const Tf=32,kf=33,Sf=new Uint16Array(8184);for(let Em=0;Em<2046;Em++){let e=Em+2,t=0,n=0,i=0,r=0,o=0,a=0;for(1&e?i=r=o=Tf:t=n=a=Tf;(e>>=1)>1;){const s=t+i>>1,l=n+r>>1;1&e?(i=t,r=n,t=o,n=a):(t=i,n=r,i=o,r=a),o=s,a=l}const s=4*Em;Sf[s+0]=t,Sf[s+1]=n,Sf[s+2]=i,Sf[s+3]=r}const Cf=new Uint16Array(2178),Mf=new Uint8Array(1089),zf=new Uint16Array(1089);function Af(e){return 0===e?-.03125:32===e?.03125:0}var Pf=jo([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const If={type:2,extent:ss,loadGeometry:()=>[[new y(0,0),new y(ss+1,0),new y(ss+1,ss+1),new y(0,ss+1),new y(0,0)]]};class Lf{constructor(e,t,n,i,r){this.tileID=e,this.uid=D(),this.uses=0,this.tileSize=t,this.tileZoom=n,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=r,this.expiredRequestCount=0,this.state="loading",i&&i.transform&&(this.projection=i.transform.projection)}registerFadeDuration(e){const t=e+this.timeAdded;t<Xe.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}get tileTransform(){return this._tileTransform||(this._tileTransform=Ap(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(e,t,n){if(this.unloadVectorData(),this.state="loaded",e){e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){const n={};if(!t)return n;for(const i of e){const e=i.layerIds.map((e=>t.getLayer(e))).filter(Boolean);if(0!==e.length){i.layers=e,i.stateDependentLayerIds&&(i.stateDependentLayers=i.stateDependentLayerIds.map((t=>e.filter((e=>e.id===t))[0])));for(const t of e)n[t.id]=i}}return n}(e.buckets,t.style),this.hasSymbolBuckets=!1;for(const e in this.buckets){const t=this.buckets[e];if(t instanceof sf){if(this.hasSymbolBuckets=!0,!n)break;t.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const e in this.buckets){const t=this.buckets[e];if(t instanceof sf&&t.hasRTLText){this.hasRTLText=!0,bo.isLoading()||bo.isLoaded()||"deferred"!==vo()||xo();break}}this.queryPadding=0;for(const e in this.buckets){const n=this.buckets[e];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(e).queryRadius(n))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage),e.lineAtlas&&(this.lineAtlas=e.lineAtlas)}else this.collisionBoxArray=new pa}unloadVectorData(){if(this.hasData()){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(e){return this.buckets[e.id]}upload(e){for(const n in this.buckets){const t=this.buckets[n];t.uploadPending()&&t.upload(e)}const t=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new yf(e,this.imageAtlas.image,t.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new yf(e,this.glyphAtlasImage,t.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new yf(e,this.lineAtlas.image,t.ALPHA),this.lineAtlas.uploaded=!0)}prepare(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}queryRenderedFeatures(e,t,n,i,r,o,a,s){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:i,pixelPosMatrix:a,transform:o,params:r,tileTransform:this.tileTransform},e,t,n):{}}querySourceFeatures(e,t){const n=this.latestFeatureIndex;if(!n||!n.rawTileData)return;const i=n.loadVTLayers(),r=t?t.sourceLayer:"",o=i._geojsonTileLayer||i[r];if(!o)return;const a=hr(t&&t.filter),{z:s,x:l,y:c}=this.tileID.canonical,u={z:s,x:l,y:c};for(let h=0;h<o.length;h++){const t=o.feature(h);if(a.needGeometry){const e=sc(t,!0);if(!a.filter(new wo(this.tileID.overscaledZ),e,this.tileID.canonical))continue}else if(!a.filter(new wo(this.tileID.overscaledZ),t))continue;const i=n.getId(t,r),d=new Ef(t,s,l,c,i);d.tile=u,e.push(d)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(e){const t=this.expirationTime;if(e.cacheControl){const t=X(e.cacheControl);t["max-age"]&&(this.expirationTime=Date.now()+1e3*t["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){const e=Date.now();let n=!1;if(this.expirationTime>e)n=!1;else if(t)if(this.expirationTime<t)n=!0;else{const i=this.expirationTime-t;i?this.expirationTime=e+Math.max(i,3e4):n=!0}else n=!0;n?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(e,t){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(e).length||!t)return;const n=this.latestFeatureIndex.loadVTLayers(),i=t.style.listImages();for(const r in this.buckets){if(!t.style.hasLayer(r))continue;const o=this.buckets[r],a=o.layers[0].sourceLayer||"_geojsonTileLayer",s=n[a],l=e[a];if(!s||!l||0===Object.keys(l).length)continue;if(o.update(l,s,i,this.imageAtlas&&this.imageAtlas.patternPositions||{}),o instanceof Sh||o instanceof Cu){const e=t.style._getSourceCache(o.layers[0].source);t._terrain&&t._terrain.enabled&&e&&o.programConfigurations.needsUpload&&t._terrain._clearRenderCacheForTile(e.id,this.tileID)}const c=t&&t.style&&t.style.getLayer(r);c&&(this.queryPadding=Math.max(this.queryPadding,c.queryRadius(o)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Xe.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(e){this.symbolFadeHoldUntil=Xe.now()+e}setTexture(e,t){const n=t.context,i=n.gl;this.texture=this.texture||t.getTileTexture(e.width),this.texture?this.texture.update(e,{useMipmap:!0}):(this.texture=new yf(n,e,i.RGBA,{useMipmap:!0}),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE))}setDependencies(e,t){const n={};for(const i of t)n[i]=!0;this.dependencies[e]=n}hasDependency(e,t){for(const n of e){const e=this.dependencies[n];if(e)for(const n of t)if(e[n])return!0}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(e,t){if(!t||"mercator"===t.name||this._tileDebugBuffer)return;const n=ac(If,this.tileID.canonical,this.tileTransform)[0],i=new Uo,r=new ua;for(let o=0;o<n.length;o++){const{x:e,y:t}=n[o];i.emplaceBack(e,t),r.emplaceBack(o)}r.emplaceBack(0),this._tileDebugIndexBuffer=e.createIndexBuffer(r),this._tileDebugBuffer=e.createVertexBuffer(i,el.members),this._tileDebugSegments=as.simpleSegment(0,0,i.length,r.length)}_makeTileBoundsBuffers(e,t){if(this._tileBoundsBuffer||!t||"mercator"===t.name)return;const n=ac(If,this.tileID.canonical,this.tileTransform)[0];let i,r;if(this.isRaster){const e=function(e,t){const n=Ap(e,t),i=Math.pow(2,e.z);for(let c=0;c<kf;c++)for(let r=0;r<kf;r++){const o=Hl((e.x+(r+Af(r))/Tf)/i),a=Xl((e.y+(c+Af(c))/Tf)/i),s=t.project(o,a),l=c*kf+r;Cf[2*l+0]=Math.round((s.x*n.scale-n.x)*ss),Cf[2*l+1]=Math.round((s.y*n.scale-n.y)*ss)}Mf.fill(0),zf.fill(0);for(let c=2045;c>=0;c--){const e=4*c,t=Sf[e+0],n=Sf[e+1],i=Sf[e+2],r=Sf[e+3],o=t+i>>1,a=n+r>>1,s=o+a-n,l=a+t-o,u=n*kf+t,h=r*kf+i,d=a*kf+o,p=Math.hypot((Cf[2*u+0]+Cf[2*h+0])/2-Cf[2*d+0],(Cf[2*u+1]+Cf[2*h+1])/2-Cf[2*d+1])>=16;Mf[d]=Mf[d]||(p?1:0),c<1022&&(Mf[d]=Mf[d]||Mf[(n+l>>1)*kf+(t+s>>1)]||Mf[(r+l>>1)*kf+(i+s>>1)])}const r=new qo,o=new ia;let a=0;function s(e,t){const n=t*kf+e;return 0===zf[n]&&(r.emplaceBack(Cf[2*n+0],Cf[2*n+1],e*ss/Tf,t*ss/Tf),zf[n]=++a),zf[n]-1}function l(e,t,n,i,r,a){const c=e+n>>1,u=t+i>>1;if(Math.abs(e-r)+Math.abs(t-a)>1&&Mf[u*kf+c])l(r,a,e,t,c,u),l(n,i,r,a,c,u);else{const l=s(e,t),c=s(n,i),u=s(r,a);o.emplaceBack(l,c,u)}}return l(0,0,Tf,Tf,Tf,0),l(Tf,Tf,0,0,0,Tf),{vertices:r,indices:o}}(this.tileID.canonical,t);i=e.vertices,r=e.indices}else{i=new qo,r=new ia;for(const{x:t,y:r}of n)i.emplaceBack(t,r,0,0);const e=yu(i.int16,void 0,4);for(let t=0;t<e.length;t+=3)r.emplaceBack(e[t],e[t+1],e[t+2])}this._tileBoundsBuffer=e.createVertexBuffer(i,Pf.members),this._tileBoundsIndexBuffer=e.createIndexBuffer(r),this._tileBoundsSegments=as.simpleSegment(0,0,i.length,r.length)}_makeGlobeTileDebugBuffers(e,t){const n=t.projection;if(!n||"globe"!==n.name||t.freezeTileCoverage)return;const i=this.tileID.canonical,r=Al(xl(i,t)),o=Ll(t.zoom);let a;o>0&&(a=fs(new Float64Array(16),t.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(e,i,t,r,a,o),this._makeGlobeTileDebugTextBuffer(e,i,t,r,a,o)}_globePoint(e,t,n,i,r,o,a){let s=Cl(e,t,n);if(o){const r=1<<n.z,l=Gl(i.center.lng),c=Wl(i.center.lat),u=(n.x+.5)/r-l;let h=0;u>.5?h=-1:u<-.5&&(h=1);let d=(e/ss+n.x)/r+h,p=(t/ss+n.y)/r;d=(d-l)*i._pixelsPerMercatorPixel+l,p=(p-c)*i._pixelsPerMercatorPixel+c;const f=[d*i.worldSize,p*i.worldSize,0];Bs(f,f,o),s=vl(s,f,a)}return Bs(s,s,r)}_makeGlobeTileDebugBorderBuffer(e,t,n,i,r,o){const a=new Uo,s=new ua,l=new Vo,c=(e,c,u,h,d)=>{const p=(u-e)/(d-1),f=(h-c)/(d-1),m=a.length;for(let g=0;g<d;g++){const u=e+g*p,h=c+g*f;a.emplaceBack(u,h);const d=this._globePoint(u,h,t,n,i,r,o);l.emplaceBack(d[0],d[1],d[2]),s.emplaceBack(m+g)}},u=ss;c(0,0,u,0,16),c(u,0,u,u,16),c(u,u,0,u,16),c(0,u,0,0,16),this._tileDebugIndexBuffer=e.createIndexBuffer(s),this._tileDebugBuffer=e.createVertexBuffer(a,el.members),this._globeTileDebugBorderBuffer=e.createVertexBuffer(l,Qs.members),this._tileDebugSegments=as.simpleSegment(0,0,a.length,s.length)}_makeGlobeTileDebugTextBuffer(e,t,n,i,r,o){const a=ss/4,s=new Uo,l=new ia,c=new Vo,u=25;l.reserve(32),s.reserve(u),c.reserve(u);const h=(e,t)=>u*e+t;for(let d=0;d<u;d++){const e=d*a;for(let l=0;l<u;l++){const u=l*a;s.emplaceBack(u,e);const h=this._globePoint(u,e,t,n,i,r,o);c.emplaceBack(h[0],h[1],h[2])}}for(let d=0;d<4;d++)for(let e=0;e<4;e++){const t=h(d,e),n=h(d,e+1),i=h(d+1,e),r=h(d+1,e+1);l.emplaceBack(t,n,i),l.emplaceBack(i,n,r)}this._tileDebugTextIndexBuffer=e.createIndexBuffer(l),this._tileDebugTextBuffer=e.createVertexBuffer(s,el.members),this._globeTileDebugTextBuffer=e.createVertexBuffer(c,Qs.members),this._tileDebugTextSegments=as.simpleSegment(0,0,u,32)}}class Df{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(e,t,n){const i=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][i]=this.stateChanges[e][i]||{},I(this.stateChanges[e][i],n),null===this.deletedStates[e]){this.deletedStates[e]={};for(const t in this.state[e])t!==i&&(this.deletedStates[e][t]=null)}else if(this.deletedStates[e]&&null===this.deletedStates[e][i]){this.deletedStates[e][i]={};for(const t in this.state[e][i])n[t]||(this.deletedStates[e][i][t]=null)}else for(const r in n)this.deletedStates[e]&&this.deletedStates[e][i]&&null===this.deletedStates[e][i][r]&&delete this.deletedStates[e][i][r]}removeFeatureState(e,t,n){if(null===this.deletedStates[e])return;const i=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},n&&void 0!==t)null!==this.deletedStates[e][i]&&(this.deletedStates[e][i]=this.deletedStates[e][i]||{},this.deletedStates[e][i][n]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][i])for(n in this.deletedStates[e][i]={},this.stateChanges[e][i])this.deletedStates[e][i][n]=null;else this.deletedStates[e][i]=null;else this.deletedStates[e]=null}getState(e,t){const n=String(t),i=I({},(this.state[e]||{})[n],(this.stateChanges[e]||{})[n]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){const n=this.deletedStates[e][t];if(null===n)return{};for(const e in n)delete i[e]}return i}initializeTileState(e,t){e.setFeatureState(this.state,t)}coalesceChanges(e,t){const n={};for(const i in this.stateChanges){this.state[i]=this.state[i]||{};const e={};for(const t in this.stateChanges[i])this.state[i][t]||(this.state[i][t]={}),I(this.state[i][t],this.stateChanges[i][t]),e[t]=this.state[i][t];n[i]=e}for(const i in this.deletedStates){this.state[i]=this.state[i]||{};const e={};if(null===this.deletedStates[i])for(const t in this.state[i])e[t]={},this.state[i][t]={};else for(const t in this.deletedStates[i]){if(null===this.deletedStates[i][t])this.state[i][t]={};else if(this.state[i][t])for(const e of Object.keys(this.deletedStates[i][t]))delete this.state[i][t][e];e[t]=this.state[i][t]}n[i]=n[i]||{},I(n[i],e)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(const i in e)e[i].setFeatureState(n,t)}}class Of{constructor(e){this.size=e,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(e,t){const n=this.toIdx(e,t);return{min:this.minimums[n],max:this.maximums[n]}}isLeaf(e,t){return this.leaves[this.toIdx(e,t)]}toIdx(e,t){return t*this.size+e}}function Rf(e,t,n,i){let r=0,o=Number.MAX_VALUE;for(let a=0;a<3;a++)if(Math.abs(i[a])<1e-15){if(n[a]<e[a]||n[a]>t[a])return null}else{const s=1/i[a];let l=(e[a]-n[a])*s,c=(t[a]-n[a])*s;if(l>c){const e=l;l=c,c=e}if(l>r&&(r=l),c<o&&(o=c),r>o)return null}return r}function Bf(e,t,n,i,r,o,a,s,l,c,u){const h=i-e,d=r-t,p=o-n,f=a-e,m=s-t,g=l-n,_=u[1]*g-u[2]*m,y=u[2]*f-u[0]*g,v=u[0]*m-u[1]*f,x=h*_+d*y+p*v;if(Math.abs(x)<1e-15)return null;const b=1/x,w=c[0]-e,E=c[1]-t,T=c[2]-n,k=(w*_+E*y+T*v)*b;if(k<0||k>1)return null;const S=E*p-T*d,C=T*h-w*p,M=w*d-E*h,z=(u[0]*S+u[1]*C+u[2]*M)*b;return z<0||k+z>1?null:(f*S+m*C+g*M)*b}function Ff(e,t,n){return(e-t)/(n-t)}function jf(e,t,n,i,r,o,a,s,l){const c=1<<n,u=o-i,h=a-r,d=(e+1)/c*u+i,p=(t+0)/c*h+r,f=(t+1)/c*h+r;s[0]=(e+0)/c*u+i,s[1]=p,l[0]=d,l[1]=f}class Nf{constructor(e){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=e,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const t=function(e){const t=Math.ceil(Math.log2(e.dim/8)),n=[];let i=Math.ceil(Math.pow(2,t));const r=1/i,o=(e,t,n,i,r)=>{const o=i?1:0,a=(e+1)*n-o,s=t*n,l=(t+1)*n-o;r[0]=e*n,r[1]=s,r[2]=a,r[3]=l};let a=new Of(i);const s=[];for(let l=0;l<i*i;l++){o(l%i,Math.floor(l/i),r,!1,s);const t=Vf(s[0],s[1],e),n=Vf(s[2],s[1],e),c=Vf(s[2],s[3],e),u=Vf(s[0],s[3],e);a.minimums.push(Math.min(t,n,c,u)),a.maximums.push(Math.max(t,n,c,u)),a.leaves.push(1)}for(n.push(a),i/=2;i>=1;i/=2){const e=n[n.length-1];a=new Of(i);for(let t=0;t<i*i;t++){o(t%i,Math.floor(t/i),2,!0,s);const n=e.getElevation(s[0],s[1]),r=e.getElevation(s[2],s[1]),l=e.getElevation(s[2],s[3]),c=e.getElevation(s[0],s[3]),u=e.isLeaf(s[0],s[1]),h=e.isLeaf(s[2],s[1]),d=e.isLeaf(s[2],s[3]),p=e.isLeaf(s[0],s[3]),f=Math.min(n.min,r.min,l.min,c.min),m=Math.max(n.max,r.max,l.max,c.max),g=u&&h&&d&&p;a.maximums.push(m),a.minimums.push(f),a.leaves.push(m-f<=5&&g?1:0)}n.push(a)}return n}(this.dem),n=t.length-1,i=t[n];this._addNode(i.minimums[0],i.maximums[0],i.leaves[0]),this._construct(t,0,0,n,0)}raycastRoot(e,t,n,i,r,o){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;return Rf([e,t,-100],[n,i,this.maximums[0]*a],r,o)}raycast(e,t,n,i,r,o){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;if(!this.nodeCount)return null;const s=this.raycastRoot(e,t,n,i,r,o,a);if(null==s)return null;const l=[],c=[],u=[],h=[],d=[{idx:0,t:s,nodex:0,nodey:0,depth:0}];for(;d.length>0;){const{idx:s,t:p,nodex:f,nodey:m,depth:g}=d.pop();if(this.leaves[s]){jf(f,m,g,e,t,n,i,u,h);const s=1<<g,l=(f+0)/s,c=(f+1)/s,d=(m+0)/s,_=(m+1)/s,y=Vf(l,d,this.dem)*a,v=Vf(c,d,this.dem)*a,x=Vf(c,_,this.dem)*a,b=Vf(l,_,this.dem)*a,w=Bf(u[0],u[1],y,h[0],u[1],v,h[0],h[1],x,r,o),E=Bf(h[0],h[1],x,u[0],h[1],b,u[0],u[1],y,r,o),T=Math.min(null!==w?w:Number.MAX_VALUE,null!==E?E:Number.MAX_VALUE);if(T!==Number.MAX_VALUE)return T;{const e=Ls([],r,o,p);if(Uf(y,v,b,x,Ff(e[0],u[0],h[0]),Ff(e[1],u[1],h[1]))>=e[2])return p}continue}let _=0;for(let d=0;d<this._siblingOffset.length;d++){jf((f<<1)+this._siblingOffset[d][0],(m<<1)+this._siblingOffset[d][1],g+1,e,t,n,i,u,h),u[2]=-100,h[2]=this.maximums[this.childOffsets[s]+d]*a;const p=Rf(u,h,r,o);if(null!=p){const e=p;l[d]=e;let t=!1;for(let n=0;n<_&&!t;n++)e>=l[c[n]]&&(c.splice(n,0,d),t=!0);t||(c[_]=d),_++}}for(let e=0;e<_;e++){const t=c[e];d.push({idx:this.childOffsets[s]+t,t:l[t],nodex:(f<<1)+this._siblingOffset[t][0],nodey:(m<<1)+this._siblingOffset[t][1],depth:g+1})}}return null}_addNode(e,t,n){return this.minimums.push(e),this.maximums.push(t),this.leaves.push(n),this.childOffsets.push(0),this.nodeCount++}_construct(e,t,n,i,r){if(1===e[i].isLeaf(t,n))return;this.childOffsets[r]||(this.childOffsets[r]=this.nodeCount);const o=i-1,a=e[o];let s=0,l=0;for(let c=0;c<this._siblingOffset.length;c++){const e=2*t+this._siblingOffset[c][0],i=2*n+this._siblingOffset[c][1],r=a.getElevation(e,i),o=a.isLeaf(e,i),u=this._addNode(r.min,r.max,o);o&&(s|=1<<c),l||(l=u)}for(let c=0;c<this._siblingOffset.length;c++)s&1<<c||this._construct(e,2*t+this._siblingOffset[c][0],2*n+this._siblingOffset[c][1],o,l+c)}}function Uf(e,t,n,i,r,o){return In(In(e,n,o),In(t,i,o),r)}function Vf(e,t,n){const i=n.dim,r=C(e*i-.5,0,i-1),o=C(t*i-.5,0,i-1),a=Math.floor(r),s=Math.floor(o),l=Math.min(a+1,i-1),c=Math.min(s+1,i-1);return Uf(n.get(a,s),n.get(l,s),n.get(a,c),n.get(l,c),r-a,o-s)}const qf={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function Gf(e,t,n){return(256*e*256+256*t+n)/10-1e4}function Wf(e,t,n){return 256*e+t+n/256-32768}class Zf{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return G('"'.concat(n,'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".'));this.stride=t.height;const o=this.dim=t.height-2,a=new Uint32Array(t.data.buffer);if(this.pixels=new Uint8Array(t.data.buffer),this.encoding=n||"mapbox",this.borderReady=i,!i){for(let e=0;e<o;e++)a[this._idx(-1,e)]=a[this._idx(0,e)],a[this._idx(o,e)]=a[this._idx(o-1,e)],a[this._idx(e,-1)]=a[this._idx(e,0)],a[this._idx(e,o)]=a[this._idx(e,o-1)];a[this._idx(-1,-1)]=a[this._idx(0,0)],a[this._idx(o,-1)]=a[this._idx(o-1,0)],a[this._idx(-1,o)]=a[this._idx(0,o-1)],a[this._idx(o,o)]=a[this._idx(o-1,o-1)],r&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new Nf(this)}get(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(e=C(e,-1,this.dim),t=C(t,-1,this.dim));const n=4*this._idx(e,t);return("terrarium"===this.encoding?Wf:Gf)(this.pixels[n],this.pixels[n+1],this.pixels[n+2])}static getUnpackVector(e){return qf[e]}get unpackVector(){return qf[this.encoding]}_idx(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)}static pack(e,t){const n=[0,0,0,0],i=Zf.getUnpackVector(t);let r=Math.floor((e+i[3])/i[2]);return n[2]=r%256,r=Math.floor(r/256),n[1]=r%256,r=Math.floor(r/256),n[0]=r,n}getPixels(){return new jc({width:this.stride,height:this.stride},this.pixels)}backfillBorder(e,t,n){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");let i=t*this.dim,r=t*this.dim+this.dim,o=n*this.dim,a=n*this.dim+this.dim;switch(t){case-1:i=r-1;break;case 1:r=i+1}switch(n){case-1:o=a-1;break;case 1:a=o+1}const s=-t*this.dim,l=-n*this.dim;for(let c=o;c<a;c++)for(let t=i;t<r;t++){const n=4*this._idx(t,c),i=4*this._idx(t+s,c+l);this.pixels[n+0]=e.pixels[i+0],this.pixels[n+1]=e.pixels[i+1],this.pixels[n+2]=e.pixels[i+2],this.pixels[n+3]=e.pixels[i+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}Kr(Zf,"DEMData"),Kr(Nf,"DemMinMaxQuadTree",{omit:["dem"]});class Hf{constructor(e,t){this.max=e,this.onRemove=t,this.reset()}reset(){for(const e in this.data)for(const t of this.data[e])t.timeout&&clearTimeout(t.timeout),this.onRemove(t.value);return this.data={},this.order=[],this}add(e,t,n){const i=e.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);const r={value:t,timeout:void 0};if(void 0!==n&&(r.timeout=setTimeout((()=>{this.remove(e,r)}),n)),this.data[i].push(r),this.order.push(i),this.order.length>this.max){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){const t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value}getByKey(e){const t=this.data[e];return t?t[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,t){if(!this.has(e))return this;const n=e.wrapped().key,i=void 0===t?0:this.data[n].indexOf(t),r=this.data[n][i];return this.data[n].splice(i,1),r.timeout&&clearTimeout(r.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(r.value),this.order.splice(this.order.indexOf(n),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}filter(e){const t=[];for(const n in this.data)for(const i of this.data[n])e(i.value)||t.push(i);for(const n of t)this.remove(n.value.tileID,n)}}class Xf{constructor(e,t,n){this.func=e,this.mask=t,this.range=n}}Xf.ReadOnly=!1,Xf.ReadWrite=!0,Xf.disabled=new Xf(519,Xf.ReadOnly,[0,1]);const Kf=7680;class Yf{constructor(e,t,n,i,r,o){this.test=e,this.ref=t,this.mask=n,this.fail=i,this.depthFail=r,this.pass=o}}Yf.disabled=new Yf({func:519,mask:0},0,0,Kf,Kf,Kf);class Jf{constructor(e,t,n){this.blendFunction=e,this.blendColor=t,this.mask=n}}Jf.Replace=[1,0],Jf.disabled=new Jf(Jf.Replace,Pt.transparent,[!1,!1,!1,!1]),Jf.unblended=new Jf(Jf.Replace,Pt.transparent,[!0,!0,!0,!0]),Jf.alphaBlended=new Jf([1,771],Pt.transparent,[!0,!0,!0,!0]);const $f=1029,Qf=2305;class em{constructor(e,t,n){this.enable=e,this.mode=t,this.frontFace=n}}em.disabled=new em(!1,$f,Qf),em.backCCW=new em(!0,$f,Qf),em.backCW=new em(!0,$f,2304),em.frontCW=new em(!0,1028,2304),em.frontCCW=new em(!0,1028,Qf);class tm extends Qe{constructor(e,t,n){super(),this.id=e,this._onlySymbols=n,t.on("data",(e=>{"source"===e.dataType&&"metadata"===e.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))})),t.on("error",(()=>{this._sourceErrored=!0})),this._source=t,this._tiles={},this._cache=new Hf(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=t.minTileCacheSize,this._maxTileCacheSize=t.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new Df,this._isRaster="raster"===this._source.type||"raster-dem"===this._source.type||"custom"===this._source.type&&"raster"===this._source._dataType}onAdd(e){this.map=e,this._minTileCacheSize=void 0===this._minTileCacheSize&&e?e._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=void 0===this._maxTileCacheSize&&e?e._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(const e in this._tiles){const t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(e,t){return e.isSymbolTile=this._onlySymbols,this._source.loadTile(e,t)}_unloadTile(e){if(this._source.unloadTile)return this._source.unloadTile(e,(()=>{}))}_abortTile(e){if(this._source.abortTile)return this._source.abortTile(e,(()=>{}))}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const t in this._tiles){const n=this._tiles[t];n.upload(e),n.prepare(this.map.style.imageManager)}}getIds(){return P(this._tiles).map((e=>e.tileID)).sort(nm).map((e=>e.key))}getRenderableIds(e){const t=[];for(const n in this._tiles)this._isIdRenderable(+n,e)&&t.push(this._tiles[n]);return e?t.sort(((e,t)=>{const n=e.tileID,i=t.tileID,r=new y(n.canonical.x,n.canonical.y)._rotate(this.transform.angle),o=new y(i.canonical.x,i.canonical.y)._rotate(this.transform.angle);return n.overscaledZ-i.overscaledZ||o.y-r.y||o.x-r.x})).map((e=>e.tileID.key)):t.map((e=>e.tileID)).sort(nm).map((e=>e.key))}hasRenderableParent(e){const t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)}_isIdRenderable(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const e in this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(+e,"reloading")}}_reloadTile(e,t){const n=this._tiles[e];n&&("loading"!==n.state&&(n.state=t),this._loadTile(n,this._tileLoaded.bind(this,n,e,t)))}_tileLoaded(e,t,n,i){if(i)if(e.state="errored",404!==i.status)this._source.fire(new $e(i,{tile:e}));else if("raster-dem"===this._source.type&&this.usedForTerrain&&this.map.painter.terrain){const e=this.map.painter.terrain;this.update(this.transform,e.getScaledDemTileSize(),!0),e.resetTileLookupCache(this.id)}else this.update(this.transform);else e.timeAdded=Xe.now(),"expired"===n&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(t,e),"raster-dem"===this._source.type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new Je("data",{dataType:"source",tile:e,coord:e.tileID,sourceCacheId:this.id}))}_backfillDEM(e){const t=this.getRenderableIds();for(let i=0;i<t.length;i++){const r=t[i];if(e.neighboringTiles&&e.neighboringTiles[r]){const t=this.getTileByID(r);n(e,t),n(t,e)}}function n(e,t){if(!e.dem||e.dem.borderReady)return;e.needsHillshadePrepare=!0,e.needsDEMTextureUpload=!0;let n=t.tileID.canonical.x-e.tileID.canonical.x;const i=t.tileID.canonical.y-e.tileID.canonical.y,r=Math.pow(2,e.tileID.canonical.z),o=t.tileID.key;0===n&&0===i||Math.abs(i)>1||(Math.abs(n)>1&&(1===Math.abs(n+r)?n+=r:1===Math.abs(n-r)&&(n-=r)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,n,i),e.neighboringTiles&&e.neighboringTiles[o]&&(e.neighboringTiles[o].backfilled=!0)))}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,t,n,i){for(const r in this._tiles){let o=this._tiles[r];if(i[r]||!o.hasData()||o.tileID.overscaledZ<=t||o.tileID.overscaledZ>n)continue;let a=o.tileID;for(;o&&o.tileID.overscaledZ>t+1;){const e=o.tileID.scaledTo(o.tileID.overscaledZ-1);o=this._tiles[e.key],o&&o.hasData()&&(a=e)}let s=a;for(;s.overscaledZ>t;)if(s=s.scaledTo(s.overscaledZ-1),e[s.key]){i[a.key]=a;break}}}findLoadedParent(e,t){if(e.key in this._loadedParentTiles){const n=this._loadedParentTiles[e.key];return n&&n.tileID.overscaledZ>=t?n:null}for(let n=e.overscaledZ-1;n>=t;n--){const t=e.scaledTo(n),i=this._getLoadedTile(t);if(i)return i}}_getLoadedTile(e){const t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(this._source.reparseOverscaled?e.wrapped().key:e.canonical.key)}updateCacheSize(e,t){t=t||this._source.tileSize;const n=Math.ceil(e.width/t)+1,i=Math.ceil(e.height/t)+1,r=Math.floor(n*i*5),o="number"==typeof this._minTileCacheSize?Math.max(this._minTileCacheSize,r):r,a="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,o):o;this._cache.setMaxSize(a)}handleWrapJump(e){const t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){const e={};for(const n in this._tiles){const i=this._tiles[n];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+t),e[i.tileID.key]=i}this._tiles=e;for(const t in this._timers)clearTimeout(this._timers[t]),delete this._timers[t];for(const t in this._tiles)this._setTileReloadTimer(+t,this._tiles[t])}}update(e,t,n){if(this.transform=e,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage)return;if(this.usedForTerrain&&!n)return;let i;this.updateCacheSize(e,t),"globe"!==this.transform.projection.name&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?i=e.getVisibleUnwrappedCoordinates(this._source.tileID).map((e=>new fh(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y))):(i=e.coveringTiles({tileSize:t||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!n,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(i=i.filter((e=>this._source.hasTile(e))))):i=[];const r=this._updateRetainedTiles(i);if(im(this._source.type)&&0!==i.length){const e={},t={},n=Object.keys(r);for(const i of n){const n=r[i],o=this._tiles[i];if(!o||o.fadeEndTime&&o.fadeEndTime<=Xe.now())continue;const a=this.findLoadedParent(n,Math.max(n.overscaledZ-tm.maxOverzooming,this._source.minzoom));a&&(this._addTile(a.tileID),e[a.tileID.key]=a.tileID),t[i]=n}const o=i[i.length-1].overscaledZ;for(const i in this._tiles){const e=this._tiles[i];if(r[i]||!e.hasData())continue;let n=e.tileID;for(;n.overscaledZ>o;){n=n.scaledTo(n.overscaledZ-1);const o=this._tiles[n.key];if(o&&o.hasData()&&t[n.key]){r[i]=e.tileID;break}}}for(const i in e)r[i]||(this._coveredTiles[i]=!0,r[i]=e[i])}for(const a in r)this._tiles[a].clearFadeHold();const o=function(e,t){const n=[];for(const i in e)i in t||n.push(i);return n}(this._tiles,r);for(const a of o){const e=this._tiles[a];e.hasSymbolBuckets&&!e.holdingForFade()?e.setHoldDuration(this.map._fadeDuration):e.hasSymbolBuckets&&!e.symbolFadeFinished()||this._removeTile(+a)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(+e)}_updateRetainedTiles(e){const t={};if(0===e.length)return t;const n={},i=e.reduce(((e,t)=>Math.min(e,t.overscaledZ)),1/0),r=e[0].overscaledZ,o=Math.max(r-tm.maxOverzooming,this._source.minzoom),a=Math.max(r+tm.maxUnderzooming,this._source.minzoom),s={};for(const l of e){const e=this._addTile(l);t[l.key]=l,e.hasData()||i<this._source.maxzoom&&(s[l.key]=l)}this._retainLoadedChildren(s,i,a,t);for(const l of e){let e=this._tiles[l.key];if(e.hasData())continue;if(l.canonical.z>=this._source.maxzoom){const e=l.children(this._source.maxzoom)[0],n=this.getTile(e);if(n&&n.hasData()){t[e.key]=e;continue}}else{const e=l.children(this._source.maxzoom);if(t[e[0].key]&&t[e[1].key]&&t[e[2].key]&&t[e[3].key])continue}let i=e.wasRequested();for(let r=l.overscaledZ-1;r>=o;--r){const o=l.scaledTo(r);if(n[o.key])break;if(n[o.key]=!0,e=this.getTile(o),!e&&i&&(e=this._addTile(o)),e&&(t[o.key]=o,i=e.wasRequested(),e.hasData()))break}}return t}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const e in this._tiles){const t=[];let n,i=this._tiles[e].tileID;for(;i.overscaledZ>0;){if(i.key in this._loadedParentTiles){n=this._loadedParentTiles[i.key];break}t.push(i.key);const e=i.scaledTo(i.overscaledZ-1);if(n=this._getLoadedTile(e),n)break;i=e}for(const e of t)this._loadedParentTiles[e]=n}}_addTile(e){let t=this._tiles[e.key];if(t)return t;t=this._cache.getAndRemove(e),t&&(this._setTileReloadTimer(e.key,t),t.tileID=e,this._state.initializeTileState(t,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,t)));const n=Boolean(t);if(!n){const n=this.map?this.map.painter:null;t=new Lf(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom,n,this._isRaster),this._loadTile(t,this._tileLoaded.bind(this,t,e.key,t.state))}return t?(t.uses++,this._tiles[e.key]=t,n||this._source.fire(new Je("dataloading",{tile:t,coord:t.tileID,dataType:"source"})),t):null}_setTileReloadTimer(e,t){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);const n=t.getExpiryTimeout();n&&(this._timers[e]=setTimeout((()=>{this._reloadTile(e,"expired"),delete this._timers[e]}),n))}_removeTile(e){const t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e in this._tiles)this._removeTile(+e);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(e,t,n){const i=[],r=this.transform;if(!r)return i;const o="globe"===r.projection.name,a=Gl(r.center.lng);for(const s in this._tiles){const l=this._tiles[s];if(n&&l.clearQueryDebugViz(),l.holdingForFade())continue;let c;if(o){const e=l.tileID.canonical;if(0===e.z){const t=[Math.abs(C(a,...rm(e,-1))-a),Math.abs(C(a,...rm(e,1))-a)];c=[0,2*t.indexOf(Math.min(...t))-1]}else{const t=[Math.abs(C(a,...rm(e,-1))-a),Math.abs(C(a,...rm(e,0))-a),Math.abs(C(a,...rm(e,1))-a)];c=[t.indexOf(Math.min(...t))-1]}}else c=[0];for(const n of c){const o=e.containsTile(l,r,t,n);o&&i.push(o)}}return i}getVisibleCoordinates(e){const t=this.getRenderableIds(e).map((e=>this._tiles[e].tileID));for(const n of t)n.projMatrix=this.transform.calculateProjMatrix(n.toUnwrapped());return t}hasTransition(){if(this._source.hasTransition())return!0;if(im(this._source.type))for(const e in this._tiles){const t=this._tiles[e];if(void 0!==t.fadeEndTime&&t.fadeEndTime>=Xe.now())return!0}return!1}setFeatureState(e,t,n){this._state.updateState(e=e||"_geojsonTileLayer",t,n)}removeFeatureState(e,t,n){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,n)}getFeatureState(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)}setDependencies(e,t,n){const i=this._tiles[e];i&&i.setDependencies(t,n)}reloadTilesForDependencies(e,t){for(const n in this._tiles)this._tiles[n].hasDependency(e,t)&&this._reloadTile(+n,"reloading");this._cache.filter((n=>!n.hasDependency(e,t)))}_preloadTiles(e,t){if(!this._sourceLoaded){const n=()=>{this._sourceLoaded&&(this._source.off("data",n),this._preloadTiles(e,t))};return void this._source.on("data",n)}const n=new Map,i=Array.isArray(e)?e:[e],r=this.map.painter.terrain,o=this.usedForTerrain&&r?r.getScaledDemTileSize():this._source.tileSize;for(const a of i){const e=a.coveringTiles({tileSize:o,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const t of e)n.set(t.key,t);this.usedForTerrain&&a.updateElevation(!1)}A(Array.from(n.values()),((e,t)=>{const n=new Lf(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(n,(e=>{"raster-dem"===this._source.type&&n.dem&&this._backfillDEM(n),t(e,n)}))}),t)}}function nm(e,t){const n=Math.abs(2*e.wrap)-+(e.wrap<0),i=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||i-n||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function im(e){return"raster"===e||"image"===e||"video"===e||"custom"===e}function rm(e,t){const n=1<<e.z;return[e.x/n+t,(e.x+1)/n+t]}tm.maxOverzooming=10,tm.maxUnderzooming=3;class om{constructor(e,t,n){this._demTile=e,this._dem=this._demTile.dem,this._scale=t,this._offset=n}static create(e,t,n){const i=n||e.findDEMTileFor(t);if(!i||!i.dem)return;const r=i.dem,o=i.tileID,a=1<<t.canonical.z-o.canonical.z;return new om(i,i.tileSize/ss/a,[(t.canonical.x/a-o.canonical.x)*r.dim,(t.canonical.y/a-o.canonical.y)*r.dim])}tileCoordToPixel(e,t){const n=t*this._scale+this._offset[1],i=Math.floor(e*this._scale+this._offset[0]),r=Math.floor(n);return new y(i,r)}getElevationAt(e,t,n,i){const r=e*this._scale+this._offset[0],o=t*this._scale+this._offset[1],a=Math.floor(r),s=Math.floor(o),l=this._dem;return i=!!i,n?In(In(l.get(a,s,i),l.get(a,s+1,i),o-s),In(l.get(a+1,s,i),l.get(a+1,s+1,i),o-s),r-a):l.get(a,s,i)}getElevationAtPixel(e,t,n){return this._dem.get(e,t,!!n)}getMeterToDEM(e){return(1<<this._demTile.tileID.canonical.z)*Zl(1,e)*this._dem.stride}}class am{constructor(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new Hr(ss,16,0),this.featureIndexArray=new ba,this.promoteId=t}insert(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,i,r,o);const s=this.grid;for(let l=0;l<t.length;l++){const e=t[l],n=[1/0,1/0,-1/0,-1/0];for(let t=0;t<e.length;t++){const i=e[t];n[0]=Math.min(n[0],i.x),n[1]=Math.min(n[1],i.y),n[2]=Math.max(n[2],i.x),n[3]=Math.max(n[3],i.y)}n[0]<ss&&n[1]<ss&&n[2]>=0&&n[3]>=0&&s.insert(a,n[0],n[1],n[2],n[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new Zu(new gd(this.rawTileData)).layers,this.sourceLayerCoder=new bf(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const e in this.vtLayers)this.vtFeatures[e]=[]}return this.vtLayers}query(e,t,n,i){var r=this;this.loadVTLayers();const o=e.params||{},a=hr(o.filter),s=e.tileResult,l=e.transform,c=s.bufferedTilespaceBounds,u=this.grid.query(c.min.x,c.min.y,c.max.x,c.max.y,((e,t,n,i)=>bc(s.bufferedTilespaceGeometry,e,t,n,i)));u.sort(lm);let h=null;l.elevation&&u.length>0&&(h=om.create(l.elevation,this.tileID));const d={};let p;for(let f=0;f<u.length;f++){const l=u[f];if(l===p)continue;p=l;const c=this.featureIndexArray.get(l);let m=null;this.loadMatchingFeature(d,c,a,o.layers,o.availableImages,t,n,i,(function(t,n,i){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return m||(m=ac(t,r.tileID.canonical,e.tileTransform)),n.queryIntersectsFeature(s,t,i,m,r.z,e.transform,e.pixelPosMatrix,h,o)}))}return d}loadMatchingFeature(e,t,n,i,r,o,a,s,l){const{featureIndex:c,bucketIndex:u,sourceLayerIndex:h,layoutVertexArrayOffset:d}=t,p=this.bucketLayerIDs[u];if(i&&!function(e,t){for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1}(i,p))return;const f=this.sourceLayerCoder.decode(h),m=this.vtLayers[f].feature(c);if(n.needGeometry){const e=sc(m,!0);if(!n.filter(new wo(this.tileID.overscaledZ),e,this.tileID.canonical))return}else if(!n.filter(new wo(this.tileID.overscaledZ),m))return;const g=this.getId(m,f);for(let _=0;_<p.length;_++){const t=p[_];if(i&&i.indexOf(t)<0)continue;const n=o[t];if(!n)continue;let u={};void 0!==g&&s&&(u=s.getState(n.sourceLayer||"_geojsonTileLayer",g));const h=I({},a[t]);h.paint=sm(h.paint,n.paint,m,u,r),h.layout=sm(h.layout,n.layout,m,u,r);const f=!l||l(m,n,u,d);if(!f)continue;const y=new Ef(m,this.z,this.x,this.y,g);y.layer=h;let v=e[t];void 0===v&&(v=e[t]=[]),v.push({featureIndex:c,feature:y,intersectionZ:f})}}lookupSymbolFeatures(e,t,n,i,r,o,a,s){const l={};this.loadVTLayers();const c=hr(r);for(const u of e)this.loadMatchingFeature(l,{bucketIndex:n,sourceLayerIndex:i,featureIndex:u,layoutVertexArrayOffset:0},c,o,a,s,t);return l}loadFeature(e){const{featureIndex:t,sourceLayerIndex:n}=e;this.loadVTLayers();const i=this.sourceLayerCoder.decode(n),r=this.vtFeatures[i];if(r[t])return r[t];const o=this.vtLayers[i].feature(t);return r[t]=o,o}hasLayer(e){for(const t of this.bucketLayerIDs)for(const n of t)if(e===n)return!0;return!1}getId(e,t){let n=e.id;if(this.promoteId){const i="string"==typeof this.promoteId?this.promoteId:this.promoteId[t];null!=i&&(n=e.properties[i]),"boolean"==typeof n&&(n=Number(n))}return n}}function sm(e,t,n,i,r){return N(e,((e,o)=>{const a=t instanceof Ao?t.get(o):null;return a&&a.evaluate?a.evaluate(n,i,r):a}))}function lm(e,t){return t-e}Kr(am,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class cm{constructor(e,t){this.width=e,this.height=t,this.nextRow=0,this.image=new Fc({width:e,height:t}),this.positions={},this.uploaded=!1}getDash(e,t){const n=this.getKey(e,t);return this.positions[n]}trim(){const e=this.width,t=this.height=R(this.nextRow);this.image.resize({width:e,height:t})}getKey(e,t){return e.join(",")+t}getDashRanges(e,t,n){const i=[];let r=e.length%2==1?-e[e.length-1]*n:0,o=e[0]*n,a=!0;i.push({left:r,right:o,isDash:a,zeroLength:0===e[0]});let s=e[0];for(let l=1;l<e.length;l++){a=!a;const t=e[l];r=s*n,s+=t,o=s*n,i.push({left:r,right:o,isDash:a,zeroLength:0===t})}return i}addRoundDash(e,t,n){const i=t/2;for(let r=-n;r<=n;r++){const t=this.width*(this.nextRow+n+r);let o=0,a=e[o];for(let s=0;s<this.width;s++){s/a.right>1&&(a=e[++o]);const l=Math.abs(s-a.left),c=Math.abs(s-a.right),u=Math.min(l,c);let h;const d=r/n*(i+1);if(a.isDash){const e=i-Math.abs(d);h=Math.sqrt(u*u+e*e)}else h=i-Math.sqrt(u*u+d*d);this.image.data[t+s]=Math.max(0,Math.min(255,h+128))}}}addRegularDash(e,t){for(let s=e.length-1;s>=0;--s){const t=e[s],n=e[s+1];t.zeroLength?e.splice(s,1):n&&n.isDash===t.isDash&&(n.left=t.left,e.splice(s,1))}const n=e[0],i=e[e.length-1];n.isDash===i.isDash&&(n.left=i.left-this.width,i.right=n.right+this.width);const r=this.width*this.nextRow;let o=0,a=e[o];for(let s=0;s<this.width;s++){s/a.right>1&&(a=e[++o]);const n=Math.abs(s-a.left),i=Math.abs(s-a.right),l=Math.min(n,i);this.image.data[r+s]=Math.max(0,Math.min(255,(a.isDash?l:-l)+t+128))}}addDash(e,t){const n=this.getKey(e,t);if(this.positions[n])return this.positions[n];const i="round"===t,r=i?7:0,o=2*r+1;if(this.nextRow+o>this.height)return G("LineAtlas out of space"),null;0===e.length&&e.push(1);let a=0;for(let c=0;c<e.length;c++)e[c]<0&&(G("Negative value is found in line dasharray, replacing values with 0"),e[c]=0),a+=e[c];if(0!==a){const n=this.width/a,o=this.getDashRanges(e,this.width,n);i?this.addRoundDash(o,n,r):this.addRegularDash(o,"square"===t?.5*n:0)}const s=this.nextRow+r;this.nextRow+=o;const l={tl:[s,r],br:[a,0]};return this.positions[n]=l,l}}Kr(cm,"LineAtlas");const um=1*ep;class hm{constructor(e){const t={},n=[];for(const a in e){const i=e[a],r=t[a]={};for(const e in i.glyphs){const t=i.glyphs[+e];if(!t||0===t.bitmap.width||0===t.bitmap.height)continue;const o=t.metrics.localGlyph?um:1,a={x:0,y:0,w:t.bitmap.width+2*o,h:t.bitmap.height+2*o};n.push(a),r[e]=a}}const{w:i,h:r}=wd(n),o=new Fc({width:i||1,height:r||1});for(const a in e){const n=e[a];for(const e in n.glyphs){const i=n.glyphs[+e];if(!i||0===i.bitmap.width||0===i.bitmap.height)continue;const r=t[a][e],s=i.metrics.localGlyph?um:1;Fc.copy(i.bitmap,o,{x:0,y:0},{x:r.x+s,y:r.y+s},i.bitmap)}}this.image=o,this.positions=t}}Kr(hm,"GlyphAtlas");class dm{constructor(e){this.tileID=new fh(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.tileZoom=e.tileZoom,this.uid=e.uid,this.zoom=e.zoom,this.canonical=e.tileID.canonical,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies,this.promoteId=e.promoteId,this.enableTerrain=!!e.enableTerrain,this.isSymbolTile=e.isSymbolTile,this.tileTransform=Ap(e.tileID.canonical,e.projection),this.projection=e.projection}parse(e,t,n,i,r){this.status="parsing",this.data=e,this.collisionBoxArray=new pa;const o=new bf(Object.keys(e.layers).sort()),a=new am(this.tileID,this.promoteId);a.bucketLayerIDs=[];const s={},l=new cm(256,256),c={featureIndex:a,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:l,availableImages:n},u=t.familiesBySource[this.source];for(const x in u){const t=e.layers[x];if(!t)continue;let i=!1,r=!1;for(const e of u[x])"symbol"===e[0].type?i=!0:r=!0;if(!0===this.isSymbolTile&&!i)continue;if(!1===this.isSymbolTile&&!r)continue;1===t.version&&G('Vector tile source "'.concat(this.source,'" layer "').concat(x,'" does not use vector tile spec v2 and therefore may have some rendering errors.'));const l=o.encode(x),h=[];for(let e=0;e<t.length;e++){const n=t.feature(e),i=a.getId(n,x);h.push({feature:n,id:i,index:e,sourceLayerIndex:l})}for(const e of u[x]){const t=e[0];void 0!==this.isSymbolTile&&"symbol"===t.type!==this.isSymbolTile||t.minzoom&&this.zoom<Math.floor(t.minzoom)||t.maxzoom&&this.zoom>=t.maxzoom||"none"!==t.visibility&&(pm(e,this.zoom,n),(s[t.id]=t.createBucket({index:a.bucketLayerIDs.length,layers:e,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:l,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:n})).populate(h,c,this.tileID.canonical,this.tileTransform),a.bucketLayerIDs.push(e.map((e=>e.id))))}}let h,d,p,f;l.trim();const m={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},g=()=>{if(h)return r(h);if(d&&p&&f){const e=new hm(d),t=new kd(p,f);for(const i in s){const r=s[i];r instanceof sf?(pm(r.layers,this.zoom,n),vp(r,d,e.positions,p,t.iconPositions,this.showCollisionBoxes,n,this.tileID.canonical,this.tileZoom,this.projection)):r.hasPattern&&(r instanceof Sh||r instanceof Cu||r instanceof eh)&&(pm(r.layers,this.zoom,n),r.addFeatures(c,this.tileID.canonical,t.patternPositions,n,this.tileTransform))}this.status="done",r(null,{buckets:P(s).filter((e=>!e.isEmpty())),featureIndex:a,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,lineAtlas:l,imageAtlas:t,glyphMap:this.returnDependencies?d:null,iconMap:this.returnDependencies?p:null,glyphPositions:this.returnDependencies?e.positions:null})}},_=N(c.glyphDependencies,(e=>Object.keys(e).map(Number)));Object.keys(_).length?i.send("getGlyphs",{uid:this.uid,stacks:_},((e,t)=>{h||(h=e,d=t,g())}),void 0,!1,m):d={};const y=Object.keys(c.iconDependencies);y.length?i.send("getImages",{icons:y,source:this.source,tileID:this.tileID,type:"icons"},((e,t)=>{h||(h=e,p=t,g())}),void 0,!1,m):p={};const v=Object.keys(c.patternDependencies);v.length?i.send("getImages",{icons:v,source:this.source,tileID:this.tileID,type:"patterns"},((e,t)=>{h||(h=e,f=t,g())}),void 0,!1,m):f={},g()}}function pm(e,t,n){const i=new wo(t);for(const r of e)r.recalculate(i,n)}class fm{constructor(e){this.entries={},this.scheduler=e}request(e,t,n,i){const r=this.entries[e]=this.entries[e]||{callbacks:[]};if(r.result){const[e,n]=r.result;return this.scheduler?this.scheduler.add((()=>{i(e,n)}),t):i(e,n),()=>{}}return r.callbacks.push(i),r.cancel||(r.cancel=n(((n,i)=>{r.result=[n,i];for(const e of r.callbacks)this.scheduler?this.scheduler.add((()=>{e(n,i)}),t):e(n,i);setTimeout((()=>delete this.entries[e]),3e3)}))),()=>{r.result||(r.callbacks=r.callbacks.filter((e=>e!==i)),r.callbacks.length||(r.cancel(),delete this.entries[e]))}}}function mm(e,t,n){const i=JSON.stringify(e.request);return e.data&&(this.deduped.entries[i]={result:[null,e.data]}),this.deduped.request(i,{type:"parseTile",isSymbolTile:e.isSymbolTile,zoom:e.tileZoom},(t=>{const i=de(e.request,((e,i,r,o)=>{e?t(e):i&&t(null,{vectorTile:n?void 0:new Zu(new gd(i)),rawData:i,cacheControl:r,expires:o})}));return()=>{i.cancel(),t()}}),t)}const gm=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class _m{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[t,n]=new Uint8Array(e,0,2);if(219!==t)throw new Error("Data does not appear to be in a KDBush format.");const i=n>>4;if(1!==i)throw new Error("Got v".concat(i," data when expected v1."));const r=gm[15&n];if(!r)throw new Error("Unrecognized array type.");const[o]=new Uint16Array(e,2,1),[a]=new Uint32Array(e,4,1);return new _m(a,o,r,e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float64Array,i=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const r=gm.indexOf(this.ArrayType),o=2*e*this.ArrayType.BYTES_PER_ELEMENT,a=e*this.IndexArrayType.BYTES_PER_ELEMENT,s=(8-a%8)%8;if(r<0)throw new Error("Unexpected typed array class: ".concat(n,"."));i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+a+s,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+o+a+s),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+a+s,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+r]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){const n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=t,n}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return ym(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,n,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:r,coords:o,nodeSize:a}=this,s=[0,r.length-1,0],l=[];for(;s.length;){const c=s.pop()||0,u=s.pop()||0,h=s.pop()||0;if(u-h<=a){for(let a=h;a<=u;a++){const s=o[2*a],c=o[2*a+1];s>=e&&s<=n&&c>=t&&c<=i&&l.push(r[a])}continue}const d=h+u>>1,p=o[2*d],f=o[2*d+1];p>=e&&p<=n&&f>=t&&f<=i&&l.push(r[d]),(0===c?e<=p:t<=f)&&(s.push(h),s.push(d-1),s.push(1-c)),(0===c?n>=p:i>=f)&&(s.push(d+1),s.push(u),s.push(1-c))}return l}within(e,t,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:r,nodeSize:o}=this,a=[0,i.length-1,0],s=[],l=n*n;for(;a.length;){const c=a.pop()||0,u=a.pop()||0,h=a.pop()||0;if(u-h<=o){for(let n=h;n<=u;n++)wm(r[2*n],r[2*n+1],e,t)<=l&&s.push(i[n]);continue}const d=h+u>>1,p=r[2*d],f=r[2*d+1];wm(p,f,e,t)<=l&&s.push(i[d]),(0===c?e-n<=p:t-n<=f)&&(a.push(h),a.push(d-1),a.push(1-c)),(0===c?e+n>=p:t+n>=f)&&(a.push(d+1),a.push(u),a.push(1-c))}return s}}function ym(e,t,n,i,r,o){if(r-i<=n)return;const a=i+r>>1;vm(e,t,a,i,r,o),ym(e,t,n,i,a-1,1-o),ym(e,t,n,a+1,r,1-o)}function vm(e,t,n,i,r,o){for(;r>i;){if(r-i>600){const a=r-i+1,s=n-i+1,l=Math.log(a),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(a-c)/a)*(s-a/2<0?-1:1);vm(e,t,n,Math.max(i,Math.floor(n-s*c/a+u)),Math.min(r,Math.floor(n+(a-s)*c/a+u)),o)}const a=t[2*n+o];let s=i,l=r;for(xm(e,t,i,n),t[2*r+o]>a&&xm(e,t,i,r);s<l;){for(xm(e,t,s,l),s++,l--;t[2*s+o]<a;)s++;for(;t[2*l+o]>a;)l--}t[2*i+o]===a?xm(e,t,i,l):(l++,xm(e,t,l,r)),l<=n&&(i=l+1),n<=l&&(r=l-1)}}function xm(e,t,n,i){bm(e,n,i),bm(t,2*n,2*i),bm(t,2*n+1,2*i+1)}function bm(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function wm(e,t,n,i){const r=e-n,o=t-i;return r*r+o*o}e.ARRAY_TYPE=us,e.AUTH_ERR_MSG=ye,e.Aabb=rl,e.Actor=class{constructor(e,n,i){this.target=e,this.parent=n,this.mapId=i,this.callbacks={},this.cancelCallbacks={},F(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=H()?e:t,this.scheduler=new xf}send(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5?arguments[5]:void 0;const a=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(n.metadata=o,this.callbacks[a]=n);const s=Y(this.globalScope)?void 0:[];return this.target.postMessage({id:a,type:e,hasCallback:!!n,targetMapId:i,mustQueue:r,sourceMapId:this.mapId,data:$r(t,s)},s),{cancel:()=>{n&&delete this.callbacks[a],this.target.postMessage({id:a,type:"<cancel>",targetMapId:i,sourceMapId:this.mapId})}}}receive(e){const t=e.data,n=t.id;if(n&&(!t.targetMapId||this.mapId===t.targetMapId))if("<cancel>"===t.type){const e=this.cancelCallbacks[n];delete this.cancelCallbacks[n],e&&e.cancel()}else if(t.mustQueue||H()){const e=this.callbacks[n];this.cancelCallbacks[n]=this.scheduler.add((()=>this.processTask(n,t)),e&&e.metadata||{type:"message"})}else this.processTask(n,t)}processTask(e,t){if("<response>"===t.type){const n=this.callbacks[e];delete this.callbacks[e],n&&(t.error?n(Qr(t.error)):n(null,Qr(t.data)))}else{const n=Y(this.globalScope)?void 0:[],i=t.hasCallback?(t,i)=>{delete this.cancelCallbacks[e],this.target.postMessage({id:e,type:"<response>",sourceMapId:this.mapId,error:t?$r(t):null,data:$r(i,n)},n)}:e=>{},r=Qr(t.data);if(this.parent[t.type])this.parent[t.type](t.sourceMapId,r,i);else if(this.parent.getWorkerSource){const e=t.type.split(".");this.parent.getWorkerSource(t.sourceMapId,e[0],r.source)[e[1]](r,i)}else i(new Error("Could not find function ".concat(t.type)))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},e.CanonicalTileID=dh,e.Color=Pt,e.ColorMode=Jf,e.CullFaceMode=em,e.DEMData=Zf,e.DataConstantProperty=Po,e.DedupedRequest=fm,e.DepthMode=Xf,e.EXTENT=ss,e.Elevation=class{isDataAvailableAtPoint(e){const t=this._source();if(this.isUsingMockSource()||!t||e.y<0||e.y>1)return!1;const n=t.getSource().maxzoom,i=1<<n,r=Math.floor(e.x),o=Math.floor((e.x-r)*i),a=Math.floor(e.y*i),s=this.findDEMTileFor(new fh(n,r,n,o,a));return!(!s||!s.dem)}getAtPointOrZero(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.getAtPoint(e,t)||0}getAtPoint(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.isUsingMockSource())return null;null==t&&(t=null);const i=this._source();if(!i)return t;if(e.y<0||e.y>1)return t;const r=i.getSource().maxzoom,o=1<<r,a=Math.floor(e.x),s=e.x-a,l=new fh(r,a,r,Math.floor(s*o),Math.floor(e.y*o)),c=this.findDEMTileFor(l);if(!c||!c.dem)return t;const u=c.dem,h=1<<c.tileID.canonical.z,d=(s*h-c.tileID.canonical.x)*u.dim,p=(e.y*h-c.tileID.canonical.y)*u.dim,f=Math.floor(d),m=Math.floor(p);return(n?this.exaggeration():1)*In(In(u.get(f,m),u.get(f,m+1),p-m),In(u.get(f+1,m),u.get(f+1,m+1),p-m),d-f)}getAtTileOffset(e,t,n){const i=1<<e.canonical.z;return this.getAtPointOrZero(new $l(e.wrap+(e.canonical.x+t/ss)/i,(e.canonical.y+n/ss)/i))}getAtTileOffsetFunc(e,t,n,i){return r=>{const o=this.getAtTileOffset(e,r.x,r.y),a=i.upVector(e.canonical,r.x,r.y);return Is(a,a,o*i.upVectorScale(e.canonical,t,n).metersToTile),a}}getForTilePoints(e,t,n,i){if(this.isUsingMockSource())return!1;const r=om.create(this,e,i);return!!r&&(t.forEach((e=>{e[2]=this.exaggeration()*r.getElevationAt(e[0],e[1],n)})),!0)}getMinMaxForTile(e){if(this.isUsingMockSource())return null;const t=this.findDEMTileFor(e);if(!t||!t.dem)return null;const n=t.dem.tree,i=t.tileID,r=1<<e.canonical.z-i.canonical.z;let o=e.canonical.x/r-i.canonical.x,a=e.canonical.y/r-i.canonical.y,s=0;for(let l=0;l<e.canonical.z-i.canonical.z&&!n.leaves[s];l++){o*=2,a*=2;const e=2*Math.floor(a)+Math.floor(o);s=n.childOffsets[s]+e,o%=1,a%=1}return{min:this.exaggeration()*n.minimums[s],max:this.exaggeration()*n.maximums[s]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(e,t,n){throw new Error("Pure virtual method called.")}pointCoordinate(e){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(e){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},e.ErrorEvent=$e,e.EvaluationParameters=wo,e.Event=Je,e.Evented=Qe,e.FillExtrusionBucket=eh,e.Frustum=il,e.FrustumCorners=nl,e.GLOBE_RADIUS=sl,e.GLOBE_SCALE_MATCH_LATITUDE=45,e.GLOBE_ZOOM_THRESHOLD_MAX=al,e.GLOBE_ZOOM_THRESHOLD_MIN=ol,e.GlobeSharedBuffers=class{constructor(e){this._createGrid(e),this._createPoles(e)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const e of this._poleSegments)e.destroy();for(const e of this._gridSegments)e.withSkirts.destroy(),e.withoutSkirts.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const e of this._wireframeSegments)e.destroy()}}_fillGridMeshWithLods(e,t){const n=new Uo,i=new ia,r=[],o=e+1+2,a=t[0]+1,s=t[0]+1+(1+t.length),l=(e,t,n)=>{let i=e===o-1?e-2:0===e?e:e-1;return i+=n?24575:0,[i,t]};for(let c=0;c<o;++c)n.emplaceBack(...l(c,0,!0));for(let c=0;c<a;++c)for(let e=0;e<o;++e)n.emplaceBack(...l(e,c,(0===e||e===o-1)&&!0));for(let c=0;c<t.length;++c){const e=t[c];for(let t=0;t<o;++t)n.emplaceBack(...l(t,e,!0))}for(let c=0;c<t.length;++c){const e=i.length,a=t[c]+1+2,l=new ia;for(let n=0;n<a-1;n++){const e=n===a-2,r=e?o*(s-t.length+c-n):o;for(let t=0;t<o-1;t++){const a=n*o+t;0===n||e||0===t||t===o-2?(l.emplaceBack(a+1,a,a+r),l.emplaceBack(a+r,a+r+1,a+1)):(i.emplaceBack(a+1,a,a+r),i.emplaceBack(a+r,a+r+1,a+1))}}const u=as.simpleSegment(0,e,n.length,i.length-e);for(let t=0;t<l.uint16.length;t+=3)i.emplaceBack(l.uint16[t],l.uint16[t+1],l.uint16[t+2]);const h=as.simpleSegment(0,e,n.length,i.length-e);r.push({withoutSkirts:u,withSkirts:h})}return{vertices:n,indices:i,segments:r}}_createGrid(e){const t=this._fillGridMeshWithLods(cl,ul);this._gridSegments=t.segments,this._gridBuffer=e.createVertexBuffer(t.vertices,el.members),this._gridIndexBuffer=e.createIndexBuffer(t.indices,!0)}_createPoles(e){const t=new ia;for(let r=0;r<=cl;r++)t.emplaceBack(0,r+1,r+2);this._poleIndexBuffer=e.createIndexBuffer(t,!0);const n=new sa,i=new sa;this._poleSegments=[];for(let r=0,o=0;r<ol;r++){const e=360/(1<<r);n.emplaceBack(0,-sl,0,.5,0),i.emplaceBack(0,-sl,0,.5,1);for(let t=0;t<=cl;t++){const r=t/cl,o=In(0,e,r),[a,s,l]=kl(Bl,Fl,o,sl);n.emplaceBack(a,s,l,r,0),i.emplaceBack(a,s,l,r,1)}this._poleSegments.push(as.simpleSegment(o,0,66,64)),o+=66}this._poleNorthVertexBuffer=e.createVertexBuffer(n,$s,!1),this._poleSouthVertexBuffer=e.createVertexBuffer(i,$s,!1)}getGridBuffers(e,t){return[this._gridBuffer,this._gridIndexBuffer,t?this._gridSegments[e].withSkirts:this._gridSegments[e].withoutSkirts]}getPoleBuffers(e){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[e]]}getWirefameBuffers(e,t){if(!this._wireframeSegments){const t=new ca,n=cl,i=n+1+2,r=1;this._wireframeSegments=[];for(let e=0,o=0;e<ul.length;e++){const a=ul[e];for(let e=r;e<a+r;e++)for(let o=r;o<n+r;o++){const n=e*i+o;t.emplaceBack(n,n+1),t.emplaceBack(n,n+i),t.emplaceBack(n,n+i+1)}const s=a*n*3;this._wireframeSegments.push(as.simpleSegment(0,o,(a+1)*i,s)),o+=s}this._wireframeIndexBuffer=e.createIndexBuffer(t)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[t]]}},e.GlyphManager=np,e.ImagePosition=Td,e.KDBush=_m,e.LivePerformanceUtils=Ne,e.LngLat=Vl,e.LngLatBounds=ls,e.LocalGlyphMode=tp,e.MAX_MERCATOR_LATITUDE=Yl,e.MercatorCoordinate=$l,e.ONE_EM=Fh,e.OverscaledTileID=fh,e.PerformanceMarkers=je,e.Point=y,e.Properties=Do,e.RGBAImage=jc,e.Ray=tl,e.RequestManager=class{constructor(e,t,n){this._transformRequestFn=e,this._customAccessToken=t,this._silenceAuthErrors=!!n,this._createSkuToken()}_createSkuToken(){const e=function(){let e="";for(let t=0;t<10;t++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",h,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}}normalizeStyleURL(e,t){if(!ve(e))return e;const n=ke(e);return n.path="/styles/v1".concat(n.path),this._makeAPIURL(n,this._customAccessToken||t)}normalizeGlyphsURL(e,t){if(!ve(e))return e;const n=ke(e);return n.path="/fonts/v1".concat(n.path),this._makeAPIURL(n,this._customAccessToken||t)}normalizeSourceURL(e,t,n,i){if(!ve(e))return e;const r=ke(e);return r.path="/v4/".concat(r.authority,".json"),r.params.push("secure"),n&&r.params.push("language=".concat(n)),i&&r.params.push("worldview=".concat(i)),this._makeAPIURL(r,this._customAccessToken||t)}normalizeSpriteURL(e,t,n,i){const r=ke(e);return ve(e)?(r.path="/styles/v1".concat(r.path,"/sprite").concat(t).concat(n),this._makeAPIURL(r,this._customAccessToken||i)):(r.path+="".concat(t).concat(n),Se(r))}normalizeTileURL(e,t,n){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!ve(e))return e;const i=ke(e);i.path=i.path.replace(/(\.(png|jpg)\d*)(?=$)/,"".concat(t||n&&"raster"!==i.authority&&512===n?"@2x":"").concat(o.supported?".webp":"$1")),"raster"===i.authority?i.path="/".concat(r.RASTER_URL_PREFIX).concat(i.path):(i.path=i.path.replace(/^.+\/v4\//,"/"),i.path="/".concat(r.TILE_URL_VERSION).concat(i.path));const a=this._customAccessToken||function(e){for(const t of e){const e=t.match(/^access_token=(.*)$/);if(e)return e[1]}return null}(i.params)||r.ACCESS_TOKEN;return r.REQUIRE_ACCESS_TOKEN&&a&&this._skuToken&&i.params.push("sku=".concat(this._skuToken)),this._makeAPIURL(i,a)}canonicalizeTileURL(e,t){const n=ke(e);if(!n.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!n.path.match(/\.[\w]+$/))return e;let i="mapbox://";n.path.match(/^\/raster\/v1\//)?i+="raster/".concat(n.path.replace("/".concat(r.RASTER_URL_PREFIX,"/"),"")):i+="tiles/".concat(n.path.replace("/".concat(r.TILE_URL_VERSION,"/"),""));let o=n.params;return t&&(o=o.filter((e=>!e.match(/^access_token=/)))),o.length&&(i+="?".concat(o.join("&"))),i}canonicalizeTileset(e,t){const n=!!t&&ve(t),i=[];for(const r of e.tiles||[])xe(r)?i.push(this.canonicalizeTileURL(r,n)):i.push(r);return i}_makeAPIURL(e,t){const n="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",i=ke(r.API_URL);if(e.protocol=i.protocol,e.authority=i.authority,"http"===e.protocol){const t=e.params.indexOf("secure");t>=0&&e.params.splice(t,1)}if("/"!==i.path&&(e.path="".concat(i.path).concat(e.path)),!r.REQUIRE_ACCESS_TOKEN)return Se(e);if(t=t||r.ACCESS_TOKEN,!this._silenceAuthErrors){if(!t)throw new Error("An API access token is required to use Mapbox GL. ".concat(n));if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ".concat(n))}return e.params=e.params.filter((e=>-1===e.indexOf("access_token"))),e.params.push("access_token=".concat(t||"")),Se(e)}},e.ResourceType=le,e.SegmentVector=as,e.SourceCache=tm,e.StencilMode=Yf,e.StructArrayLayout1ui2=ua,e.StructArrayLayout2f1f2i16=ea,e.StructArrayLayout2i4=Uo,e.StructArrayLayout2ui4=ca,e.StructArrayLayout3f12=na,e.StructArrayLayout3ui6=ia,e.StructArrayLayout4i8=qo,e.StructArrayLayout5f20=sa,e.Texture=yf,e.Tile=Lf,e.Transitionable=ko,e.Uniform1f=Ba,e.Uniform1i=class extends Ra{constructor(e){super(e),this.current=0}set(e,t,n){this.fetchUniformLocation(e,t)&&this.current!==n&&(this.current=n,this.gl.uniform1i(this.location,n))}},e.Uniform2f=class extends Ra{constructor(e){super(e),this.current=[0,0]}set(e,t,n){this.fetchUniformLocation(e,t)&&(n[0]===this.current[0]&&n[1]===this.current[1]||(this.current=n,this.gl.uniform2f(this.location,n[0],n[1])))}},e.Uniform3f=class extends Ra{constructor(e){super(e),this.current=[0,0,0]}set(e,t,n){this.fetchUniformLocation(e,t)&&(n[0]===this.current[0]&&n[1]===this.current[1]&&n[2]===this.current[2]||(this.current=n,this.gl.uniform3f(this.location,n[0],n[1],n[2])))}},e.Uniform4f=Fa,e.UniformColor=ja,e.UniformMatrix2f=class extends Ra{constructor(e){super(e),this.current=Va}set(e,t,n){if(this.fetchUniformLocation(e,t))for(let i=0;i<4;i++)if(n[i]!==this.current[i]){this.current=n,this.gl.uniformMatrix2fv(this.location,!1,n);break}}},e.UniformMatrix3f=class extends Ra{constructor(e){super(e),this.current=Ua}set(e,t,n){if(this.fetchUniformLocation(e,t))for(let i=0;i<9;i++)if(n[i]!==this.current[i]){this.current=n,this.gl.uniformMatrix3fv(this.location,!1,n);break}}},e.UniformMatrix4f=class extends Ra{constructor(e){super(e),this.current=Na}set(e,t,n){if(this.fetchUniformLocation(e,t)){if(n[12]!==this.current[12]||n[0]!==this.current[0])return this.current=n,void this.gl.uniformMatrix4fv(this.location,!1,n);for(let e=1;e<16;e++)if(n[e]!==this.current[e]){this.current=n,this.gl.uniformMatrix4fv(this.location,!1,n);break}}}},e.UnwrappedTileID=ph,e.ValidationError=nr,e.VectorTileFeature=Hu,e.VectorTileWorkerSource=class extends Qe{constructor(e,t,n,i,r){super(),this.actor=e,this.layerIndex=t,this.availableImages=n,this.loadVectorData=r||mm,this.loading={},this.loaded={},this.deduped=new fm(e.scheduler),this.isSpriteLoaded=i,this.scheduler=e.scheduler}loadTile(e,t){const n=e.uid,i=e&&e.request,r=i&&i.collectResourceTiming,o=this.loading[n]=new dm(e);o.abort=this.loadVectorData(e,((a,s)=>{const l=!this.loading[n];if(delete this.loading[n],l||a||!s)return o.status="done",l||(this.loaded[n]=o),t(a);const c=s.rawData,u={};s.expires&&(u.expires=s.expires),s.cacheControl&&(u.cacheControl=s.cacheControl),o.vectorTile=s.vectorTile||new Zu(new gd(c));const h=()=>{o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,((e,n)=>{if(e||!n)return t(e);const o={};if(r){const e=qe(i);e.length>0&&(o.resourceTiming=JSON.parse(JSON.stringify(e)))}t(null,I({rawTileData:c.slice(0)},n,u,o))}))};this.isSpriteLoaded?h():this.once("isSpriteLoaded",(()=>{this.scheduler?this.scheduler.add(h,{type:"parseTile",isSymbolTile:e.isSymbolTile,zoom:e.tileZoom}):h()})),this.loaded=this.loaded||{},this.loaded[n]=o}))}reloadTile(e,t){const n=this.loaded,i=e.uid,r=this;if(n&&n[i]){const o=n[i];o.showCollisionBoxes=e.showCollisionBoxes,o.enableTerrain=!!e.enableTerrain,o.projection=e.projection,o.tileTransform=Ap(e.tileID.canonical,e.projection);const a=(e,n)=>{const i=o.reloadCallback;i&&(delete o.reloadCallback,o.parse(o.vectorTile,r.layerIndex,this.availableImages,r.actor,i)),t(e,n)};"parsing"===o.status?o.reloadCallback=a:"done"===o.status&&(o.vectorTile?o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,a):a())}}abortTile(e,t){const n=e.uid,i=this.loading[n];i&&(i.abort&&i.abort(),delete this.loading[n]),t()}removeTile(e,t){const n=this.loaded,i=e.uid;n&&n[i]&&delete n[i],t()}},e.WritingMode=Sd,e.ZoomDependentExpression=$i,e.add=Cs,e.addDynamicAttributes=nf,e.adjoint=function(e,t){var n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8];return e[0]=a*u-s*c,e[1]=r*c-i*u,e[2]=i*s-r*a,e[3]=s*l-o*u,e[4]=n*u-r*l,e[5]=r*o-n*s,e[6]=o*c-a*l,e[7]=i*l-n*c,e[8]=n*a-i*o,e},e.asyncAll=A,e.bezier=k,e.bindAll=F,e.boundsAttributes=Pf,e.bufferConvexPolygon=function(e,t){const n=[];for(let i=0;i<e.length;i++){const r=z(i-1,-1,e.length-1),o=z(i+1,-1,e.length-1),a=e[i],s=e[o],l=e[r].sub(a).unit(),c=s.sub(a).unit(),u=c.angleWithSep(l.x,l.y),h=l.add(c).unit().mult(-1*t/Math.sin(u/2));n.push(a.add(h))}return n},e.cacheEntryPossiblyAdded=function(e){se++,se>ie&&(e.getActor().send("enforceCacheSizeLimit",ne),se=0)},e.calculateGlobeLabelMatrix=function(e,t){const{x:n,y:i}=e.point,r=Il(n,i,e.worldSize/e._pixelsPerMercatorPixel,0,0);return ms(r,r,Pl(yl(t)))},e.calculateGlobeMatrix=function(e){const{x:t,y:n}=e.point,{lng:i,lat:r}=e._center;return Il(t,n,e.worldSize,i,r)},e.calculateGlobeMercatorMatrix=function(e){const t=e.pixelsPerMeter,n=t/Zl(1,e.center.lat),i=ps(new Float64Array(16));return gs(i,i,[e.point.x,e.point.y,0]),_s(i,i,[n,n,t]),Float32Array.from(i)},e.circumferenceAtLatitude=ql,e.clamp=C,e.clearTileCache=function(e){if(!re())return;const n=t.caches.delete(Q);e&&n.catch(e).then((()=>e()))},e.clipLine=Yd,e.clone=function(e){var t=new us(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=V,e.collisionCircleLayout=Bh,e.config=r,e.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},e.create=function(){var e=new us(16);return us!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$1=hs,e.createExpression=Yi,e.createLayout=jo,e.createStyleLayer=function(e){return"custom"===e.type?new ff(e):new _f[e.type](e)},e.cross=Rs,e.degToRad=b,e.distance=function(e,t){return Math.hypot(t[0]-e[0],t[1]-e[1],t[2]-e[2])},e.div=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e},e.dot=Os,e.earthRadius=jl,e.ease=S,e.easeCubicInOut=T,e.ecefToLatLng=function(e){let[t,n,i]=e;const r=Math.hypot(t,n,i),o=Math.atan2(t,i),a=.5*Math.PI-Math.acos(-n/r);return new Vl(w(o),w(a))},e.emitValidationErrors=qr,e.endsWith=j,e.enforceCacheSizeLimit=function(e){oe(),ee&&ee.then((t=>{t.keys().then((n=>{for(let i=0;i<n.length-e;i++)t.delete(n[i])}))}))},e.evaluateSizeForFeature=Uh,e.evaluateSizeForZoom=Vh,e.evaluateVariableOffset=yp,e.evented=yo,e.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},e.exactEquals$1=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},e.exported=Xe,e.exported$1=o,e.extend=I,e.extend$1=tt,e.fillExtrusionHeightLift=sh,e.filterObject=U,e.fromMat4=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},e.fromQuat=function(e,t){var n=t[0],i=t[1],r=t[2],o=t[3],a=n+n,s=i+i,l=r+r,c=n*a,u=i*a,h=i*s,d=r*a,p=r*s,f=r*l,m=o*a,g=o*s,_=o*l;return e[0]=1-h-f,e[1]=u+_,e[2]=d-g,e[3]=0,e[4]=u-_,e[5]=1-c-f,e[6]=p+m,e[7]=0,e[8]=d+g,e[9]=p-m,e[10]=1-c-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.fromRotation=function(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=n,e[2]=0,e[3]=-n,e[4]=i,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.fromScaling=xs,e.furthestTileCorner=function(e){const t=Math.round((e+45+360)%360/90)%4;return E[t]},e.getAABBPointSquareDist=function(e,t,n){let i=0;for(let r=0;r<2;++r){const o=n?n[r]:0;e[r]>o&&(i+=(e[r]-o)*(e[r]-o)),t[r]<o&&(i+=(o-t[r])*(o-t[r]))}return i},e.getAnchorAlignment=Fd,e.getAnchorJustification=xp,e.getBounds=function(e){let t=1/0,n=1/0,i=-1/0,r=-1/0;for(const o of e)t=Math.min(t,o.x),n=Math.min(n,o.y),i=Math.max(i,o.x),r=Math.max(r,o.y);return{min:new y(t,n),max:new y(i,r)}},e.getColumn=$,e.getDefaultExportFromCjs=d,e.getGridMatrix=function(e,t,n,i){const r=t.getNorth(),o=t.getSouth(),a=t.getWest(),s=t.getEast(),l=1<<e.z,c=s-a,u=r-o,h=c/cl,d=-u/ul[n],p=[0,h,0,d,0,0,r,a,0];if(e.z>0){const e=180/i;ds(p,p,[e/c+1,0,0,0,e/u+1,0,-.5*e/h,.5*e/d,1])}return p[2]=l,p[5]=e.x,p[8]=e.y,p},e.getImage=_e,e.getJSON=function(e,t){return he(I(e,{type:"json"}),t)},e.getLatitudinalLod=function(e){const t=Yl-5;e=C(e,-t,t)/t*90;const n=Math.pow(Math.abs(Math.sin(b(e))),3);return Math.round(n*(ul.length-1))},e.getMapSessionAPI=Be,e.getPerformanceMeasurement=qe,e.getProjection=Jp,e.getRTLTextPluginStatus=vo,e.getReferrer=ue,e.getTilePoint=function(e,t){let{x:n,y:i}=t;return new y(((n-(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0))*e.scale-e.x)*ss,(i*e.scale-e.y)*ss)},e.getTileVec3=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Ss(((t.x-n)*e.scale-e.x)*ss,(t.y*e.scale-e.y)*ss,Kl(t.z,t.y))},e.getVideo=function(e,n){const i=t.document.createElement("video");i.muted=!0,i.onloadstart=function(){n(null,i)};for(let r=0;r<e.length;r++){const n=t.document.createElement("source");pe(e[r])||(i.crossOrigin="Anonymous"),n.src=e[r],i.appendChild(n)}return{cancel:()=>{}}},e.globeCenterToScreenPoint=function(e){const t=[0,0,0],n=ps(new Float64Array(16));return ms(n,e.pixelMatrix,e.globeMatrix),Bs(t,t,n),new y(t[0],t[1])},e.globeDenormalizeECEF=Pl,e.globeECEFOrigin=function(e,t){const n=[0,0,0];return Bs(n,n,Al(yl(t.canonical))),Bs(n,n,e),n},e.globeMetersToEcef=fl,e.globeNormalizeECEF=Al,e.globePixelsToTileUnits=function(e,t){return ss/(512*Math.pow(2,e))*Ml(yl(t))},e.globePoleMatrixForTile=function(e,t,n){const i=ps(new Float64Array(16)),r=(t/(1<<e)-.5)*Math.PI*2;return vs(i,n.globeMatrix,r),Float32Array.from(i)},e.globeTileBounds=yl,e.globeTiltAtLngLat=Dl,e.globeToMercatorTransition=Ll,e.globeUseCustomAntiAliasing=function(e,t,n){const i=Ll(n.zoom),r=e.style.map._antialias,o=!!t.extStandardDerivatives,a=t.extStandardDerivativesForceOff||e.terrain&&e.terrain.exaggeration()>0;return 0===i&&!r&&!a&&o},e.identity=ps,e.identity$1=Hs,e.invert=fs,e.isFullscreen=function(){return!!t.document.fullscreenElement||!!t.document.webkitFullscreenElement},e.isLngLatBehindGlobe=Ol,e.isMapAuthenticated=function(e){return Fe.has(e)},e.isMapboxURL=ve,e.isSafariWithAntialiasingBug=function(e){const t=e.navigator?e.navigator.userAgent:null;return!!Y(e)&&t&&(t.match("Version/15.4")||t.match("Version/15.5")||t.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},e.latFromMercatorY=Xl,e.latLngToECEF=Sl,e.len=Vs,e.length=ks,e.length$1=function(e){return Math.hypot(e[0],e[1],e[2],e[3])},e.lngFromMercatorX=Hl,e.loadVectorTile=mm,e.makeRequest=he,e.mapValue=function(e,t,n,i,r){return C((e-t)/(n-t)*(r-i)+i,i,r)},e.mercatorScale=Jl,e.mercatorXfromLng=Gl,e.mercatorYfromLat=Wl,e.mercatorZfromAltitude=Zl,e.mul=ws,e.mul$1=Us,e.multiply=ms,e.multiply$1=ds,e.multiply$2=zs,e.nextPowerOfTwo=R,e.normalize=Ds,e.normalize$1=Ys,e.normalize$2=Gs,e.number=In,e.ortho=function(e,t,n,i,r,o,a){var s=1/(t-n),l=1/(i-r),c=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(r+i)*l,e[14]=(a+o)*c,e[15]=1,e},e.pbf=Xh,e.perspective=function(e,t,n,i,r){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=r&&r!==1/0?(e[10]=(r+i)*(o=1/(i-r)),e[14]=2*r*i*o):(e[10]=-1,e[14]=-2*i),e},e.pick=function(e,t){const n={};for(let i=0;i<t.length;i++){const r=t[i];r in e&&(n[r]=e[r])}return n},e.plugin=bo,e.pointGeometry=g,e.polesInViewport=function(e){const t=ps(new Float64Array(16));ms(t,e.pixelMatrix,e.globeMatrix);const n=[0,hl,0],i=[0,dl,0];return Bs(n,n,t),Bs(i,i,t),[n[0]>0&&n[0]<=e.width&&n[1]>0&&n[1]<=e.height&&!Ol(e,new Vl(e.center.lat,90)),i[0]>0&&i[0]<=e.width&&i[1]>0&&i[1]<=e.height&&!Ol(e,new Vl(e.center.lat,-90))]},e.polygonContainsPoint=xc,e.polygonIntersectsBox=bc,e.polygonIntersectsPolygon=hc,e.polygonizeBounds=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const r=new y(n,n),o=e.sub(r),a=t.add(r),s=[o,new y(a.x,o.y),a,new y(o.x,a.y)];return i&&s.push(o.clone()),s},e.posAttributes=el,e.postMapLoadEvent=Le,e.postPerformanceEvent=Oe,e.postTurnstileEvent=Pe,e.potpack=wd,e.prevPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},e.radToDeg=w,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.registerForPluginStateChange=function(e){return e({pluginStatus:fo,pluginURL:mo}),yo.on("pluginStateChange",e),e},e.removeAuthState=function(e){Fe.delete(e)},e.renderColorRamp=Uc,e.resample=ec,e.rotateX=ys,e.rotateX$1=Xs,e.rotateY=vs,e.rotateY$1=Ks,e.rotateZ=function(e,t,n){var i=Math.sin(n),r=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],c=t[4],u=t[5],h=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*r+c*i,e[1]=a*r+u*i,e[2]=s*r+h*i,e[3]=l*r+d*i,e[4]=c*r-o*i,e[5]=u*r-a*i,e[6]=h*r-s*i,e[7]=d*r-l*i,e},e.rotateZ$1=function(e,t,n){n*=.5;var i=t[0],r=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=i*l+r*s,e[1]=r*l-i*s,e[2]=o*l+a*s,e[3]=a*l-o*s,e},e.scale=_s,e.scale$1=qs,e.scale$2=Is,e.scaleAndAdd=Ls,e.set=function(e,t,n,i){return e[0]=t,e[1]=n,e[2]=i,e},e.setCacheLimits=function(e,t){ne=e,ie=t},e.setColumn=function(e,t,n){e[4*t+0]=n[0],e[4*t+1]=n[1],e[4*t+2]=n[2],e[4*t+3]=n[3]},e.setRTLTextPlugin=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(fo===co||fo===uo||fo===ho)throw new Error("setRTLTextPlugin cannot be called multiple times.");mo=Xe.resolveURL(e),fo=co,po=t,_o(),n||xo()},e.smoothstep=M,e.spec=et,e.squaredLength=function(e){var t=e[0],n=e[1],i=e[2];return t*t+n*n+i*i},e.storeAuthState=function(e,t){t?Fe.add(e):Fe.delete(e)},e.sub=Ns,e.subtract=Ms,e.symbolSize=qh,e.tileAABB=function(e,t,n,i,r,o,a,s,l){if("globe"===l.name)return wl(e,t,new dh(n,i,r));const c=Ap({z:n,x:i,y:r},l);return new rl([(o+c.x/c.scale)*t,t*(c.y/c.scale),a],[(o+c.x2/c.scale)*t,t*(c.y2/c.scale),s])},e.tileCornersToBounds=El,e.tileTransform=Ap,e.transformMat3=function(e,t,n){var i=t[0],r=t[1],o=t[2];return e[0]=i*n[0]+r*n[3]+o*n[6],e[1]=i*n[1]+r*n[4]+o*n[7],e[2]=i*n[2]+r*n[5]+o*n[8],e},e.transformMat4=Bs,e.transformMat4$1=Ws,e.transformQuat=Fs,e.transitionTileAABBinECEF=xl,e.translate=gs,e.transpose=function(e,t){if(e===t){var n=t[1],i=t[2],r=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=i,e[7]=r}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},e.triggerPluginCompletionEvent=go,e.uniqueId=D,e.updateGlobeVertexNormal=function(e,t,n,i,r){const o=5*t+2;e.float32[o+0]=n,e.float32[o+1]=i,e.float32[o+2]=r},e.validateCustomStyleLayer=function(e){const t=[],n=e.id;return void 0===n&&t.push({message:"layers.".concat(n,': missing required property "id"')}),void 0===e.render&&t.push({message:"layers.".concat(n,': missing required method "render"')}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:"layers.".concat(n,': property "renderingMode" must be either "2d" or "3d"')}),t},e.validateFilter=e=>Vr(Er(e)),e.validateFog=e=>Vr(Or(e)),e.validateLayer=e=>Vr(Mr(e)),e.validateLight=e=>Vr(Lr(e)),e.validateSource=e=>Vr(Pr(e)),e.validateStyle=jr,e.validateTerrain=e=>Vr(Dr(e)),e.values=P,e.vectorTile=Du,e.version=n,e.warnOnce=G,e.window=t,e.wrap=z})),i(["./shared"],(function(e){function t(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e||null==e)return JSON.stringify(e);if(Array.isArray(e)){let n="[";for(const i of e)n+="".concat(t(i),",");return"".concat(n,"]")}let n="{";for(const i of Object.keys(e).sort())n+="".concat(i,":").concat(t(e[i]),",");return"".concat(n,"}")}function n(n){let i="";for(const r of e.refProperties)i+="/".concat(t(n[r]));return i}class i{constructor(e){this.keyCache={},e&&this.replace(e)}replace(e){this._layerConfigs={},this._layers={},this.update(e,[])}update(t,i){for(const n of t)this._layerConfigs[n.id]=n,(this._layers[n.id]=e.createStyleLayer(n)).compileFilter(),this.keyCache[n.id]&&delete this.keyCache[n.id];for(const e of i)delete this.keyCache[e],delete this._layerConfigs[e],delete this._layers[e];this.familiesBySource={};const r=function(e,t){const i={};for(let o=0;o<e.length;o++){const r=t&&t[e[o].id]||n(e[o]);t&&(t[e[o].id]=r);let a=i[r];a||(a=i[r]=[]),a.push(e[o])}const r=[];for(const n in i)r.push(i[n]);return r}(e.values(this._layerConfigs),this.keyCache);for(const e of r){const t=e.map((e=>this._layers[e.id])),n=t[0];if("none"===n.visibility)continue;const i=n.source||"";let r=this.familiesBySource[i];r||(r=this.familiesBySource[i]={});const o=n.sourceLayer||"_geojsonTileLayer";let a=r[o];a||(a=r[o]=[]),a.push(t)}}}class r{loadTile(t,n){const{uid:i,encoding:r,rawImageData:o,padding:a,buildQuadTree:s}=t,l=e.window.ImageBitmap&&o instanceof e.window.ImageBitmap?this.getImageData(o,a):o;n(null,new e.DEMData(i,l,r,a<1,s))}getImageData(e,t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);const n=this.offscreenCanvasContext.getImageData(-t,-t,e.width+2*t,e.height+2*t);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),n}}function o(e,t){if(0!==e.length){a(e[0],t);for(var n=1;n<e.length;n++)a(e[n],!t)}}function a(e,t){for(var n=0,i=0,r=0,o=e.length,a=o-1;r<o;a=r++){var s=(e[r][0]-e[a][0])*(e[a][1]+e[r][1]),l=n+s;i+=Math.abs(n)>=Math.abs(s)?n-l+s:s-l+n,n=l}n+i>=0!=!!t&&e.reverse()}var s=e.getDefaultExportFromCjs((function e(t,n){var i,r=t&&t.type;if("FeatureCollection"===r)for(i=0;i<t.features.length;i++)e(t.features[i],n);else if("GeometryCollection"===r)for(i=0;i<t.geometries.length;i++)e(t.geometries[i],n);else if("Feature"===r)e(t.geometry,n);else if("Polygon"===r)o(t.coordinates,n);else if("MultiPolygon"===r)for(i=0;i<t.coordinates.length;i++)o(t.coordinates[i],n);return t}));const l=e.VectorTileFeature.prototype.toGeoJSON;var c={exports:{}},u=e.pointGeometry,h=e.vectorTile.VectorTileFeature,d=p;function p(e,t){this.options=t||{},this.features=e,this.length=e.length}function f(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}p.prototype.feature=function(e){return new f(this.features[e],this.options.extent)},f.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t<e.length;t++){for(var n=e[t],i=[],r=0;r<n.length;r++)i.push(new u(n[r][0],n[r][1]));this.geometry.push(i)}return this.geometry},f.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-1/0,i=1/0,r=-1/0,o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.length;s++){var l=a[s];t=Math.min(t,l.x),n=Math.max(n,l.x),i=Math.min(i,l.y),r=Math.max(r,l.y)}return[t,i,n,r]},f.prototype.toGeoJSON=h.prototype.toGeoJSON;var m=e.pbf,g=d;function _(e){var t=new m;return function(e,t){for(var n in e.layers)t.writeMessage(3,y,e.layers[n])}(e,t),t.finish()}function y(e,t){var n;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var i={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<e.length;n++)i.feature=e.feature(n),t.writeMessage(2,v,i);var r=i.keys;for(n=0;n<r.length;n++)t.writeStringField(3,r[n]);var o=i.values;for(n=0;n<o.length;n++)t.writeMessage(4,T,o[n])}function v(e,t){var n=e.feature;void 0!==n.id&&t.writeVarintField(1,n.id),t.writeMessage(2,x,e),t.writeVarintField(3,n.type),t.writeMessage(4,E,n)}function x(e,t){var n=e.feature,i=e.keys,r=e.values,o=e.keycache,a=e.valuecache;for(var s in n.properties){var l=n.properties[s],c=o[s];if(null!==l){void 0===c&&(i.push(s),o[s]=c=i.length-1),t.writeVarint(c);var u=typeof l;"string"!==u&&"boolean"!==u&&"number"!==u&&(l=JSON.stringify(l));var h=u+":"+l,d=a[h];void 0===d&&(r.push(l),a[h]=d=r.length-1),t.writeVarint(d)}}}function b(e,t){return(t<<3)+(7&e)}function w(e){return e<<1^e>>31}function E(e,t){for(var n=e.loadGeometry(),i=e.type,r=0,o=0,a=n.length,s=0;s<a;s++){var l=n[s],c=1;1===i&&(c=l.length),t.writeVarint(b(1,c));for(var u=3===i?l.length-1:l.length,h=0;h<u;h++){1===h&&1!==i&&t.writeVarint(b(2,u-1));var d=l[h].x-r,p=l[h].y-o;t.writeVarint(w(d)),t.writeVarint(w(p)),r+=d,o+=p}3===i&&t.writeVarint(b(7,1))}}function T(e,t){var n=typeof e;"string"===n?t.writeStringField(1,e):"boolean"===n?t.writeBooleanField(7,e):"number"===n&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}c.exports=_,c.exports.fromVectorTileJs=_,c.exports.fromGeojsonVt=function(e,t){t=t||{};var n={};for(var i in e)n[i]=new g(e[i].features,t),n[i].name=i,n[i].version=t.version,n[i].extent=t.extent;return _({layers:n})},c.exports.GeoJSONWrapper=g;var k=e.getDefaultExportFromCjs(c.exports);const S={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},C=Math.fround||(M=new Float32Array(1),e=>(M[0]=+e,M[0]));var M;const z=3,A=5,P=6;class I{constructor(e){this.options=Object.assign(Object.create(S),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:t,minZoom:n,maxZoom:i}=this.options;t&&console.time("total time");const r="prepare ".concat(e.length," points");t&&console.time(r),this.points=e;const o=[];for(let s=0;s<e.length;s++){const t=e[s];if(!t.geometry)continue;const[n,i]=t.geometry.coordinates,r=C(O(n)),a=C(R(i));o.push(r,a,1/0,s,-1,1),this.options.reduce&&o.push(0)}let a=this.trees[i+1]=this._createTree(o);t&&console.timeEnd(r);for(let s=i;s>=n;s--){const e=+Date.now();a=this.trees[s]=this._createTree(this._cluster(a,s)),t&&console.log("z%d: %d clusters in %dms",s,a.numItems,+Date.now()-e)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let n=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let r=180===e[2]?180:((e[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,r=180;else if(n>r){const e=this.getClusters([n,i,180,o],t),a=this.getClusters([-180,i,r,o],t);return e.concat(a)}const a=this.trees[this._limitZoom(t)],s=a.range(O(n),R(o),O(r),R(i)),l=a.data,c=[];for(const u of s){const e=this.stride*u;c.push(l[e+A]>1?L(l,e,this.clusterProps):this.points[l[e+z]])}return c}getChildren(e){const t=this._getOriginId(e),n=this._getOriginZoom(e),i="No cluster with the specified id.",r=this.trees[n];if(!r)throw new Error(i);const o=r.data;if(t*this.stride>=o.length)throw new Error(i);const a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=r.within(o[t*this.stride],o[t*this.stride+1],a),l=[];for(const c of s){const t=c*this.stride;o[t+4]===e&&l.push(o[t+A]>1?L(o,t,this.clusterProps):this.points[o[t+z]])}if(0===l.length)throw new Error(i);return l}getLeaves(e,t,n){const i=[];return this._appendLeaves(i,e,t=t||10,n=n||0,0),i}getTile(e,t,n){const i=this.trees[this._limitZoom(e)],r=Math.pow(2,e),{extent:o,radius:a}=this.options,s=a/o,l=(n-s)/r,c=(n+1+s)/r,u={features:[]};return this._addTileFeatures(i.range((t-s)/r,l,(t+1+s)/r,c),i.data,t,n,r,u),0===t&&this._addTileFeatures(i.range(1-s/r,l,1,c),i.data,r,n,r,u),t===r-1&&this._addTileFeatures(i.range(0,l,s/r,c),i.data,-1,n,r,u),u.features.length?u:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,i,r){const o=this.getChildren(t);for(const a of o){const t=a.properties;if(t&&t.cluster?r+t.point_count<=i?r+=t.point_count:r=this._appendLeaves(e,t.cluster_id,n,i,r):r<i?r++:e.push(a),e.length===n)break}return r}_createTree(t){const n=new e.KDBush(t.length/this.stride|0,this.options.nodeSize,Float32Array);for(let e=0;e<t.length;e+=this.stride)n.add(t[e],t[e+1]);return n.finish(),n.data=t,n}_addTileFeatures(e,t,n,i,r,o){for(const a of e){const e=a*this.stride,s=t[e+A]>1;let l,c,u;if(s)l=D(t,e,this.clusterProps),c=t[e],u=t[e+1];else{const n=this.points[t[e+z]];l=n.properties;const[i,r]=n.geometry.coordinates;c=O(i),u=R(r)}const h={type:1,geometry:[[Math.round(this.options.extent*(c*r-n)),Math.round(this.options.extent*(u*r-i))]],tags:l};let d;d=s||this.options.generateId?t[e+z]:this.points[t[e+z]].id,void 0!==d&&(h.id=d),o.features.push(h)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const{radius:n,extent:i,reduce:r,minPoints:o}=this.options,a=n/(i*Math.pow(2,t)),s=e.data,l=[],c=this.stride;for(let u=0;u<s.length;u+=c){if(s[u+2]<=t)continue;s[u+2]=t;const n=s[u],i=s[u+1],h=e.within(s[u],s[u+1],a),d=s[u+A];let p=d;for(const e of h){const n=e*c;s[n+2]>t&&(p+=s[n+A])}if(p>d&&p>=o){let e,o=n*d,a=i*d,f=-1;const m=((u/c|0)<<5)+(t+1)+this.points.length;for(const n of h){const i=n*c;if(s[i+2]<=t)continue;s[i+2]=t;const l=s[i+A];o+=s[i]*l,a+=s[i+1]*l,s[i+4]=m,r&&(e||(e=this._map(s,u,!0),f=this.clusterProps.length,this.clusterProps.push(e)),r(e,this._map(s,i)))}s[u+4]=m,l.push(o/p,a/p,1/0,m,-1,p),r&&l.push(f)}else{for(let e=0;e<c;e++)l.push(s[u+e]);if(p>1)for(const e of h){const n=e*c;if(!(s[n+2]<=t)){s[n+2]=t;for(let e=0;e<c;e++)l.push(s[n+e])}}}}return l}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,n){if(e[t+A]>1){const i=this.clusterProps[e[t+P]];return n?Object.assign({},i):i}const i=this.points[e[t+z]].properties,r=this.options.map(i);return n&&r===i?Object.assign({},r):r}}function L(e,t,n){return{type:"Feature",id:e[t+z],properties:D(e,t,n),geometry:{type:"Point",coordinates:[(i=e[t],360*(i-.5)),B(e[t+1])]}};var i}function D(e,t,n){const i=e[t+A],r=i>=1e4?"".concat(Math.round(i/1e3),"k"):i>=1e3?Math.round(i/100)/10+"k":i,o=e[t+P],a=-1===o?{}:Object.assign({},n[o]);return Object.assign(a,{cluster:!0,cluster_id:e[t+z],point_count:i,point_count_abbreviated:r})}function O(e){return e/360+.5}function R(e){const t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function B(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function F(e,t,n,i){for(var r,o=i,a=n-t>>1,s=n-t,l=e[t],c=e[t+1],u=e[n],h=e[n+1],d=t+3;d<n;d+=3){var p=j(e[d],e[d+1],l,c,u,h);if(p>o)r=d,o=p;else if(p===o){var f=Math.abs(d-a);f<s&&(r=d,s=f)}}o>i&&(r-t>3&&F(e,t,r,i),e[r+2]=o,n-r>3&&F(e,r,n,i))}function j(e,t,n,i,r,o){var a=r-n,s=o-i;if(0!==a||0!==s){var l=((e-n)*a+(t-i)*s)/(a*a+s*s);l>1?(n=r,i=o):l>0&&(n+=a*l,i+=s*l)}return(a=e-n)*a+(s=t-i)*s}function N(e,t,n,i){var r={id:void 0===e?null:e,type:t,geometry:n,tags:i,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,n=e.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)U(e,t);else if("Polygon"===n||"MultiLineString"===n)for(var i=0;i<t.length;i++)U(e,t[i]);else if("MultiPolygon"===n)for(i=0;i<t.length;i++)for(var r=0;r<t[i].length;r++)U(e,t[i][r])}(r),r}function U(e,t){for(var n=0;n<t.length;n+=3)e.minX=Math.min(e.minX,t[n]),e.minY=Math.min(e.minY,t[n+1]),e.maxX=Math.max(e.maxX,t[n]),e.maxY=Math.max(e.maxY,t[n+1])}function V(e,t,n,i){if(t.geometry){var r=t.geometry.coordinates,o=t.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],l=t.id;if(n.promoteId?l=t.properties[n.promoteId]:n.generateId&&(l=i||0),"Point"===o)q(r,s);else if("MultiPoint"===o)for(var c=0;c<r.length;c++)q(r[c],s);else if("LineString"===o)G(r,s,a,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(c=0;c<r.length;c++)G(r[c],s=[],a,!1),e.push(N(l,"LineString",s,t.properties));return}W(r,s,a,!1)}else if("Polygon"===o)W(r,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(c=0;c<t.geometry.geometries.length;c++)V(e,{id:l,geometry:t.geometry.geometries[c],properties:t.properties},n,i);return}throw new Error("Input data is not a valid GeoJSON object.")}for(c=0;c<r.length;c++){var u=[];W(r[c],u,a,!0),s.push(u)}}e.push(N(l,o,s,t.properties))}}function q(e,t){t.push(Z(e[0])),t.push(H(e[1])),t.push(0)}function G(e,t,n,i){for(var r,o,a=0,s=0;s<e.length;s++){var l=Z(e[s][0]),c=H(e[s][1]);t.push(l),t.push(c),t.push(0),s>0&&(a+=i?(r*c-l*o)/2:Math.sqrt(Math.pow(l-r,2)+Math.pow(c-o,2))),r=l,o=c}var u=t.length-3;t[2]=1,F(t,0,u,n),t[u+2]=1,t.size=Math.abs(a),t.start=0,t.end=t.size}function W(e,t,n,i){for(var r=0;r<e.length;r++){var o=[];G(e[r],o,n,i),t.push(o)}}function Z(e){return e/360+.5}function H(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function X(e,t,n,i,r,o,a,s){if(i/=t,o>=(n/=t)&&a<i)return e;if(a<n||o>=i)return null;for(var l=[],c=0;c<e.length;c++){var u=e[c],h=u.geometry,d=u.type,p=0===r?u.minX:u.minY,f=0===r?u.maxX:u.maxY;if(p>=n&&f<i)l.push(u);else if(!(f<n||p>=i)){var m=[];if("Point"===d||"MultiPoint"===d)K(h,m,n,i,r);else if("LineString"===d)Y(h,m,n,i,r,!1,s.lineMetrics);else if("MultiLineString"===d)$(h,m,n,i,r,!1);else if("Polygon"===d)$(h,m,n,i,r,!0);else if("MultiPolygon"===d)for(var g=0;g<h.length;g++){var _=[];$(h[g],_,n,i,r,!0),_.length&&m.push(_)}if(m.length){if(s.lineMetrics&&"LineString"===d){for(g=0;g<m.length;g++)l.push(N(u.id,d,m[g],u.tags));continue}"LineString"!==d&&"MultiLineString"!==d||(1===m.length?(d="LineString",m=m[0]):d="MultiLineString"),"Point"!==d&&"MultiPoint"!==d||(d=3===m.length?"Point":"MultiPoint"),l.push(N(u.id,d,m,u.tags))}}}return l.length?l:null}function K(e,t,n,i,r){for(var o=0;o<e.length;o+=3){var a=e[o+r];a>=n&&a<=i&&(t.push(e[o]),t.push(e[o+1]),t.push(e[o+2]))}}function Y(e,t,n,i,r,o,a){for(var s,l,c=J(e),u=0===r?ee:te,h=e.start,d=0;d<e.length-3;d+=3){var p=e[d],f=e[d+1],m=e[d+2],g=e[d+3],_=e[d+4],y=0===r?p:f,v=0===r?g:_,x=!1;a&&(s=Math.sqrt(Math.pow(p-g,2)+Math.pow(f-_,2))),y<n?v>n&&(l=u(c,p,f,g,_,n),a&&(c.start=h+s*l)):y>i?v<i&&(l=u(c,p,f,g,_,i),a&&(c.start=h+s*l)):Q(c,p,f,m),v<n&&y>=n&&(l=u(c,p,f,g,_,n),x=!0),v>i&&y<=i&&(l=u(c,p,f,g,_,i),x=!0),!o&&x&&(a&&(c.end=h+s*l),t.push(c),c=J(e)),a&&(h+=s)}var b=e.length-3;p=e[b],f=e[b+1],m=e[b+2],(y=0===r?p:f)>=n&&y<=i&&Q(c,p,f,m),b=c.length-3,o&&b>=3&&(c[b]!==c[0]||c[b+1]!==c[1])&&Q(c,c[0],c[1],c[2]),c.length&&t.push(c)}function J(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function $(e,t,n,i,r,o){for(var a=0;a<e.length;a++)Y(e[a],t,n,i,r,o,!1)}function Q(e,t,n,i){e.push(t),e.push(n),e.push(i)}function ee(e,t,n,i,r,o){var a=(o-t)/(i-t);return e.push(o),e.push(n+(r-n)*a),e.push(1),a}function te(e,t,n,i,r,o){var a=(o-n)/(r-n);return e.push(t+(i-t)*a),e.push(o),e.push(1),a}function ne(e,t){for(var n=[],i=0;i<e.length;i++){var r,o=e[i],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)r=ie(o.geometry,t);else if("MultiLineString"===a||"Polygon"===a){r=[];for(var s=0;s<o.geometry.length;s++)r.push(ie(o.geometry[s],t))}else if("MultiPolygon"===a)for(r=[],s=0;s<o.geometry.length;s++){for(var l=[],c=0;c<o.geometry[s].length;c++)l.push(ie(o.geometry[s][c],t));r.push(l)}n.push(N(o.id,a,r,o.tags))}return n}function ie(e,t){var n=[];n.size=e.size,void 0!==e.start&&(n.start=e.start,n.end=e.end);for(var i=0;i<e.length;i+=3)n.push(e[i]+t,e[i+1],e[i+2]);return n}function re(e,t){if(e.transformed)return e;var n,i,r,o=1<<e.z,a=e.x,s=e.y;for(n=0;n<e.features.length;n++){var l=e.features[n],c=l.geometry,u=l.type;if(l.geometry=[],1===u)for(i=0;i<c.length;i+=2)l.geometry.push(oe(c[i],c[i+1],t,o,a,s));else for(i=0;i<c.length;i++){var h=[];for(r=0;r<c[i].length;r+=2)h.push(oe(c[i][r],c[i][r+1],t,o,a,s));l.geometry.push(h)}}return e.transformed=!0,e}function oe(e,t,n,i,r,o){return[Math.round(n*(e*i-r)),Math.round(n*(t*i-o))]}function ae(e,t,n,i,r){for(var o=t===r.maxZoom?0:r.tolerance/((1<<t)*r.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:i,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){a.numFeatures++,se(a,e[s],o,r);var l=e[s].minX,c=e[s].minY,u=e[s].maxX,h=e[s].maxY;l<a.minX&&(a.minX=l),c<a.minY&&(a.minY=c),u>a.maxX&&(a.maxX=u),h>a.maxY&&(a.maxY=h)}return a}function se(e,t,n,i){var r=t.geometry,o=t.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<r.length;s+=3)a.push(r[s]),a.push(r[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===o)le(a,r,e,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<r.length;s++)le(a,r[s],e,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var l=0;l<r.length;l++){var c=r[l];for(s=0;s<c.length;s++)le(a,c[s],e,n,!0,0===s)}if(a.length){var u=t.tags||null;if("LineString"===o&&i.lineMetrics){for(var h in u={},t.tags)u[h]=t.tags[h];u.mapbox_clip_start=r.start/r.size,u.mapbox_clip_end=r.end/r.size}var d={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:u};null!==t.id&&(d.id=t.id),e.features.push(d)}}function le(e,t,n,i,r,o){var a=i*i;if(i>0&&t.size<(r?a:i))n.numPoints+=t.length/3;else{for(var s=[],l=0;l<t.length;l+=3)(0===i||t[l+2]>a)&&(n.numSimplified++,s.push(t[l]),s.push(t[l+1])),n.numPoints++;r&&function(e,t){for(var n=0,i=0,r=e.length,o=r-2;i<r;o=i,i+=2)n+=(e[i]-e[o])*(e[i+1]+e[o+1]);if(n>0===t)for(i=0,r=e.length;i<r/2;i+=2){var a=e[i],s=e[i+1];e[i]=e[r-2-i],e[i+1]=e[r-1-i],e[r-2-i]=a,e[r-1-i]=s}}(s,o),e.push(s)}}function ce(e,t){var n=(t=this.options=function(e,t){for(var n in t)e[n]=t[n];return e}(Object.create(this.options),t)).debug;if(n&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var i=function(e,t){var n=[];if("FeatureCollection"===e.type)for(var i=0;i<e.features.length;i++)V(n,e.features[i],t,i);else V(n,"Feature"===e.type?e:{geometry:e},t);return n}(e,t);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),i=function(e,t){var n=t.buffer/t.extent,i=e,r=X(e,1,-1-n,n,0,-1,2,t),o=X(e,1,1-n,2+n,0,-1,2,t);return(r||o)&&(i=X(e,1,-n,1+n,0,-1,2,t)||[],r&&(i=ne(r,1).concat(i)),o&&(i=i.concat(ne(o,-1)))),i}(i,t),i.length&&this.splitTile(i,0,0,0),n&&(i.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function ue(e,t,n){return 32*((1<<e)*n+t)+e}function he(t,n){const i=t.tileID.canonical;if(!this._geoJSONIndex)return n(null,null);const r=this._geoJSONIndex.getTile(i.z,i.x,i.y);if(!r)return n(null,null);const o=new class{constructor(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t}feature(t){return new class{constructor(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))}loadGeometry(){if(1===this._feature.type){const t=[];for(const n of this._feature.geometry)t.push([new e.Point(n[0],n[1])]);return t}{const t=[];for(const n of this._feature.geometry){const i=[];for(const t of n)i.push(new e.Point(t[0],t[1]));t.push(i)}return t}}toGeoJSON(e,t,n){return l.call(this,e,t,n)}}(this._features[t])}}(r.features);let a=k(o);0===a.byteOffset&&a.byteLength===a.buffer.byteLength||(a=new Uint8Array(a)),n(null,{vectorTile:o,rawData:a.buffer})}ce.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ce.prototype.splitTile=function(e,t,n,i,r,o,a){for(var s=[e,t,n,i],l=this.options,c=l.debug;s.length;){i=s.pop(),n=s.pop(),t=s.pop(),e=s.pop();var u=1<<t,h=ue(t,n,i),d=this.tiles[h];if(!d&&(c>1&&console.time("creation"),d=this.tiles[h]=ae(e,t,n,i,l),this.tileCoords.push({z:t,x:n,y:i}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,i,d.numFeatures,d.numPoints,d.numSimplified),console.timeEnd("creation"));var p="z"+t;this.stats[p]=(this.stats[p]||0)+1,this.total++}if(d.source=e,r){if(t===l.maxZoom||t===r)continue;var f=1<<r-t;if(n!==Math.floor(o/f)||i!==Math.floor(a/f))continue}else if(t===l.indexMaxZoom||d.numPoints<=l.indexMaxPoints)continue;if(d.source=null,0!==e.length){c>1&&console.time("clipping");var m,g,_,y,v,x,b=.5*l.buffer/l.extent,w=.5-b,E=.5+b,T=1+b;m=g=_=y=null,v=X(e,u,n-b,n+E,0,d.minX,d.maxX,l),x=X(e,u,n+w,n+T,0,d.minX,d.maxX,l),e=null,v&&(m=X(v,u,i-b,i+E,1,d.minY,d.maxY,l),g=X(v,u,i+w,i+T,1,d.minY,d.maxY,l),v=null),x&&(_=X(x,u,i-b,i+E,1,d.minY,d.maxY,l),y=X(x,u,i+w,i+T,1,d.minY,d.maxY,l),x=null),c>1&&console.timeEnd("clipping"),s.push(m||[],t+1,2*n,2*i),s.push(g||[],t+1,2*n,2*i+1),s.push(_||[],t+1,2*n+1,2*i),s.push(y||[],t+1,2*n+1,2*i+1)}}},ce.prototype.getTile=function(e,t,n){var i=this.options,r=i.extent,o=i.debug;if(e<0||e>24)return null;var a=1<<e,s=ue(e,t=(t%a+a)%a,n);if(this.tiles[s])return re(this.tiles[s],r);o>1&&console.log("drilling down to z%d-%d-%d",e,t,n);for(var l,c=e,u=t,h=n;!l&&c>0;)c--,u=Math.floor(u/2),h=Math.floor(h/2),l=this.tiles[ue(c,u,h)];return l&&l.source?(o>1&&console.log("found parent tile z%d-%d-%d",c,u,h),o>1&&console.time("drilling down"),this.splitTile(l.source,c,u,h,e,t,n),o>1&&console.timeEnd("drilling down"),this.tiles[s]?re(this.tiles[s],r):null):null};class de extends e.VectorTileWorkerSource{constructor(e,t,n,i,r){super(e,t,n,i,he),r&&(this.loadGeoJSON=r)}loadData(t,n){const i=t&&t.request,r=i&&i.collectResourceTiming;this.loadGeoJSON(t,((o,a)=>{if(o||!a)return n(o);if("object"!=typeof a)return n(new Error("Input data given to '".concat(t.source,"' is not a valid GeoJSON object.")));{s(a,!0);try{if(t.filter){const n=e.createExpression(t.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===n.result)throw new Error(n.value.map((e=>"".concat(e.key,": ").concat(e.message))).join(", "));const i=a.features.filter((e=>n.value.evaluate({zoom:0},e)));a={type:"FeatureCollection",features:i}}this._geoJSONIndex=t.cluster?new I(function(t){let{superclusterOptions:n,clusterProperties:i}=t;if(!i||!n)return n;const r={},o={},a={accumulated:null,zoom:0},s={properties:null},l=Object.keys(i);for(const c of l){const[t,n]=i[c],a=e.createExpression(n),s=e.createExpression("string"==typeof t?[t,["accumulated"],["get",c]]:t);r[c]=a.value,o[c]=s.value}return n.map=e=>{s.properties=e;const t={};for(const n of l)t[n]=r[n].evaluate(a,s);return t},n.reduce=(e,t)=>{s.properties=t;for(const n of l)a.accumulated=e[n],e[n]=o[n].evaluate(a,s)},n}(t)).load(a.features):function(e,t){return new ce(e,t)}(a,t.geojsonVtOptions)}catch(o){return n(o)}this.loaded={};const l={};if(r){const n=e.getPerformanceMeasurement(i);n&&(l.resourceTiming={},l.resourceTiming[t.source]=JSON.parse(JSON.stringify(n)))}n(null,l)}}))}reloadTile(e,t){const n=this.loaded;return n&&n[e.uid]?super.reloadTile(e,t):this.loadTile(e,t)}loadGeoJSON(t,n){if(t.request)e.getJSON(t.request,n);else{if("string"!=typeof t.data)return n(new Error("Input data given to '".concat(t.source,"' is not a valid GeoJSON object.")));try{return n(null,JSON.parse(t.data))}catch(e){return n(new Error("Input data given to '".concat(t.source,"' is not a valid GeoJSON object.")))}}}getClusterExpansionZoom(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}}getClusterChildren(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}}getClusterLeaves(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}}}class pe{constructor(t){this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=e.getProjection({name:"mercator"}),this.workerSourceTypes={vector:e.VectorTileWorkerSource,geojson:de},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(e,t)=>{if(this.workerSourceTypes[e])throw new Error('Worker source with name "'.concat(e,'" already registered.'));this.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=t=>{if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}}clearCaches(e,t,n){delete this.layerIndexes[e],delete this.availableImages[e],delete this.workerSources[e],delete this.demWorkerSources[e],n()}checkIfReady(e,t,n){n()}setReferrer(e,t){this.referrer=t}spriteLoaded(t,n){this.isSpriteLoaded[t]=n;for(const i in this.workerSources[t]){const r=this.workerSources[t][i];for(const t in r)r[t]instanceof e.VectorTileWorkerSource&&(r[t].isSpriteLoaded=n,r[t].fire(new e.Event("isSpriteLoaded")))}}setImages(e,t,n){this.availableImages[e]=t;for(const i in this.workerSources[e]){const n=this.workerSources[e][i];for(const e in n)n[e].availableImages=t}n()}enableTerrain(e,t,n){this.terrain=t,n()}setProjection(t,n){this.projections[t]=e.getProjection(n)}setLayers(e,t,n){this.getLayerIndex(e).replace(t),n()}updateLayers(e,t,n){this.getLayerIndex(e).update(t.layers,t.removedIds),n()}loadTile(t,n,i){const r=this.enableTerrain?e.extend({enableTerrain:this.terrain},n):n;r.projection=this.projections[t]||this.defaultProjection,this.getWorkerSource(t,n.type,n.source).loadTile(r,i)}loadDEMTile(t,n,i){const r=this.enableTerrain?e.extend({buildQuadTree:this.terrain},n):n;this.getDEMWorkerSource(t,n.source).loadTile(r,i)}reloadTile(t,n,i){const r=this.enableTerrain?e.extend({enableTerrain:this.terrain},n):n;r.projection=this.projections[t]||this.defaultProjection,this.getWorkerSource(t,n.type,n.source).reloadTile(r,i)}abortTile(e,t,n){this.getWorkerSource(e,t.type,t.source).abortTile(t,n)}removeTile(e,t,n){this.getWorkerSource(e,t.type,t.source).removeTile(t,n)}removeSource(e,t,n){if(!this.workerSources[e]||!this.workerSources[e][t.type]||!this.workerSources[e][t.type][t.source])return;const i=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==i.removeSource?i.removeSource(t,n):n()}loadWorkerSource(e,t,n){try{this.self.importScripts(t.url),n()}catch(e){n(e.toString())}}syncRTLPluginState(t,n,i){try{e.plugin.setState(n);const t=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=t){this.self.importScripts(t);const n=e.plugin.isParsed();i(n?void 0:new Error("RTL Text Plugin failed to import scripts from ".concat(t)),n)}}catch(e){i(e.toString())}}getAvailableImages(e){let t=this.availableImages[e];return t||(t=[]),t}getLayerIndex(e){let t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new i),t}getWorkerSource(e,t,n){if(this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),!this.workerSources[e][t][n]){const i={send:(t,n,i,r,o,a)=>{this.actor.send(t,n,i,e,o,a)},scheduler:this.actor.scheduler};this.workerSources[e][t][n]=new this.workerSourceTypes[t](i,this.getLayerIndex(e),this.getAvailableImages(e),this.isSpriteLoaded[e])}return this.workerSources[e][t][n]}getDEMWorkerSource(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new r),this.demWorkerSources[e][t]}enforceCacheSizeLimit(t,n){e.enforceCacheSizeLimit(n)}getWorkerPerformanceMetrics(e,t,n){n(void 0,void 0)}}return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new pe(self)),pe})),i(["./shared"],(function(e){function t(e,n){if(Array.isArray(e)){if(!Array.isArray(n)||e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(!t(e[i],n[i]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==n){if("object"!=typeof n)return!1;if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(!t(e[i],n[i]))return!1;return!0}return e===n}var n=i;function i(e){return!function(e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,n=new Blob([""],{type:"text/javascript"}),i=URL.createObjectURL(n);try{t=new Worker(i),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(i),e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var n=t.getImageData(0,0,1,1);return n&&n.width===e.width}()?(void 0===r[t=e&&e.failIfMajorPerformanceCaveat]&&(r[t]=function(e){var t,n=function(e){var t=document.createElement("canvas"),n=Object.create(i.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=e,t.getContext("webgl",n)||t.getContext("experimental-webgl",n)}(e);if(!n)return!1;try{t=n.createShader(n.VERTEX_SHADER)}catch(e){return!1}return!(!t||n.isContextLost())&&(n.shaderSource(t,"void main() {}"),n.compileShader(t),!0===n.getShaderParameter(t,n.COMPILE_STATUS))}(t)),r[t]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var t}(e)}var r={};function o(t,n,i){const r=e.window.document.createElement(t);return void 0!==n&&(r.className=n),i&&i.appendChild(r),r}function a(t,n,i){const r=e.window.document.createElementNS("http://www.w3.org/2000/svg",t);for(const e of Object.keys(n))r.setAttributeNS(null,e,n[e]);return i&&i.appendChild(r),r}i.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const s=e.window.document&&e.window.document.documentElement.style,l=s&&void 0!==s.userSelect?"userSelect":"WebkitUserSelect";let c;function u(){s&&l&&(c=s[l],s[l]="none")}function h(){s&&l&&(s[l]=c)}function d(t){t.preventDefault(),t.stopPropagation(),e.window.removeEventListener("click",d,!0)}function p(){e.window.addEventListener("click",d,!0),e.window.setTimeout((()=>{e.window.removeEventListener("click",d,!0)}),0)}function f(e,t){const n=e.getBoundingClientRect();return _(e,n,t)}function m(e,t){const n=e.getBoundingClientRect(),i=[];for(let r=0;r<t.length;r++)i.push(_(e,n,t[r]));return i}function g(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button}function _(t,n,i){const r=t.offsetWidth===n.width?1:t.offsetWidth/n.width;return new e.Point((i.clientX-n.left)*r,(i.clientY-n.top)*r)}function y(e,t){var n=t[0],i=t[1],r=t[2],o=t[3],a=n*o-r*i;return a?(e[0]=o*(a=1/a),e[1]=-i*a,e[2]=-r*a,e[3]=n*a,e):null}function v(e){const{userImage:t}=e;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}class x extends e.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(e){if(this.loaded!==e&&(this.loaded=e,e)){for(const{ids:e,callback:t}of this.requestors)this._notify(e,t);this.requestors=[]}}hasImage(e){return!!this.getImage(e)}getImage(e){return this.images[e]}addImage(e,t){this._validate(e,t)&&(this.images[e]=t)}_validate(t,n){let i=!0;return this._validateStretch(n.stretchX,n.data&&n.data.width)||(this.fire(new e.ErrorEvent(new Error('Image "'.concat(t,'" has invalid "stretchX" value')))),i=!1),this._validateStretch(n.stretchY,n.data&&n.data.height)||(this.fire(new e.ErrorEvent(new Error('Image "'.concat(t,'" has invalid "stretchY" value')))),i=!1),this._validateContent(n.content,n)||(this.fire(new e.ErrorEvent(new Error('Image "'.concat(t,'" has invalid "content" value')))),i=!1),i}_validateStretch(e,t){if(!e)return!0;let n=0;for(const i of e){if(i[0]<n||i[1]<i[0]||t<i[1])return!1;n=i[1]}return!0}_validateContent(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))}updateImage(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0}removeImage(e){const t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(e,t){let n=!0;if(!this.isLoaded())for(const i of e)this.images[i]||(n=!1);this.isLoaded()||n?this._notify(e,t):this.requestors.push({ids:e,callback:t})}_notify(t,n){const i={};for(const r of t){this.images[r]||this.fire(new e.Event("styleimagemissing",{id:r}));const t=this.images[r];t?i[r]={data:t.data.clone(),pixelRatio:t.pixelRatio,sdf:t.sdf,version:t.version,stretchX:t.stretchX,stretchY:t.stretchY,content:t.content,hasRenderCallback:Boolean(t.userImage&&t.userImage.render)}:e.warnOnce('Image "'.concat(r,'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.'))}n(null,i)}getPixelSize(){const{width:e,height:t}=this.atlasImage;return{width:e,height:t}}getPattern(t){const n=this.patterns[t],i=this.getImage(t);if(!i)return null;if(n&&n.position.version===i.version)return n.position;if(n)n.position.version=i.version;else{const n={w:i.data.width+2,h:i.data.height+2,x:0,y:0},r=new e.ImagePosition(n,i);this.patterns[t]={bin:n,position:r}}return this._updatePatternAtlas(),this.patterns[t].position}bind(t){const n=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,n.RGBA),this.atlasTexture&&this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)}_updatePatternAtlas(){const t=[];for(const e in this.patterns)t.push(this.patterns[e].bin);const{w:n,h:i}=e.potpack(t),r=this.atlasImage;r.resize({width:n||1,height:i||1});for(const o in this.patterns){const{bin:t}=this.patterns[o],n=t.x+1,i=t.y+1,a=this.images[o].data,s=a.width,l=a.height;e.RGBAImage.copy(a,r,{x:0,y:0},{x:n,y:i},{width:s,height:l}),e.RGBAImage.copy(a,r,{x:0,y:l-1},{x:n,y:i-1},{width:s,height:1}),e.RGBAImage.copy(a,r,{x:0,y:0},{x:n,y:i+l},{width:s,height:1}),e.RGBAImage.copy(a,r,{x:s-1,y:0},{x:n-1,y:i},{width:1,height:l}),e.RGBAImage.copy(a,r,{x:0,y:0},{x:n+s,y:i},{width:1,height:l})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(e){for(const t of e){if(this.callbackDispatchedThisFrame[t])continue;this.callbackDispatchedThisFrame[t]=!0;const e=this.images[t];v(e)&&this.updateImage(t,e)}}}const b=new e.Properties({anchor:new e.DataConstantProperty(e.spec.light.anchor),position:new class{constructor(){this.specification=e.spec.light.position}possiblyEvaluate(t,n){return function(t){let[n,i,r]=t;const o=e.degToRad(i+90),a=e.degToRad(r);return{x:n*Math.cos(o)*Math.sin(a),y:n*Math.sin(o)*Math.sin(a),z:n*Math.cos(a),azimuthal:i,polar:r}}(t.expression.evaluate(n))}interpolate(t,n,i){return{x:e.number(t.x,n.x,i),y:e.number(t.y,n.y,i),z:e.number(t.z,n.z,i),azimuthal:e.number(t.azimuthal,n.azimuthal,i),polar:e.number(t.polar,n.polar,i)}}},color:new e.DataConstantProperty(e.spec.light.color),intensity:new e.DataConstantProperty(e.spec.light.intensity)});class w extends e.Evented{constructor(t){super(),this._transitionable=new e.Transitionable(b),this.setLight(t),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._validate(e.validateLight,t,n))for(const i in t){const n=t[i];e.endsWith(i,"-transition")?this._transitionable.setTransition(i.slice(0,-11),n):this._transitionable.setValue(i,n)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(t,n,i){return(!i||!1!==i.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}const E=new e.Properties({source:new e.DataConstantProperty(e.spec.terrain.source),exaggeration:new e.DataConstantProperty(e.spec.terrain.exaggeration)});let T=class extends e.Evented{constructor(t,n){super(),this._transitionable=new e.Transitionable(E),this.set(t),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=n}get(){return this._transitionable.serialize()}set(t){for(const n in t){const i=t[n];e.endsWith(n,"-transition")?this._transitionable.setTransition(n.slice(0,-11),i):this._transitionable.setValue(n,i)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}};function k(t,n,i,r){const o=e.smoothstep(45,65,i),[a,s]=S(t,r),l=e.length(n);let c=1-Math.min(1,Math.exp((l-a)/(s-a)*-6));return c*=c*c,c=Math.min(1,1.00747*c),c*o*t.alpha}function S(e,t){const n=.5/Math.tan(.5*t);return[e.range[0]+n,e.range[1]+n]}const C=new e.Properties({range:new e.DataConstantProperty(e.spec.fog.range),color:new e.DataConstantProperty(e.spec.fog.color),"high-color":new e.DataConstantProperty(e.spec.fog["high-color"]),"space-color":new e.DataConstantProperty(e.spec.fog["space-color"]),"horizon-blend":new e.DataConstantProperty(e.spec.fog["horizon-blend"]),"star-intensity":new e.DataConstantProperty(e.spec.fog["star-intensity"])});class M extends e.Evented{constructor(t,n){super(),this._transitionable=new e.Transitionable(C),this.set(t),this._transitioning=this._transitionable.untransitioned(),this._transform=n}get state(){const t=this._transform,n="globe"===t.projection.name,i=e.globeToMercatorTransition(t.zoom),r=this.properties.get("range"),o=[.5,3];return{range:n?[e.number(o[0],r[0],i),e.number(o[1],r[1],i)]:r,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._validate(e.validateFog,t,n)){for(const n of Object.keys(e.spec.fog))t&&void 0===t[n]&&(t[n]=e.spec.fog[n].default);for(const n in t){const i=t[n];e.endsWith(n,"-transition")?this._transitionable.setTransition(n.slice(0,-11),i):this._transitionable.setValue(n,i)}}}getOpacity(t){if(!this._transform.projection.supportsFog)return 0;const n=this.properties&&this.properties.get("color")||1;return("globe"===this._transform.projection.name?1:e.smoothstep(45,65,t))*n.a}getOpacityAtLatLng(t,n){return this._transform.projection.supportsFog?function(t,n,i){const r=e.MercatorCoordinate.fromLngLat(n),o=i.elevation?i.elevation.getAtPointOrZero(r):0,a=[r.x,r.y,o];return e.transformMat4(a,a,i.mercatorFogMatrix),k(t,a,i.pitch,i._fov)}(this.state,t,n):0}getFovAdjustedRange(e){return this._transform.projection.supportsFog?S(this.state,e):[0,1]}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(t,n,i){return(!i||!1!==i.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}class z{constructor(t,n){this.workerPool=t,this.actors=[],this.currentActor=0,this.id=e.uniqueId();const i=this.workerPool.acquire(this.id);for(let e=0;e<i.length;e++){const t=new z.Actor(i[e],n,this.id);t.name="Worker ".concat(e),this.actors.push(t)}this.ready=!1,this.broadcast("checkIfReady",null,(()=>{this.ready=!0}))}broadcast(t,n,i){e.asyncAll(this.actors,((e,i)=>{e.send(t,n,i)}),i=i||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach((e=>{e.remove()})),this.actors=[],this.workerPool.release(this.id)}}function A(t,n,i){return n*(e.EXTENT/(t.tileSize*Math.pow(2,i-t.tileID.overscaledZ)))}z.Actor=e.Actor;class P{constructor(e,t,n,i){this.screenBounds=e,this.cameraPoint=t,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=n,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,i)}static createFromScreenPoints(t,n){let i,r;if(t instanceof e.Point||"number"==typeof t[0]){const o=e.Point.convert(t);i=[o],r=n.isPointAboveHorizon(o)}else{const o=e.Point.convert(t[0]),a=e.Point.convert(t[1]);i=[o,a],r=e.polygonizeBounds(o,a).every((e=>n.isPointAboveHorizon(e)))}return new P(i,n.getCameraPoint(),r,n)}isPointQuery(){return 1===this.screenBounds.length}bufferedScreenGeometry(t){return e.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],t)}bufferedCameraGeometry(t){const n=this.screenBounds[0],i=1===this.screenBounds.length?this.screenBounds[0].add(new e.Point(1,1)):this.screenBounds[1],r=e.polygonizeBounds(n,i,0,!1);return this.cameraPoint.y>i.y&&(this.cameraPoint.x>n.x&&this.cameraPoint.x<i.x?r.splice(3,0,this.cameraPoint):this.cameraPoint.x>=i.x?r[2]=this.cameraPoint:this.cameraPoint.x<=n.x&&(r[3]=this.cameraPoint)),e.bufferConvexPolygon(r,t)}bufferedCameraGeometryGlobe(t){const n=this.screenBounds[0],i=1===this.screenBounds.length?this.screenBounds[0].add(new e.Point(1,1)):this.screenBounds[1],r=e.polygonizeBounds(n,i,t),o=this.cameraPoint.clone();switch(3*((o.y>n.y)+(o.y>i.y))+((o.x>n.x)+(o.x>i.x))){case 0:r[0]=o,r[4]=o.clone();break;case 1:r.splice(1,0,o);break;case 2:r[1]=o;break;case 3:r.splice(4,0,o);break;case 5:r.splice(2,0,o);break;case 6:r[3]=o;break;case 7:r.splice(3,0,o);break;case 8:r[2]=o}return r}containsTile(t,n,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const o=t.queryPadding/n._pixelsPerMercatorPixel+1,a=i?this._bufferedCameraMercator(o,n):this._bufferedScreenMercator(o,n);let s=t.tileID.wrap+(a.unwrapped?r:0);const l=a.polygon.map((n=>e.getTilePoint(t.tileTransform,n,s)));if(!e.polygonIntersectsBox(l,0,0,e.EXTENT,e.EXTENT))return;s=t.tileID.wrap+(this.screenGeometryMercator.unwrapped?r:0);const c=this.screenGeometryMercator.polygon.map((n=>e.getTileVec3(t.tileTransform,n,s))),u=c.map((t=>new e.Point(t[0],t[1]))),h=n.getFreeCameraOptions().position||new e.MercatorCoordinate(0,0,0),d=e.getTileVec3(t.tileTransform,h,s),p=c.map((t=>{const n=e.sub(t,t,d);return e.normalize(n,n),new e.Ray(d,n)})),f=A(t,1,n.zoom)*n._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:u,tilespaceRays:p,bufferedTilespaceGeometry:l,bufferedTilespaceBounds:(m=e.getBounds(l),m.min.x=e.clamp(m.min.x,0,e.EXTENT),m.min.y=e.clamp(m.min.y,0,e.EXTENT),m.max.x=e.clamp(m.max.x,0,e.EXTENT),m.max.y=e.clamp(m.max.y,0,e.EXTENT),m),tile:t,tileID:t.tileID,pixelToTileUnitsFactor:f};var m}_bufferedScreenMercator(e,t){const n=D(e);if(this._screenRaycastCache[n])return this._screenRaycastCache[n];{let i;return i="globe"===t.projection.name?this._projectAndResample(this.bufferedScreenGeometry(e),t):{polygon:this.bufferedScreenGeometry(e).map((e=>t.pointCoordinate3D(e))),unwrapped:!0},this._screenRaycastCache[n]=i,i}}_bufferedCameraMercator(e,t){const n=D(e);if(this._cameraRaycastCache[n])return this._cameraRaycastCache[n];{let i;return i="globe"===t.projection.name?this._projectAndResample(this.bufferedCameraGeometryGlobe(e),t):{polygon:this.bufferedCameraGeometry(e).map((e=>t.pointCoordinate3D(e))),unwrapped:!0},this._cameraRaycastCache[n]=i,i}}_projectAndResample(t,n){const i=function(t,n){const i=e.multiply([],n.pixelMatrix,n.globeMatrix),r=[0,-e.GLOBE_RADIUS,0,1],o=[0,e.GLOBE_RADIUS,0,1],a=[0,0,0,1];e.transformMat4$1(r,r,i),e.transformMat4$1(o,o,i),e.transformMat4$1(a,a,i);const s=new e.Point(r[0]/r[3],r[1]/r[3]),l=new e.Point(o[0]/o[3],o[1]/o[3]),c=e.polygonContainsPoint(t,s)&&r[3]<a[3],u=e.polygonContainsPoint(t,l)&&o[3]<a[3];if(!c&&!u)return null;const h=function(e,t,n){for(let i=1;i<e.length;i++){const r=L(t.pointCoordinate3D(e[i-1]).x),o=L(t.pointCoordinate3D(e[i]).x);if(n<0){if(r<o)return{idx:i,t:-r/(o-1-r)}}else if(o<r)return{idx:i,t:(1-r)/(o+1-r)}}return null}(t,n,c?-1:1);if(!h)return null;const{idx:d,t:p}=h;let f=d>1?I(t.slice(0,d),n):[],m=d<t.length?I(t.slice(d),n):[];f=f.map((t=>new e.Point(L(t.x),t.y))),m=m.map((t=>new e.Point(L(t.x),t.y)));const g=[...f];0===g.length&&g.push(m[m.length-1]);const _=e.number(g[g.length-1].y,(0===m.length?f[0]:m[0]).y,p);let y;return y=c?[new e.Point(0,_),new e.Point(0,0),new e.Point(1,0),new e.Point(1,_)]:[new e.Point(1,_),new e.Point(1,1),new e.Point(0,1),new e.Point(0,_)],g.push(...y),0===m.length?g.push(f[0]):g.push(...m),{polygon:g.map((t=>new e.MercatorCoordinate(t.x,t.y))),unwrapped:!1}}(t,n);if(i)return i;const r=function(t,n){let i=!1,r=-1/0,o=0;for(let e=0;e<t.length-1;e++)t[e].x>r&&(r=t[e].x,o=e);for(let e=0;e<t.length-1;e++){const n=(o+e)%(t.length-1),r=t[n],a=t[n+1];Math.abs(r.x-a.x)>.5&&(r.x<a.x?(r.x+=1,0===n&&(t[t.length-1].x+=1)):(a.x+=1,n+1===t.length-1&&(t[0].x+=1)),i=!0)}const a=e.mercatorXfromLng(n.center.lng);return i&&a<Math.abs(a-1)&&t.forEach((e=>{e.x-=1})),{polygon:t,unwrapped:i}}(I(t,n).map((t=>new e.Point(L(t.x),t.y))),n);return{polygon:r.polygon.map((t=>new e.MercatorCoordinate(t.x,t.y))),unwrapped:r.unwrapped}}}function I(t,n){return e.resample(t,(e=>{const t=n.pointCoordinate3D(e);e.x=t.x,e.y=t.y}),1/256)}function L(e){return e<0?1+e%1:e%1}function D(e){return 100*e|0}function O(t,n,i,r,o){const a=function(i,r){if(i)return o(i);if(r){t.url&&r.tiles&&t.tiles&&delete t.tiles;const i=e.pick(e.extend(r,t),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);r.vector_layers&&(i.vectorLayers=r.vector_layers,i.vectorLayerIds=i.vectorLayers.map((e=>e.id))),i.tiles=n.canonicalizeTileset(i,t.url),o(null,i)}};return t.url?e.getJSON(n.transformRequest(n.normalizeSourceURL(t.url,null,i,r),e.ResourceType.Source),a):e.exported.frame((()=>a(null,t)))}class R{constructor(t,n,i){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=n||0,this.maxzoom=i||24}validateBounds(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}contains(t){const n=Math.pow(2,t.z),i=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*n),r=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*n),o=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*n),a=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*n);return t.x>=i&&t.x<o&&t.y>=r&&t.y<a}}class B{constructor(e,t,n){this.context=e;const i=e.gl;this.buffer=i.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),i.bufferData(i.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||t.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const F={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class j{constructor(e,t,n,i){this.length=t.length,this.attributes=n,this.itemSize=t.bytesPerElement,this.dynamicDraw=i,this.context=e;const r=e.gl;this.buffer=r.createBuffer(),e.bindVertexBuffer.set(this.buffer),r.bufferData(r.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||t.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)}enableAttributes(e,t){for(let n=0;n<this.attributes.length;n++){const i=t.attributes[this.attributes[n].name];void 0!==i&&e.enableVertexAttribArray(i)}}setVertexAttribPointers(e,t,n){for(let i=0;i<this.attributes.length;i++){const r=this.attributes[i],o=t.attributes[r.name];void 0!==o&&e.vertexAttribPointer(o,r.components,e[F[r.type]],!1,this.itemSize,r.offset+this.itemSize*(n||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class N{constructor(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(e){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class U extends N{getDefault(){return e.Color.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class V extends N{getDefault(){return 1}set(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}class q extends N{getDefault(){return 0}set(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}class G extends N{getDefault(){return[!0,!0,!0,!0]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class W extends N{getDefault(){return!0}set(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}class Z extends N{getDefault(){return 255}set(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}class H extends N{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(e){const t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}class X extends N{getDefault(){const e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}class K extends N{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}}class Y extends N{getDefault(){return[0,1]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}class J extends N{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}}class $ extends N{getDefault(){return this.gl.LESS}set(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}class Q extends N{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}}class ee extends N{getDefault(){const e=this.gl;return[e.ONE,e.ZERO]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}class te extends N{getDefault(){return e.Color.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class ne extends N{getDefault(){return this.gl.FUNC_ADD}set(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}class ie extends N{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}}class re extends N{getDefault(){return this.gl.BACK}set(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}class oe extends N{getDefault(){return this.gl.CCW}set(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}let ae,se=class extends N{getDefault(){return null}set(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)}};class le extends N{getDefault(){return this.gl.TEXTURE0}set(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}class ce extends N{getDefault(){const e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class ue extends N{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}}class he extends N{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class de extends N{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}}class pe extends N{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class fe extends N{getDefault(){return null}set(e){const t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class me extends N{constructor(e){super(e),this.vao=e.extVertexArrayObject}getDefault(){return null}set(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)}}class ge extends N{getDefault(){return 4}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}}class _e extends N{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}}class ye extends N{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}}class ve extends N{constructor(e,t){super(e),this.context=e,this.parent=t}getDefault(){return null}}class xe extends ve{setDirty(){this.dirty=!0}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}}class be extends ve{attachment(){return this.gl.DEPTH_ATTACHMENT}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,this.attachment(),t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class we extends be{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class Ee{constructor(e,t,n,i){this.context=e,this.width=t,this.height=n;const r=this.framebuffer=e.gl.createFramebuffer();this.colorAttachment=new xe(e,r),i&&(this.depthAttachment=new be(e,r))}destroy(){const e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){const t=this.depthAttachment.get();t&&e.deleteRenderbuffer(t)}e.deleteFramebuffer(this.framebuffer)}}class Te{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.gl=e,this.isWebGL2=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),t){const t=e;this.extVertexArrayObject={createVertexArrayOES:t.createVertexArray.bind(e),deleteVertexArrayOES:t.deleteVertexArray.bind(e),bindVertexArrayOES:t.bindVertexArray.bind(e)}}this.clearColor=new U(this),this.clearDepth=new V(this),this.clearStencil=new q(this),this.colorMask=new G(this),this.depthMask=new W(this),this.stencilMask=new Z(this),this.stencilFunc=new H(this),this.stencilOp=new X(this),this.stencilTest=new K(this),this.depthRange=new Y(this),this.depthTest=new J(this),this.depthFunc=new $(this),this.blend=new Q(this),this.blendFunc=new ee(this),this.blendColor=new te(this),this.blendEquation=new ne(this),this.cullFace=new ie(this),this.cullFaceSide=new re(this),this.frontFace=new oe(this),this.program=new se(this),this.activeTexture=new le(this),this.viewport=new ce(this),this.bindFramebuffer=new ue(this),this.bindRenderbuffer=new he(this),this.bindTexture=new de(this),this.bindVertexBuffer=new pe(this),this.bindElementBuffer=new fe(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new me(this),this.pixelStoreUnpack=new ge(this),this.pixelStoreUnpackPremultiplyAlpha=new _e(this),this.pixelStoreUnpackFlipY=new ye(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=e.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=e.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=e.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),t||(this.extTextureHalfFloat=e.getExtension("OES_texture_half_float")),(t||this.extTextureHalfFloat&&e.getExtension("OES_texture_half_float_linear"))&&(this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=t||e.getExtension("OES_standard_derivatives"),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(e,t){return new B(this,e,t)}createVertexBuffer(e,t,n){return new j(this,e,t,n)}createRenderbuffer(e,t,n){const i=this.gl,r=i.createRenderbuffer();return this.bindRenderbuffer.set(r),i.renderbufferStorage(i.RENDERBUFFER,e,t,n),this.bindRenderbuffer.set(null),r}createFramebuffer(e,t,n){return new Ee(this,e,t,n)}clear(e){let{color:t,depth:n,stencil:i}=e;const r=this.gl;let o=0;t&&(o|=r.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(o|=r.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),void 0!==i&&(o|=r.STENCIL_BUFFER_BIT,this.clearStencil.set(i),this.stencilMask.set(255)),r.clear(o)}setCullFace(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}setDepthMode(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}setStencilMode(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}setColorMode(n){t(n.blendFunction,e.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(n.blendFunction),this.blendColor.set(n.blendColor)),this.colorMask.set(n.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class ke extends e.Evented{constructor(t,n,i,r){if(super(),this.id=t,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(n,["url","scheme","tileSize","promoteId"])),this._options=e.extend({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(r),this._tileWorkers={},this._deduped=new e.DedupedRequest}load(t){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"}));const n=Array.isArray(this.map._language)?this.map._language.join():this.map._language,i=this.map._worldview;this._tileJSONRequest=O(this._options,this.map._requestManager,n,i,((r,o)=>{this._tileJSONRequest=null,this._loaded=!0,r?(n&&console.warn("Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ".concat(n)),i&&2!==i.length&&console.warn("Requested worldview strings must be a valid ISO alpha-2 code. Found: ".concat(i)),this.fire(new e.ErrorEvent(r))):o&&(e.extend(this,o),o.bounds&&(this.tileBounds=new R(o.bounds,this.minzoom,this.maxzoom)),e.postTurnstileEvent(o.tiles,this.map._requestManager._customAccessToken),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))),t&&t(r)}))}loaded(){return this._loaded}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}onAdd(e){this.map=e,this.load()}reload(){this.cancelTileJSONRequest(),this.load((()=>this.map.style._clearSource(this.id)))}setTiles(e){return this._options.tiles=e,this.reload(),this}setUrl(e){return this.url=e,this._options.url=e,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return e.extend({},this._options)}loadTile(t,n){const i=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),r={request:this.map._requestManager.transformRequest(i,e.ResourceType.Tile),data:void 0,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:t.isSymbolTile};if(r.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state)"loading"===t.state?t.reloadCallback=n:t.request=t.actor.send("reloadTile",r,o.bind(this));else if(t.actor=this._tileWorkers[i]=this._tileWorkers[i]||this.dispatcher.getActor(),this.dispatcher.ready)t.request=t.actor.send("loadTile",r,o.bind(this),void 0,!0);else{const n=e.loadVectorTile.call({deduped:this._deduped},r,((e,n)=>{e||!n?o.call(this,e):(r.data={cacheControl:n.cacheControl,expires:n.expires,rawData:n.rawData.slice(0)},t.actor&&t.actor.send("loadTile",r,o.bind(this),void 0,!0))}),!0);t.request={cancel:n}}function o(i,r){return delete t.request,t.aborted?n(null):i&&404!==i.status?n(i):(r&&r.resourceTiming&&(t.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&r&&t.setExpiryData(r),t.loadVectorData(r,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id})}unloadTile(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class Se extends e.Evented{constructor(t,n,i,r){super(),this.id=t,this.dispatcher=i,this.setEventedParent(r),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({type:"raster"},n),e.extend(this,e.pick(n,["url","scheme","tileSize"]))}load(t){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=O(this._options,this.map._requestManager,null,null,((n,i)=>{this._tileJSONRequest=null,this._loaded=!0,n?this.fire(new e.ErrorEvent(n)):i&&(e.extend(this,i),i.bounds&&(this.tileBounds=new R(i.bounds,this.minzoom,this.maxzoom)),e.postTurnstileEvent(i.tiles),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))),t&&t(n)}))}loaded(){return this._loaded}onAdd(e){this.map=e,this.load()}reload(){this.cancelTileJSONRequest(),this.load((()=>this.map.style._clearSource(this.id)))}setTiles(e){return this._options.tiles=e,this.reload(),this}setUrl(e){return this.url=e,this._options.url=e,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return e.extend({},this._options)}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(t,n){const i=e.exported.devicePixelRatio>=2,r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),i,this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(r,e.ResourceType.Tile),((i,r,o,a)=>(delete t.request,t.aborted?(t.state="unloaded",n(null)):i?(t.state="errored",n(i)):r?(this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:o,expires:a}),t.setTexture(r,this.map.painter),t.state="loaded",e.cacheEntryPossiblyAdded(this.dispatcher),void n(null)):n(null))))}static loadTileData(e,t,n){e.setTexture(t,n)}static unloadTileData(e,t){e.texture&&t.saveTileTexture(e.texture)}abortTile(e,t){e.request&&(e.request.cancel(),delete e.request),t()}unloadTile(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}function Ce(t,n,i,r,o,a,s,l){const c=[t,i,o,n,r,a,1,1,1],u=[s,l,1],h=e.adjoint([],c),[d,p,f]=e.transformMat3(u,u,e.transpose(h,h));return e.multiply$1(c,[d,0,0,0,p,0,0,0,f],c)}class Me extends e.Evented{constructor(e,t,n,i){super(),this.id=e,this.dispatcher=n,this.coordinates=t.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(i),this.options=t,this._dirty=!1}load(t,n){this._loaded=n||!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),((n,i)=>{if(this._imageRequest=null,this._loaded=!0,n)this.fire(new e.ErrorEvent(n));else if(i){const{HTMLImageElement:n}=e.window;this.image=i instanceof n?e.exported.getImageData(i):i,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,t&&(this.coordinates=t),this._finishLoading()}}))}loaded(){return this._loaded}updateImage(e){return this.image&&e.url?(this._imageRequest&&e.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=e.url,this.load(e.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(e){this.map=e,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(t){this.coordinates=t,this._boundsArray=void 0;const n=t.map(e.MercatorCoordinate.fromLngLat);return this.tileID=function(t){let n=1/0,i=1/0,r=-1/0,o=-1/0;for(const e of t)n=Math.min(n,e.x),i=Math.min(i,e.y),r=Math.max(r,e.x),o=Math.max(o,e.y);const a=Math.max(r-n,o-i),s=Math.max(0,Math.floor(-Math.log(a)/Math.LN2)),l=Math.pow(2,s);return new e.CanonicalTileID(s,Math.floor((n+r)/2*l),Math.floor((i+o)/2*l))}(n),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(t){for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture)}if(this._boundsArray)return;const n=e.tileTransform(this.tileID,this.map.transform.projection),[i,r,o,a]=this.coordinates.map((t=>{const i=n.projection.project(t[0],t[1]);return e.getTilePoint(n,i)._round()}));this.perspectiveTransform=function(t,n,i,r,o,a,s,l,c,u){const h=Ce(0,0,t,0,0,n,t,n),d=Ce(i,r,o,a,s,l,c,u);return e.multiply$1(d,e.adjoint(h,h),d),[d[6]/d[8]*t/e.EXTENT,d[7]/d[8]*n/e.EXTENT]}(this.width,this.height,i.x,i.y,r.x,r.y,a.x,a.y,o.x,o.y);const s=this._boundsArray=new e.StructArrayLayout4i8;s.emplaceBack(i.x,i.y,0,0),s.emplaceBack(r.x,r.y,e.EXTENT,0),s.emplaceBack(a.x,a.y,0,e.EXTENT),s.emplaceBack(o.x,o.y,e.EXTENT,e.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=t.createVertexBuffer(s,e.boundsAttributes.members),this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const t=this.map.painter.context,n=t.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new e.Texture(t,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(t)}loadTile(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const ze={vector:ke,raster:Se,"raster-dem":class extends Se{constructor(t,n,i,r){super(t,n,i,r),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({type:"raster-dem"},n),this.encoding=n.encoding||"mapbox"}loadTile(t,n){const i=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function r(e,i){e&&(t.state="errored",n(e)),i&&(t.dem=i,t.dem.onDeserialize(),t.needsHillshadePrepare=!0,t.needsDEMTextureUpload=!0,t.state="loaded",n(null))}t.request=e.getImage(this.map._requestManager.transformRequest(i,e.ResourceType.Tile),function(i,o,a,s){if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(i)t.state="errored",n(i);else if(o){this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:a,expires:s});const n=e.window.ImageBitmap&&o instanceof e.window.ImageBitmap&&(null==ae&&(ae=e.window.OffscreenCanvas&&new e.window.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof e.window.createImageBitmap),ae),i=1-(o.width-e.prevPowerOfTwo(o.width))/2;i<1||t.neighboringTiles||(t.neighboringTiles=this._getNeighboringTiles(t.tileID));const l=n?o:e.exported.getImageData(o,i),c={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:l,encoding:this.encoding,padding:i};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",c,r.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(t){const n=t.canonical,i=Math.pow(2,n.z),r=(n.x-1+i)%i,o=0===n.x?t.wrap-1:t.wrap,a=(n.x+1+i)%i,s=n.x+1===i?t.wrap+1:t.wrap,l={};return l[new e.OverscaledTileID(t.overscaledZ,o,n.z,r,n.y).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y).key]={backfilled:!1},n.y>0&&(l[new e.OverscaledTileID(t.overscaledZ,o,n.z,r,n.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y-1).key]={backfilled:!1}),n.y+1<i&&(l[new e.OverscaledTileID(t.overscaledZ,o,n.z,r,n.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y+1).key]={backfilled:!1}),l}unloadTile(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded"}},geojson:class extends e.Evented{constructor(t,n,i,r){super(),this.id=t,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=i.getActor(),this.setEventedParent(r),this._data=n.data,this._options=e.extend({},n),this._collectResourceTiming=n.collectResourceTiming,void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type),n.attribution&&(this.attribution=n.attribution),this.promoteId=n.promoteId;const o=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*o,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*o,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:n.lineMetrics||!1,generateId:n.generateId||!1},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?n.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,n.clusterMinPoints||2),extent:e.EXTENT,radius:(void 0!==n.clusterRadius?n.clusterRadius:50)*o,log:!1,generateId:n.generateId||!1},clusterProperties:n.clusterProperties,filter:n.filter},n.workerOptions)}onAdd(e){this.map=e,this.setData(this._data)}setData(e){return this._data=e,this._updateWorkerData(),this}getClusterExpansionZoom(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this}getClusterChildren(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this}getClusterLeaves(e,t,n,i){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:n},i),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new e.Event("dataloading",{dataType:"source"})),this._loaded=!1;const t=e.extend({},this.workerOptions),n=this._data;"string"==typeof n?(t.request=this.map._requestManager.transformRequest(e.exported.resolveURL(n),e.ResourceType.Source),t.request.collectResourceTiming=this._collectResourceTiming):t.data=JSON.stringify(n),this._pendingLoad=this.actor.send("".concat(this.type,".loadData"),t,((t,n)=>{if(this._loaded=!0,this._pendingLoad=null,t)this.fire(new e.ErrorEvent(t));else{const t={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&n&&n.resourceTiming&&n.resourceTiming[this.id]&&(t.resourceTiming=n.resourceTiming[this.id]),this.fire(new e.Event("data",t)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)}))}loaded(){return this._loaded}loadTile(t,n){const i=t.actor?"reloadTile":"loadTile";t.actor=this.actor,t.request=this.actor.send(i,{type:this.type,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},((e,r)=>(delete t.request,t.unloadVectorData(),t.aborted?n(null):e?n(e):(t.loadVectorData(r,this.map.painter,"reloadTile"===i),n(null)))),void 0,"loadTile"===i)}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0}unloadTile(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return e.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends Me{constructor(e,t,n,i){super(e,t,n,i),this.roundZoom=!0,this.type="video",this.options=t}load(){this._loaded=!1;const t=this.options;this.urls=[];for(const n of t.urls)this.urls.push(this.map._requestManager.transformRequest(n,e.ResourceType.Source).url);e.getVideo(this.urls,((t,n)=>{this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):n&&(this.video=n,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",(()=>{this.map.triggerRepaint()})),this.map&&this.video.play(),this._finishLoading())}))}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(t){if(this.video){const n=this.video.seekable;t<n.start(0)||t>n.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(this.id),null,"Playback for this video can be set only between the ".concat(n.start(0)," and ").concat(n.end(0),"-second mark.")))):this.video.currentTime=t}}getVideo(){return this.video}onAdd(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const t=this.map.painter.context,n=t.gl;this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(t)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:Me,canvas:class extends Me{constructor(t,n,i,r){super(t,n,i,r),n.coordinates?Array.isArray(n.coordinates)&&4===n.coordinates.length&&!n.coordinates.some((e=>!Array.isArray(e)||2!==e.length||e.some((e=>"number"!=typeof e))))||this.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'missing required property "coordinates"'))),n.animate&&"boolean"!=typeof n.animate&&this.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'optional "animate" property must be a boolean value'))),n.canvas?"string"==typeof n.canvas||n.canvas instanceof e.window.HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'missing required property "canvas"'))),this.options=n,this.animate=void 0===n.animate||n.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),this._hasInvalidDimensions())return;if(0===Object.keys(this.tiles).length)return;const n=this.map.painter.context;this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(n,this.canvas,n.gl.RGBA,{premultiply:!0}),this._prepareData(n)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const e of[this.canvas.width,this.canvas.height])if(isNaN(e)||e<=0)return!0;return!1}},custom:class extends e.Evented{constructor(t,n,i,r){super(),this.id=t,this.type="custom",this._dataType="raster",this._dispatcher=i,this._implementation=n,this.setEventedParent(r),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new e.ErrorEvent(new Error("Missing implementation for ".concat(this.id," custom source")))),this._implementation.loadTile||this.fire(new e.ErrorEvent(new Error("Missing loadTile implementation for ".concat(this.id," custom source")))),this._implementation.bounds&&(this.tileBounds=new R(this._implementation.bounds,this.minzoom,this.maxzoom)),n.update=this._update.bind(this),n.clearTiles=this._clearTiles.bind(this),n.coveringTiles=this._coveringTiles.bind(this),e.extend(this,e.pick(n,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return e.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(t){this._map=t,this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(t),this.load()}onRemove(e){this._implementation.onRemove&&this._implementation.onRemove(e)}hasTile(e){if(this._implementation.hasTile){const{x:t,y:n,z:i}=e.canonical;return this._implementation.hasTile({x:t,y:n,z:i})}return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(t,n){const{x:i,y:r,z:o}=t.tileID.canonical,a=new e.window.AbortController;t.request=Promise.resolve(this._implementation.loadTile({x:i,y:r,z:o},{signal:a.signal})).then(function(i){return delete t.request,t.aborted?(t.state="unloaded",n(null)):void 0===i?(t.state="errored",n(null)):null===i?(this.loadTileData(t,{width:this.tileSize,height:this.tileSize,data:null}),t.state="loaded",n(null)):function(t){return t instanceof e.window.ImageData||t instanceof e.window.HTMLCanvasElement||t instanceof e.window.ImageBitmap||t instanceof e.window.HTMLImageElement}(i)?(this.loadTileData(t,i),t.state="loaded",void n(null)):(t.state="errored",n(new Error("Can't infer data type for ".concat(this.id,", only raster data supported at the moment"))))}.bind(this)).catch((e=>{20!==e.code&&(t.state="errored",n(e))})),t.request.cancel=()=>a.abort()}loadTileData(e,t){Se.loadTileData(e,t,this._map.painter)}unloadTileData(e){Se.unloadTileData(e,this._map.painter)}unloadTile(e,t){if(this.unloadTileData(e),this._implementation.unloadTile){const{x:t,y:n,z:i}=e.tileID.canonical;this._implementation.unloadTile({x:t,y:n,z:i})}t()}abortTile(e,t){e.request&&e.request.cancel&&(e.request.cancel(),delete e.request),t()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map((e=>({x:e.canonical.x,y:e.canonical.y,z:e.canonical.z})))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))}}},Ae=function(t,n,i,r){const o=new ze[n.type](t,n,i,r);if(o.id!==t)throw new Error("Expected Source id to be ".concat(t," instead of ").concat(o.id));return e.bindAll(["load","abort","unload","serialize","prepare"],o),o};function Pe(t,n){const i=e.identity([]);return e.scale(i,i,[.5*t.width,.5*-t.height,1]),e.translate(i,i,[1,-1,0]),e.multiply(i,i,t.calculateProjMatrix(n.toUnwrapped())),Float32Array.from(i)}function Ie(e,t,n,i,r,o,a){let s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=e.tilesIn(i,a,s);l.sort(De);const c=[];for(const h of l)c.push({wrappedTileID:h.tile.tileID.wrapped().key,queryResults:h.tile.queryRenderedFeatures(t,n,e._state,h,r,o,Pe(e.transform,h.tile.tileID),s)});const u=function(e){const t={},n={};for(const i of e){const e=i.queryResults,r=i.wrappedTileID,o=n[r]=n[r]||{};for(const n in e){const i=e[n],r=o[n]=o[n]||{},a=t[n]=t[n]||[];for(const e of i)r[e.featureIndex]||(r[e.featureIndex]=!0,a.push(e))}}return t}(c);for(const h in u)u[h].forEach((t=>{const n=t.feature,i=n.layer;i&&"background"!==i.type&&"sky"!==i.type&&(n.source=i.source,i["source-layer"]&&(n.sourceLayer=i["source-layer"]),n.state=void 0!==n.id?e.getFeatureState(i["source-layer"],n.id):{})}));return u}function Le(e,t){const n=e.getRenderableIds().map((t=>e.getTileByID(t))),i=[],r={};for(let o=0;o<n.length;o++){const e=n[o],a=e.tileID.canonical.key;r[a]||(r[a]=!0,e.querySourceFeatures(i,t))}return i}function De(e,t){const n=e.tileID,i=t.tileID;return n.overscaledZ-i.overscaledZ||n.canonical.y-i.canonical.y||n.wrap-i.wrap||n.canonical.x-i.canonical.x}function Oe(){return null!=po.workerClass?new po.workerClass:new e.window.Worker(po.workerUrl)}const Re="mapboxgl_preloaded_worker_pool";class Be{constructor(){this.active={}}acquire(e){if(!this.workers)for(this.workers=[];this.workers.length<Be.workerCount;)this.workers.push(new Oe);return this.active[e]=!0,this.workers.slice()}release(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach((e=>{e.terminate()})),this.workers=null)}isPreloaded(){return!!this.active[Re]}numActive(){return Object.keys(this.active).length}}let Fe;function je(){return Fe||(Fe=new Be),Fe}function Ne(t,n){const i={};for(const e in t)"ref"!==e&&(i[e]=t[e]);return e.refProperties.forEach((e=>{e in n&&(i[e]=n[e])})),i}function Ue(e){e=e.slice();const t=Object.create(null);for(let n=0;n<e.length;n++)t[e[n].id]=e[n];for(let n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=Ne(e[n],t[e[n].ref]));return e}Be.workerCount=2;const Ve={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function qe(e,t,n){n.push({command:Ve.addSource,args:[e,t[e]]})}function Ge(e,t,n){t.push({command:Ve.removeSource,args:[e]}),n[e]=!0}function We(e,t,n,i){Ge(e,n,i),qe(e,t,n)}function Ze(e,n,i){let r;for(r in e[i])if(e[i].hasOwnProperty(r)&&"data"!==r&&!t(e[i][r],n[i][r]))return!1;for(r in n[i])if(n[i].hasOwnProperty(r)&&"data"!==r&&!t(e[i][r],n[i][r]))return!1;return!0}function He(e,n,i,r,o,a){let s;for(s in n=n||{},e=e||{})e.hasOwnProperty(s)&&(t(e[s],n[s])||i.push({command:a,args:[r,s,n[s],o]}));for(s in n)n.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t(e[s],n[s])||i.push({command:a,args:[r,s,n[s],o]}))}function Xe(e){return e.id}function Ke(e,t){return e[t.id]=t,e}class Ye{constructor(e,t){this.reset(e,t)}reset(e,t){this.points=e||[],this._distances=[0];for(let n=1;n<this.points.length;n++)this._distances[n]=this._distances[n-1]+this.points[n].dist(this.points[n-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);let n=1,i=this._distances[n];const r=t*this.paddedLength+this.padding;for(;i<r&&n<this._distances.length;)i=this._distances[++n];const o=n-1,a=this._distances[o],s=i-a,l=s>0?(r-a)/s:0;return this.points[o].mult(1-l).add(this.points[n].mult(l))}}class Je{constructor(e,t,n){const i=this.boxCells=[],r=this.circleCells=[];this.xCellCount=Math.ceil(e/n),this.yCellCount=Math.ceil(t/n);for(let o=0;o<this.xCellCount*this.yCellCount;o++)i.push([]),r.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e,t,n,i,r){this._forEachCell(t,n,i,r,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(i),this.bboxes.push(r)}insertCircle(e,t,n,i){this._forEachCell(t-i,n-i,t+i,n+i,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(n),this.circles.push(i)}_insertBoxCell(e,t,n,i,r,o){this.boxCells[r].push(o)}_insertCircleCell(e,t,n,i,r,o){this.circleCells[r].push(o)}_query(e,t,n,i,r,o){if(n<0||e>this.width||i<0||t>this.height)return!r&&[];const a=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=i){if(r)return!0;for(let e=0;e<this.boxKeys.length;e++)a.push({key:this.boxKeys[e],x1:this.bboxes[4*e],y1:this.bboxes[4*e+1],x2:this.bboxes[4*e+2],y2:this.bboxes[4*e+3]});for(let e=0;e<this.circleKeys.length;e++){const t=this.circles[3*e],n=this.circles[3*e+1],i=this.circles[3*e+2];a.push({key:this.circleKeys[e],x1:t-i,y1:n-i,x2:t+i,y2:n+i})}return o?a.filter(o):a}return this._forEachCell(e,t,n,i,this._queryCell,a,{hitTest:r,seenUids:{box:{},circle:{}}},o),r?a.length>0:a}_queryCircle(e,t,n,i,r){const o=e-n,a=e+n,s=t-n,l=t+n;if(a<0||o>this.width||l<0||s>this.height)return!i&&[];const c=[];return this._forEachCell(o,s,a,l,this._queryCellCircle,c,{hitTest:i,circle:{x:e,y:t,radius:n},seenUids:{box:{},circle:{}}},r),i?c.length>0:c}query(e,t,n,i,r){return this._query(e,t,n,i,!1,r)}hitTest(e,t,n,i,r){return this._query(e,t,n,i,!0,r)}hitTestCircle(e,t,n,i){return this._queryCircle(e,t,n,!0,i)}_queryCell(e,t,n,i,r,o,a,s){const l=a.seenUids,c=this.boxCells[r];if(null!==c){const r=this.bboxes;for(const u of c)if(!l.box[u]){l.box[u]=!0;const c=4*u;if(e<=r[c+2]&&t<=r[c+3]&&n>=r[c+0]&&i>=r[c+1]&&(!s||s(this.boxKeys[u]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[u],x1:r[c],y1:r[c+1],x2:r[c+2],y2:r[c+3]})}}}const u=this.circleCells[r];if(null!==u){const r=this.circles;for(const c of u)if(!l.circle[c]){l.circle[c]=!0;const u=3*c;if(this._circleAndRectCollide(r[u],r[u+1],r[u+2],e,t,n,i)&&(!s||s(this.circleKeys[c]))){if(a.hitTest)return o.push(!0),!0;{const e=r[u],t=r[u+1],n=r[u+2];o.push({key:this.circleKeys[c],x1:e-n,y1:t-n,x2:e+n,y2:t+n})}}}}}_queryCellCircle(e,t,n,i,r,o,a,s){const l=a.circle,c=a.seenUids,u=this.boxCells[r];if(null!==u){const e=this.bboxes;for(const t of u)if(!c.box[t]){c.box[t]=!0;const n=4*t;if(this._circleAndRectCollide(l.x,l.y,l.radius,e[n+0],e[n+1],e[n+2],e[n+3])&&(!s||s(this.boxKeys[t])))return o.push(!0),!0}}const h=this.circleCells[r];if(null!==h){const e=this.circles;for(const t of h)if(!c.circle[t]){c.circle[t]=!0;const n=3*t;if(this._circlesCollide(e[n],e[n+1],e[n+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[t])))return o.push(!0),!0}}}_forEachCell(e,t,n,i,r,o,a,s){const l=this._convertToXCellCoord(e),c=this._convertToYCellCoord(t),u=this._convertToXCellCoord(n),h=this._convertToYCellCoord(i);for(let d=l;d<=u;d++)for(let l=c;l<=h;l++)if(r.call(this,e,t,n,i,this.xCellCount*l+d,o,a,s))return}_convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}_convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}_circlesCollide(e,t,n,i,r,o){const a=i-e,s=r-t,l=n+o;return l*l>a*a+s*s}_circleAndRectCollide(e,t,n,i,r,o,a){const s=(o-i)/2,l=Math.abs(e-(i+s));if(l>s+n)return!1;const c=(a-r)/2,u=Math.abs(t-(r+c));if(u>c+n)return!1;if(l<=s||u<=c)return!0;const h=l-s,d=u-c;return h*h+d*d<=n*n}}const $e={unknown:0,flipRequired:1,flipNotRequired:2},Qe=Math.tan(85*Math.PI/180);function et(t,n,i,r,o,a,s){const l=e.create();if(i)if("globe"===a.name){const t=e.calculateGlobeLabelMatrix(o,n);e.multiply(l,l,t)}else{const t=y([],s);l[0]=t[0],l[1]=t[1],l[4]=t[2],l[5]=t[3],r||e.rotateZ(l,l,o.angle)}else e.multiply(l,o.labelPlaneMatrix,t);return l}function tt(e,t,n,i,r,o,a){const s=et(e,t,n,i,r,o,a);return"globe"===o.name&&n||(s[2]=s[6]=s[10]=s[14]=0),s}function nt(t,n,i,r,o,a,s){if(i){if("globe"===a.name){const l=et(t,n,i,r,o,a,s);return e.invert(l,l),e.multiply(l,t,l),l}{const n=e.clone(t),i=e.identity([]);return i[0]=s[0],i[1]=s[1],i[4]=s[2],i[5]=s[3],e.multiply(n,n,i),r||e.rotateZ(n,n,-o.angle),n}}return o.glCoordMatrix}function it(t,n,i,r){const o=[t,n,i,1];i?e.transformMat4$1(o,o,r):ft(o,o,r);const a=o[3];return o[0]/=a,o[1]/=a,o[2]/=a,o}function rt(e,t){return Math.min(.5+e/t*.5,1.5)}function ot(e,t){const n=e[0]/e[3],i=e[1]/e[3];return n>=-t[0]&&n<=t[0]&&i>=-t[1]&&i<=t[1]}function at(t,n,i,r,o,a,s,l,c,u){const h=i.transform,d=r?t.textSizeData:t.iconSizeData,p=e.evaluateSizeForZoom(d,i.transform.zoom),f="globe"===h.projection.name,m=[256/i.width*2+1,256/i.height*2+1],g=r?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;g.clear();let _=null;f&&(_=r?t.text.globeExtVertexArray:t.icon.globeExtVertexArray);const y=t.lineVertexArray,v=r?t.text.placedSymbolArray:t.icon.placedSymbolArray,x=i.transform.width/i.transform.height;let b,w=!1;for(let E=0;E<v.length;E++){const r=v.get(E),{numGlyphs:f,writingMode:T}=r;if(T!==e.WritingMode.vertical||w||b===e.WritingMode.horizontal||(w=!0),b=T,(r.hidden||T===e.WritingMode.vertical)&&!w){pt(f,g);continue}w=!1;const k=new e.Point(r.tileAnchorX,r.tileAnchorY);let{x:S,y:C,z:M}=h.projection.projectTilePoint(k.x,k.y,u.canonical);if(c){const[e,t,n]=c(k);S+=e,C+=t,M+=n}const z=[S,C,M,1];if(e.transformMat4$1(z,z,n),!ot(z,m)){pt(f,g);continue}const A=rt(i.transform.cameraToCenterDistance,z[3]),P=e.evaluateSizeForFeature(d,p,r),I=s?P/A:P*A,L=it(S,C,M,o);if(L[3]<=0){pt(f,g);continue}let D={};const O=s?null:c,R=ct(r,I,!1,l,n,o,a,t.glyphOffsetArray,y,g,_,L,k,D,x,O,h.projection,u,s);w=R.useVertical,O&&R.needsFlipping&&(D={}),(R.notEnoughRoom||w||R.needsFlipping&&ct(r,I,!0,l,n,o,a,t.glyphOffsetArray,y,g,_,L,k,D,x,O,h.projection,u,s).notEnoughRoom)&&pt(f,g)}r?(t.text.dynamicLayoutVertexBuffer.updateData(g),_&&t.text.globeExtVertexBuffer.updateData(_)):(t.icon.dynamicLayoutVertexBuffer.updateData(g),_&&t.icon.globeExtVertexBuffer.updateData(_))}function st(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,m){const{lineStartIndex:g,glyphStartIndex:_,segment:y}=s,v=_+s.numGlyphs,x=g+s.lineLength,b=t.getoffsetX(_),w=t.getoffsetX(v-1),E=dt(e*b,n,i,r,o,a,y,g,x,l,c,u,h,d,!0,p,f,m);if(!E)return null;const T=dt(e*w,n,i,r,o,a,y,g,x,l,c,u,h,d,!0,p,f,m);return T?{first:E,last:T}:null}function lt(t,n,i,r){return t===e.WritingMode.horizontal&&Math.abs(r)>Math.abs(i)?{useVertical:!0}:t===e.WritingMode.vertical?r>0?{needsFlipping:!0}:null:n!==$e.unknown&&function(e,t){return 0===e||Math.abs(t/e)>Qe}(i,r)?n===$e.flipRequired?{needsFlipping:!0}:null:i<0?{needsFlipping:!0}:null}function ct(t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,_,y,v){const x=n/24,b=t.lineOffsetX*x,w=t.lineOffsetY*x,{lineStartIndex:E,glyphStartIndex:T,numGlyphs:k,segment:S,writingMode:C,flipState:M}=t,z=E+t.lineLength,A=t=>{if(h){const[n,i,r]=t.up,o=u.length;e.updateGlobeVertexNormal(h,o+0,n,i,r),e.updateGlobeVertexNormal(h,o+1,n,i,r),e.updateGlobeVertexNormal(h,o+2,n,i,r),e.updateGlobeVertexNormal(h,o+3,n,i,r)}const[n,i,r]=t.point;e.addDynamicAttributes(u,n,i,r,t.angle)};if(k>1){const e=st(x,l,b,w,i,d,p,t,c,a,f,g,!1,_,y,v);if(!e)return{notEnoughRoom:!0};if(r&&!i){let[n,i,r]=e.first.point,[o,a,l]=e.last.point;[n,i]=it(n,i,r,s),[o,a]=it(o,a,l,s);const c=lt(C,M,(o-n)*m,a-i);if(t.flipState=c&&c.needsFlipping?$e.flipRequired:$e.flipNotRequired,c)return c}A(e.first);for(let t=T+1;t<T+k-1;t++){const e=dt(x*l.getoffsetX(t),b,w,i,d,p,S,E,z,c,a,f,g,!1,!1,_,y,v);if(!e)return u.length-=4*(t-T),{notEnoughRoom:!0};A(e)}A(e.last)}else{if(r&&!i){const n=it(p.x,p.y,0,o),i=E+S+1,r=new e.Point(c.getx(i),c.gety(i)),a=it(r.x,r.y,0,o),s=a[3]>0?a:ht(p,r,n,1,o,void 0,_,y.canonical),l=lt(C,M,(s[0]-n[0])*m,s[1]-n[1]);if(t.flipState=l&&l.needsFlipping?$e.flipRequired:$e.flipNotRequired,l)return l}const n=dt(x*l.getoffsetX(T),b,w,i,d,p,S,E,z,c,a,f,g,!1,!1,_,y,v);if(!n)return{notEnoughRoom:!0};A(n)}return{}}function ut(e,t,n,i,r){const{x:o,y:a,z:s}=i.projectTilePoint(e.x,e.y,t);if(!r)return it(o,a,s,n);const[l,c,u]=r(e);return it(o+l,a+c,s+u,n)}function ht(t,n,i,r,o,a,s,l){const c=ut(t.sub(n)._unit()._add(t),l,o,s,a);return e.sub(c,i,c),e.normalize(c,c),e.scaleAndAdd(c,i,c,r)}function dt(t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,_,y){const v=r?t-n:t+n;let x=v>0?1:-1,b=0;r&&(x*=-1,b=Math.PI),x<0&&(b+=Math.PI);let w=l+s+(x>0?0:1)|0,E=o,T=o,k=0,S=0;const C=Math.abs(v),M=[],z=[];let A=a,P=A;const I=()=>ht(P,A,T,C-k+1,h,p,g,_.canonical);for(;k+S<=C;){if(w+=x,w<l||w>=c)return null;if(T=E,P=A,M.push(T),f&&z.push(P),A=new e.Point(u.getx(w),u.gety(w)),E=d[w],!E){const e=ut(A,_.canonical,h,g,p);E=e[3]>0?d[w]=e:I()}k+=S,S=e.distance(T,E)}m&&p&&(d[w]&&(E=I(),S=e.distance(T,E)),d[w]=E);const L=(C-k)/S,D=A.sub(P)._mult(L)._add(P),O=e.sub([],E,T),R=e.scaleAndAdd([],T,O,L);let B=[0,0,1],F=O[0],j=O[1];if(y&&(B=g.upVector(_.canonical,D.x,D.y),0!==B[0]||0!==B[1]||1!==B[2])){const t=[B[2],0,-B[0]],n=e.cross([],B,t);e.normalize(t,t),e.normalize(n,n),F=e.dot(O,t),j=e.dot(O,n)}if(i){const t=e.cross([],B,O);e.normalize(t,t),e.scaleAndAdd(R,R,t,i*x)}const N=b+Math.atan2(j,F);return M.push(R),f&&z.push(D),{point:R,angle:N,path:M,tilePath:z,up:B}}function pt(e,t){const n=t.length,i=n+4*e;t.resize(i),t.float32.fill(-1/0,4*n,4*i)}function ft(e,t,n){const i=t[0],r=t[1];return e[0]=n[0]*i+n[4]*r+n[12],e[1]=n[1]*i+n[5]*r+n[13],e[3]=n[3]*i+n[7]*r+n[15],e}const mt=100;class gt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Je(e.width+200,e.height+200,25),i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Je(e.width+200,e.height+200,25);this.transform=e,this.grid=n,this.ignoredGrid=i,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+mt,this.screenBottomBoundary=e.height+mt,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.fogState=t}placeCollisionBox(e,t,n,i,r,o,a,s){let l=n.projectedAnchorX,c=n.projectedAnchorY,u=n.projectedAnchorZ;const h=n.elevation,d=n.tileID,p=e.getProjection();if(h&&d){const[e,t,i]=p.upVector(d.canonical,n.tileAnchorX,n.tileAnchorY),r=p.upVectorScale(d.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;l+=e*h*r,c+=t*h*r,u+=i*h*r}const f=this.projectAndGetPerspectiveRatio(a,l,c,u,n.tileID,"globe"===p.name||!!h||this.transform.pitch>0,p),m=o*f.perspectiveRatio,g=(n.x1*t+i.x-n.padding)*m+f.point.x,_=(n.y1*t+i.y-n.padding)*m+f.point.y,y=(n.x2*t+i.x+n.padding)*m+f.point.x,v=(n.y2*t+i.y+n.padding)*m+f.point.y,x=f.perspectiveRatio<=.55||f.occluded;return!this.isInsideGrid(g,_,y,v)||!r&&this.grid.hitTest(g,_,y,v,s)||x?{box:[],offscreen:!1,occluded:f.occluded}:{box:[g,_,y,v],offscreen:this.isOffscreen(g,_,y,v),occluded:!1}}placeCollisionCircles(t,n,i,r,o,a,s,l,c,u,h,d,p,f,m){const g=[],_=this.transform.elevation,y=t.getProjection(),v=_?_.getAtTileOffsetFunc(m,this.transform.center.lat,this.transform.worldSize,y):null,x=new e.Point(i.tileAnchorX,i.tileAnchorY);let{x:b,y:w,z:E}=y.projectTilePoint(x.x,x.y,m.canonical);if(v){const[e,t,n]=v(x);b+=e,w+=t,E+=n}const T="globe"===y.name,k=this.projectAndGetPerspectiveRatio(s,b,w,E,m,T||!!_||this.transform.pitch>0,y),{perspectiveRatio:S}=k,C=(h?a/S:a*S)/e.ONE_EM,M=it(b,w,E,l),z=k.signedDistanceFromCamera>0?st(C,o,i.lineOffsetX*C,i.lineOffsetY*C,!1,M,x,i,r,l,{},_&&!h?v:null,h&&!!_,y,m,h):null;let A=!1,P=!1,I=!0;if(z&&!k.occluded){const t=.5*p*S+f,i=new e.Point(-100,-100),r=new e.Point(this.screenRightBoundary,this.screenBottomBoundary),o=new Ye,{first:a,last:s}=z,l=a.path.length;let h=[];for(let e=l-1;e>=1;e--)h.push(a.path[e]);for(let e=1;e<s.path.length;e++)h.push(s.path[e]);const m=2.5*t;c&&(h=h.map(((e,t)=>{let[n,i,r]=e;return v&&!T&&(r=v(t<l-1?a.tilePath[l-1-t]:s.tilePath[t-l+2])[2]),it(n,i,r,c)})),h.some((e=>e[3]<=0))&&(h=[]));let _=[];if(h.length>0){let t=1/0,n=-1/0,o=1/0,a=-1/0;for(const e of h)t=Math.min(t,e[0]),o=Math.min(o,e[1]),n=Math.max(n,e[0]),a=Math.max(a,e[1]);n>=i.x&&t<=r.x&&a>=i.y&&o<=r.y&&(_=[h.map((t=>new e.Point(t[0],t[1])))],(t<i.x||n>r.x||o<i.y||a>r.y)&&(_=e.clipLine(_,i.x,i.y,r.x,r.y)))}for(const e of _){o.reset(e,.25*t);let i=0;i=o.length<=.5*t?1:Math.ceil(o.paddedLength/m)+1;for(let e=0;e<i;e++){const r=e/Math.max(i-1,1),a=o.lerp(r),s=a.x+mt,l=a.y+mt;g.push(s,l,t,0);const c=s-t,h=l-t,p=s+t,f=l+t;if(I=I&&this.isOffscreen(c,h,p,f),P=P||this.isInsideGrid(c,h,p,f),!n&&this.grid.hitTestCircle(s,l,t,d)&&(A=!0,!u))return{circles:[],offscreen:!1,collisionDetected:A,occluded:!1}}}}return{circles:!u&&A||!P?[]:g,offscreen:I,collisionDetected:A,occluded:k.occluded}}queryRenderedSymbols(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const n=[];let i=1/0,r=1/0,o=-1/0,a=-1/0;for(const u of t){const t=new e.Point(u.x+mt,u.y+mt);i=Math.min(i,t.x),r=Math.min(r,t.y),o=Math.max(o,t.x),a=Math.max(a,t.y),n.push(t)}const s=this.grid.query(i,r,o,a).concat(this.ignoredGrid.query(i,r,o,a)),l={},c={};for(const u of s){const t=u.key;if(void 0===l[t.bucketInstanceId]&&(l[t.bucketInstanceId]={}),l[t.bucketInstanceId][t.featureIndex])continue;const i=[new e.Point(u.x1,u.y1),new e.Point(u.x2,u.y1),new e.Point(u.x2,u.y2),new e.Point(u.x1,u.y2)];e.polygonIntersectsPolygon(n,i)&&(l[t.bucketInstanceId][t.featureIndex]=!0,void 0===c[t.bucketInstanceId]&&(c[t.bucketInstanceId]=[]),c[t.bucketInstanceId].push(t.featureIndex))}return c}insertCollisionBox(e,t,n,i,r){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:i,collisionGroupID:r},e[0],e[1],e[2],e[3])}insertCollisionCircles(e,t,n,i,r){const o=t?this.ignoredGrid:this.grid,a={bucketInstanceId:n,featureIndex:i,collisionGroupID:r};for(let s=0;s<e.length;s+=4)o.insertCircle(a,e[s],e[s+1],e[s+2])}projectAndGetPerspectiveRatio(t,n,i,r,o,a,s){const l=[n,i,r,1];let c=!1;if(r||this.transform.pitch>0){if(e.transformMat4$1(l,l,t),this.fogState&&o&&"globe"!==s.name){const t=function(t,n,i,r,o,a){const s=a.calculateFogTileMatrix(o),l=[n,i,r];return e.transformMat4(l,l,s),k(t,l,a.pitch,a._fov)}(this.fogState,n,i,r,o.toUnwrapped(),this.transform);c=t>.9}}else ft(l,l,t);const u=l[3];return{point:new e.Point((l[0]/u+1)/2*this.transform.width+mt,(-l[1]/u+1)/2*this.transform.height+mt),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(s)/u*.5,1.5),signedDistanceFromCamera:u,occluded:a&&l[2]>u||c}}isOffscreen(e,t,n,i){return n<mt||e>=this.screenRightBoundary||i<mt||t>this.screenBottomBoundary}isInsideGrid(e,t,n,i){return n>=0&&e<this.gridRightBoundary&&i>=0&&t<this.gridBottomBoundary}getViewportMatrix(){const t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t}}function _t(t,n,i){const r=n.createTileMatrix(t,t.worldSize,i.toUnwrapped());return e.multiply(new Float32Array(16),t.projMatrix,r)}function yt(e,t,n){if(t.projection.name===n.projection.name)return e.projMatrix;const i=n.clone();return i.setProjection(t.projection),_t(i,t.getProjection(),e)}function vt(e,t,n){return t.name===n.projection.name?e.projMatrix:_t(n,t,e)}class xt{constructor(e,t,n,i){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):i&&n?1:0,this.placed=n}isHidden(){return 0===this.opacity&&!this.placed}}class bt{constructor(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.text=new xt(e?e.text:null,t,n,r),this.icon=new xt(e?e.icon:null,t,i,r),this.clipped=o}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class wt{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.text=e,this.icon=t,this.skipFade=n,this.clipped=i}}class Et{constructor(){this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]}}class Tt{constructor(e,t,n,i,r){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=n,this.bucketIndex=i,this.tileID=r}}class kt{constructor(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}}get(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){const t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:e=>e.collisionGroupID===t}}return this.collisionGroups[e]}}function St(t,n,i,r,o){const{horizontalAlign:a,verticalAlign:s}=e.getAnchorAlignment(t),l=-(a-.5)*n,c=-(s-.5)*i,u=e.evaluateVariableOffset(t,r);return new e.Point(l+u[0]*o,c+u[1]*o)}function Ct(t,n,i,r,o){const a=new e.Point(t,n);return i&&a._rotate(r?o:-o),a}class Mt{constructor(e,t,n,i,r){this.transform=e.clone(),this.projection=e.projection.name,this.collisionIndex=new gt(this.transform,r),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new kt(n),this.collisionCircleArrays={},this.prevPlacement=i,i&&(i.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(t,n,i,r){const o=i.getBucket(n),a=i.latestFeatureIndex;if(!o||!a||n.id!==o.layerIds[0])return;const s=o.layers[0].layout,l=i.collisionBoxArray,c=Math.pow(2,this.transform.zoom-i.tileID.overscaledZ),u=i.tileSize/e.EXTENT,h=i.tileID.toUnwrapped();this.transform.setProjection(o.projection);const d=(p=i.tileID,f=o.getProjection(),m=this.transform,f.name===this.projection?m.calculateProjMatrix(p.toUnwrapped()):_t(m,f,p));var p,f,m;const g="map"===s.get("text-pitch-alignment"),_="map"===s.get("text-rotation-alignment");n.compileFilter();const y=n.dynamicFilter(),v=n.dynamicFilterNeedsFeature(),x=this.transform.calculatePixelsToTileUnitsMatrix(i),b=tt(d,i.tileID.canonical,g,_,this.transform,o.getProjection(),x);let w=null;if(g){const t=nt(d,i.tileID.canonical,g,_,this.transform,o.getProjection(),x);w=e.multiply([],this.transform.labelPlaneMatrix,t)}let E=null;y&&i.latestFeatureIndex&&(E={unwrappedTileID:h,dynamicFilter:y,dynamicFilterNeedsFeature:v,featureIndex:i.latestFeatureIndex}),this.retainedQueryData[o.bucketInstanceId]=new Tt(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,i.tileID);const T={bucket:o,layout:s,posMatrix:d,textLabelPlaneMatrix:b,labelToScreenMatrix:w,clippingData:E,scale:c,textPixelRatio:u,holdingForFade:i.holdingForFade(),collisionBoxArray:l,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(o.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:e.evaluateSizeForZoom(o.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(o.sourceID)};if(r)for(const e of o.sortKeyRanges){const{sortKey:n,symbolInstanceStart:i,symbolInstanceEnd:r}=e;t.push({sortKey:n,symbolInstanceStart:i,symbolInstanceEnd:r,parameters:T})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:o.symbolInstances.length,parameters:T})}attemptAnchorPlacement(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,_){const{textOffset0:y,textOffset1:v,crossTileID:x}=h,b=[y,v],w=St(e,n,i,b,r),E=this.collisionIndex.placeCollisionBox(p,r,t,Ct(w.x,w.y,o,a,this.transform.angle),u,s,l,c.predicate);if(m){const e=p.getSymbolInstanceIconSize(_,this.transform.zoom,h.placedIconSymbolIndex);if(0===this.collisionIndex.placeCollisionBox(p,e,m,Ct(w.x,w.y,o,a,this.transform.angle),u,s,l,c.predicate).box.length)return}if(E.box.length>0){let t;return this.prevPlacement&&this.prevPlacement.variableOffsets[x]&&this.prevPlacement.placements[x]&&this.prevPlacement.placements[x].text&&(t=this.prevPlacement.variableOffsets[x].anchor),this.variableOffsets[x]={textOffset:b,width:n,height:i,anchor:e,textScale:r,prevAnchor:t},this.markUsedJustification(p,e,h,f),p.allowVerticalPlacement&&(this.markUsedOrientation(p,f,h),this.placedOrientations[x]=f),{shift:w,placedGlyphBoxes:E}}}placeLayerBucketPart(t,n,i,r){const{bucket:o,layout:a,posMatrix:s,textLabelPlaneMatrix:l,labelToScreenMatrix:c,clippingData:u,textPixelRatio:h,holdingForFade:d,collisionBoxArray:p,partiallyEvaluatedTextSize:f,partiallyEvaluatedIconSize:m,collisionGroup:g}=t.parameters,_=a.get("text-optional"),y=a.get("icon-optional"),v=a.get("text-allow-overlap"),x=a.get("icon-allow-overlap"),b="map"===a.get("text-rotation-alignment"),w="map"===a.get("text-pitch-alignment"),E="none"!==a.get("icon-text-fit"),T="viewport-y"===a.get("symbol-z-order");this.transform.setProjection(o.projection);let k=v&&(x||!o.hasIconData()||y),S=x&&(v||!o.hasTextData()||_);!o.collisionArrays&&p&&o.deserializeCollisionBoxes(p),i&&r&&o.updateCollisionDebugBuffers(this.transform.zoom,p);const C=(t,r,p)=>{const{crossTileID:T,numVerticalGlyphVertices:C}=t;if(u){const i={zoom:this.transform.zoom,pitch:this.transform.pitch};let r=null;if(u.dynamicFilterNeedsFeature){const e=this.retainedQueryData[o.bucketInstanceId];r=u.featureIndex.loadFeature({featureIndex:t.featureIndex,bucketIndex:e.bucketIndex,sourceLayerIndex:e.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,u.dynamicFilter)(i,r,this.retainedQueryData[o.bucketInstanceId].tileID.canonical,new e.Point(t.tileAnchorX,t.tileAnchorY),this.transform.calculateDistanceTileData(u.unwrappedTileID)))return this.placements[T]=new wt(!1,!1,!1,!0),void n.add(T)}if(n.has(T))return;if(d)return void(this.placements[T]=new wt(!1,!1,!1));let M=!1,z=!1,A=!0,P=!1,I=!1,L=null,D={box:null,offscreen:null,occluded:null},O={box:null,offscreen:null,occluded:null},R=null,B=null,F=null,j=0,N=0,U=0;p.textFeatureIndex?j=p.textFeatureIndex:t.useRuntimeCollisionCircles&&(j=t.featureIndex),p.verticalTextFeatureIndex&&(N=p.verticalTextFeatureIndex);const V=e=>{e.tileID=this.retainedQueryData[o.bucketInstanceId].tileID;const t=this.transform.elevation;(t||e.elevation)&&(e.elevation=t?t.getAtTileOffset(e.tileID,e.tileAnchorX,e.tileAnchorY):0)},q=p.textBox;if(q){V(q);const n=n=>{let i=e.WritingMode.horizontal;if(o.allowVerticalPlacement&&!n&&this.prevPlacement){const e=this.prevPlacement.placedOrientations[T];e&&(this.placedOrientations[T]=e,i=e,this.markUsedOrientation(o,i,t))}return i},i=(t,n)=>{if(o.allowVerticalPlacement&&C>0&&p.verticalTextBox){for(const i of o.writingModes)if(i===e.WritingMode.vertical?(D=n(),O=D):D=t(),D&&D.box&&D.box.length)break}else D=t()};if(a.get("text-variable-anchor")){let l=a.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[T]){const e=this.prevPlacement.variableOffsets[T];l.indexOf(e.anchor)>0&&(l=l.filter((t=>t!==e.anchor)),l.unshift(e.anchor))}const c=(e,n,i)=>{const a=o.getSymbolInstanceTextSize(f,t,this.transform.zoom,r),c=(e.x2-e.x1)*a+2*e.padding,u=(e.y2-e.y1)*a+2*e.padding,d=E&&!x?n:null;d&&V(d);let p={box:[],offscreen:!1,occluded:!1};const _=v?2*l.length:l.length;for(let y=0;y<_;++y){const n=this.attemptAnchorPlacement(l[y%l.length],e,c,u,a,b,w,h,s,g,y>=l.length,t,r,o,i,d,f,m);if(n&&(p=n.placedGlyphBoxes,p&&p.box&&p.box.length)){M=!0,L=n.shift;break}}return p};i((()=>c(q,p.iconBox,e.WritingMode.horizontal)),(()=>{const t=p.verticalTextBox;return t&&V(t),o.allowVerticalPlacement&&!(D&&D.box&&D.box.length)&&C>0&&t?c(t,p.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null,occluded:null}})),D&&(M=D.box,A=D.offscreen,P=D.occluded);const u=n(!(!D||!D.box));if(!M&&this.prevPlacement){const e=this.prevPlacement.variableOffsets[T];e&&(this.variableOffsets[T]=e,this.markUsedJustification(o,e.anchor,t,u))}}else{const a=(n,i)=>{const a=o.getSymbolInstanceTextSize(f,t,this.transform.zoom,r),l=this.collisionIndex.placeCollisionBox(o,a,n,new e.Point(0,0),v,h,s,g.predicate);return l&&l.box&&l.box.length&&(this.markUsedOrientation(o,i,t),this.placedOrientations[T]=i),l};i((()=>a(q,e.WritingMode.horizontal)),(()=>{const t=p.verticalTextBox;return o.allowVerticalPlacement&&C>0&&t?(V(t),a(t,e.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}})),n(!!(D&&D.box&&D.box.length))}}if(R=D,M=R&&R.box&&R.box.length>0,A=R&&R.offscreen,P=R&&R.occluded,t.useRuntimeCollisionCircles){const n=o.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex),r=e.evaluateSizeForFeature(o.textSizeData,f,n),u=a.get("text-padding");B=this.collisionIndex.placeCollisionCircles(o,v,n,o.lineVertexArray,o.glyphOffsetArray,r,s,l,c,i,w,g.predicate,t.collisionCircleDiameter*r/e.ONE_EM,u,this.retainedQueryData[o.bucketInstanceId].tileID),M=v||B.circles.length>0&&!B.collisionDetected,A=A&&B.offscreen,P=B.occluded}if(p.iconFeatureIndex&&(U=p.iconFeatureIndex),p.iconBox){const n=n=>{V(n);const i=E&&L?Ct(L.x,L.y,b,w,this.transform.angle):new e.Point(0,0),r=o.getSymbolInstanceIconSize(m,this.transform.zoom,t.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(o,r,n,i,x,h,s,g.predicate)};O&&O.box&&O.box.length&&p.verticalIconBox?(F=n(p.verticalIconBox),z=F.box.length>0):(F=n(p.iconBox),z=F.box.length>0),A=A&&F.offscreen,I=F.occluded}const G=_||0===t.numHorizontalGlyphVertices&&0===C,W=y||0===t.numIconVertices;if(G||W?W?G||(z=z&&M):M=z&&M:z=M=z&&M,M&&R&&R.box&&this.collisionIndex.insertCollisionBox(R.box,a.get("text-ignore-placement"),o.bucketInstanceId,O&&O.box&&N?N:j,g.ID),z&&F&&this.collisionIndex.insertCollisionBox(F.box,a.get("icon-ignore-placement"),o.bucketInstanceId,U,g.ID),B&&(M&&this.collisionIndex.insertCollisionCircles(B.circles,a.get("text-ignore-placement"),o.bucketInstanceId,j,g.ID),i)){const e=o.bucketInstanceId;let t=this.collisionCircleArrays[e];void 0===t&&(t=this.collisionCircleArrays[e]=new Et);for(let n=0;n<B.circles.length;n+=4)t.circles.push(B.circles[n+0]),t.circles.push(B.circles[n+1]),t.circles.push(B.circles[n+2]),t.circles.push(B.collisionDetected?1:0)}const Z="globe"!==o.projection.name;k=k&&(Z||!P),S=S&&(Z||!I),this.placements[T]=new wt(M||k,z||S,A||o.justReloaded),n.add(T)};if(T){const e=o.getSortedSymbolIndexes(this.transform.angle);for(let t=e.length-1;t>=0;--t){const n=e[t];C(o.symbolInstances.get(n),n,o.collisionArrays[n])}}else for(let e=t.symbolInstanceStart;e<t.symbolInstanceEnd;e++)C(o.symbolInstances.get(e),e,o.collisionArrays[e]);if(i&&o.bucketInstanceId in this.collisionCircleArrays){const t=this.collisionCircleArrays[o.bucketInstanceId];e.invert(t.invProjMatrix,s),t.viewportMatrix=this.collisionIndex.getViewportMatrix()}o.justReloaded=!1}markUsedJustification(t,n,i,r){const{leftJustifiedTextSymbolIndex:o,centerJustifiedTextSymbolIndex:a,rightJustifiedTextSymbolIndex:s,verticalPlacedTextSymbolIndex:l,crossTileID:c}=i,u=e.getAnchorJustification(n),h=r===e.WritingMode.vertical?l:"left"===u?o:"center"===u?a:"right"===u?s:-1;o>=0&&(t.text.placedSymbolArray.get(o).crossTileID=h>=0&&o!==h?0:c),a>=0&&(t.text.placedSymbolArray.get(a).crossTileID=h>=0&&a!==h?0:c),s>=0&&(t.text.placedSymbolArray.get(s).crossTileID=h>=0&&s!==h?0:c),l>=0&&(t.text.placedSymbolArray.get(l).crossTileID=h>=0&&l!==h?0:c)}markUsedOrientation(t,n,i){const r=n===e.WritingMode.horizontal||n===e.WritingMode.horizontalOnly?n:0,o=n===e.WritingMode.vertical?n:0,{leftJustifiedTextSymbolIndex:a,centerJustifiedTextSymbolIndex:s,rightJustifiedTextSymbolIndex:l,verticalPlacedTextSymbolIndex:c}=i,u=t.text.placedSymbolArray;a>=0&&(u.get(a).placedOrientation=r),s>=0&&(u.get(s).placedOrientation=r),l>=0&&(u.get(l).placedOrientation=r),c>=0&&(u.get(c).placedOrientation=o)}commit(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;const t=this.prevPlacement;let n=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;const i=t?t.symbolFadeChange(e):1,r=t?t.opacities:{},o=t?t.variableOffsets:{},a=t?t.placedOrientations:{};for(const s in this.placements){const e=this.placements[s],t=r[s];t?(this.opacities[s]=new bt(t,i,e.text,e.icon,null,e.clipped),n=n||e.text!==t.text.placed||e.icon!==t.icon.placed):(this.opacities[s]=new bt(null,i,e.text,e.icon,e.skipFade,e.clipped),n=n||e.text||e.icon)}for(const s in r){const e=r[s];if(!this.opacities[s]){const t=new bt(e,i,!1,!1);t.isHidden()||(this.opacities[s]=t,n=n||e.text.placed||e.icon.placed)}}for(const s in o)this.variableOffsets[s]||!this.opacities[s]||this.opacities[s].isHidden()||(this.variableOffsets[s]=o[s]);for(const s in a)this.placedOrientations[s]||!this.opacities[s]||this.opacities[s].isHidden()||(this.placedOrientations[s]=a[s]);n?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)}updateLayerOpacities(e,t){const n=new Set;for(const i of t){const t=i.getBucket(e);t&&i.latestFeatureIndex&&e.id===t.layerIds[0]&&this.updateBucketOpacities(t,n,i.collisionBoxArray)}}updateBucketOpacities(t,n,i){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();const r=t.layers[0].layout,o=!!t.layers[0].dynamicFilter(),a=new bt(null,0,!1,!1,!0),s=r.get("text-allow-overlap"),l=r.get("icon-allow-overlap"),c=r.get("text-variable-anchor"),u="map"===r.get("text-rotation-alignment"),h="map"===r.get("text-pitch-alignment"),d="none"!==r.get("icon-text-fit"),p=new bt(null,0,s&&(l||!t.hasIconData()||r.get("icon-optional")),l&&(s||!t.hasTextData()||r.get("text-optional")),!0);!t.collisionArrays&&i&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(i);const f=(e,t,n)=>{for(let i=0;i<t/4;i++)e.opacityVertexArray.emplaceBack(n)};let m=0;for(let g=0;g<t.symbolInstances.length;g++){const i=t.symbolInstances.get(g),{numHorizontalGlyphVertices:r,numVerticalGlyphVertices:s,crossTileID:l,numIconVertices:_}=i,y=n.has(l);let v=this.opacities[l];y?v=a:v||(v=p,this.opacities[l]=v),n.add(l);const x=r>0||s>0,b=_>0,w=this.placedOrientations[l],E=w===e.WritingMode.vertical,T=w===e.WritingMode.horizontal||w===e.WritingMode.horizontalOnly;if(!x&&!b||v.isHidden()||m++,x){const e=Bt(v.text);f(t.text,r,E?Ft:e),f(t.text,s,T?Ft:e);const n=v.text.isHidden(),{leftJustifiedTextSymbolIndex:o,centerJustifiedTextSymbolIndex:a,rightJustifiedTextSymbolIndex:c,verticalPlacedTextSymbolIndex:u}=i,h=t.text.placedSymbolArray,d=n||E?1:0;o>=0&&(h.get(o).hidden=d),a>=0&&(h.get(a).hidden=d),c>=0&&(h.get(c).hidden=d),u>=0&&(h.get(u).hidden=n||T?1:0);const p=this.variableOffsets[l];p&&this.markUsedJustification(t,p.anchor,i,w);const m=this.placedOrientations[l];m&&(this.markUsedJustification(t,"left",i,m),this.markUsedOrientation(t,m,i))}if(b){const e=Bt(v.icon),{placedIconSymbolIndex:n,verticalPlacedIconSymbolIndex:r}=i,o=t.icon.placedSymbolArray,a=v.icon.isHidden()?1:0;n>=0&&(f(t.icon,_,E?Ft:e),o.get(n).hidden=a),r>=0&&(f(t.icon,i.numVerticalIconVertices,T?Ft:e),o.get(r).hidden=a)}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){const n=t.collisionArrays[g];if(n){let i=new e.Point(0,0),r=!0;if(n.textBox||n.verticalTextBox){if(c){const e=this.variableOffsets[l];e?(i=St(e.anchor,e.width,e.height,e.textOffset,e.textScale),u&&i._rotate(h?this.transform.angle:-this.transform.angle)):r=!1}o&&(r=!v.clipped),n.textBox&&zt(t.textCollisionBox.collisionVertexArray,v.text.placed,!r||E,i.x,i.y),n.verticalTextBox&&zt(t.textCollisionBox.collisionVertexArray,v.text.placed,!r||T,i.x,i.y)}const a=r&&Boolean(!T&&n.verticalIconBox);n.iconBox&&zt(t.iconCollisionBox.collisionVertexArray,v.icon.placed,a,d?i.x:0,d?i.y:0),n.verticalIconBox&&zt(t.iconCollisionBox.collisionVertexArray,v.icon.placed,!a,d?i.x:0,d?i.y:0)}}}if(t.fullyClipped=0===m,t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){const e=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=e.invProjMatrix,t.placementViewportMatrix=e.viewportMatrix,t.collisionCircleArray=e.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}}symbolFadeChange(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e){return Math.max(0,(this.transform.zoom-e)/1.5)}hasTransitions(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e,t){const n=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*n>e}setStale(){this.stale=!0}}function zt(e,t,n,i,r){e.emplaceBack(t?1:0,n?1:0,i||0,r||0),e.emplaceBack(t?1:0,n?1:0,i||0,r||0),e.emplaceBack(t?1:0,n?1:0,i||0,r||0),e.emplaceBack(t?1:0,n?1:0,i||0,r||0)}const At=Math.pow(2,25),Pt=Math.pow(2,24),It=Math.pow(2,17),Lt=Math.pow(2,16),Dt=Math.pow(2,9),Ot=Math.pow(2,8),Rt=Math.pow(2,1);function Bt(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;const t=e.placed?1:0,n=Math.floor(127*e.opacity);return n*At+t*Pt+n*It+t*Lt+n*Dt+t*Ot+n*Rt+t}const Ft=0;class jt{constructor(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&void 0!==e.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[]}continuePlacement(e,t,n,i,r){const o=this._bucketParts;for(;this._currentTileIndex<e.length;)if(t.getBucketParts(o,i,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,r())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort(((e,t)=>e.sortKey-t.sortKey)));this._currentPartIndex<o.length;){const e=o[this._currentPartIndex];if(t.placeLayerBucketPart(e,this._seenCrossTileIDs,n,0===e.symbolInstanceStart),this._currentPartIndex++,r())return!0}return!1}}class Nt{constructor(e,t,n,i,r,o,a,s){this.placement=new Mt(e,r,o,a,s),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=i,this._done=!1}isDone(){return this._done}continuePlacement(t,n,i){const r=e.exported.now(),o=()=>{const t=e.exported.now()-r;return!this._forceFullPlacement&&t>2};for(;this._currentPlacementIndex>=0;){const e=n[t[this._currentPlacementIndex]],r=this.placement.collisionIndex.transform.zoom;if("symbol"===e.type&&(!e.minzoom||e.minzoom<=r)&&(!e.maxzoom||e.maxzoom>r)){if(this._inProgressLayer||(this._inProgressLayer=new jt(e)),this._inProgressLayer.continuePlacement(i[e.source],this.placement,this._showCollisionBoxes,e,o))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(e){return this.placement.commit(e),this.placement}}const Ut=512/e.EXTENT/2;class Vt{constructor(t,n,i){this.tileID=t,this.bucketInstanceId=i,this.index=new e.KDBush(n.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];const r=t.canonical.x*e.EXTENT,o=t.canonical.y*e.EXTENT;for(let e=0;e<n.length;e++){const{key:t,crossTileID:i,tileAnchorX:a,tileAnchorY:s}=n.get(e),l=Math.floor((r+a)*Ut),c=Math.floor((o+s)*Ut);this.index.add(l,c),this.keys.push(t),this.crossTileIDs.push(i)}this.index.finish()}findMatches(t,n,i){const r=this.tileID.canonical.z<n.canonical.z?1:Math.pow(2,this.tileID.canonical.z-n.canonical.z),o=Ut/Math.pow(2,n.canonical.z-this.tileID.canonical.z),a=n.canonical.x*e.EXTENT,s=n.canonical.y*e.EXTENT;for(let e=0;e<t.length;e++){const n=t.get(e);if(n.crossTileID)continue;const{key:l,tileAnchorX:c,tileAnchorY:u}=n,h=Math.floor((a+c)*o),d=Math.floor((s+u)*o),p=this.index.range(h-r,d-r,h+r,d+r);for(const e of p){const t=this.crossTileIDs[e];if(this.keys[e]===l&&!i.has(t)){i.add(t),n.crossTileID=t;break}}}}}class qt{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Gt{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(e){const t=Math.round((e-this.lng)/360);if(0!==t)for(const n in this.indexes){const e=this.indexes[n],i={};for(const n in e){const r=e[n];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+t),i[r.tileID.key]=r}this.indexes[n]=i}this.lng=e}addBucket(e,t,n){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(let r=0;r<t.symbolInstances.length;r++)t.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]=new Set);const i=this.usedCrossTileIDs[e.overscaledZ];for(const r in this.indexes){const n=this.indexes[r];if(Number(r)>e.overscaledZ)for(const r in n){const o=n[r];o.tileID.isChildOf(e)&&o.findMatches(t.symbolInstances,e,i)}else{const o=n[e.scaledTo(Number(r)).key];o&&o.findMatches(t.symbolInstances,e,i)}}for(let r=0;r<t.symbolInstances.length;r++){const e=t.symbolInstances.get(r);e.crossTileID||(e.crossTileID=n.generate(),i.add(e.crossTileID))}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Vt(e,t.symbolInstances,t.bucketInstanceId),!0}removeBucketCrossTileIDs(e,t){for(const n of t.crossTileIDs)this.usedCrossTileIDs[e].delete(n)}removeStaleBuckets(e){let t=!1;for(const n in this.indexes){const i=this.indexes[n];for(const r in i)e[i[r].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,i[r]),delete i[r],t=!0)}return t}}class Wt{constructor(){this.layerIndexes={},this.crossTileIDs=new qt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(e,t,n,i){let r=this.layerIndexes[e.id];void 0===r&&(r=this.layerIndexes[e.id]=new Gt);let o=!1;const a={};"globe"!==i.name&&r.handleWrapJump(n);for(const s of t){const t=s.getBucket(e);t&&e.id===t.layerIds[0]&&(t.bucketInstanceId||(t.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(s.tileID,t,this.crossTileIDs)&&(o=!0),a[t.bucketInstanceId]=!0)}return r.removeStaleBuckets(a)&&(o=!0),o}pruneUnusedLayers(e){const t={};e.forEach((e=>{t[e]=!0}));for(const n in this.layerIndexes)t[n]||delete this.layerIndexes[n]}}const Zt=(t,n)=>e.emitValidationErrors(t,n&&n.filter((e=>"source.canvas"!==e.identifier))),Ht=e.pick(Ve,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),Xt=e.pick(Ve,["setCenter","setZoom","setBearing","setPitch"]),Kt={version:8,layers:[],sources:{}},Yt={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class Jt extends e.Evented{constructor(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.map=t,this.dispatcher=new z(je(),this),this.imageManager=new x,this.imageManager.setEventedParent(this),this.glyphManager=new e.GlyphManager(t._requestManager,n.localFontFamily?e.LocalGlyphMode.all:n.localIdeographFontFamily?e.LocalGlyphMode.ideographs:e.LocalGlyphMode.none,n.localFontFamily||n.localIdeographFontFamily),this.crossTileSymbolIndex=new Wt,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());const i=this;this._rtlTextPluginCallback=Jt.registerForPluginStateChange((t=>{i.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},((t,n)=>{if(e.triggerPluginCompletionEvent(t),n&&n.every((e=>e)))for(const e in i._sourceCaches){const t=i._sourceCaches[e],n=t.getSource().type;"vector"!==n&&"geojson"!==n||t.reload()}}))})),this.on("data",(e=>{if("source"!==e.dataType||"metadata"!==e.sourceDataType)return;const t=this.getSource(e.sourceId);if(t&&t.vectorLayerIds)for(const n in this._layers){const e=this._layers[n];e.source===t.id&&this._validateLayer(e)}}))}loadURL(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.fire(new e.Event("dataloading",{dataType:"style"}));const i="boolean"==typeof n.validate?n.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,n.accessToken);const r=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(r,((t,n)=>{this._request=null,t?this.fire(new e.ErrorEvent(t)):n&&this._load(n,i)}))}loadJSON(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.exported.frame((()=>{this._request=null,this._load(t,!1!==n.validate)}))}loadEmpty(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load(Kt,!1)}_updateLayerCount(e,t){const n=t?1:-1;e.is3D()&&(this._num3DLayers+=n),"circle"===e.type&&(this._numCircleLayers+=n),"symbol"===e.type&&(this._numSymbolLayers+=n)}_load(t,n){if(n&&Zt(this,e.validateStyle(t)))return;this._loaded=!0,this.stylesheet=e.clone$1(t),this._updateMapProjection();for(const e in t.sources)this.addSource(e,t.sources[e],{validate:!1});this._changed=!1,t.sprite?this._loadSprite(t.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(t.glyphs);const i=Ue(this.stylesheet.layers);this._order=i.map((e=>e.id)),this._layers={},this._serializedLayers={};for(const r of i){const t=e.createStyleLayer(r);t.setEventedParent(this,{layer:{id:t.id}}),this._layers[t.id]=t,this._serializedLayers[t.id]=t.serialize(),this._updateLayerCount(t,!0)}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new w(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&0===this.terrain.drapeRenderMode}setProjection(e){e?this.stylesheet.projection=e:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(t){this._spriteRequest=function(t,n,i){let r,o,a;const s=e.exported.devicePixelRatio>1?"@2x":"";let l=e.getJSON(n.transformRequest(n.normalizeSpriteURL(t,s,".json"),e.ResourceType.SpriteJSON),((e,t)=>{l=null,a||(a=e,r=t,u())})),c=e.getImage(n.transformRequest(n.normalizeSpriteURL(t,s,".png"),e.ResourceType.SpriteImage),((e,t)=>{c=null,a||(a=e,o=t,u())}));function u(){if(a)i(a);else if(r&&o){const t=e.exported.getImageData(o),n={};for(const i in r){const{width:o,height:a,x:s,y:l,sdf:c,pixelRatio:u,stretchX:h,stretchY:d,content:p}=r[i],f=new e.RGBAImage({width:o,height:a});e.RGBAImage.copy(t,f,{x:s,y:l},{x:0,y:0},{width:o,height:a}),n[i]={data:f,pixelRatio:u,sdf:c,stretchX:h,stretchY:d,content:p}}i(null,n)}}return{cancel(){l&&(l.cancel(),l=null),c&&(c.cancel(),c=null)}}}(t,this.map._requestManager,((t,n)=>{if(this._spriteRequest=null,t)this.fire(new e.ErrorEvent(t));else if(n)for(const e in n)this.imageManager.addImage(e,n[e]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new e.Event("data",{dataType:"style"}))}))}_validateLayer(t){const n=this.getSource(t.source);if(!n)return;const i=t.sourceLayer;i&&("geojson"===n.type||n.vectorLayerIds&&-1===n.vectorLayerIds.indexOf(i))&&this.fire(new e.ErrorEvent(new Error('Source layer "'.concat(i,'" does not exist on source "').concat(n.id,'" as specified by style layer "').concat(t.id,'"'))))}loaded(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(const e in this._sourceCaches)if(!this._sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(e){const t=[];for(const n of e){const e=this._layers[n];"custom"!==e.type&&t.push(e.serialize())}return t}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;if(this.fog&&this.fog.hasTransition())return!0;for(const e in this._sourceCaches)if(this._sourceCaches[e].hasTransition())return!0;for(const e in this._layers)if(this._layers[e].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(e){return!!this.terrain&&("function"==typeof e.isLayerDraped?e.isLayerDraped():Yt[e.type])}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(t){if(!this._loaded)return;const n=this._changed;if(this._changed){const e=Object.keys(this._updatedLayers),n=Object.keys(this._removedLayers);(e.length||n.length)&&this._updateWorkerLayers(e,n);for(const t in this._updatedSources){const e=this._updatedSources[t];"reload"===e?this._reloadSource(t):"clear"===e&&this._clearSource(t)}this._updateTilesForChangedImages();for(const i in this._updatedPaintProps)this._layers[i].updateTransitions(t);this.light.updateTransitions(t),this.fog&&this.fog.updateTransitions(t),this._resetUpdates()}const i={};for(const e in this._sourceCaches){const t=this._sourceCaches[e];i[e]=t.used,t.used=!1}for(const e of this._order){const n=this._layers[e];if(n.recalculate(t,this._availableImages),!n.isHidden(t.zoom)){const e=this._getLayerSourceCache(n);e&&(e.used=!0)}const i=this.map.painter;if(i){const e=n.getProgramIds();if(!e)continue;const r=n.getProgramConfiguration(t.zoom);for(const t of e)i.useProgram(t,r)}}for(const r in i){const t=this._sourceCaches[r];i[r]!==t.used&&t.getSource().fire(new e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:t.getSource().id}))}this.light.recalculate(t),this.terrain&&this.terrain.recalculate(t),this.fog&&this.fog.recalculate(t),this.z=t.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),n&&this.fire(new e.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const e=Object.keys(this._changedImages);if(e.length){for(const t in this._sourceCaches)this._sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}_updateWorkerLayers(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(n){if(this._checkLoaded(),Zt(this,e.validateStyle(n)))return!1;(n=e.clone$1(n)).layers=Ue(n.layers);const i=function(e,n){if(!e)return[{command:Ve.setStyle,args:[n]}];let i=[];try{if(!t(e.version,n.version))return[{command:Ve.setStyle,args:[n]}];t(e.center,n.center)||i.push({command:Ve.setCenter,args:[n.center]}),t(e.zoom,n.zoom)||i.push({command:Ve.setZoom,args:[n.zoom]}),t(e.bearing,n.bearing)||i.push({command:Ve.setBearing,args:[n.bearing]}),t(e.pitch,n.pitch)||i.push({command:Ve.setPitch,args:[n.pitch]}),t(e.sprite,n.sprite)||i.push({command:Ve.setSprite,args:[n.sprite]}),t(e.glyphs,n.glyphs)||i.push({command:Ve.setGlyphs,args:[n.glyphs]}),t(e.transition,n.transition)||i.push({command:Ve.setTransition,args:[n.transition]}),t(e.light,n.light)||i.push({command:Ve.setLight,args:[n.light]}),t(e.fog,n.fog)||i.push({command:Ve.setFog,args:[n.fog]}),t(e.projection,n.projection)||i.push({command:Ve.setProjection,args:[n.projection]});const r={},o=[];!function(e,n,i,r){let o;for(o in n=n||{},e=e||{})e.hasOwnProperty(o)&&(n.hasOwnProperty(o)||Ge(o,i,r));for(o in n){if(!n.hasOwnProperty(o))continue;const a=n[o];e.hasOwnProperty(o)?t(e[o],a)||("geojson"===e[o].type&&"geojson"===a.type&&Ze(e,n,o)?i.push({command:Ve.setGeoJSONSourceData,args:[o,a.data]}):We(o,n,i,r)):qe(o,n,i)}}(e.sources,n.sources,o,r);const a=[];e.layers&&e.layers.forEach((e=>{e.source&&r[e.source]?i.push({command:Ve.removeLayer,args:[e.id]}):a.push(e)}));let s=e.terrain;s&&r[s.source]&&(i.push({command:Ve.setTerrain,args:[void 0]}),s=void 0),i=i.concat(o),t(s,n.terrain)||i.push({command:Ve.setTerrain,args:[n.terrain]}),function(e,n,i){n=n||[];const r=(e=e||[]).map(Xe),o=n.map(Xe),a=e.reduce(Ke,{}),s=n.reduce(Ke,{}),l=r.slice(),c=Object.create(null);let u,h,d,p,f,m,g;for(u=0,h=0;u<r.length;u++)d=r[u],s.hasOwnProperty(d)?h++:(i.push({command:Ve.removeLayer,args:[d]}),l.splice(l.indexOf(d,h),1));for(u=0,h=0;u<o.length;u++)d=o[o.length-1-u],l[l.length-1-u]!==d&&(a.hasOwnProperty(d)?(i.push({command:Ve.removeLayer,args:[d]}),l.splice(l.lastIndexOf(d,l.length-h),1)):h++,m=l[l.length-u],i.push({command:Ve.addLayer,args:[s[d],m]}),l.splice(l.length-u,0,d),c[d]=!0);for(u=0;u<o.length;u++)if(d=o[u],p=a[d],f=s[d],!c[d]&&!t(p,f))if(t(p.source,f.source)&&t(p["source-layer"],f["source-layer"])&&t(p.type,f.type)){for(g in He(p.layout,f.layout,i,d,null,Ve.setLayoutProperty),He(p.paint,f.paint,i,d,null,Ve.setPaintProperty),t(p.filter,f.filter)||i.push({command:Ve.setFilter,args:[d,f.filter]}),t(p.minzoom,f.minzoom)&&t(p.maxzoom,f.maxzoom)||i.push({command:Ve.setLayerZoomRange,args:[d,f.minzoom,f.maxzoom]}),p)p.hasOwnProperty(g)&&"layout"!==g&&"paint"!==g&&"filter"!==g&&"metadata"!==g&&"minzoom"!==g&&"maxzoom"!==g&&(0===g.indexOf("paint.")?He(p[g],f[g],i,d,g.slice(6),Ve.setPaintProperty):t(p[g],f[g])||i.push({command:Ve.setLayerProperty,args:[d,g,f[g]]}));for(g in f)f.hasOwnProperty(g)&&!p.hasOwnProperty(g)&&"layout"!==g&&"paint"!==g&&"filter"!==g&&"metadata"!==g&&"minzoom"!==g&&"maxzoom"!==g&&(0===g.indexOf("paint.")?He(p[g],f[g],i,d,g.slice(6),Ve.setPaintProperty):t(p[g],f[g])||i.push({command:Ve.setLayerProperty,args:[d,g,f[g]]}))}else i.push({command:Ve.removeLayer,args:[d]}),m=l[l.lastIndexOf(d)+1],i.push({command:Ve.addLayer,args:[f,m]})}(a,n.layers,i)}catch(e){console.warn("Unable to compute style diff:",e),i=[{command:Ve.setStyle,args:[n]}]}return i}(this.serialize(),n).filter((e=>!(e.command in Xt)));if(0===i.length)return!1;const r=i.filter((e=>!(e.command in Ht)));if(r.length>0)throw new Error("Unimplemented: ".concat(r.map((e=>e.command)).join(", "),"."));return i.forEach((e=>{"setTransition"!==e.command&&"setProjection"!==e.command&&this[e.command].apply(this,e.args)})),this.stylesheet=n,this._updateMapProjection(),!0}addImage(t,n){return this.getImage(t)?this.fire(new e.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(t,n),this._afterImageUpdated(t),this)}updateImage(e,t){this.imageManager.updateImage(e,t)}getImage(e){return this.imageManager.getImage(e)}removeImage(t){return this.getImage(t)?(this.imageManager.removeImage(t),this._afterImageUpdated(t),this):this.fire(new e.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(t,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this._checkLoaded(),void 0!==this.getSource(t))throw new Error("There is already a source with this ID");if(!n.type)throw new Error("The type property must be defined, but only the following properties were given: ".concat(Object.keys(n).join(", "),"."));if(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(e.validateSource,"sources.".concat(t),n,null,i))return;this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);const r=Ae(t,n,this.dispatcher,this);r.setEventedParent(this,(()=>({isSourceLoaded:this._isSourceCacheLoaded(t),source:r.serialize(),sourceId:t})));const o=n=>{const i=(n?"symbol:":"other:")+t,o=this._sourceCaches[i]=new e.SourceCache(i,r,n);(n?this._symbolSourceCaches:this._otherSourceCaches)[t]=o,o.style=this,o.onAdd(this.map)};o(!1),"vector"!==n.type&&"geojson"!==n.type||o(!0),r.onAdd&&r.onAdd(this.map),this._changed=!0}removeSource(t){this._checkLoaded();const n=this.getSource(t);if(!n)throw new Error("There is no source with this ID");for(const r in this._layers)if(this._layers[r].source===t)return this.fire(new e.ErrorEvent(new Error('Source "'.concat(t,'" cannot be removed while layer "').concat(r,'" is using it.'))));if(this.terrain&&this.terrain.get().source===t)return this.fire(new e.ErrorEvent(new Error('Source "'.concat(t,'" cannot be removed while terrain is using it.'))));const i=this._getSourceCaches(t);for(const r of i)delete this._sourceCaches[r.id],delete this._updatedSources[r.id],r.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:r.getSource().id})),r.setEventedParent(null),r.clearTiles();return delete this._otherSourceCaches[t],delete this._symbolSourceCaches[t],n.setEventedParent(null),n.onRemove&&n.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(e,t){this._checkLoaded(),this.getSource(e).setData(t),this._changed=!0}getSource(e){const t=this._getSourceCache(e);return t&&t.getSource()}_getSources(){const e=[];for(const t in this._otherSourceCaches){const n=this._getSourceCache(t);n&&e.push(n.getSource())}return e}addLayer(t,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkLoaded();const r=t.id;if(this.getLayer(r))return void this.fire(new e.ErrorEvent(new Error('Layer with id "'.concat(r,'" already exists on this map'))));let o;if("custom"===t.type){if(Zt(this,e.validateCustomStyleLayer(t)))return;o=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(r,t.source),t=e.clone$1(t),t=e.extend(t,{source:r})),this._validate(e.validateLayer,"layers.".concat(r),t,{arrayIndex:-1},i))return;o=e.createStyleLayer(t),this._validateLayer(o),o.setEventedParent(this,{layer:{id:r}}),this._serializedLayers[o.id]=o.serialize(),this._updateLayerCount(o,!0)}const a=n?this._order.indexOf(n):this._order.length;if(n&&-1===a)return void this.fire(new e.ErrorEvent(new Error('Layer with id "'.concat(n,'" does not exist on this map.'))));this._order.splice(a,0,r),this._layerOrderChanged=!0,this._layers[r]=o;const s=this._getLayerSourceCache(o);if(this._removedLayers[r]&&o.source&&s&&"custom"!==o.type){const e=this._removedLayers[r];delete this._removedLayers[r],e.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",s.pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(t,n){if(this._checkLoaded(),this._changed=!0,!this._layers[t])return void this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style and cannot be moved."))));if(t===n)return;const i=this._order.indexOf(t);this._order.splice(i,1);const r=n?this._order.indexOf(n):this._order.length;n&&-1===r?this.fire(new e.ErrorEvent(new Error('Layer with id "'.concat(n,'" does not exist on this map.')))):(this._order.splice(r,0,t),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(t){this._checkLoaded();const n=this._layers[t];if(!n)return void this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style and cannot be removed."))));n.setEventedParent(null),this._updateLayerCount(n,!1);const i=this._order.indexOf(t);this._order.splice(i,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=n,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],n.onRemove&&n.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(e){return this._layers[e]}hasLayer(e){return e in this._layers}hasLayerType(e){for(const t in this._layers)if(this._layers[t].type===e)return!0;return!1}setLayerZoomRange(t,n,i){this._checkLoaded();const r=this.getLayer(t);r?r.minzoom===n&&r.maxzoom===i||(null!=n&&(r.minzoom=n),null!=i&&(r.maxzoom=i),this._updateLayer(r)):this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style and cannot have zoom extent."))))}setFilter(n,i){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkLoaded();const o=this.getLayer(n);if(o){if(!t(o.filter,i))return null==i?(o.filter=void 0,void this._updateLayer(o)):void(this._validate(e.validateFilter,"layers.".concat(o.id,".filter"),i,{layerType:o.type},r)||(o.filter=e.clone$1(i),this._updateLayer(o)))}else this.fire(new e.ErrorEvent(new Error("The layer '".concat(n,"' does not exist in the map's style and cannot be filtered."))))}getFilter(t){const n=this.getLayer(t);return n&&e.clone$1(n.filter)}setLayoutProperty(n,i,r){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._checkLoaded();const a=this.getLayer(n);a?t(a.getLayoutProperty(i),r)||(a.setLayoutProperty(i,r,o),this._updateLayer(a)):this.fire(new e.ErrorEvent(new Error("The layer '".concat(n,"' does not exist in the map's style and cannot be styled."))))}getLayoutProperty(t,n){const i=this.getLayer(t);if(i)return i.getLayoutProperty(n);this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style."))))}setPaintProperty(n,i,r){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._checkLoaded();const a=this.getLayer(n);a?t(a.getPaintProperty(i),r)||(a.setPaintProperty(i,r,o)&&this._updateLayer(a),this._changed=!0,this._updatedPaintProps[n]=!0):this.fire(new e.ErrorEvent(new Error("The layer '".concat(n,"' does not exist in the map's style and cannot be styled."))))}getPaintProperty(e,t){const n=this.getLayer(e);return n&&n.getPaintProperty(t)}setFeatureState(t,n){this._checkLoaded();const i=t.source,r=t.sourceLayer,o=this.getSource(i);if(!o)return void this.fire(new e.ErrorEvent(new Error("The source '".concat(i,"' does not exist in the map's style."))));const a=o.type;if("geojson"===a&&r)return void this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if("vector"===a&&!r)return void this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided.")));const s=this._getSourceCaches(i);for(const e of s)e.setFeatureState(r,t.id,n)}removeFeatureState(t,n){this._checkLoaded();const i=t.source,r=this.getSource(i);if(!r)return void this.fire(new e.ErrorEvent(new Error("The source '".concat(i,"' does not exist in the map's style."))));const o=r.type,a="vector"===o?t.sourceLayer:void 0;if("vector"===o&&!a)return void this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(n&&"string"!=typeof t.id&&"number"!=typeof t.id)return void this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const s=this._getSourceCaches(i);for(const e of s)e.removeFeatureState(a,t.id,n)}getFeatureState(t){this._checkLoaded();const n=t.source,i=t.sourceLayer,r=this.getSource(n);if(r){if("vector"!==r.type||i)return void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(n)[0].getFeatureState(i,t.id);this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '".concat(n,"' does not exist in the map's style."))))}getTransition(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const t={};for(const e in this._sourceCaches){const n=this._sourceCaches[e].getSource();t[n.id]||(t[n.id]=n.serialize())}return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:t,layers:this._serializeLayers(this._order)},(e=>void 0!==e))}_updateLayer(e){this._updatedLayers[e.id]=!0;const t=this._getLayerSourceCache(e);e.source&&!this._updatedSources[e.source]&&t&&"raster"!==t.getSource().type&&(this._updatedSources[e.source]="reload",t.pause()),this._changed=!0,e.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(e){const t=e=>"fill-extrusion"===this._layers[e].type,n={},i=[];for(let o=this._order.length-1;o>=0;o--){const r=this._order[o];if(t(r)){n[r]=o;for(const t of e){const e=t[r];if(e)for(const t of e)i.push(t)}}}i.sort(((e,t)=>t.intersectionZ-e.intersectionZ));const r=[];for(let o=this._order.length-1;o>=0;o--){const a=this._order[o];if(t(a))for(let e=i.length-1;e>=0;e--){const t=i[e].feature;if(n[t.layer.id]<o)break;r.push(t),i.pop()}else for(const t of e){const e=t[a];if(e)for(const t of e)r.push(t.feature)}}return r}queryRenderedFeatures(t,n,i){n&&n.filter&&this._validate(e.validateFilter,"queryRenderedFeatures.filter",n.filter,null,n);const r={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const t of n.layers){const n=this._layers[t];if(!n)return this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style and cannot be queried for features.")))),[];r[n.source]=!0}}const o=[];n.availableImages=this._availableImages;const a=n&&n.layers?n.layers.some((e=>{const t=this.getLayer(e);return t&&t.is3D()})):this.has3DLayers(),s=P.createFromScreenPoints(t,i);for(const e in this._sourceCaches){const t=this._sourceCaches[e].getSource().id;n.layers&&!r[t]||o.push(Ie(this._sourceCaches[e],this._layers,this._serializedLayers,s,n,i,a,!!this.map._showQueryGeometry))}return this.placement&&o.push(function(e,t,n,i,r,o,a){const s={},l=o.queryRenderedSymbols(i),c=[];for(const u of Object.keys(l).map(Number))c.push(a[u]);c.sort(De);for(const u of c){const n=u.featureIndex.lookupSymbolFeatures(l[u.bucketInstanceId],t,u.bucketIndex,u.sourceLayerIndex,r.filter,r.layers,r.availableImages,e);for(const e in n){const t=s[e]=s[e]||[],i=n[e];i.sort(((e,t)=>{const n=u.featureSortOrder;if(n){const i=n.indexOf(e.featureIndex);return n.indexOf(t.featureIndex)-i}return t.featureIndex-e.featureIndex}));for(const e of i)t.push(e)}}for(const u in s)s[u].forEach((t=>{const i=t.feature,r=n(e[u]);if(!r)return;const o=r.getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=o}));return s}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),s.screenGeometry,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(o)}querySourceFeatures(t,n){n&&n.filter&&this._validate(e.validateFilter,"querySourceFeatures.filter",n.filter,null,n);const i=this._getSourceCaches(t);let r=[];for(const e of i)r=r.concat(Le(e,n));return r}addSourceType(e,t,n){return Jt.getSourceType(e)?n(new Error('A source type called "'.concat(e,'" already exists.'))):(Jt.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},n):n(null,null))}getLight(){return this.light.getLight()}setLight(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkLoaded();const i=this.light.getLight();let r=!1;for(const a in e)if(!t(e[a],i[a])){r=!0;break}if(!r)return;const o=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(e,n),this.light.updateTransitions(o)}getTerrain(){return this.terrain&&1===this.terrain.drapeRenderMode?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(n){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this._checkLoaded(),!n)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);let r=n;if(1===i){if("object"==typeof r.source){const t="terrain-dem-src";this.addSource(t,r.source),r=e.clone$1(r),r=e.extend(r,{source:t})}if(this._validate(e.validateTerrain,"terrain",r))return}if(!this.terrain||this.terrain&&i!==this.terrain.drapeRenderMode){if(!r)return;this._createTerrain(r,i)}else{const n=this.terrain,i=n.get();for(const t of Object.keys(e.spec.terrain))!r.hasOwnProperty(t)&&e.spec.terrain[t].default&&(r[t]=e.spec.terrain[t].default);for(const e in r)if(!t(r[e],i[e])){n.set(r),this.stylesheet.terrain=r;const e=this._setTransitionParameters({duration:0});n.updateTransitions(e);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(e){const t=this.fog=new M(e,this.map.transform);this.stylesheet.fog=e;const n=this._setTransitionParameters({duration:0});t.updateTransitions(n)}_updateMarkersOpacity(){0!==this.map._markers.length&&this.map._requestDomTask((()=>{for(const e of this.map._markers)e._evaluateOpacity()}))}getFog(){return this.fog?this.fog.get():null}setFog(e){if(this._checkLoaded(),!e)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const n=this.fog,i=n.get();0===Object.keys(e).length&&n.set(e);for(const r in e)if(!t(e[r],i[r])){n.set(e),this.stylesheet.fog=e;const t=this._setTransitionParameters({duration:0});n.updateTransitions(t);break}}else this._createFog(e);this._markersNeedUpdate=!0}_setTransitionParameters(t){return{now:e.exported.now(),transition:e.extend(t,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const e=this._order.filter((e=>this.isLayerDraped(this._layers[e]))),t=this._order.filter((e=>!this.isLayerDraped(this._layers[e])));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...e),this._drapedFirstOrder.push(...t)}_createTerrain(e,t){const n=this.terrain=new T(e,t);this.stylesheet.terrain=e,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const i=this._setTransitionParameters({duration:0});n.updateTransitions(i)}_force3DLayerUpdate(){for(const e in this._layers){const t=this._layers[e];"fill-extrusion"===t.type&&this._updateLayer(t)}}_forceSymbolLayerUpdate(){for(const e in this._layers){const t=this._layers[e];"symbol"===t.type&&this._updateLayer(t)}}_validate(t,n,i,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(!o||!1!==o.validate)&&Zt(this,t.call(e.validateStyle,e.extend({key:n,style:this.serialize(),value:i,styleSpec:e.spec},r)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const e in this._layers)this._layers[e].setEventedParent(null);for(const e in this._sourceCaches)this._sourceCaches[e].clearTiles(),this._sourceCaches[e].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(e){const t=this._getSourceCaches(e);for(const n of t)n.clearTiles()}_reloadSource(e){const t=this._getSourceCaches(e);for(const n of t)n.resume(),n.reload()}_reloadSources(){for(const e of this._getSources())e.reload&&e.reload()}_updateSources(e){for(const t in this._sourceCaches)this._sourceCaches[t].update(e)}_generateCollisionBoxes(){for(const e in this._sourceCaches){const t=this._sourceCaches[e];t.resume(),t.reload()}}_updatePlacement(t,n,i,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=!1,s=!1;const l={};for(const e of this._order){const n=this._layers[e];if("symbol"!==n.type)continue;if(!l[n.source]){const e=this._getLayerSourceCache(n);if(!e)continue;l[n.source]=e.getRenderableIds(!0).map((t=>e.getTileByID(t))).sort(((e,t)=>t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)))}const i=this.crossTileSymbolIndex.addLayer(n,l[n.source],t.center.lng,t.projection);a=a||i}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),o=o||this._layerOrderChanged||0===i,this._layerOrderChanged&&this.fire(new e.Event("neworder")),(o||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.exported.now(),t.zoom))&&(this.pauseablePlacement=new Nt(t,this._order,o,n,i,r,this.placement,this.fog&&t.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.exported.now()),s=!0),a&&this.pauseablePlacement.placement.setStale()),s||a)for(const e of this._order){const t=this._layers[e];"symbol"===t.type&&this.placement.updateLayerOpacities(t,l[t.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.exported.now())}_releaseSymbolFadeTiles(){for(const e in this._sourceCaches)this._sourceCaches[e].releaseSymbolFadeTiles()}getImages(e,t,n){this.imageManager.getImages(t.icons,n),this._updateTilesForChangedImages();const i=e=>{e&&e.setDependencies(t.tileID.key,t.type,t.icons)};i(this._otherSourceCaches[t.source]),i(this._symbolSourceCaches[t.source])}getGlyphs(e,t,n){this.glyphManager.getGlyphs(t.stacks,n)}getResource(t,n,i){return e.makeRequest(n,i)}_getSourceCache(e){return this._otherSourceCaches[e]}_getLayerSourceCache(e){return"symbol"===e.type?this._symbolSourceCaches[e.source]:this._otherSourceCaches[e.source]}_getSourceCaches(e){const t=[];return this._otherSourceCaches[e]&&t.push(this._otherSourceCaches[e]),this._symbolSourceCaches[e]&&t.push(this._symbolSourceCaches[e]),t}_isSourceCacheLoaded(t){const n=this._getSourceCaches(t);return 0===n.length?(this.fire(new e.ErrorEvent(new Error("There is no source with ID '".concat(t,"'")))),!1):n.every((e=>e.loaded()))}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}Jt.getSourceType=function(e){return ze[e]},Jt.setSourceType=function(e,t){ze[e]=t},Jt.registerForPluginStateChange=e.registerForPluginStateChange;var $t="\n#define EPSILON 0.0000001\n#define PI 3.141592653589793\n#define EXTENT 8192.0\n#define HALF_PI PI/2.0\n#define QUARTER_PI PI/4.0\n#define RAD_TO_DEG 180.0/PI\n#define DEG_TO_RAD PI/180.0\n#define GLOBE_RADIUS EXTENT/PI/2.0",Qt="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",en="\n#define ELEVATION_SCALE 7.0\n#define ELEVATION_OFFSET 450.0\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(\nmix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}\n#else\nvec3 elevationVector(vec2 pos) { return vec3(0,0,1); }\n#endif\nconst float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)\n{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}\n#ifdef TERRAIN\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\n#else\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\n#endif\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\n#ifdef TERRAIN_DEM_NEAREST_FILTER\nreturn u_exaggeration*tl;\n#endif\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}float prevElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {\n#ifdef ZERO_EXAGGERATION\nreturn 0.0;\n#endif\nfloat nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {\n#ifdef ZERO_EXAGGERATION\nreturn 0.0;\n#endif\nreturn currentElevation(apos);}\n#endif\nhighp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\n#else\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\n#endif\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",tn="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\n#endif",nn="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\n#endif";let rn={},on={};const an=[];hn($t,an),hn(en,an),hn(tn,an),hn(nn,an),rn=dn("",en),on=dn(nn,tn);const sn=dn("\n#if __VERSION__ >=300\n#define varying in\n#define gl_FragColor glFragColor\n#define texture2D texture\n#define textureCube texture\nout vec4 glFragColor;\n#endif\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}","\n#if __VERSION__ >=300\n#define attribute in\n#define varying out\n#define texture2D texture\n#endif\nfloat wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {\n#ifndef PROJECTED_POS_ON_VIEWPORT\nfloat tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;\n#else\nreturn vec3(0.0);\n#endif\n}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),ln=$t,cn="\n#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif";var un={background:dn("uniform vec4 u_color;uniform float u_opacity;\n#ifdef LIGHTING_3D_MODE\nvarying vec4 v_color;\n#endif\nvoid main() {vec4 out_color;\n#ifdef LIGHTING_3D_MODE\nout_color=v_color;\n#else\nout_color=u_color;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#ifdef LIGHTING_3D_MODE\nuniform vec4 u_color;varying vec4 v_color;\n#endif\nvoid main() {gl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef LIGHTING_3D_MODE\nv_color=apply_lighting(u_color);\n#endif\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),backgroundPattern:dn("uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),circle:dn("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\n#endif\ngl_FragColor=out_color*(v_visibility*opacity_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\n#ifdef PROJECTION_GLOBE_VIEW\nreturn u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );\n#else\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#endif\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);\n#else \nsurface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);\n#endif\nvec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nocclusion_world_center=world_center;occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\n#ifdef FOG\nv_fog_pos=fog_position(world_center.xyz);\n#endif\n}"),clippingMask:dn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:dn("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef FOG\nif (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#else\npos=vec3(tilePos+extrude,elevation(tilePos));\n#endif\ngl_Position=u_matrix*vec4(pos,1);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),heatmapTexture:dn("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:dn("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:dn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:dn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;\n#endif\nvarying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;\n#ifdef PROJECTION_GLOBE_VIEW\ngl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);\n#else\ngl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);\n#endif\n}"),fill:dn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nvec4 out_color=color;\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutline:dn("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutlinePattern:dn("uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillPattern:dn("uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillExtrusion:dn("varying vec4 v_color;\n#ifdef RENDER_SHADOWS\nvarying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef ZERO_ROOF_RADIUS\nvarying vec4 v_roof_color;\n#endif\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvarying highp vec3 v_normal;\n#endif\nvoid main() {\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvec3 normal=v_normal;\n#endif\nfloat z;vec4 color;\n#ifdef ZERO_ROOF_RADIUS\nz=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);\n#else\ncolor=v_color;\n#endif\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;\n#ifdef ZERO_ROOF_RADIUS\nconcave*=(1.0-z);\n#endif\nfloat x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;\n#endif\n#ifdef RENDER_SHADOWS\n#ifdef ZERO_ROOF_RADIUS\nnormal=mix(normal,vec3(0.0,0.0,1.0),z);\n#endif\ncolor.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec4 v_color;\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\n#endif\n#ifdef ZERO_ROOF_RADIUS\nvarying vec4 v_roof_color;\n#endif\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvarying highp vec3 v_normal;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nv_normal=normal;\n#endif\nbase=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=0.0;float c_ele;vec3 pos;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);\n#else\nh=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);\n#ifdef RENDER_SHADOWS\nv_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;\n#endif\nfloat NdotL=0.0;float colorvalue=0.0;\n#ifdef LIGHTING_3D_MODE\nNdotL=calculate_NdotL(normal);\n#else\ncolorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);\n#endif\nif (normal.y !=0.0) {float r=0.84;\n#ifndef LIGHTING_3D_MODE\nr=mix(0.7,0.98,1.0-u_lightintensity);\n#endif\nNdotL*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\n#ifdef LIGHTING_3D_MODE\nv_color=apply_lighting(color,NdotL);\n#else\nv_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));\n#endif\nv_color*=u_opacity;\n#ifdef ZERO_ROOF_RADIUS\nv_roof_color=vec4(0.0,0.0,0.0,1.0);\n#ifdef LIGHTING_3D_MODE\nv_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));\n#else\nfloat roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));\n#endif\nv_roof_color*=u_opacity;\n#endif\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),fillExtrusionPattern:dn("uniform vec2 u_texsize;uniform sampler2D u_image;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef LIGHTING_3D_MODE\nvarying float v_NdotL;\n#endif\nvarying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color,v_NdotL)*u_opacity;\n#else\nout_color=out_color*v_lighting;\n#endif\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec2 v_pos;varying vec4 v_lighting;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef LIGHTING_3D_MODE\nvarying float v_NdotL;\n#endif\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=z;vec3 p;float c_ele;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);\n#else\np=vec3(pos_nx.xy,z);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;\n#ifdef LIGHTING_3D_MODE\nNdotL=calculate_NdotL(normal);\n#else\nNdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);\n#endif\nif (normal.y !=0.0) {float r=0.84;\n#ifndef LIGHTING_3D_MODE\nr=mix(0.7,0.98,1.0-u_lightintensity);\n#endif\nNdotL*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\n#ifdef LIGHTING_3D_MODE\nv_NdotL=NdotL;\n#else\nv_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\n#endif \n#ifdef FOG\nv_fog_pos=fog_position(p);\n#endif\n}"),hillshadePrepare:dn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nreturn texture2D(u_image,coord).a/4.0;\n#else\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\n#endif\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:dn("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef LIGHTING_3D_MODE\ngl_FragColor=apply_lighting(gl_FragColor);\n#endif\n#ifdef FOG\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),line:dn("uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform sampler2D u_dash_image;varying vec2 v_tex;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform sampler2D u_gradient_image;\n#endif\nuniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nfloat linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);\n#ifdef RENDER_LINE_DASH\nfloat sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);\n#endif\nhighp vec4 out_color;\n#ifdef RENDER_LINE_GRADIENT\nout_color=texture2D(u_gradient_image,v_uv.xy);\n#else\nout_color=color;\n#endif\nfloat trimmed=1.0;\n#ifdef RENDER_LINE_TRIM_OFFSET\nhighp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);trimmed=0.0;}}\n#endif\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\n#ifdef RENDER_LINE_ALPHA_DISCARD\nif (alpha < u_alpha_discard_threshold) {discard;}\n#endif\n#ifdef RENDER_LINE_BORDER\nfloat edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);\n#ifdef RENDER_LINE_BORDER_AUTO\nfloat Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}\n#else\nout_color.rgb=mix(u_border_color.rgb*u_border_color.a*trimmed,out_color.rgb,smoothAlpha);\n#endif\n}\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define EXTRUDE_SCALE 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nattribute highp vec4 a_packed;\n#endif\n#ifdef RENDER_LINE_DASH\nattribute float a_linesofar;\n#endif\nuniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform float u_image_height;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nfloat a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];\n#ifdef RENDER_LINE_GRADIENT\nhighp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);\n#else\nv_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);\n#endif\n#endif\n#ifdef RENDER_LINE_DASH\nfloat scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),linePattern:dn("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\ncolor=apply_lighting(color);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),raster:dn("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\n#endif\ngl_FragColor=vec4(out_color*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),symbolIcon:dn("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\noffsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}"),symbolSDF:dn("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\noffsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}"),symbolTextAndIcon:dn("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}"),terrainRaster:dn("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nvarying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\n#ifdef RENDER_SHADOWS\ncolor.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\n#ifdef ZERO_EXAGGERATION\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#else\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\n#endif\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nconst float wireframeOffset=0.00015;void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;\n#ifdef TERRAIN_WIREFRAME\nelevation+=wireframeOffset;\n#endif\nv_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\n#ifdef FOG\n#ifdef ZERO_EXAGGERATION\nv_fog_pos=fog_position(decodedPos);\n#else\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\n#endif\n#endif\n#ifdef RENDER_SHADOWS\nvec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;\n#endif\n}"),terrainDepth:dn("#ifdef GL_ES\nprecision highp float;\n#endif\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;varying float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:dn("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\n#ifdef FOG\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\n#endif\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",Qt),skyboxGradient:dn("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\n#ifdef FOG\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\n#endif\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",Qt),skyboxCapture:dn("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:dn("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifndef FOG\nuniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;\n#endif\nvoid main() {vec4 color;\n#ifdef CUSTOM_ANTIALIASING\nvec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);\n#else\ncolor=texture2D(u_image0,v_pos0);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;\n#ifdef GLOBE_POLES\nattribute vec3 a_globe_pos;attribute vec2 a_uv;\n#else\nattribute vec2 a_pos;\n#endif\nvarying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {\n#ifdef GLOBE_POLES\nvec3 globe_pos=a_globe_pos;vec2 uv=a_uv;\n#else\nfloat tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);\n#endif\nv_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;\n#ifdef GLOBE_POLES\nvec3 up_vector=globe_derived_up_vector;\n#else\nvec3 up_vector=elevationVector(tile_pos);\n#endif\nfloat height=elevation(tile_pos);\n#ifdef TERRAIN_WIREFRAME\nheight+=wireframeOffset;\n#endif\nglobe_pos+=up_vector*height;\n#ifndef GLOBE_POLES\nglobe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;\n#endif\n#ifdef GLOBE_POLES\nvec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);\n#else\nvec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);\n#endif\ngl_Position=u_proj_matrix*interpolated_pos;\n#ifdef FOG\nv_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);\n#endif\n}"),globeAtmosphere:dn("uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;\n#ifdef PROJECTION_GLOBE_VIEW\nglobe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}\n#endif\nhighp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?\n0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;\n#ifdef PROJECTION_GLOBE_VIEW\nhighp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?\nPI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);\n#else\nhorizon_angle=horizon_angle_mercator;\n#endif\nhorizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:\n(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:\nuv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}","attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(\nmix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}")};function hn(e,t){const n=e.replace(/\s*\/\/[^\n]*\n/g,"\n").split("\n");for(let i of n)if(i=i.trim(),"#"===i[0]&&i.includes("if")&&!i.includes("endif")){i=i.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const e=i.split(" ");for(const n of e)t.includes(n)||t.push(n)}}function dn(e,t){const n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,i=t.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),r={},o=[...an];return hn(e,o),hn(t,o),{fragmentSource:e=e.replace(n,((e,t,n,i,o)=>(r[o]=!0,"define"===t?"\n#ifndef HAS_UNIFORM_u_".concat(o,"\nvarying ").concat(n," ").concat(i," ").concat(o,";\n#else\nuniform ").concat(n," ").concat(i," u_").concat(o,";\n#endif\n"):"\n#ifdef HAS_UNIFORM_u_".concat(o,"\n    ").concat(n," ").concat(i," ").concat(o," = u_").concat(o,";\n#endif\n")))),vertexSource:t=t.replace(n,((e,t,n,i,o)=>{const a="float"===i?"vec2":"vec4",s=o.match(/color/)?"color":a;return r[o]?"define"===t?"\n#ifndef HAS_UNIFORM_u_".concat(o,"\nuniform lowp float u_").concat(o,"_t;\nattribute ").concat(n," ").concat(a," a_").concat(o,";\nvarying ").concat(n," ").concat(i," ").concat(o,";\n#else\nuniform ").concat(n," ").concat(i," u_").concat(o,";\n#endif\n"):"vec4"===s?"\n#ifndef HAS_UNIFORM_u_".concat(o,"\n    ").concat(o," = a_").concat(o,";\n#else\n    ").concat(n," ").concat(i," ").concat(o," = u_").concat(o,";\n#endif\n"):"\n#ifndef HAS_UNIFORM_u_".concat(o,"\n    ").concat(o," = unpack_mix_").concat(s,"(a_").concat(o,", u_").concat(o,"_t);\n#else\n    ").concat(n," ").concat(i," ").concat(o," = u_").concat(o,";\n#endif\n"):"define"===t?"\n#ifndef HAS_UNIFORM_u_".concat(o,"\nuniform lowp float u_").concat(o,"_t;\nattribute ").concat(n," ").concat(a," a_").concat(o,";\n#else\nuniform ").concat(n," ").concat(i," u_").concat(o,";\n#endif\n"):"vec4"===s?"\n#ifndef HAS_UNIFORM_u_".concat(o,"\n    ").concat(n," ").concat(i," ").concat(o," = a_").concat(o,";\n#else\n    ").concat(n," ").concat(i," ").concat(o," = u_").concat(o,";\n#endif\n"):"\n#ifndef HAS_UNIFORM_u_".concat(o,"\n    ").concat(n," ").concat(i," ").concat(o," = unpack_mix_").concat(s,"(a_").concat(o,", u_").concat(o,"_t);\n#else\n    ").concat(n," ").concat(i," ").concat(o," = u_").concat(o,";\n#endif\n")})),staticAttributes:i,usedDefines:o}}class pn{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(e,t,n,i,r,o,a){this.context=e;let s=this.boundPaintVertexBuffers.length!==i.length;for(let c=0;!s&&c<i.length;c++)this.boundPaintVertexBuffers[c]!==i[c]&&(s=!0);let l=this.boundDynamicVertexBuffers.length!==a.length;for(let c=0;!l&&c<a.length;c++)this.boundDynamicVertexBuffers[c]!==a[c]&&(l=!0);if(!e.extVertexArrayObject||!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==n||s||l||this.boundIndexBuffer!==r||this.boundVertexOffset!==o)this.freshBind(t,n,i,r,o,a);else{e.bindVertexArrayOES.set(this.vao);for(const e of a)e&&e.bind();r&&r.dynamicDraw&&r.bind()}}freshBind(e,t,n,i,r,o){let a;const s=e.numAttributes,l=this.context,c=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),a=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=i,this.boundVertexOffset=r,this.boundDynamicVertexBuffers=o;else{a=l.currentNumAttributes||0;for(let e=s;e<a;e++)c.disableVertexAttribArray(e)}t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,r);for(const u of n)u.enableAttributes(c,e),u.bind(),u.setVertexAttribPointers(c,e,r);for(const u of o)u&&(u.enableAttributes(c,e),u.bind(),u.setVertexAttribPointers(c,e,r));i&&i.bind(),l.currentNumAttributes=s}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function fn(t,n){const i=Math.pow(2,n.canonical.z),r=n.canonical.y;return[new e.MercatorCoordinate(0,r/i).toLngLat().lat,new e.MercatorCoordinate(0,(r+1)/i).toLngLat().lat]}function mn(t,n,i,r,o,a,s){const l=t.context,c=l.gl,u=i.fbo;if(!u)return;t.prepareDrawTile();const h=t.useProgram("hillshade");l.activeTexture.set(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,u.colorAttachment.get());const d=((e,t,n,i)=>{const r=n.paint.get("hillshade-shadow-color"),o=n.paint.get("hillshade-highlight-color"),a=n.paint.get("hillshade-accent-color");let s=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(s-=e.transform.angle);const l=!e.options.moving;return{u_matrix:i||e.transform.calculateProjMatrix(t.tileID.toUnwrapped(),l),u_image:0,u_latrange:fn(0,t.tileID),u_light:[n.paint.get("hillshade-exaggeration"),s],u_shadow:r,u_highlight:o,u_accent:a}})(t,i,r,t.terrain?n.projMatrix:null);t.prepareDrawProgram(l,h,n.toUnwrapped());const{tileBoundsBuffer:p,tileBoundsIndexBuffer:f,tileBoundsSegments:m}=t.getTileBoundsBuffers(i);h.draw(l,c.TRIANGLES,o,a,s,e.CullFaceMode.disabled,d,r.id,p,f,m)}function gn(t,n,i){if(!n.needsDEMTextureUpload)return;const r=t.context,o=r.gl;r.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||t.getTileTexture(i.stride);const a=i.getPixels();n.demTexture?n.demTexture.update(a,{premultiply:!1}):n.demTexture=new e.Texture(r,a,o.RGBA,{premultiply:!1}),n.needsDEMTextureUpload=!1}function _n(t,n,i,r,o,a){const s=t.context,l=s.gl;if(!n.dem)return;const c=n.dem;if(s.activeTexture.set(l.TEXTURE1),gn(t,n,c),!n.demTexture)return;n.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);const u=c.dim;s.activeTexture.set(l.TEXTURE0);let h=n.fbo;if(!h){const t=new e.Texture(s,{width:u,height:u,data:null},l.RGBA);t.bind(l.LINEAR,l.CLAMP_TO_EDGE),h=n.fbo=s.createFramebuffer(u,u,!0),h.colorAttachment.set(t.texture)}s.bindFramebuffer.set(h.framebuffer),s.viewport.set([0,0,u,u]);const{tileBoundsBuffer:d,tileBoundsIndexBuffer:p,tileBoundsSegments:f}=t.getMercatorTileBoundsBuffers();t.useProgram("hillshadePrepare").draw(s,l.TRIANGLES,r,o,a,e.CullFaceMode.disabled,((t,n)=>{const i=n.stride,r=e.create();return e.ortho(r,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(r,r,[0,-e.EXTENT,0]),{u_matrix:r,u_image:1,u_dimension:[i,i],u_zoom:t.overscaledZ,u_unpack:n.unpackVector}})(n.tileID,c),i.id,d,p,f),n.needsHillshadePrepare=!1}const yn=t=>({u_matrix:new e.UniformMatrix4f(t),u_image0:new e.Uniform1i(t),u_skirt_height:new e.Uniform1f(t)}),vn=(e,t)=>({u_matrix:e,u_image0:0,u_skirt_height:t}),xn=(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f)=>({u_proj_matrix:Float32Array.from(e),u_globe_matrix:t,u_normalize_matrix:Float32Array.from(i),u_merc_matrix:n,u_zoom_transition:r,u_merc_center:o,u_image0:0,u_frustum_tl:a,u_frustum_tr:s,u_frustum_br:l,u_frustum_bl:c,u_globe_pos:u,u_globe_radius:h,u_viewport:d,u_grid_matrix:f?Float32Array.from(f):new Float32Array(9),u_skirt_height:p});function bn(e,t){return null!=e&&null!=t&&!(!e.hasData()||!t.hasData())&&null!=e.demTexture&&null!=t.demTexture&&e.tileID.key!==t.tileID.key}const wn=new class{constructor(){this.operations={}}newMorphing(e,t,n,i,r){if(e in this.operations){const t=this.operations[e];t.to.tileID.key!==n.tileID.key&&(t.queued=n)}else this.operations[e]={startTime:i,phase:0,duration:r,from:t,to:n,queued:null}}getMorphValuesForProxy(e){if(!(e in this.operations))return null;const t=this.operations[e];return{from:t.from,to:t.to,phase:t.phase}}update(e){for(const t in this.operations){const n=this.operations[t];for(n.phase=(e-n.startTime)/n.duration;n.phase>=1||!this._validOp(n);)if(!this._nextOp(n,e)){delete this.operations[t];break}}}_nextOp(e,t){return!!e.queued&&(e.from=e.to,e.to=e.queued,e.queued=null,e.phase=0,e.startTime=t,!0)}_validOp(e){return e.from.hasData()&&e.to.hasData()}},En={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Tn(e){return 6*Math.pow(1.5,22-e)}function kn(e,t){const n=1<<e.z;return!t&&(0===e.x||e.x===n-1)||0===e.y||e.y===n-1}const Sn=e=>({u_matrix:e});function Cn(t,n,i,r,o){if(o>0){const a=e.exported.now(),s=(a-t.timeAdded)/o,l=n?(a-n.timeAdded)/o:-1,c=i.getSource(),u=r.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),h=!n||Math.abs(n.tileID.overscaledZ-u)>Math.abs(t.tileID.overscaledZ-u),d=h&&t.refreshedUponExpiration?1:e.clamp(h?s:1-l,0,1);return t.refreshedUponExpiration&&s>=1&&(t.refreshedUponExpiration=!1),n?{opacity:1,mix:1-d}:{opacity:d,mix:0}}return{opacity:1,mix:0}}class Mn extends e.SourceCache{constructor(e){const t={type:"raster-dem",maxzoom:e.transform.maxZoom},n=new z(je(),null),i=Ae("mock-dem",t,n,e.style);super("mock-dem",i,!1),i.setEventedParent(this),this._sourceLoaded=!0}_loadTile(e,t){e.state="loaded",t(null)}}class zn extends e.SourceCache{constructor(e){const t=Ae("proxy",{type:"geojson",maxzoom:e.transform.maxZoom},new z(je(),null),e.style);super("proxy",t,!1),t.setEventedParent(this),this.map=this.getSource().map=e,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(t,n,i){if(t.freezeTileCoverage)return;this.transform=t;const r=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce(((n,i)=>{if(n[i.key]="",!this._tiles[i.key]){const n=new e.Tile(i,this._source.tileSize*i.overscaleFactor(),t.tileZoom);n.state="loaded",this._tiles[i.key]=n}return n}),{});for(const e in this._tiles)e in r||(this.freeFBO(e),this._tiles[e].unloadVectorData(),delete this._tiles[e])}freeFBO(e){const t=this.proxyCachedFBO[e];if(void 0!==t){const n=Object.values(t);this.renderCachePool.push(...n),delete this.proxyCachedFBO[e]}}deallocRenderCache(){this.renderCache.forEach((e=>e.fb.destroy())),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class An extends e.OverscaledTileID{constructor(e,t,n){super(e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y),this.proxyTileKey=t,this.projMatrix=n}}class Pn extends e.Elevation{constructor(t,n){super(),this.painter=t,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[i,r,o]=function(t){const n=new e.StructArrayLayout2i4,i=new e.StructArrayLayout3ui6,r=131;n.reserve(17161),i.reserve(33800);const o=e.EXTENT/128,a=e.EXTENT+o/2,s=a+o;for(let c=-o;c<s;c+=o)for(let t=-o;t<s;t+=o){const i=t<0||t>a||c<0||c>a?24575:0,r=e.clamp(Math.round(t),0,e.EXTENT),o=e.clamp(Math.round(c),0,e.EXTENT);n.emplaceBack(r+i,o)}const l=(e,t)=>{const n=t*r+e;i.emplaceBack(n+1,n,n+r),i.emplaceBack(n+r,n+r+1,n+1)};for(let e=1;e<129;e++)for(let t=1;t<129;t++)l(t,e);return[0,129].forEach((e=>{for(let t=0;t<130;t++)l(t,e),l(e,t)})),[n,i,32768]}(),a=t.context;this.gridBuffer=a.createVertexBuffer(i,e.posAttributes.members),this.gridIndexBuffer=a.createIndexBuffer(r),this.gridSegments=e.SegmentVector.simpleSegment(0,0,i.length,r.length),this.gridNoSkirtSegments=e.SegmentVector.simpleSegment(0,0,i.length,o),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new zn(n.map),this.orthoMatrix=e.create(),e.ortho(this.orthoMatrix,"globe"===this.painter.transform.projection.name?.015:0,e.EXTENT,0,e.EXTENT,0,1);const s=a.gl;this._overlapStencilMode=new e.StencilMode({func:s.GEQUAL,mask:255},0,255,s.KEEP,s.KEEP,s.REPLACE),this._previousZoom=t.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=n,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Mn(n.map)}set style(e){e.on("data",this._onStyleDataEvent.bind(this)),e.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=e,this._checkRenderCacheEfficiency(),this._style.map.on("moveend",(()=>{this._clearLineLayersFromRenderCache()}))}update(t,n,i){if(t&&t.terrain){this._style!==t&&(this.style=t),this.enabled=!0;const r=t.terrain.properties;this.sourceCache=0===t.terrain.drapeRenderMode?this._mockSourceCache:t._getSourceCache(r.get("source")),this._exaggeration=r.get("exaggeration");const o=()=>{this.sourceCache.used&&e.warnOnce("Raster DEM source '".concat(this.sourceCache.id,"' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source."));const t=this.getScaledDemTileSize();this.sourceCache.update(n,t,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,o(),this._initializing=!0),o(),n.updateElevation(!0,i),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(n),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(e){this._findCoveringTileCache[e]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const t=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==t.efficiency&&e.warnOnce("Terrain render cache efficiency is not optimal (".concat(t.efficiency,"%) and performance\n                may be affected negatively, consider placing all background, fill and line layers before layer\n                with id '").concat(t.firstUndrapedLayer,"' or create a map using optimizeForTerrain: true option."))}_onStyleDataEvent(e){e.coord&&"source"===e.dataType?this._clearRenderCacheForTile(e.sourceCacheId,e.coord):"style"===e.dataType&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const e in this._style._sourceCaches)this._style._sourceCaches[e].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach((e=>e.fb.destroy())),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const e=2*this.proxySourceCache.getSource().tileSize;return[e,e]}set useVertexMorphing(e){this._useVertexMorphing=e}updateTileBinding(t){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const n=this.proxySourceCache,i=this.painter.transform;this._initializing&&(this._initializing=0===i._centerAltitude&&-1===this.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(i.center),-1),this._emptyDEMTextureDirty=!this._initializing);const r=this.proxyCoords=n.getIds().map((e=>{const t=n.getTileByID(e).tileID;return t.projMatrix=i.calculateProjMatrix(t.toUnwrapped()),t}));!function(t,n){const i=n.transform.pointCoordinate(n.transform.getCameraPoint()),r=new e.Point(i.x,i.y);t.sort(((t,n)=>{if(n.overscaledZ-t.overscaledZ)return n.overscaledZ-t.overscaledZ;const i=new e.Point(t.canonical.x+(1<<t.canonical.z)*t.wrap,t.canonical.y),o=new e.Point(n.canonical.x+(1<<n.canonical.z)*n.wrap,n.canonical.y),a=r.mult(1<<t.canonical.z);return a.x-=.5,a.y-=.5,a.distSqr(i)-a.distSqr(o)}))}(r,this.painter),this._previousZoom=i.zoom;const o=this.proxyToSource||{};this.proxyToSource={},r.forEach((e=>{this.proxyToSource[e.key]={}})),this.terrainTileForTile={};const a=this._style._sourceCaches;for(const e in a){const n=a[e];if(!n.used)continue;if(n!==this.sourceCache&&this.resetTileLookupCache(n.id),this._setupProxiedCoordsForOrtho(n,t[e],o),n.usedForTerrain)continue;const i=t[e];n.getSource().reparseOverscaled&&this._assignTerrainTiles(i)}this.proxiedCoords[n.id]=r.map((e=>new An(e,e.key,this.orthoMatrix))),this._assignTerrainTiles(r),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(o),this.renderingToTexture=!1,this._updateTimestamp=e.exported.now();const s={};this._visibleDemTiles=[];for(const e of this.proxyCoords){const t=this.terrainTileForTile[e.key];if(!t)continue;const n=t.tileID.key;n in s||(this._visibleDemTiles.push(t),s[n]=n)}}_assignTerrainTiles(e){this._initializing||e.forEach((e=>{if(this.terrainTileForTile[e.key])return;const t=this._findTileCoveringTileID(e,this.sourceCache);t&&(this.terrainTileForTile[e.key]=t)}))}_prepareDEMTextures(){const e=this.painter.context,t=e.gl;for(const n in this.terrainTileForTile){const i=this.terrainTileForTile[n],r=i.dem;!r||i.demTexture&&!i.needsDEMTextureUpload||(e.activeTexture.set(t.TEXTURE1),gn(this.painter,i,r))}}_prepareDemTileUniforms(e,t,n,i){if(!t||null==t.demTexture)return!1;const r=e.tileID.canonical,o=Math.pow(2,t.tileID.canonical.z-r.z),a=i||"";return n["u_dem_tl".concat(a)]=[r.x*o%1,r.y*o%1],n["u_dem_scale".concat(a)]=o,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const t=this.painter.context,n=t.gl;if(!this._emptyDepthBufferTexture){const i=new e.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new e.Texture(t,i,n.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let e=0;const t=this._visibleDemTiles.reduce(((t,n)=>{if(!n.dem)return t;const i=n.dem.tree.minimums[0];return i>0&&e++,t+i}),0);return e?t/e:0}_updateEmptyDEMTexture(){const t=this.painter.context,n=t.gl;t.activeTexture.set(n.TEXTURE2);const i=this._getLoadedAreaMinimum(),r=new e.RGBAImage({width:1,height:1},new Uint8Array(e.DEMData.pack(i,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let o=this._emptyDEMTexture;return o?o.update(r,{premultiply:!1}):o=this._emptyDEMTexture=new e.Texture(t,r,n.RGBA,{premultiply:!1}),o}setupElevationDraw(t,n,i){const r=this.painter.context,o=r.gl,a=(s=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:e.DEMData.getUnpackVector(s),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var s;a.u_dem_size=this.sourceCache.getSource().tileSize,a.u_exaggeration=this.exaggeration();let l=null,c=null,u=1;if(i&&i.morphing&&this._useVertexMorphing){const e=i.morphing.srcDemTile,n=i.morphing.dstDemTile;u=i.morphing.phase,e&&n&&(this._prepareDemTileUniforms(t,e,a,"_prev")&&(c=e),this._prepareDemTileUniforms(t,n,a)&&(l=n))}if(c&&l?(r.activeTexture.set(o.TEXTURE2),l.demTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE,o.NEAREST),r.activeTexture.set(o.TEXTURE4),c.demTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE,o.NEAREST),a.u_dem_lerp=u):(l=this.terrainTileForTile[t.tileID.key],r.activeTexture.set(o.TEXTURE2),(this._prepareDemTileUniforms(t,l,a)?l.demTexture:this.emptyDEMTexture).bind(o.NEAREST,o.CLAMP_TO_EDGE)),r.activeTexture.set(o.TEXTURE3),i&&i.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE),this._depthFBO&&(a.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE),a.u_depth_size_inv=[1,1]),i&&i.useMeterToDem&&l){const t=(1<<l.tileID.canonical.z)*e.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;a.u_meter_to_dem=t}if(i&&i.labelPlaneMatrixInv&&(a.u_label_plane_matrix_inv=i.labelPlaneMatrixInv),n.setTerrainUniformValues(r,a),"globe"===this.painter.transform.projection.name){const e=this.globeUniformValues(this.painter.transform,t.tileID.canonical,i&&i.useDenormalizedUpVectorScale);n.setGlobeUniformValues(r,e)}}globeUniformValues(t,n,i){const r=t.projection;return{u_tile_tl_up:r.upVector(n,0,0),u_tile_tr_up:r.upVector(n,e.EXTENT,0),u_tile_br_up:r.upVector(n,e.EXTENT,e.EXTENT),u_tile_bl_up:r.upVector(n,0,e.EXTENT),u_tile_up_scale:i?e.globeMetersToEcef(1):r.upVectorScale(n,t.center.lat,t.worldSize).metersToTile}}renderToBackBuffer(t){const n=this.painter,i=this.painter.context;0!==t.length&&(i.bindFramebuffer.set(null),i.viewport.set([0,0,n.width,n.height]),n.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(t,n,i,r,o){if("globe"===t.transform.projection.name)!function(t,n,i,r,o){const a=t.context,s=a.gl;let l,c;const u=t.options.showTerrainWireframe?2:0,h=t.transform,d=e.globeUseCustomAntiAliasing(t,a,h),p=(e,n)=>{if(c===e)return;const i=[En[e],"PROJECTION_GLOBE_VIEW"];d&&i.push("CUSTOM_ANTIALIASING"),n&&i.push(En[u]),l=t.useProgram("globeRaster",null,i),c=e},f=t.colorModeForRenderPass(),m=new e.DepthMode(s.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);wn.update(o);const g=e.calculateGlobeMercatorMatrix(h),_=[e.mercatorXfromLng(h.center.lng),e.mercatorYfromLat(h.center.lat)],y=u?[!1,!0]:[!1],v=t.globeSharedBuffers,x=[h.width*e.exported.devicePixelRatio,h.height*e.exported.devicePixelRatio],b=Float32Array.from(h.globeMatrix),w={useDenormalizedUpVectorScale:!0};if(y.forEach((u=>{const h=t.transform,d=Tn(h.zoom)*n.exaggeration();c=-1;const y=u?s.LINES:s.TRIANGLES;for(const c of r){const r=i.getTile(c),E=e.StencilMode.disabled,T=n.prevTerrainTileForTile[c.key],k=n.terrainTileForTile[c.key];bn(T,k)&&wn.newMorphing(c.key,T,k,o,250),a.activeTexture.set(s.TEXTURE0),r.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE);const S=wn.getMorphValuesForProxy(c.key),C=S?1:0;S&&e.extend$1(w,{morphing:{srcDemTile:S.from,dstDemTile:S.to,phase:e.easeCubicInOut(S.phase)}});const M=e.tileCornersToBounds(c.canonical),z=e.getLatitudinalLod(M.getCenter().lat),A=e.getGridMatrix(c.canonical,M,z,h.worldSize/h._pixelsPerMercatorPixel),P=e.globeNormalizeECEF(e.globeTileBounds(c.canonical)),I=xn(h.projMatrix,b,g,P,e.globeToMercatorTransition(h.zoom),_,h.frustumCorners.TL,h.frustumCorners.TR,h.frustumCorners.BR,h.frustumCorners.BL,h.globeCenterInViewSpace,h.globeRadius,x,d,A);if(p(C,u),n.setupElevationDraw(r,l,w),t.prepareDrawProgram(a,l,c.toUnwrapped()),v){const[n,i,r]=u?v.getWirefameBuffers(t.context,z):v.getGridBuffers(z,0!==d);l.draw(a,y,m,E,f,e.CullFaceMode.backCCW,I,"globe_raster",n,i,r)}}})),v){const o=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];d&&o.push("CUSTOM_ANTIALIASING"),l=t.useProgram("globeRaster",null,o);for(const c of r){const{x:r,y:o,z:u}=c.canonical,d=0===o,p=o===(1<<u)-1,[g,y,b,E]=v.getPoleBuffers(u);if(E&&(d||p)){const o=i.getTile(c);a.activeTexture.set(s.TEXTURE0),o.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE);let v=e.globePoleMatrixForTile(u,r,h);const T=e.globeNormalizeECEF(e.globeTileBounds(c.canonical)),k=(t,n)=>t.draw(a,s.TRIANGLES,m,e.StencilMode.disabled,f,e.CullFaceMode.disabled,xn(h.projMatrix,v,v,T,0,_,h.frustumCorners.TL,h.frustumCorners.TR,h.frustumCorners.BR,h.frustumCorners.BL,h.globeCenterInViewSpace,h.globeRadius,x,0),"globe_pole_raster",n,b,E);n.setupElevationDraw(o,l,w),t.prepareDrawProgram(a,l,c.toUnwrapped()),d&&k(l,g),p&&(v=e.scale(e.create(),v,[1,-1,1]),k(l,y))}}}}(t,n,i,r,o);else{const a=t.context,s=a.gl;let l,c;const u=t.options.showTerrainWireframe?2:0,h=(e,n)=>{if(c===e)return;const i=[En[e]];n&&i.push(En[u]),l=t.useProgram("terrainRaster",null,i),c=e},d=t.colorModeForRenderPass(),p=new e.DepthMode(s.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);wn.update(o);const f=t.transform,m=Tn(f.zoom)*n.exaggeration();(u?[!1,!0]:[!1]).forEach((u=>{c=-1;const g=u?s.LINES:s.TRIANGLES,[_,y]=u?n.getWirefameBuffer():[n.gridIndexBuffer,n.gridSegments];for(const c of r){const r=i.getTile(c),v=e.StencilMode.disabled,x=n.prevTerrainTileForTile[c.key],b=n.terrainTileForTile[c.key];bn(x,b)&&wn.newMorphing(c.key,x,b,o,250),a.activeTexture.set(s.TEXTURE0),r.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST);const w=wn.getMorphValuesForProxy(c.key),E=w?1:0;let T;w&&(T={morphing:{srcDemTile:w.from,dstDemTile:w.to,phase:e.easeCubicInOut(w.phase)}});const k=vn(c.projMatrix,kn(c.canonical,f.renderWorldCopies)?m/10:m);h(E,u),n.setupElevationDraw(r,l,T),t.prepareDrawProgram(a,l,c.toUnwrapped()),l.draw(a,g,p,v,d,e.CullFaceMode.backCCW,k,"terrain_raster",n.gridBuffer,_,y)}}))}}(n,this,this.proxySourceCache,t,this._updateTimestamp),this.renderingToTexture=!0,n.gpuTimingDeferredRenderEnd(),t.splice(0,t.length))}renderBatch(t){if(0===this._drapedRenderBatches.length)return t+1;this.renderingToTexture=!0;const n=this.painter,i=this.painter.context,r=this.proxySourceCache,o=this.proxiedCoords[r.id],a=this._drapedRenderBatches.shift(),s=[],l=n.style.order;let c=0;for(const u of o){const o=r.getTileByID(u.proxyTileKey),h=r.proxyCachedFBO[u.key]?r.proxyCachedFBO[u.key][t]:void 0,d=void 0!==h?r.renderCache[h]:this.pool[c++],p=void 0!==h;if(o.texture=d.tex,p&&!d.dirty){s.push(o.tileID);continue}let f;i.bindFramebuffer.set(d.fb.framebuffer),this.renderedToTile=!1,d.dirty&&(i.clear({color:e.Color.transparent,stencil:0}),d.dirty=!1);for(let e=a.start;e<=a.end;++e){const t=n.style._layers[l[e]];if(t.isHidden(n.transform.zoom))continue;const r=n.style._getLayerSourceCache(t),o=r?this.proxyToSource[u.key][r.id]:[u];if(!o)continue;const a=o;i.viewport.set([0,0,d.fb.width,d.fb.height]),f!==(r?r.id:null)&&(this._setupStencil(d,o,t,r),f=r?r.id:null),n.renderLayer(n,r,t,a)}this.renderedToTile?(d.dirty=!0,s.push(o.tileID)):p||--c,5===c&&(c=0,this.renderToBackBuffer(s))}return this.renderToBackBuffer(s),this.renderingToTexture=!1,i.bindFramebuffer.set(null),i.viewport.set([0,0,n.width,n.height]),a.end+1}postRender(){}renderCacheEfficiency(e){const t=e.order.length;if(0===t)return{efficiency:100};let n,i=0,r=0,o=!1;for(let a=0;a<t;++a){const t=e._layers[e.order[a]];this._style.isLayerDraped(t)?(o&&++i,++r):o||(o=!0,n=t.id)}return 0===r?{efficiency:100}:{efficiency:100*(1-i/r),firstUndrapedLayer:n}}getMinElevationBelowMSL(){let e=0;return this._visibleDemTiles.filter((e=>e.dem)).forEach((t=>{e=Math.min(e,t.dem.tree.minimums[0])})),0===e?e:(e-30)*this._exaggeration}raycast(e,t,n){if(!this._visibleDemTiles)return null;const i=this._visibleDemTiles.filter((e=>e.dem)).map((i=>{const r=i.tileID,o=1<<r.overscaledZ,{x:a,y:s}=r.canonical,l=a/o,c=(a+1)/o,u=s/o,h=(s+1)/o;return{minx:l,miny:u,maxx:c,maxy:h,t:i.dem.tree.raycastRoot(l,u,c,h,e,t,n),tile:i}}));i.sort(((e,t)=>(null!==e.t?e.t:Number.MAX_VALUE)-(null!==t.t?t.t:Number.MAX_VALUE)));for(const r of i){if(null==r.t)return null;const i=r.tile.dem.tree.raycast(r.minx,r.miny,r.maxx,r.maxy,e,t,n);if(null!=i)return i}return null}_createFBO(){const t=this.painter.context,n=t.gl,i=this.drapeBufferSize;t.activeTexture.set(n.TEXTURE0);const r=new e.Texture(t,{width:i[0],height:i[1],data:null},n.RGBA);r.bind(n.LINEAR,n.CLAMP_TO_EDGE);const o=t.createFramebuffer(i[0],i[1],!1);return o.colorAttachment.set(r.texture),o.depthAttachment=new we(t,o.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=t.createRenderbuffer(t.gl.DEPTH_STENCIL,i[0],i[1]),this._stencilRef=0,o.depthAttachment.set(this._sharedDepthStencil),t.clear({stencil:0})):o.depthAttachment.set(this._sharedDepthStencil),t.extTextureFilterAnisotropic&&!t.extTextureFilterAnisotropicForceOff&&n.texParameterf(n.TEXTURE_2D,t.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,t.extTextureFilterAnisotropicMax),{fb:o,tex:r,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const e in this._style._sourceCaches)if(this._style._sourceCaches[e].hasTransition())return!0;return this._style.order.some((e=>{const t=this._style._layers[e],n=t.isHidden(this.painter.transform.zoom);return"custom"===t.type?!n&&t.shouldRedrape():!n&&t.hasTransition()}))}_clearLineLayersFromRenderCache(){let t=!1;for(const e of this._style._getSources())if(e instanceof ke){t=!0;break}if(!t)return;const n={};for(let i=0;i<this._style.order.length;++i){const t=this._style._layers[this._style.order[i]],r=this._style._getLayerSourceCache(t);if(r&&!n[r.id]&&!t.isHidden(this.painter.transform.zoom)&&"line"===t.type&&t.widthExpression()instanceof e.ZoomDependentExpression){n[r.id]=!0;for(const e of this.proxyCoords){const t=this.proxyToSource[e.key][r.id];if(t)for(const e of t)this._clearRenderCacheForTile(r.id,e)}}}}_clearRasterLayersFromRenderCache(){let e=!1;for(const n in this._style._sourceCaches)if(this._style._sourceCaches[n]._source instanceof Se){e=!0;break}if(!e)return;const t={};for(let n=0;n<this._style.order.length;++n){const e=this._style._layers[this._style.order[n]],i=this._style._getLayerSourceCache(e);if(!i||t[i.id])continue;if(e.isHidden(this.painter.transform.zoom)||"raster"!==e.type)continue;const r=e.paint.get("raster-fade-duration");for(const t of this.proxyCoords){const e=this.proxyToSource[t.key][i.id];if(e)for(const t of e){const e=Cn(i.getTile(t),i.findLoadedParent(t,0),i,this.painter.transform,r);(1!==e.opacity||0!==e.mix)&&this._clearRenderCacheForTile(i.id,t)}}}}_setupDrapedRenderBatches(){const e=this._style.order,t=e.length;if(0===t)return;const n=[];let i,r=0,o=this._style._layers[e[r]];for(;!this._style.isLayerDraped(o)&&o.isHidden(this.painter.transform.zoom)&&++r<t;)o=this._style._layers[e[r]];for(;r<t;++r){const t=this._style._layers[e[r]];t.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(t)?void 0===i&&(i=r):void 0!==i&&(n.push({start:i,end:r-1}),i=void 0))}void 0!==i&&n.push({start:i,end:r-1}),this._drapedRenderBatches=n}_setupRenderCache(e){const t=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,t.renderCache.length>t.renderCachePool.length){const e=Object.values(t.proxyCachedFBO);t.proxyCachedFBO={};for(let n=0;n<e.length;++n){const i=Object.values(e[n]);t.renderCachePool.push(...i)}}return}this._clearRasterLayersFromRenderCache();const n=this.proxyCoords,i=this._tilesDirty;for(let o=n.length-1;o>=0;o--){const r=n[o];if(t.getTileByID(r.key),void 0!==t.proxyCachedFBO[r.key]){const n=e[r.key],o=this.proxyToSource[r.key];let a=0;for(const e in o){const t=o[e],r=n[e];if(!r||r.length!==t.length||t.some(((t,n)=>t!==r[n]||i[e]&&i[e].hasOwnProperty(t.key)))){a=-1;break}++a}for(const e in t.proxyCachedFBO[r.key])t.renderCache[t.proxyCachedFBO[r.key][e]].dirty=a<0||a!==Object.values(n).length}}const r=[...this._drapedRenderBatches];r.sort(((e,t)=>t.end-t.start-(e.end-e.start)));for(const o of r)for(const e of n){if(t.proxyCachedFBO[e.key])continue;let n=t.renderCachePool.pop();void 0===n&&t.renderCache.length<50&&(n=t.renderCache.length,t.renderCache.push(this._createFBO())),void 0!==n&&(t.proxyCachedFBO[e.key]={},t.proxyCachedFBO[e.key][o.start]=n,t.renderCache[n].dirty=!0)}this._tilesDirty={}}_setupStencil(e,t,n,i){if(!i||!this._sourceTilesOverlap[i.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const r=this.painter.context,o=r.gl;if(t.length<=1)return void(this._overlapStencilType=!1);let a;if(n.isTileClipped())a=t.length,this._overlapStencilMode.test={func:o.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(t[0].overscaledZ>t[t.length-1].overscaledZ))return void(this._overlapStencilType=!1);a=1,this._overlapStencilMode.test={func:o.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+a>255&&(r.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=a,this._overlapStencilMode.ref=this._stencilRef,n.isTileClipped()&&this._renderTileClippingMasks(t,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return"Clip"===this._overlapStencilType||"Mask"===this._overlapStencilType}stencilModeForRTTOverlap(t){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[t.key]),this._overlapStencilMode):e.StencilMode.disabled}_renderTileClippingMasks(t,n){const i=this.painter,r=this.painter.context,o=r.gl;i._tileClippingMaskIDs={},r.setColorMode(e.ColorMode.disabled),r.setDepthMode(e.DepthMode.disabled);const a=i.useProgram("clippingMask");for(const s of t){const t=i._tileClippingMaskIDs[s.key]=--n;a.draw(r,o.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:o.ALWAYS,mask:0},t,255,o.KEEP,o.KEEP,o.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,Sn(s.projMatrix),"$clipping",i.tileExtentBuffer,i.quadTriangleIndexBuffer,i.tileExtentSegments)}}pointCoordinate(t){const n=this.painter.transform;if(t.x<0||t.x>n.width||t.y<0||t.y>n.height)return null;const i=[t.x,t.y,1,1];e.transformMat4$1(i,i,n.pixelMatrixInverse),e.scale$1(i,i,1/i[3]),i[0]/=n.worldSize,i[1]/=n.worldSize;const r=n._camera.position,o=e.mercatorZfromAltitude(1,n.center.lat),a=[r[0],r[1],r[2]/o,0],s=e.subtract([],i.slice(0,3),a);e.normalize(s,s);const l=this.raycast(a,s,this._exaggeration);return null!==l&&l?(e.scaleAndAdd(a,a,s,l),a[3]=a[2],a[2]*=o,a):null}drawDepth(){const t=this.painter,n=t.context,i=this.proxySourceCache,r=Math.ceil(t.width),o=Math.ceil(t.height);if(!this._depthFBO||this._depthFBO.width===r&&this._depthFBO.height===o||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const t=n.gl,i=n.createFramebuffer(r,o,!0);n.activeTexture.set(t.TEXTURE0);const a=new e.Texture(n,{width:r,height:o,data:null},t.RGBA);a.bind(t.NEAREST,t.CLAMP_TO_EDGE),i.colorAttachment.set(a.texture);const s=n.createRenderbuffer(n.gl.DEPTH_COMPONENT16,r,o);i.depthAttachment.set(s),this._depthFBO=i,this._depthTexture=a}n.bindFramebuffer.set(this._depthFBO.framebuffer),n.viewport.set([0,0,r,o]),function(t,n,i,r){if("globe"===t.transform.projection.name)return;const o=t.context,a=o.gl;o.clear({depth:1});const s=t.useProgram("terrainDepth"),l=new e.DepthMode(a.LESS,e.DepthMode.ReadWrite,t.depthRangeFor3D);for(const c of r){const t=i.getTile(c),r=vn(c.projMatrix,0);n.setupElevationDraw(t,s),s.draw(o,a.TRIANGLES,l,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.backCCW,r,"terrain_depth",n.gridBuffer,n.gridIndexBuffer,n.gridNoSkirtSegments)}}(t,this,i,this.proxyCoords)}_setupProxiedCoordsForOrtho(e,t,n){if(e.getSource()instanceof Me)return this._setupProxiedCoordsForImageSource(e,t,n);this._findCoveringTileCache[e.id]=this._findCoveringTileCache[e.id]||{};const i=this.proxiedCoords[e.id]=[],r=this.proxyCoords;for(let a=0;a<r.length;a++){const t=r[a],o=this._findTileCoveringTileID(t,e);if(o){const r=this._createProxiedId(t,o,n[t.key]&&n[t.key][e.id]);i.push(r),this.proxyToSource[t.key][e.id]=[r]}}let o=!1;for(let a=0;a<t.length;a++){const r=e.getTile(t[a]);if(!r||!r.hasData())continue;const s=this._findTileCoveringTileID(r.tileID,this.proxySourceCache);if(s&&s.tileID.canonical.z!==r.tileID.canonical.z){const t=this.proxyToSource[s.tileID.key][e.id],a=this._createProxiedId(s.tileID,r,n[s.tileID.key]&&n[s.tileID.key][e.id]);t?t.splice(t.length-1,0,a):this.proxyToSource[s.tileID.key][e.id]=[a],i.push(a),o=!0}}this._sourceTilesOverlap[e.id]=o}_setupProxiedCoordsForImageSource(t,n,i){if(!t.getSource().loaded())return;const r=this.proxiedCoords[t.id]=[],o=this.proxyCoords,a=t.getSource(),s=new e.Point(a.tileID.x,a.tileID.y)._div(1<<a.tileID.z),l=a.coordinates.map(e.MercatorCoordinate.fromLngLat).reduce(((e,t)=>(e.min.x=Math.min(e.min.x,t.x-s.x),e.min.y=Math.min(e.min.y,t.y-s.y),e.max.x=Math.max(e.max.x,t.x-s.x),e.max.y=Math.max(e.max.y,t.y-s.y),e)),{min:new e.Point(Number.MAX_VALUE,Number.MAX_VALUE),max:new e.Point(-Number.MAX_VALUE,-Number.MAX_VALUE)}),c=(t,n)=>{const i=t.wrap+t.canonical.x/(1<<t.canonical.z),r=t.canonical.y/(1<<t.canonical.z),o=e.EXTENT/(1<<t.canonical.z),a=n.wrap+n.canonical.x/(1<<n.canonical.z),s=n.canonical.y/(1<<n.canonical.z);return i+o<a+l.min.x||i>a+l.max.x||r+o<s+l.min.y||r>s+l.max.y};for(let e=0;e<o.length;e++){const a=o[e];for(let e=0;e<n.length;e++){const o=t.getTile(n[e]);if(!o||!o.hasData())continue;if(c(a,o.tileID))continue;const s=this._createProxiedId(a,o,i[a.key]&&i[a.key][t.id]),l=this.proxyToSource[a.key][t.id];l?l.push(s):this.proxyToSource[a.key][t.id]=[s],r.push(s)}}}_createProxiedId(t,n,i){let r=this.orthoMatrix;if(i){const e=i.find((e=>e.key===n.tileID.key));if(e)return e}if(n.tileID.key!==t.key){const i=t.canonical.z-n.tileID.canonical.z;let o,a,s;r=e.create();const l=n.tileID.wrap-t.wrap<<t.overscaledZ;i>0?(o=e.EXTENT>>i,a=o*((n.tileID.canonical.x<<i)-t.canonical.x+l),s=o*((n.tileID.canonical.y<<i)-t.canonical.y)):(o=e.EXTENT<<-i,a=e.EXTENT*(n.tileID.canonical.x-(t.canonical.x+l<<-i)),s=e.EXTENT*(n.tileID.canonical.y-(t.canonical.y<<-i))),e.ortho(r,0,o,0,o,0,1),e.translate(r,r,[a,s,0])}return new An(n.tileID,t.key,r)}_findTileCoveringTileID(t,n){let i=n.getTile(t);if(i&&i.hasData())return i;const r=this._findCoveringTileCache[n.id],o=r[t.key];if(i=o?n.getTileByID(o):null,i&&i.hasData()||null===o)return i;let a=i?i.tileID:t,s=a.overscaledZ;const l=n.getSource().minzoom,c=[];if(!o){const r=n.getSource().maxzoom;if(t.canonical.z>=r){const i=t.canonical.z-r;n.getSource().reparseOverscaled?(s=Math.max(t.canonical.z+2,n.transform.tileZoom),a=new e.OverscaledTileID(s,t.wrap,r,t.canonical.x>>i,t.canonical.y>>i)):0!==i&&(s=r,a=new e.OverscaledTileID(s,t.wrap,r,t.canonical.x>>i,t.canonical.y>>i))}a.key!==t.key&&(c.push(a.key),i=n.getTile(a))}const u=e=>{c.forEach((t=>{r[t]=e})),c.length=0};for(s-=1;s>=l&&(!i||!i.hasData());s--){i&&u(i.tileID.key);const e=a.calculateScaledKey(s);if(i=n.getTileByID(e),i&&i.hasData())break;const t=r[e];if(null===t)break;void 0===t?c.push(e):i=n.getTileByID(t)}return u(i?i.tileID.key:null),i&&i.hasData()?i:null}findDEMTileFor(e){return this.enabled?this._findTileCoveringTileID(e,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(e,t){let n=this._tilesDirty[e];n||(n=this._tilesDirty[e]={}),n[t.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const t=function(t){let n=0;const i=new e.StructArrayLayout2ui4,r=131;for(let e=1;e<129;e++){for(let t=1;t<129;t++)n=e*r+t,i.emplaceBack(n,n+1),i.emplaceBack(n,n+r),i.emplaceBack(n+1,n+r),128===e&&i.emplaceBack(n+r,n+r+1);i.emplaceBack(n+1,n+1+r)}return i}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(t),this.wireframeSegments=e.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,t.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class In{static cacheKey(e,t,n,i){let r="".concat(t).concat(i?i.cacheKey:"");for(const o of n)e.usedDefines.includes(o)&&(r+="/".concat(o));return r}constructor(t,n,i,r,o,a){const s=t.gl;this.program=s.createProgram();const l=function(e){const t=[];for(let n=0;n<e.length;n++){if(null===e[n])continue;const i=e[n].split(" ");t.push(i.pop())}return t}(i.staticAttributes),c=r?r.getBinderAttributes():[],u=l.concat(c);let h=r?r.defines():[];h=h.concat(a.map((e=>"#define ".concat(e))));const d=t.isWebGL2?"#version 300 es\n":"",p=d+h.concat(t.extStandardDerivatives&&0===d.length?"#extension GL_OES_standard_derivatives : enable\n".concat(cn):cn,cn,ln,sn.fragmentSource,on.fragmentSource,i.fragmentSource).join("\n"),f=d+h.concat("\n#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",ln,sn.vertexSource,on.vertexSource,rn.vertexSource,i.vertexSource).join("\n"),m=s.createShader(s.FRAGMENT_SHADER);if(s.isContextLost())return void(this.failedToCreate=!0);s.shaderSource(m,p),s.compileShader(m),s.attachShader(this.program,m);const g=s.createShader(s.VERTEX_SHADER);if(s.isContextLost())this.failedToCreate=!0;else{s.shaderSource(g,f),s.compileShader(g),s.attachShader(this.program,g),this.attributes={},this.numAttributes=u.length;for(let e=0;e<this.numAttributes;e++)u[e]&&(s.bindAttribLocation(this.program,e,u[e]),this.attributes[u[e]]=e);s.linkProgram(this.program),s.deleteShader(g),s.deleteShader(m),this.fixedUniforms=o(t),this.binderUniforms=r?r.getUniforms(t):[],a.includes("TERRAIN")&&(this.terrainUniforms=(t=>({u_dem:new e.Uniform1i(t),u_dem_prev:new e.Uniform1i(t),u_dem_unpack:new e.Uniform4f(t),u_dem_tl:new e.Uniform2f(t),u_dem_scale:new e.Uniform1f(t),u_dem_tl_prev:new e.Uniform2f(t),u_dem_scale_prev:new e.Uniform1f(t),u_dem_size:new e.Uniform1f(t),u_dem_lerp:new e.Uniform1f(t),u_exaggeration:new e.Uniform1f(t),u_depth:new e.Uniform1i(t),u_depth_size_inv:new e.Uniform2f(t),u_meter_to_dem:new e.Uniform1f(t),u_label_plane_matrix_inv:new e.UniformMatrix4f(t)}))(t)),a.includes("GLOBE")&&(this.globeUniforms=(t=>({u_tile_tl_up:new e.Uniform3f(t),u_tile_tr_up:new e.Uniform3f(t),u_tile_br_up:new e.Uniform3f(t),u_tile_bl_up:new e.Uniform3f(t),u_tile_up_scale:new e.Uniform1f(t)}))(t)),a.includes("FOG")&&(this.fogUniforms=(t=>({u_fog_matrix:new e.UniformMatrix4f(t),u_fog_range:new e.Uniform2f(t),u_fog_color:new e.Uniform4f(t),u_fog_horizon_blend:new e.Uniform1f(t),u_fog_temporal_offset:new e.Uniform1f(t),u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_globe_pos:new e.Uniform3f(t),u_globe_radius:new e.Uniform1f(t),u_globe_transition:new e.Uniform1f(t),u_is_globe:new e.Uniform1i(t),u_viewport:new e.Uniform2f(t)}))(t))}}setTerrainUniformValues(e,t){if(!this.terrainUniforms)return;const n=this.terrainUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)n[e]&&n[e].set(this.program,e,t[e])}}setGlobeUniformValues(e,t){if(!this.globeUniforms)return;const n=this.globeUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)n[e]&&n[e].set(this.program,e,t[e])}}setFogUniformValues(e,t){if(!this.fogUniforms)return;const n=this.fogUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)n[e].set(this.program,e,t[e])}}draw(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f){const m=e.gl;if(this.failedToCreate)return;e.program.set(this.program),e.setDepthMode(n),e.setStencilMode(i),e.setColorMode(r),e.setCullFace(o);for(const _ of Object.keys(this.fixedUniforms))this.fixedUniforms[_].set(this.program,_,a[_]);p&&p.setUniforms(this.program,e,this.binderUniforms,h,{zoom:d});const g={[m.LINES]:2,[m.TRIANGLES]:3,[m.LINE_STRIP]:1}[t];for(const _ of u.get()){const n=_.vaos||(_.vaos={});(n[s]||(n[s]=new pn)).bind(e,this,l,p?p.getPaintVertexBuffers():[],c,_.vertexOffset,f||[]),m.drawElements(t,_.primitiveLength*g,m.UNSIGNED_SHORT,_.primitiveOffset*g*2)}}}function Ln(e,t){const n=Math.pow(2,t.tileID.overscaledZ),i=t.tileSize*Math.pow(2,e.transform.tileZoom)/n,r=i*(t.tileID.canonical.x+t.tileID.wrap*n),o=i*t.tileID.canonical.y;return{u_image:0,u_texsize:t.imageAtlasTexture.size,u_tile_units_to_pixels:1/A(t,1,e.transform.tileZoom),u_pixel_coord_upper:[r>>16,o>>16],u_pixel_coord_lower:[65535&r,65535&o]}}const Dn=e.create(),On=(t,n,i,r,o,a,s,l,c,u,h)=>{const d=n.style.light,p=d.properties.get("position"),f=[p.x,p.y,p.z],m=e.create$1();"viewport"===d.properties.get("anchor")&&(e.fromRotation(m,-n.transform.angle),e.transformMat3(f,f,m));const g=d.properties.get("color"),_=n.transform,y={u_matrix:t,u_lightpos:f,u_lightintensity:d.properties.get("intensity"),u_lightcolor:[g.r,g.g,g.b],u_vertical_gradient:+i,u_opacity:r,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Dn,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:o,u_edge_radius:a};return"globe"===_.projection.name&&(y.u_tile_id=[s.canonical.x,s.canonical.y,1<<s.canonical.z],y.u_zoom_transition=c,y.u_inv_rot_matrix=h,y.u_merc_center=u,y.u_up_dir=_.projection.upVector(new e.CanonicalTileID(0,0,0),u[0]*e.EXTENT,u[1]*e.EXTENT),y.u_height_lift=l),y},Rn=(t,n,i,r,o,a,s,l,c,u,h,d)=>{const p=On(t,n,i,r,o,a,s,c,u,h,d),f={u_height_factor:-Math.pow(2,s.overscaledZ)/l.tileSize/8};return e.extend(p,Ln(n,l),f)},Bn=e=>({u_matrix:e}),Fn=(t,n,i)=>e.extend(Bn(t),Ln(n,i)),jn=(e,t)=>({u_matrix:e,u_world:t}),Nn=(t,n,i,r)=>e.extend(Fn(t,n,i),{u_world:r}),Un=e.create(),Vn=(t,n,i,r,o,a)=>{const s=t.transform,l="globe"===s.projection.name;let c;if("map"===a.paint.get("circle-pitch-alignment"))if(l){const t=e.globePixelsToTileUnits(s.zoom,n.canonical)*s._pixelsPerMercatorPixel;c=Float32Array.from([t,0,0,t])}else c=s.calculatePixelsToTileUnitsMatrix(i);else c=new Float32Array([s.pixelsToGLUnits[0],0,0,s.pixelsToGLUnits[1]]);const u={u_camera_to_center_distance:s.cameraToCenterDistance,u_matrix:t.translatePosMatrix(n.projMatrix,i,a.paint.get("circle-translate"),a.paint.get("circle-translate-anchor")),u_device_pixel_ratio:e.exported.devicePixelRatio,u_extrude_scale:c,u_inv_rot_matrix:Un,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(l){u.u_inv_rot_matrix=r,u.u_merc_center=o,u.u_tile_id=[n.canonical.x,n.canonical.y,1<<n.canonical.z],u.u_zoom_transition=e.globeToMercatorTransition(s.zoom);const t=o[0]*e.EXTENT,i=o[1]*e.EXTENT;u.u_up_dir=s.projection.upVector(new e.CanonicalTileID(0,0,0),t,i)}return u},qn=e=>{const t=[];return"map"===e.paint.get("circle-pitch-alignment")&&t.push("PITCH_WITH_MAP"),"map"===e.paint.get("circle-pitch-scale")&&t.push("SCALE_WITH_MAP"),t},Gn=(t,n,i,r)=>{const o=e.EXTENT/i.tileSize;return{u_matrix:t,u_camera_to_center_distance:n.getCameraToCenterDistance(r),u_extrude_scale:[n.pixelsToGLUnits[0]/o,n.pixelsToGLUnits[1]/o]}},Wn=function(e,t){return{u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:arguments.length>2&&void 0!==arguments[2]?arguments[2]:1}},Zn=e.create(),Hn=(t,n,i,r,o,a,s)=>{const l=t.transform,c="globe"===l.projection.name,u=c?e.globePixelsToTileUnits(l.zoom,n.canonical)*l._pixelsPerMercatorPixel:A(i,1,a),h={u_matrix:n.projMatrix,u_extrude_scale:u,u_intensity:s,u_inv_rot_matrix:Zn,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(c){h.u_inv_rot_matrix=r,h.u_merc_center=o,h.u_tile_id=[n.canonical.x,n.canonical.y,1<<n.canonical.z],h.u_zoom_transition=e.globeToMercatorTransition(l.zoom);const t=o[0]*e.EXTENT,i=o[1]*e.EXTENT;h.u_up_dir=l.projection.upVector(new e.CanonicalTileID(0,0,0),t,i)}return h},Xn=(e,t,n,i,r,o,a)=>{const s=e.transform,l=s.calculatePixelsToTileUnitsMatrix(t);return{u_matrix:Jn(e,t,n,i),u_pixels_to_tile_units:l,u_device_pixel_ratio:o,u_units_to_pixels:[1/s.pixelsToGLUnits[0],1/s.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:r,u_texsize:$n(n)?t.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:Yn(t,e.transform),u_alpha_discard_threshold:0,u_trim_offset:a}},Kn=(e,t,n,i,r)=>{const o=e.transform;return{u_matrix:Jn(e,t,n,i),u_texsize:t.imageAtlasTexture.size,u_pixels_to_tile_units:o.calculatePixelsToTileUnitsMatrix(t),u_device_pixel_ratio:r,u_image:0,u_tile_units_to_pixels:Yn(t,o),u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Yn(e,t){return 1/A(e,1,t.tileZoom)}function Jn(e,t,n,i){return e.translatePosMatrix(i||t.tileID.projMatrix,t,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}function $n(e){const t=e.paint.get("line-dasharray").value;return t.value||"constant"!==t.kind}const Qn=(e,t,n,i,r,o)=>{return{u_matrix:e,u_tl_parent:t,u_scale_parent:n,u_fade_t:i.mix,u_opacity:i.opacity*r.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:r.paint.get("raster-brightness-min"),u_brightness_high:r.paint.get("raster-brightness-max"),u_saturation_factor:(s=r.paint.get("raster-saturation"),s>0?1-1/(1.001-s):-s),u_contrast_factor:(a=r.paint.get("raster-contrast"),a>0?1/(1-a):1+a),u_spin_weights:ei(r.paint.get("raster-hue-rotate")),u_perspective_transform:o};var a,s};function ei(e){e*=Math.PI/180;const t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}const ti=e.create(),ni=(t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g)=>{const _=o.transform,y={u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:n?n.uSizeT:0,u_size:n?n.uSize:0,u_camera_to_center_distance:_.cameraToCenterDistance,u_rotate_symbol:+i,u_aspect_ratio:_.width/_.height,u_fade_change:o.options.fadeDuration?o.symbolFadeChange:1,u_matrix:a,u_label_plane_matrix:s,u_coord_matrix:l,u_is_text:+c,u_pitch_with_map:+r,u_texsize:u,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:ti,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:ti,u_up_vector:[0,-1,0]};return"globe"===g.name&&(y.u_tile_id=[h.canonical.x,h.canonical.y,1<<h.canonical.z],y.u_zoom_transition=d,y.u_inv_rot_matrix=f,y.u_merc_center=p,y.u_camera_forward=_._camera.forward(),y.u_ecef_origin=e.globeECEFOrigin(_.globeMatrix,h.toUnwrapped()),y.u_tile_matrix=Float32Array.from(_.globeMatrix),y.u_up_vector=m),y},ii=(t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,_)=>e.extend(ni(t,n,i,r,o,a,s,l,c,u,d,p,f,m,g,_),{u_gamma_scale:r?o.transform.cameraToCenterDistance*Math.cos(o.terrain?0:o.transform._pitch):1,u_device_pixel_ratio:e.exported.devicePixelRatio,u_is_halo:+h}),ri=(t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g)=>e.extend(ii(t,n,i,r,o,a,s,l,!0,c,!0,h,d,p,f,m,g),{u_texsize_icon:u,u_texture_icon:1}),oi=(e,t,n)=>({u_matrix:e,u_opacity:t,u_color:n}),ai=(t,n,i,r,o)=>e.extend(function(e,t,n){const i=t.imageManager.getPattern(e.toString()),{width:r,height:o}=t.imageManager.getPixelSize(),a=Math.pow(2,n.tileID.overscaledZ),s=n.tileSize*Math.pow(2,t.transform.tileZoom)/a,l=s*(n.tileID.canonical.x+n.tileID.wrap*a),c=s*n.tileID.canonical.y;return{u_image:0,u_pattern_tl:i.tl,u_pattern_br:i.br,u_texsize:[r,o],u_pattern_size:i.displaySize,u_tile_units_to_pixels:1/A(n,1,t.transform.tileZoom),u_pixel_coord_upper:[l>>16,c>>16],u_pixel_coord_lower:[65535&l,65535&c]}}(r,i,o),{u_matrix:t,u_opacity:n}),si={fillExtrusion:t=>({u_matrix:new e.UniformMatrix4f(t),u_lightpos:new e.Uniform3f(t),u_lightintensity:new e.Uniform1f(t),u_lightcolor:new e.Uniform3f(t),u_vertical_gradient:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_edge_radius:new e.Uniform1f(t),u_ao:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_up_dir:new e.Uniform3f(t),u_height_lift:new e.Uniform1f(t)}),fillExtrusionPattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_lightpos:new e.Uniform3f(t),u_lightintensity:new e.Uniform1f(t),u_lightcolor:new e.Uniform3f(t),u_vertical_gradient:new e.Uniform1f(t),u_height_factor:new e.Uniform1f(t),u_edge_radius:new e.Uniform1f(t),u_ao:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_up_dir:new e.Uniform3f(t),u_height_lift:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t)}),fill:t=>({u_matrix:new e.UniformMatrix4f(t)}),fillPattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t)}),fillOutline:t=>({u_matrix:new e.UniformMatrix4f(t),u_world:new e.Uniform2f(t)}),fillOutlinePattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_world:new e.Uniform2f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t)}),circle:t=>({u_camera_to_center_distance:new e.Uniform1f(t),u_extrude_scale:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_up_dir:new e.Uniform3f(t)}),collisionBox:t=>({u_matrix:new e.UniformMatrix4f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_extrude_scale:new e.Uniform2f(t)}),collisionCircle:t=>({u_matrix:new e.UniformMatrix4f(t),u_inv_matrix:new e.UniformMatrix4f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_viewport_size:new e.Uniform2f(t)}),debug:t=>({u_color:new e.UniformColor(t),u_matrix:new e.UniformMatrix4f(t),u_overlay:new e.Uniform1i(t),u_overlay_scale:new e.Uniform1f(t)}),clippingMask:t=>({u_matrix:new e.UniformMatrix4f(t)}),heatmap:t=>({u_extrude_scale:new e.Uniform1f(t),u_intensity:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_up_dir:new e.Uniform3f(t)}),heatmapTexture:t=>({u_image:new e.Uniform1i(t),u_color_ramp:new e.Uniform1i(t),u_opacity:new e.Uniform1f(t)}),hillshade:t=>({u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_latrange:new e.Uniform2f(t),u_light:new e.Uniform2f(t),u_shadow:new e.UniformColor(t),u_highlight:new e.UniformColor(t),u_accent:new e.UniformColor(t)}),hillshadePrepare:t=>({u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_dimension:new e.Uniform2f(t),u_zoom:new e.Uniform1f(t),u_unpack:new e.Uniform4f(t)}),line:t=>({u_matrix:new e.UniformMatrix4f(t),u_pixels_to_tile_units:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_units_to_pixels:new e.Uniform2f(t),u_dash_image:new e.Uniform1i(t),u_gradient_image:new e.Uniform1i(t),u_image_height:new e.Uniform1f(t),u_texsize:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t),u_alpha_discard_threshold:new e.Uniform1f(t),u_trim_offset:new e.Uniform2f(t)}),linePattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_texsize:new e.Uniform2f(t),u_pixels_to_tile_units:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_units_to_pixels:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t),u_alpha_discard_threshold:new e.Uniform1f(t)}),raster:t=>({u_matrix:new e.UniformMatrix4f(t),u_tl_parent:new e.Uniform2f(t),u_scale_parent:new e.Uniform1f(t),u_fade_t:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_image0:new e.Uniform1i(t),u_image1:new e.Uniform1i(t),u_brightness_low:new e.Uniform1f(t),u_brightness_high:new e.Uniform1f(t),u_saturation_factor:new e.Uniform1f(t),u_contrast_factor:new e.Uniform1f(t),u_spin_weights:new e.Uniform3f(t),u_perspective_transform:new e.Uniform2f(t)}),symbolIcon:t=>({u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_camera_forward:new e.Uniform3f(t),u_tile_matrix:new e.UniformMatrix4f(t),u_up_vector:new e.Uniform3f(t),u_ecef_origin:new e.Uniform3f(t),u_texture:new e.Uniform1i(t)}),symbolSDF:t=>({u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_texture:new e.Uniform1i(t),u_gamma_scale:new e.Uniform1f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_camera_forward:new e.Uniform3f(t),u_tile_matrix:new e.UniformMatrix4f(t),u_up_vector:new e.Uniform3f(t),u_ecef_origin:new e.Uniform3f(t),u_is_halo:new e.Uniform1i(t)}),symbolTextAndIcon:t=>({u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_texsize_icon:new e.Uniform2f(t),u_texture:new e.Uniform1i(t),u_texture_icon:new e.Uniform1i(t),u_gamma_scale:new e.Uniform1f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_is_halo:new e.Uniform1i(t)}),background:t=>({u_matrix:new e.UniformMatrix4f(t),u_opacity:new e.Uniform1f(t),u_color:new e.UniformColor(t)}),backgroundPattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_opacity:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_pattern_tl:new e.Uniform2f(t),u_pattern_br:new e.Uniform2f(t),u_texsize:new e.Uniform2f(t),u_pattern_size:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t)}),terrainRaster:yn,terrainDepth:yn,skybox:t=>({u_matrix:new e.UniformMatrix4f(t),u_sun_direction:new e.Uniform3f(t),u_cubemap:new e.Uniform1i(t),u_opacity:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t)}),skyboxGradient:t=>({u_matrix:new e.UniformMatrix4f(t),u_color_ramp:new e.Uniform1i(t),u_center_direction:new e.Uniform3f(t),u_radius:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t)}),skyboxCapture:t=>({u_matrix_3f:new e.UniformMatrix3f(t),u_sun_direction:new e.Uniform3f(t),u_sun_intensity:new e.Uniform1f(t),u_color_tint_r:new e.Uniform4f(t),u_color_tint_m:new e.Uniform4f(t),u_luminance:new e.Uniform1f(t)}),globeRaster:t=>({u_proj_matrix:new e.UniformMatrix4f(t),u_globe_matrix:new e.UniformMatrix4f(t),u_normalize_matrix:new e.UniformMatrix4f(t),u_merc_matrix:new e.UniformMatrix4f(t),u_zoom_transition:new e.Uniform1f(t),u_merc_center:new e.Uniform2f(t),u_image0:new e.Uniform1i(t),u_grid_matrix:new e.UniformMatrix3f(t),u_skirt_height:new e.Uniform1f(t),u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_globe_pos:new e.Uniform3f(t),u_globe_radius:new e.Uniform1f(t),u_viewport:new e.Uniform2f(t)}),globeAtmosphere:t=>({u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_horizon:new e.Uniform1f(t),u_transition:new e.Uniform1f(t),u_fadeout_range:new e.Uniform1f(t),u_color:new e.Uniform4f(t),u_high_color:new e.Uniform4f(t),u_space_color:new e.Uniform4f(t),u_star_intensity:new e.Uniform1f(t),u_star_density:new e.Uniform1f(t),u_star_size:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t),u_horizon_angle:new e.Uniform1f(t),u_rotation_matrix:new e.UniformMatrix4f(t)})};let li;function ci(t,n,i,r,o,a,s){const l=t.context,c=l.gl,u=t.transform,h=t.useProgram("collisionBox"),d=[];let p=0,f=0;for(let b=0;b<r.length;b++){const m=r[b],g=n.getTile(m),_=g.getBucket(i);if(!_)continue;const y=yt(m,_,u);let v=y;0===o[0]&&0===o[1]||(v=t.translatePosMatrix(y,g,o,a));const x=s?_.textCollisionBox:_.iconCollisionBox,w=_.collisionCircleArray;if(w.length>0){const t=e.create(),n=v;e.mul(t,_.placementInvProjMatrix,u.glCoordMatrix),e.mul(t,t,_.placementViewportMatrix),d.push({circleArray:w,circleOffset:f,transform:n,invTransform:t,projection:_.getProjection()}),p+=w.length/4,f=p}x&&(t.terrain&&t.terrain.setupElevationDraw(g,h),h.draw(l,c.LINES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,Gn(v,u,g,_.getProjection()),i.id,x.layoutVertexBuffer,x.indexBuffer,x.segments,null,u.zoom,null,[x.collisionVertexBuffer,x.collisionVertexBufferExt]))}if(!s||!d.length)return;const m=t.useProgram("collisionCircle"),g=new e.StructArrayLayout2f1f2i16;g.resize(4*p),g._trim();let _=0;for(const e of d)for(let t=0;t<e.circleArray.length/4;t++){const n=4*t,i=e.circleArray[n+0],r=e.circleArray[n+1],o=e.circleArray[n+2],a=e.circleArray[n+3];g.emplace(_++,i,r,o,a,0),g.emplace(_++,i,r,o,a,1),g.emplace(_++,i,r,o,a,2),g.emplace(_++,i,r,o,a,3)}(!li||li.length<2*p)&&(li=function(t){const n=2*t,i=new e.StructArrayLayout3ui6;i.resize(n),i._trim();for(let e=0;e<n;e++){const t=6*e;i.uint16[t+0]=4*e+0,i.uint16[t+1]=4*e+1,i.uint16[t+2]=4*e+2,i.uint16[t+3]=4*e+2,i.uint16[t+4]=4*e+3,i.uint16[t+5]=4*e+0}return i}(p));const y=l.createIndexBuffer(li,!0),v=l.createVertexBuffer(g,e.collisionCircleLayout.members,!0);for(const b of d){const n={u_matrix:b.transform,u_inv_matrix:b.invTransform,u_camera_to_center_distance:(x=u).getCameraToCenterDistance(b.projection),u_viewport_size:[x.width,x.height]};m.draw(l,c.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,n,i.id,v,y,e.SegmentVector.simpleSegment(0,2*b.circleOffset,b.circleArray.length,b.circleArray.length/2),null,u.zoom)}var x;v.destroy(),y.destroy()}const ui=e.create();function hi(t,n){let{width:i,height:r,anchor:o,textOffset:a,textScale:s}=t;const{horizontalAlign:l,verticalAlign:c}=e.getAnchorAlignment(o),u=-(l-.5)*i,h=-(c-.5)*r,d=e.evaluateVariableOffset(o,a);return new e.Point((u/s+d[0])*n,(h/s+d[1])*n)}function di(t,n,i,r,o,a,s,l,c,u,h){const d=t.text.placedSymbolArray,p=t.text.dynamicLayoutVertexArray,f=t.icon.dynamicLayoutVertexArray,m={},g=t.getProjection(),_=vt(l,g,a),y=a.elevation,v=g.upVectorScale(l.canonical,a.center.lat,a.worldSize).metersToTile;p.clear();for(let x=0;x<d.length;x++){const f=d.get(x),{tileAnchorX:b,tileAnchorY:w,numGlyphs:E}=f,T=f.hidden||!f.crossTileID||t.allowVerticalPlacement&&!f.placedOrientation?null:r[f.crossTileID];if(T){let r=0,d=0,x=0;if(y){const e=y?y.getAtTileOffset(l,b,w):0,[t,n,i]=g.upVector(l.canonical,b,w);r=e*t*v,d=e*n*v,x=e*i*v}let[k,S,C,M]=it(f.projectedAnchorX+r,f.projectedAnchorY+d,f.projectedAnchorZ+x,i?_:s);const z=rt(a.getCameraToCenterDistance(g),M);let A=o.evaluateSizeForFeature(t.textSizeData,u,f)*z/e.ONE_EM;i&&(A*=t.tilePixelRatio/c);const P=hi(T,A);i?(({x:k,y:S,z:C}=g.projectTilePoint(b+P.x,w+P.y,l.canonical)),[k,S,C]=it(k+r,S+d,C+x,s)):(n&&P._rotate(-a.angle),k+=P.x,S+=P.y,C=0);const I=t.allowVerticalPlacement&&f.placedOrientation===e.WritingMode.vertical?Math.PI/2:0;for(let t=0;t<E;t++)e.addDynamicAttributes(p,k,S,C,I);h&&f.associatedIconIndex>=0&&(m[f.associatedIconIndex]={x:k,y:S,z:C,angle:I})}else pt(E,p)}if(h){f.clear();const n=t.icon.placedSymbolArray;for(let t=0;t<n.length;t++){const i=n.get(t),{numGlyphs:r}=i,o=m[t];if(i.hidden||!o)pt(r,f);else{const{x:t,y:n,z:i,angle:a}=o;for(let o=0;o<r;o++)e.addDynamicAttributes(f,t,n,i,a)}}t.icon.dynamicLayoutVertexBuffer.updateData(f)}t.text.dynamicLayoutVertexBuffer.updateData(p)}function pi(e,t,n){return n.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function fi(t,n,i,r,o,a,s,l,c,u,h,d){const p=t.context,f=p.gl,m=t.transform,g="map"===l,_="map"===c,y=g&&"point"!==i.layout.get("symbol-placement"),v=g&&!_&&!y,x=void 0!==i.layout.get("symbol-sort-key").constantOr(1);let b=!1;const w=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),E=[e.mercatorXfromLng(m.center.lng),e.mercatorYfromLat(m.center.lat)],T=i.layout.get("text-variable-anchor"),k="globe"===m.projection.name,S=[],C=[0,-1,0];let M=C;!k&&!m.mercatorFromTransition||g||(M=function(t){const n=t._camera.getWorldToCamera(t.worldSize,1),i=e.multiply([],n,t.globeMatrix);e.invert(i,i);const r=[0,0,0],o=[0,1,0,0];return e.transformMat4$1(o,o,i),r[0]=o[0],r[1]=o[1],r[2]=o[2],e.normalize(r,r),r}(m));for(const z of r){const r=n.getTile(z),l=r.getBucket(i);if(!l)continue;if("mercator"===l.projection.name&&k)continue;const c=o?l.text:l.icon;if(!c||l.fullyClipped||!c.segments.get().length)continue;const h=c.programConfigurations.get(i.id),d=o||l.sdfIcons,p=o?l.textSizeData:l.iconSizeData,w=_||0!==m.pitch,A=e.evaluateSizeForZoom(p,m.zoom);let P,I,L,D,O=[0,0],R=null;if(o)I=r.glyphAtlasTexture,L=f.LINEAR,P=r.glyphAtlasTexture.size,l.iconsInText&&(O=r.imageAtlasTexture.size,R=r.imageAtlasTexture,D=w||t.options.rotating||t.options.zooming||"composite"===p.kind||"camera"===p.kind?f.LINEAR:f.NEAREST);else{const e=1!==i.layout.get("icon-size").constantOr(0)||l.iconsNeedLinear;I=r.imageAtlasTexture,L=d||t.options.rotating||t.options.zooming||e||w?f.LINEAR:f.NEAREST,P=r.imageAtlasTexture.size}const B="globe"===l.projection.name,F=B?M:C,j=B?e.globeToMercatorTransition(m.zoom):0,N=vt(z,l.getProjection(),m),U=m.calculatePixelsToTileUnitsMatrix(r),V=et(N,r.tileID.canonical,_,g,m,l.getProjection(),U),q=t.terrain&&_&&y?e.invert(e.create(),V):ui,G=nt(N,r.tileID.canonical,_,g,m,l.getProjection(),U),W=T&&l.hasTextData(),Z="none"!==i.layout.get("icon-text-fit")&&W&&l.hasIconData();if(y){const e=m.elevation,n=e?e.getAtTileOffsetFunc(z,m.center.lat,m.worldSize,l.getProjection()):null,i=tt(N,r.tileID.canonical,_,g,m,l.getProjection(),U);at(l,N,t,o,i,G,_,u,n,z)}const H=y||o&&T||Z,X=t.translatePosMatrix(N,r,a,s),K=H?ui:V,Y=t.translatePosMatrix(G,r,a,s,!0),J=l.getProjection().createInversionMatrix(m,z.canonical),$=[];t.terrainRenderModeElevated()&&_&&$.push("PITCH_WITH_MAP_TERRAIN"),B&&$.push("PROJECTION_GLOBE_VIEW"),H&&$.push("PROJECTED_POS_ON_VIEWPORT");const Q=d&&0!==i.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1);let ee;ee=d?l.iconsInText?ri(p.kind,A,v,_,t,X,K,Y,P,O,z,j,E,J,F,l.getProjection()):ii(p.kind,A,v,_,t,X,K,Y,o,P,!0,z,j,E,J,F,l.getProjection()):ni(p.kind,A,v,_,t,X,K,Y,o,P,z,j,E,J,F,l.getProjection());const te={program:t.useProgram(pi(d,o,l),h,$),buffers:c,uniformValues:ee,atlasTexture:I,atlasTextureIcon:R,atlasInterpolation:L,atlasInterpolationIcon:D,isSDF:d,hasHalo:Q,tile:r,labelPlaneMatrixInv:q};if(x&&l.canOverlap){b=!0;const t=c.segments.get();for(const n of t)S.push({segments:new e.SegmentVector([n]),sortKey:n.sortKey,state:te})}else S.push({segments:c.segments,sortKey:0,state:te})}b&&S.sort(((e,t)=>e.sortKey-t.sortKey));for(const e of S){const n=e.state;if(t.terrain&&t.terrain.setupElevationDraw(n.tile,n.program,{useDepthForOcclusion:!k,labelPlaneMatrixInv:n.labelPlaneMatrixInv}),p.activeTexture.set(f.TEXTURE0),n.atlasTexture.bind(n.atlasInterpolation,f.CLAMP_TO_EDGE),n.atlasTextureIcon&&(p.activeTexture.set(f.TEXTURE1),n.atlasTextureIcon&&n.atlasTextureIcon.bind(n.atlasInterpolationIcon,f.CLAMP_TO_EDGE)),n.isSDF){const r=n.uniformValues;n.hasHalo&&(r.u_is_halo=1,mi(n.buffers,e.segments,i,t,n.program,w,h,d,r)),r.u_is_halo=0}mi(n.buffers,e.segments,i,t,n.program,w,h,d,n.uniformValues)}}function mi(t,n,i,r,o,a,s,l,c){const u=r.context,h=[t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer,t.globeExtVertexBuffer];o.draw(u,u.gl.TRIANGLES,a,s,l,e.CullFaceMode.disabled,c,i.id,t.layoutVertexBuffer,t.indexBuffer,n,i.paint,r.transform.zoom,t.programConfigurations.get(i.id),h)}function gi(t,n,i,r,o,a,s){const l=t.context.gl,c=i.paint.get("fill-pattern"),u=c&&c.constantOr(1);let h,d,p,f,m;s?(d=u&&!i.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",h=l.LINES):(d=u?"fillPattern":"fill",h=l.TRIANGLES);for(const g of r){const r=n.getTile(g);if(u&&!r.patternsLoaded())continue;const _=r.getBucket(i);if(!_)continue;t.prepareDrawTile();const y=_.programConfigurations.get(i.id),v=t.useProgram(d,y);u&&(t.context.activeTexture.set(l.TEXTURE0),r.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),y.updatePaintBuffers());const x=c.constantOr(null);if(x&&r.imageAtlas){const e=r.imageAtlas.patternPositions[x.toString()];e&&y.setConstantPatternPositions(e)}const b=t.translatePosMatrix(g.projMatrix,r,i.paint.get("fill-translate"),i.paint.get("fill-translate-anchor"));if(s){f=_.indexBuffer2,m=_.segments2;const e=t.terrain&&t.terrain.renderingToTexture?t.terrain.drapeBufferSize:[l.drawingBufferWidth,l.drawingBufferHeight];p="fillOutlinePattern"===d&&u?Nn(b,t,r,e):jn(b,e)}else f=_.indexBuffer,m=_.segments,p=u?Fn(b,t,r):Bn(b);t.prepareDrawProgram(t.context,v,g.toUnwrapped()),v.draw(t.context,h,o,t.stencilModeForClipping(g),a,e.CullFaceMode.disabled,p,i.id,_.layoutVertexBuffer,f,m,i.paint,t.transform.zoom,y)}}function _i(t,n,i,r,o,a,s){const l=t.context,c=l.gl,u=t.transform,h=i.paint.get("fill-extrusion-pattern"),d=h.constantOr(1),p=i.paint.get("fill-extrusion-opacity"),f=[i.paint.get("fill-extrusion-ambient-occlusion-intensity"),i.paint.get("fill-extrusion-ambient-occlusion-radius")],m=i.layout.get("fill-extrusion-edge-radius"),g=m>0&&!i.paint.get("fill-extrusion-rounded-roof"),_=g?0:m,y="globe"===u.projection.name?e.fillExtrusionHeightLift():0,v="globe"===u.projection.name,x=v?e.globeToMercatorTransition(u.zoom):0,b=[e.mercatorXfromLng(u.center.lng),e.mercatorYfromLat(u.center.lat)],w=[];v&&w.push("PROJECTION_GLOBE_VIEW"),f[0]>0&&w.push("FAUX_AO"),g&&w.push("ZERO_ROOF_RADIUS");for(const E of r){const r=n.getTile(E),m=r.getBucket(i);if(!m||m.projection.name!==u.projection.name)continue;const g=m.programConfigurations.get(i.id),T=t.useProgram(d?"fillExtrusionPattern":"fillExtrusion",g,w);if(t.terrain){const e=t.terrain;if(t.style.terrainSetForDrapingOnly())e.setupElevationDraw(r,T,{useMeterToDem:!0});else{if(!m.enableTerrain)continue;if(e.setupElevationDraw(r,T,{useMeterToDem:!0}),yi(l,n,E,m,i,e),!m.centroidVertexBuffer){const e=T.attributes.a_centroid_pos;void 0!==e&&c.vertexAttrib2f(e,0,0)}}}d&&(t.context.activeTexture.set(c.TEXTURE0),r.imageAtlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE),g.updatePaintBuffers());const k=h.constantOr(null);if(k&&r.imageAtlas){const e=r.imageAtlas.patternPositions[k.toString()];e&&g.setConstantPatternPositions(e)}const S=t.translatePosMatrix(E.projMatrix,r,i.paint.get("fill-extrusion-translate"),i.paint.get("fill-extrusion-translate-anchor")),C=u.projection.createInversionMatrix(u,E.canonical),M=i.paint.get("fill-extrusion-vertical-gradient"),z=d?Rn(S,t,M,p,f,_,E,r,y,x,b,C):On(S,t,M,p,f,_,E,y,x,b,C);t.prepareDrawProgram(l,T,E.toUnwrapped());const A=[];t.terrain&&A.push(m.centroidVertexBuffer),v&&A.push(m.layoutVertexExtBuffer),T.draw(l,l.gl.TRIANGLES,o,a,s,e.CullFaceMode.backCCW,z,i.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,i.paint,t.transform.zoom,g,A)}}function yi(t,n,i,r,o,a){const s=[t=>{let n=t.canonical.x-1,i=t.wrap;return n<0&&(n=(1<<t.canonical.z)-1,i--),new e.OverscaledTileID(t.overscaledZ,i,t.canonical.z,n,t.canonical.y)},t=>{let n=t.canonical.x+1,i=t.wrap;return n===1<<t.canonical.z&&(n=0,i++),new e.OverscaledTileID(t.overscaledZ,i,t.canonical.z,n,t.canonical.y)},t=>new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,(0===t.canonical.y?1<<t.canonical.z:t.canonical.y)-1),t=>new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y===(1<<t.canonical.z)-1?0:t.canonical.y+1)],l=e=>{const t=n.getSource().minzoom,i=e=>{const t=n.getTileByID(e);if(t&&t.hasData())return t.getBucket(o)},r=[0,-1,1];for(const n of r){if(e.overscaledZ+n<t)continue;const r=i(e.calculateScaledKey(e.overscaledZ+n));if(r)return r}},c=[0,0,0],u=(t,n)=>(c[0]=Math.min(t.min.y,n.min.y),c[1]=Math.max(t.max.y,n.max.y),c[2]=e.EXTENT-n.min.x>t.max.x?n.min.x-e.EXTENT:t.max.x,c),h=(t,n)=>(c[0]=Math.min(t.min.x,n.min.x),c[1]=Math.max(t.max.x,n.max.x),c[2]=e.EXTENT-n.min.y>t.max.y?n.min.y-e.EXTENT:t.max.y,c),d=[(e,t)=>u(e,t),(e,t)=>u(t,e),(e,t)=>h(e,t),(e,t)=>h(t,e)],p=new e.Point(0,0);let f,m,g;const _=(t,n,r,o,s)=>{const l=[[o?r:t,o?t:r,0],[o?r:n,o?n:r,0]],c=s<0?e.EXTENT+s:s,u=[o?c:(t+n)/2,o?(t+n)/2:c,0];return 0===r&&s<0||0!==r&&s>0?a.getForTilePoints(g,[u],!0,m):l.push(u),a.getForTilePoints(i,l,!0,f),Math.max(l[0][2],l[1][2],u[2])/a.exaggeration()};for(let y=0;y<4;y++){const t=(y<2?1:5)-y,n=r.borders[y];if(0===n.length)continue;const o=g=s[y](i),c=l(o);if(!(c&&c instanceof e.FillExtrusionBucket&&c.enableTerrain))continue;if(r.borderDoneWithNeighborZ[y]===c.canonical.z&&c.borderDoneWithNeighborZ[t]===r.canonical.z)continue;if(m=a.findDEMTileFor(o),!m||!m.dem)continue;if(!f){const e=a.findDEMTileFor(i);if(!e||!e.dem)return;f=e}const u=c.borders[t];let h=0;const v=c.borderDoneWithNeighborZ[t]!==r.canonical.z;if(r.canonical.z===c.canonical.z){for(let i=0;i<n.length;i++){const o=r.featuresOnBorder[n[i]],a=o.borders[y];let s;for(;h<u.length&&(s=c.featuresOnBorder[u[h]],!(s.borders[t][1]>a[0]+3));)v&&c.encodeCentroid(void 0,s,!1),h++;if(s&&h<u.length){const n=h;let i=0;for(;!(s.borders[t][0]>a[1]-3)&&(i++,++h!==u.length);)s=c.featuresOnBorder[u[h]];if(s=c.featuresOnBorder[u[n]],o.intersectsCount()>1||s.intersectsCount()>1||1!==i){1!==i&&(h=n),r.encodeCentroid(void 0,o,!1),v&&c.encodeCentroid(void 0,s,!1);continue}const l=d[y](o,s),f=y%2?e.EXTENT-1:0;p.x=_(l[0],Math.min(e.EXTENT-1,l[1]),f,y<2,l[2]),p.y=0,r.encodeCentroid(p,o,!1),v&&c.encodeCentroid(p,s,!1)}else r.encodeCentroid(void 0,o,!1)}r.borderDoneWithNeighborZ[y]=c.canonical.z,r.needsCentroidUpdate=!0,v&&(c.borderDoneWithNeighborZ[t]=r.canonical.z,c.needsCentroidUpdate=!0)}else{for(const e of n)r.encodeCentroid(void 0,r.featuresOnBorder[e],!1);if(v){for(const e of u)c.encodeCentroid(void 0,c.featuresOnBorder[e],!1);c.borderDoneWithNeighborZ[t]=r.canonical.z,c.needsCentroidUpdate=!0}r.borderDoneWithNeighborZ[y]=c.canonical.z,r.needsCentroidUpdate=!0}}(r.needsCentroidUpdate||!r.centroidVertexBuffer&&0!==r.centroidVertexArray.length)&&r.uploadCentroid(t)}const vi=new e.Color(1,0,0,1),xi=new e.Color(0,1,0,1),bi=new e.Color(0,0,1,1),wi=new e.Color(1,0,1,1),Ei=new e.Color(0,1,1,1);function Ti(t,n,i){const r=t.context,o=t.transform,a=r.gl,s="globe"===o.projection.name,l=s?["PROJECTION_GLOBE_VIEW"]:null;let c=i.projMatrix;if(s&&e.globeToMercatorTransition(o.zoom)>0){const t=e.transitionTileAABBinECEF(i.canonical,o),n=e.globeDenormalizeECEF(t);c=e.multiply(new Float32Array(16),o.globeMatrix,n),e.multiply(c,o.projMatrix,c)}const u=t.useProgram("debug",null,l),h=n.getTileByID(i.key);t.terrain&&t.terrain.setupElevationDraw(h,u);const d=e.DepthMode.disabled,p=e.StencilMode.disabled,f=t.colorModeForRenderPass(),m="$debug";r.activeTexture.set(a.TEXTURE0),t.emptyTexture.bind(a.LINEAR,a.CLAMP_TO_EDGE),s?h._makeGlobeTileDebugBuffers(t.context,o):h._makeDebugTileBoundsBuffers(t.context,o.projection);const g=h._tileDebugBuffer||t.debugBuffer,_=h._tileDebugIndexBuffer||t.debugIndexBuffer,y=h._tileDebugSegments||t.debugSegments;u.draw(r,a.LINE_STRIP,d,p,f,e.CullFaceMode.disabled,Wn(c,e.Color.red),m,g,_,y,null,null,null,[h._globeTileDebugBorderBuffer]);const v=h.latestRawTileData,x=Math.floor((v&&v.byteLength||0)/1024),b=n.getTile(i).tileSize,w=512/Math.min(b,512)*(i.overscaledZ/o.zoom)*.5;let E=i.canonical.toString();i.overscaledZ!==i.canonical.z&&(E+=" => ".concat(i.overscaledZ)),E+=" ".concat(x,"kb"),function(e,t){e.initDebugOverlayCanvas();const n=e.debugOverlayCanvas,i=e.context.gl,r=e.debugOverlayCanvas.getContext("2d");r.clearRect(0,0,n.width,n.height),r.shadowColor="white",r.shadowBlur=2,r.lineWidth=1.5,r.strokeStyle="white",r.textBaseline="top",r.font="bold 36px Open Sans, sans-serif",r.fillText(t,5,5),r.strokeText(t,5,5),e.debugOverlayTexture.update(n),e.debugOverlayTexture.bind(i.LINEAR,i.CLAMP_TO_EDGE)}(t,E);const T=h._tileDebugTextBuffer||t.debugBuffer,k=h._tileDebugTextIndexBuffer||t.quadTriangleIndexBuffer,S=h._tileDebugTextSegments||t.debugSegments;u.draw(r,a.TRIANGLES,d,p,e.ColorMode.alphaBlended,e.CullFaceMode.disabled,Wn(c,e.Color.transparent,w),m,T,k,S,null,null,null,[h._globeTileDebugTextBuffer])}function ki(e,t,n,i){Ci(e,0,t+n/2,e.transform.width,n,i)}function Si(e,t,n,i){Ci(e,t-n/2,0,n,e.transform.height,i)}function Ci(t,n,i,r,o,a){const s=t.context,l=s.gl;l.enable(l.SCISSOR_TEST),l.scissor(n*e.exported.devicePixelRatio,i*e.exported.devicePixelRatio,r*e.exported.devicePixelRatio,o*e.exported.devicePixelRatio),s.clear({color:a}),l.disable(l.SCISSOR_TEST)}const Mi=e.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:zi}=Mi;function Ai(e,t,n,i){e.emplaceBack(t,n,i)}class Pi{constructor(t){this.vertexArray=new e.StructArrayLayout3f12,this.indices=new e.StructArrayLayout3ui6,Ai(this.vertexArray,-1,-1,1),Ai(this.vertexArray,1,-1,1),Ai(this.vertexArray,-1,1,1),Ai(this.vertexArray,1,1,1),Ai(this.vertexArray,-1,-1,-1),Ai(this.vertexArray,1,-1,-1),Ai(this.vertexArray,-1,1,-1),Ai(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=t.createVertexBuffer(this.vertexArray,zi),this.indexBuffer=t.createIndexBuffer(this.indices),this.segment=e.SegmentVector.simpleSegment(0,0,36,12)}}function Ii(t,n,i,r,o,a){const s=t.gl,l=n.paint.get("sky-atmosphere-color"),c=n.paint.get("sky-atmosphere-halo-color"),u=n.paint.get("sky-atmosphere-sun-intensity"),h=((e,t,n,i,r)=>({u_matrix_3f:e,u_sun_direction:t,u_sun_intensity:n,u_color_tint_r:[i.r,i.g,i.b,i.a],u_color_tint_m:[r.r,r.g,r.b,r.a],u_luminance:5e-5}))(e.fromMat4(e.create$1(),r),o,u,l,c);s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_CUBE_MAP_POSITIVE_X+a,n.skyboxTexture,0),i.draw(t,s.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.frontCW,h,"skyboxCapture",n.skyboxGeometry.vertexBuffer,n.skyboxGeometry.indexBuffer,n.skyboxGeometry.segment)}const Li=e.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class Di{constructor(t){const n=new e.StructArrayLayout5f20;n.emplaceBack(-1,1,1,0,0),n.emplaceBack(1,1,1,1,0),n.emplaceBack(1,-1,1,1,1),n.emplaceBack(-1,-1,1,0,1);const i=new e.StructArrayLayout3ui6;i.emplaceBack(0,1,2),i.emplaceBack(2,3,0),this.vertexBuffer=t.createVertexBuffer(n,Li.members),this.indexBuffer=t.createIndexBuffer(i),this.segments=e.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const Oi={symbol:function(t,n,i,r,o){if("translucent"!==t.renderPass)return;const a=e.StencilMode.disabled,s=t.colorModeForRenderPass();i.layout.get("text-variable-anchor")&&function(t,n,i,r,o,a,s){const l=n.transform,c="map"===o,u="map"===a;for(const h of t){const t=r.getTile(h),n=t.getBucket(i);if(!n||!n.text||!n.text.segments.get().length)continue;const o=e.evaluateSizeForZoom(n.textSizeData,l.zoom),a=vt(h,n.getProjection(),l),d=l.calculatePixelsToTileUnitsMatrix(t),p=et(a,t.tileID.canonical,u,c,l,n.getProjection(),d),f="none"!==i.layout.get("icon-text-fit")&&n.hasIconData();if(o){const i=Math.pow(2,l.zoom-t.tileID.overscaledZ);di(n,c,u,s,e.symbolSize,l,p,h,i,o,f)}}}(r,t,i,n,i.layout.get("text-rotation-alignment"),i.layout.get("text-pitch-alignment"),o),0!==i.paint.get("icon-opacity").constantOr(1)&&fi(t,n,i,r,!1,i.paint.get("icon-translate"),i.paint.get("icon-translate-anchor"),i.layout.get("icon-rotation-alignment"),i.layout.get("icon-pitch-alignment"),i.layout.get("icon-keep-upright"),a,s),0!==i.paint.get("text-opacity").constantOr(1)&&fi(t,n,i,r,!0,i.paint.get("text-translate"),i.paint.get("text-translate-anchor"),i.layout.get("text-rotation-alignment"),i.layout.get("text-pitch-alignment"),i.layout.get("text-keep-upright"),a,s),n.map.showCollisionBoxes&&(ci(t,n,i,r,i.paint.get("text-translate"),i.paint.get("text-translate-anchor"),!0),ci(t,n,i,r,i.paint.get("icon-translate"),i.paint.get("icon-translate-anchor"),!1))},circle:function(t,n,i,r){if("translucent"!==t.renderPass)return;const o=i.paint.get("circle-opacity"),a=i.paint.get("circle-stroke-width"),s=i.paint.get("circle-stroke-opacity"),l=void 0!==i.layout.get("circle-sort-key").constantOr(1);if(0===o.constantOr(1)&&(0===a.constantOr(1)||0===s.constantOr(1)))return;const c=t.context,u=c.gl,h=t.transform,d=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),p=e.StencilMode.disabled,f=t.colorModeForRenderPass(),m="globe"===h.projection.name,g=[e.mercatorXfromLng(h.center.lng),e.mercatorYfromLat(h.center.lat)],_=[];for(let v=0;v<r.length;v++){const o=r[v],a=n.getTile(o),s=a.getBucket(i);if(!s||s.projection.name!==h.projection.name)continue;const c=s.programConfigurations.get(i.id),u=qn(i);m&&u.push("PROJECTION_GLOBE_VIEW");const d=t.useProgram("circle",c,u),p=s.layoutVertexBuffer,f=s.globeExtVertexBuffer,y=s.indexBuffer,x=h.projection.createInversionMatrix(h,o.canonical),b={programConfiguration:c,program:d,layoutVertexBuffer:p,globeExtVertexBuffer:f,indexBuffer:y,uniformValues:Vn(t,o,a,x,g,i),tile:a};if(l){const t=s.segments.get();for(const n of t)_.push({segments:new e.SegmentVector([n]),sortKey:n.sortKey,state:b})}else _.push({segments:s.segments,sortKey:0,state:b})}l&&_.sort(((e,t)=>e.sortKey-t.sortKey));const y={useDepthForOcclusion:!m};for(const v of _){const{programConfiguration:n,program:r,layoutVertexBuffer:o,globeExtVertexBuffer:a,indexBuffer:s,uniformValues:l,tile:m}=v.state,g=v.segments;t.terrain&&t.terrain.setupElevationDraw(m,r,y),t.prepareDrawProgram(c,r,m.tileID.toUnwrapped()),r.draw(c,u.TRIANGLES,d,p,f,e.CullFaceMode.disabled,l,i.id,o,s,g,i.paint,h.zoom,n,[a])}},heatmap:function(t,n,i,r){if(0!==i.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){const o=t.context,a=o.gl,s=e.StencilMode.disabled,l=new e.ColorMode([a.ONE,a.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,n,i){const r=e.gl,o=t.width*i,a=t.height*i;e.activeTexture.set(r.TEXTURE1),e.viewport.set([0,0,o,a]);let s=n.heatmapFbo;if(!s||s&&(s.width!==o||s.height!==a)){s&&s.destroy();const t=r.createTexture();r.bindTexture(r.TEXTURE_2D,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),s=n.heatmapFbo=e.createFramebuffer(o,a,!1),function(e,t,n,i,r,o){const a=e.gl;a.texImage2D(a.TEXTURE_2D,0,e.isWebGL2&&e.extRenderToTextureHalfFloat?a.RGBA16F:a.RGBA,r,o,0,a.RGBA,e.extRenderToTextureHalfFloat?e.isWebGL2?a.HALF_FLOAT:e.extTextureHalfFloat.HALF_FLOAT_OES:a.UNSIGNED_BYTE,null),i.colorAttachment.set(n)}(e,0,t,s,o,a)}else r.bindTexture(r.TEXTURE_2D,s.colorAttachment.get()),e.bindFramebuffer.set(s.framebuffer)}(o,t,i,"globe"===t.transform.projection.name?.5:.25),o.clear({color:e.Color.transparent});const c=t.transform,u="globe"===c.projection.name,h=u?["PROJECTION_GLOBE_VIEW"]:null,d=u?e.CullFaceMode.frontCCW:e.CullFaceMode.disabled,p=[e.mercatorXfromLng(c.center.lng),e.mercatorYfromLat(c.center.lat)];for(let f=0;f<r.length;f++){const m=r[f];if(n.hasRenderableParent(m))continue;const g=n.getTile(m),_=g.getBucket(i);if(!_||_.projection.name!==c.projection.name)continue;const y=_.programConfigurations.get(i.id),v=t.useProgram("heatmap",y,h),{zoom:x}=t.transform;t.terrain&&t.terrain.setupElevationDraw(g,v),t.prepareDrawProgram(o,v,m.toUnwrapped());const b=c.projection.createInversionMatrix(c,m.canonical);v.draw(o,a.TRIANGLES,e.DepthMode.disabled,s,l,d,Hn(t,m,g,b,p,x,i.paint.get("heatmap-intensity")),i.id,_.layoutVertexBuffer,_.indexBuffer,_.segments,i.paint,t.transform.zoom,y,u?[_.globeExtVertexBuffer]:null)}o.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,n){const i=t.context,r=i.gl,o=n.heatmapFbo;if(!o)return;i.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,o.colorAttachment.get()),i.activeTexture.set(r.TEXTURE1);let a=n.colorRampTexture;a||(a=n.colorRampTexture=new e.Texture(i,n.colorRamp,r.RGBA)),a.bind(r.LINEAR,r.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(i,r.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,((e,t,n,i)=>({u_image:0,u_color_ramp:1,u_opacity:t.paint.get("heatmap-opacity")}))(0,n),n.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,n.paint,t.transform.zoom)}(t,i))},line:function(t,n,i,r){if("translucent"!==t.renderPass)return;const o=i.paint.get("line-opacity"),a=i.paint.get("line-width");if(0===o.constantOr(1)||0===a.constantOr(1))return;const s=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),l=t.colorModeForRenderPass(),c=t.terrain&&t.terrain.renderingToTexture?1:e.exported.devicePixelRatio,u=i.paint.get("line-dasharray"),h=u.constantOr(1),d=i.layout.get("line-cap"),p=i.paint.get("line-pattern"),f=p.constantOr(1),m=i.paint.get("line-gradient"),g=f?"linePattern":"line",_=t.context,y=_.gl,v=(e=>{const t=[];$n(e)&&t.push("RENDER_LINE_DASH"),e.paint.get("line-gradient")&&t.push("RENDER_LINE_GRADIENT");const n=e.paint.get("line-trim-offset");0===n[0]&&0===n[1]||t.push("RENDER_LINE_TRIM_OFFSET");const i=e.paint.get("line-pattern").constantOr(1),r=1!==e.paint.get("line-opacity").constantOr(1);return!i&&r&&t.push("RENDER_LINE_ALPHA_DISCARD"),t})(i);let x=v.includes("RENDER_LINE_ALPHA_DISCARD");t.terrain&&t.terrain.clipOrMaskOverlapStencilType()&&(x=!1);for(const b of r){const r=n.getTile(b);if(f&&!r.patternsLoaded())continue;const o=r.getBucket(i);if(!o)continue;t.prepareDrawTile();const a=o.programConfigurations.get(i.id),w=t.useProgram(g,a,v),E=p.constantOr(null);if(E&&r.imageAtlas){const e=r.imageAtlas.patternPositions[E.toString()];e&&a.setConstantPatternPositions(e)}const T=u.constantOr(null),k=d.constantOr(null);if(!f&&T&&k&&r.lineAtlas){const e=r.lineAtlas.getDash(T,k);e&&a.setConstantPatternPositions(e)}let[S,C]=i.paint.get("line-trim-offset");if("round"===k||"square"===k){const e=1;S!==C&&(0===S&&(S-=e),1===C&&(C+=e))}const M=t.terrain?b.projMatrix:null,z=f?Kn(t,r,i,M,c):Xn(t,r,i,M,o.lineClipsArray.length,c,[S,C]);if(m){const r=o.gradients[i.id];let a=r.texture;if(i.gradientVersion!==r.version){let s=256;if(i.stepInterpolant){const i=n.getSource().maxzoom,r=b.canonical.z===i?Math.ceil(1<<t.transform.maxZoom-b.canonical.z):1;s=e.clamp(e.nextPowerOfTwo(o.maxLineLength/e.EXTENT*1024*r),256,_.maxTextureSize)}r.gradient=e.renderColorRamp({expression:i.gradientExpression(),evaluationKey:"lineProgress",resolution:s,image:r.gradient||void 0,clips:o.lineClipsArray}),r.texture?r.texture.update(r.gradient):r.texture=new e.Texture(_,r.gradient,y.RGBA),r.version=i.gradientVersion,a=r.texture}_.activeTexture.set(y.TEXTURE1),a.bind(i.stepInterpolant?y.NEAREST:y.LINEAR,y.CLAMP_TO_EDGE)}h&&(_.activeTexture.set(y.TEXTURE0),r.lineAtlasTexture.bind(y.LINEAR,y.REPEAT),a.updatePaintBuffers()),f&&(_.activeTexture.set(y.TEXTURE0),r.imageAtlasTexture.bind(y.LINEAR,y.CLAMP_TO_EDGE),a.updatePaintBuffers()),t.prepareDrawProgram(_,w,b.toUnwrapped());const A=n=>{w.draw(_,y.TRIANGLES,s,n,l,e.CullFaceMode.disabled,z,i.id,o.layoutVertexBuffer,o.indexBuffer,o.segments,i.paint,t.transform.zoom,a,[o.layoutVertexBuffer2])};if(x){const n=t.stencilModeForClipping(b).ref;0===n&&t.terrain&&_.clear({stencil:0});const i={func:y.EQUAL,mask:255};z.u_alpha_discard_threshold=.8,A(new e.StencilMode(i,n,255,y.KEEP,y.KEEP,y.INVERT)),z.u_alpha_discard_threshold=0,A(new e.StencilMode(i,n,255,y.KEEP,y.KEEP,y.KEEP))}else A(t.stencilModeForClipping(b))}x&&(t.resetStencilClippingMasks(),t.terrain&&_.clear({stencil:0}))},fill:function(t,n,i,r){const o=i.paint.get("fill-color"),a=i.paint.get("fill-opacity");if(0===a.constantOr(1))return;const s=t.colorModeForRenderPass(),l=i.paint.get("fill-pattern"),c=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===o.constantOr(e.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(t.renderPass===c){const o=t.depthModeForSublayer(1,"opaque"===t.renderPass?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly);gi(t,n,i,r,o,s,!1)}if("translucent"===t.renderPass&&i.paint.get("fill-antialias")){const o=t.depthModeForSublayer(i.getPaintProperty("fill-outline-color")?2:0,e.DepthMode.ReadOnly);gi(t,n,i,r,o,s,!0)}},"fill-extrusion":function(t,n,i,r){const o=i.paint.get("fill-extrusion-opacity");if(0!==o&&"translucent"===t.renderPass){const a=new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);if(1!==o||i.paint.get("fill-extrusion-pattern").constantOr(1))_i(t,n,i,r,a,e.StencilMode.disabled,e.ColorMode.disabled),_i(t,n,i,r,a,t.stencilModeFor3D(),t.colorModeForRenderPass()),t.resetStencilClippingMasks();else{const o=t.colorModeForRenderPass();_i(t,n,i,r,a,e.StencilMode.disabled,o)}}},hillshade:function(t,n,i,r){if("offscreen"!==t.renderPass&&"translucent"!==t.renderPass)return;const o=t.context,a=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),s=t.colorModeForRenderPass(),l=t.terrain&&t.terrain.renderingToTexture,[c,u]="translucent"!==t.renderPass||l?[{},r]:t.stencilConfigForOverlap(r);for(const h of u){const r=n.getTile(h);if(r.needsHillshadePrepare&&"offscreen"===t.renderPass)_n(t,r,i,a,e.StencilMode.disabled,s);else if("translucent"===t.renderPass){const e=l&&t.terrain?t.terrain.stencilModeForRTTOverlap(h):c[h.overscaledZ];mn(t,h,r,i,a,e,s)}}o.viewport.set([0,0,t.width,t.height]),t.resetStencilClippingMasks()},raster:function(t,n,i,r,o,a){if("translucent"!==t.renderPass)return;if(0===i.paint.get("raster-opacity"))return;if(!r.length)return;const s=t.context,l=s.gl,c=n.getSource(),u=t.useProgram("raster"),h=t.colorModeForRenderPass(),d=t.terrain&&t.terrain.renderingToTexture,[p,f]=c instanceof Me||d?[{},r]:t.stencilConfigForOverlap(r),m=f[f.length-1].overscaledZ,g=!t.options.moving;for(const _ of f){const r=d?e.DepthMode.disabled:t.depthModeForSublayer(_.overscaledZ-m,1===i.paint.get("raster-opacity")?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly,l.LESS),o=_.toUnwrapped(),f=n.getTile(_);if(d&&(!f||!f.hasData()))continue;const y=d?_.projMatrix:t.transform.calculateProjMatrix(o,g),v=t.terrain&&d?t.terrain.stencilModeForRTTOverlap(_):p[_.overscaledZ],x=a?0:i.paint.get("raster-fade-duration");f.registerFadeDuration(x);const b=n.findLoadedParent(_,0),w=Cn(f,b,n,t.transform,x);let E,T;t.terrain&&t.terrain.prepareDrawTile();const k="nearest"===i.paint.get("raster-resampling")?l.NEAREST:l.LINEAR;s.activeTexture.set(l.TEXTURE0),f.texture.bind(k,l.CLAMP_TO_EDGE),s.activeTexture.set(l.TEXTURE1),b?(b.texture.bind(k,l.CLAMP_TO_EDGE),E=Math.pow(2,b.tileID.overscaledZ-f.tileID.overscaledZ),T=[f.tileID.canonical.x*E%1,f.tileID.canonical.y*E%1]):f.texture.bind(k,l.CLAMP_TO_EDGE),f.texture.useMipmap&&s.extTextureFilterAnisotropic&&t.transform.pitch>20&&l.texParameterf(l.TEXTURE_2D,s.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,s.extTextureFilterAnisotropicMax);const S=Qn(y,T||[0,0],E||1,w,i,c instanceof Me?c.perspectiveTransform:[0,0]);if(t.prepareDrawProgram(s,u,o),c instanceof Me)c.boundsBuffer&&c.boundsSegments&&u.draw(s,l.TRIANGLES,r,e.StencilMode.disabled,h,e.CullFaceMode.disabled,S,i.id,c.boundsBuffer,t.quadTriangleIndexBuffer,c.boundsSegments);else{const{tileBoundsBuffer:n,tileBoundsIndexBuffer:o,tileBoundsSegments:a}=t.getTileBoundsBuffers(f);u.draw(s,l.TRIANGLES,r,v,h,e.CullFaceMode.disabled,S,i.id,n,o,a)}}t.resetStencilClippingMasks()},background:function(t,n,i,r){const o=i.paint.get("background-color"),a=i.paint.get("background-opacity");if(0===a)return;const s=t.context,l=s.gl,c=t.transform,u=c.tileSize,h=i.paint.get("background-pattern");if(t.isPatternMissing(h))return;const d=!h&&1===o.a&&1===a&&t.opaquePassEnabledForLayer()?"opaque":"translucent";if(t.renderPass!==d)return;const p=e.StencilMode.disabled,f=t.depthModeForSublayer(0,"opaque"===d?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly),m=t.colorModeForRenderPass(),g=t.useProgram(h?"backgroundPattern":"background");let _,y=r;y||(_=t.getBackgroundTiles(),y=Object.values(_).map((e=>e.tileID))),h&&(s.activeTexture.set(l.TEXTURE0),t.imageManager.bind(t.context));for(const v of y){const d=v.toUnwrapped(),y=r?v.projMatrix:t.transform.calculateProjMatrix(d);t.prepareDrawTile();const x=n?n.getTile(v):_?_[v.key]:new e.Tile(v,u,c.zoom,t),b=h?ai(y,a,t,h,{tileID:v,tileSize:u}):oi(y,a,o);t.prepareDrawProgram(s,g,d);const{tileBoundsBuffer:w,tileBoundsIndexBuffer:E,tileBoundsSegments:T}=t.getTileBoundsBuffers(x);g.draw(s,l.TRIANGLES,f,p,m,e.CullFaceMode.disabled,b,i.id,w,E,T)}},sky:function(t,n,i){const r=t.transform,o="mercator"===r.projection.name||"globe"===r.projection.name?1:e.smoothstep(7,8,r.zoom),a=i.paint.get("sky-opacity")*o;if(0===a)return;const s=t.context,l=i.paint.get("sky-type"),c=new e.DepthMode(s.gl.LEQUAL,e.DepthMode.ReadOnly,[0,1]),u=t.frameCounter/1e3%1;"atmosphere"===l?"offscreen"===t.renderPass?i.needsSkyboxCapture(t)&&(function(t,n,i,r){const o=t.context,a=o.gl;let s=n.skyboxFbo;if(!s){s=n.skyboxFbo=o.createFramebuffer(32,32,!1),n.skyboxGeometry=new Pi(o),n.skyboxTexture=o.gl.createTexture(),a.bindTexture(a.TEXTURE_CUBE_MAP,n.skyboxTexture),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MAG_FILTER,a.LINEAR);for(let e=0;e<6;++e)a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,a.RGBA,32,32,0,a.RGBA,a.UNSIGNED_BYTE,null)}o.bindFramebuffer.set(s.framebuffer),o.viewport.set([0,0,32,32]);const l=n.getCenter(t,!0),c=t.useProgram("skyboxCapture"),u=new Float64Array(16);e.identity(u),e.rotateY(u,u,.5*-Math.PI),Ii(o,n,c,u,l,0),e.identity(u),e.rotateY(u,u,.5*Math.PI),Ii(o,n,c,u,l,1),e.identity(u),e.rotateX(u,u,.5*-Math.PI),Ii(o,n,c,u,l,2),e.identity(u),e.rotateX(u,u,.5*Math.PI),Ii(o,n,c,u,l,3),e.identity(u),Ii(o,n,c,u,l,4),e.identity(u),e.rotateY(u,u,Math.PI),Ii(o,n,c,u,l,5),o.viewport.set([0,0,t.width,t.height])}(t,i),i.markSkyboxValid(t)):"sky"===t.renderPass&&function(t,n,i,r,o){const a=t.context,s=a.gl,l=t.transform,c=t.useProgram("skybox");a.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_CUBE_MAP,n.skyboxTexture);const u=((e,t,n,i,r)=>({u_matrix:e,u_sun_direction:t,u_cubemap:0,u_opacity:i,u_temporal_offset:r}))(l.skyboxMatrix,n.getCenter(t,!1),0,r,o);t.prepareDrawProgram(a,c),c.draw(a,s.TRIANGLES,i,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,u,"skybox",n.skyboxGeometry.vertexBuffer,n.skyboxGeometry.indexBuffer,n.skyboxGeometry.segment)}(t,i,c,a,u):"gradient"===l&&"sky"===t.renderPass&&function(t,n,i,r,o){const a=t.context,s=a.gl,l=t.transform,c=t.useProgram("skyboxGradient");n.skyboxGeometry||(n.skyboxGeometry=new Pi(a)),a.activeTexture.set(s.TEXTURE0);let u=n.colorRampTexture;u||(u=n.colorRampTexture=new e.Texture(a,n.colorRamp,s.RGBA)),u.bind(s.LINEAR,s.CLAMP_TO_EDGE);const h=((t,n,i,r,o)=>({u_matrix:t,u_color_ramp:0,u_center_direction:n,u_radius:e.degToRad(i),u_opacity:r,u_temporal_offset:o}))(l.skyboxMatrix,n.getCenter(t,!1),n.paint.get("sky-gradient-radius"),r,o);t.prepareDrawProgram(a,c),c.draw(a,s.TRIANGLES,i,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,h,"skyboxGradient",n.skyboxGeometry.vertexBuffer,n.skyboxGeometry.indexBuffer,n.skyboxGeometry.segment)}(t,i,c,a,u)},debug:function(e,t,n){for(let i=0;i<n.length;i++)Ti(e,t,n[i])},custom:function(t,n,i,r){const o=t.context,a=i.implementation;if(!t.transform.projection.unsupportedLayers||!t.transform.projection.unsupportedLayers.includes("custom")||t.terrain&&(t.terrain.renderingToTexture||"offscreen"===t.renderPass)&&i.isLayerDraped()){if("offscreen"===t.renderPass){const n=a.prerender;if(n){if(t.setCustomLayerDefaults(),o.setColorMode(t.colorModeForRenderPass()),"globe"===t.transform.projection.name){const i=t.transform.pointMerc;n.call(a,o.gl,t.transform.customLayerMatrix(),t.transform.getProjection(),t.transform.globeToMercatorMatrix(),e.globeToMercatorTransition(t.transform.zoom),[i.x,i.y],t.transform.pixelsPerMeterRatio)}else n.call(a,o.gl,t.transform.customLayerMatrix());o.setDirty(),t.setBaseState()}}else if("translucent"===t.renderPass){if(t.terrain&&t.terrain.renderingToTexture){const n=a.renderToTile;if(n){const i=r[0].canonical,s=new e.MercatorCoordinate(i.x+r[0].wrap*(1<<i.z),i.y,i.z);o.setDepthMode(e.DepthMode.disabled),o.setStencilMode(e.StencilMode.disabled),o.setColorMode(t.colorModeForRenderPass()),t.setCustomLayerDefaults(),n.call(a,o.gl,s),o.setDirty(),t.setBaseState()}return}t.setCustomLayerDefaults(),o.setColorMode(t.colorModeForRenderPass()),o.setStencilMode(e.StencilMode.disabled);const n="3d"===a.renderingMode?new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,e.DepthMode.ReadOnly);if(o.setDepthMode(n),"globe"===t.transform.projection.name){const n=t.transform.pointMerc;a.render(o.gl,t.transform.customLayerMatrix(),t.transform.getProjection(),t.transform.globeToMercatorMatrix(),e.globeToMercatorTransition(t.transform.zoom),[n.x,n.y],t.transform.pixelsPerMeterRatio)}else a.render(o.gl,t.transform.customLayerMatrix());o.setDirty(),t.setBaseState(),o.bindFramebuffer.set(null)}}else e.warnOnce("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")}};class Ri{constructor(t,n){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.context=new Te(t,i),this.transform=n,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=e.SourceCache.maxUnderzooming+e.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(e,t){const n=!!e&&!!e.terrain&&this.transform.projection.supportsTerrain;if(!(n||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new Pn(this,e));const i=this._terrain;this.transform.elevation=n?i:null,i.update(e,this.transform,t)}_updateFog(e){const t=e.fog;if(!t||"globe"===this.transform.projection.name||t.getOpacity(this.transform.pitch)<1||t.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[n,i]=t.getFovAdjustedRange(this.transform._fov);if(n>i)return void(this.transform.fogCullDistSq=null);const r=n+.78*(i-n);this.transform.fogCullDistSq=r*r}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(t,n){if(this.width=t*e.exported.devicePixelRatio,this.height=n*e.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const e of this.style.order)this.style._layers[e].resize()}setup(){const t=this.context,n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(n,e.posAttributes.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);const i=new e.StructArrayLayout2i4;i.emplaceBack(0,0),i.emplaceBack(e.EXTENT,0),i.emplaceBack(0,e.EXTENT),i.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(i,e.posAttributes.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);const r=new e.StructArrayLayout2i4;r.emplaceBack(-1,-1),r.emplaceBack(1,-1),r.emplaceBack(-1,1),r.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(r,e.posAttributes.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);const o=new e.StructArrayLayout4i8;o.emplaceBack(0,0,0,0),o.emplaceBack(e.EXTENT,0,e.EXTENT,0),o.emplaceBack(0,e.EXTENT,0,e.EXTENT),o.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.mercatorBoundsBuffer=t.createVertexBuffer(o,e.boundsAttributes.members),this.mercatorBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);const a=new e.StructArrayLayout3ui6;a.emplaceBack(0,1,2),a.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(a);const s=new e.StructArrayLayout1ui2;for(const e of[0,1,3,2,0])s.emplaceBack(e);this.debugIndexBuffer=t.createIndexBuffer(s),this.emptyTexture=new e.Texture(t,new e.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),t.gl.RGBA),this.identityMat=e.create();const l=this.context.gl;this.stencilClearMode=new e.StencilMode({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO),this.loadTimeStamps.push(e.window.performance.now()),this.atmosphereBuffer=new Di(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(e){return e._makeTileBoundsBuffers(this.context,this.transform.projection),e._tileBoundsBuffer?{tileBoundsBuffer:e._tileBoundsBuffer,tileBoundsIndexBuffer:e._tileBoundsIndexBuffer,tileBoundsSegments:e._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const t=this.context,n=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(t,n.TRIANGLES,e.DepthMode.disabled,this.stencilClearMode,e.ColorMode.disabled,e.CullFaceMode.disabled,Sn(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(t,n,i){if(!n||this.currentStencilSource===n.id||!t.isTileClipped()||!i||0===i.length)return;if(this._tileClippingMaskIDs&&!this.terrain){let e=!1;for(const t of i)if(void 0===this._tileClippingMaskIDs[t.key]){e=!0;break}if(!e)return}this.currentStencilSource=n.id;const r=this.context,o=r.gl;this.nextStencilID+i.length>256&&this.clearStencil(),r.setColorMode(e.ColorMode.disabled),r.setDepthMode(e.DepthMode.disabled);const a=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const s of i){const t=n.getTile(s),i=this._tileClippingMaskIDs[s.key]=this.nextStencilID++,{tileBoundsBuffer:l,tileBoundsIndexBuffer:c,tileBoundsSegments:u}=this.getTileBoundsBuffers(t);a.draw(r,o.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:o.ALWAYS,mask:0},i,255,o.KEEP,o.KEEP,o.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,Sn(s.projMatrix),"$clipping",l,c,u)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const t=this.nextStencilID++,n=this.context.gl;return new e.StencilMode({func:n.NOTEQUAL,mask:255},t,255,n.KEEP,n.KEEP,n.REPLACE)}stencilModeForClipping(t){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(t);const n=this.context.gl;return new e.StencilMode({func:n.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,n.KEEP,n.KEEP,n.REPLACE)}stencilConfigForOverlap(t){const n=this.context.gl,i=t.sort(((e,t)=>t.overscaledZ-e.overscaledZ)),r=i[i.length-1].overscaledZ,o=i[0].overscaledZ-r+1;if(o>1){this.currentStencilSource=void 0,this.nextStencilID+o>256&&this.clearStencil();const t={};for(let i=0;i<o;i++)t[i+r]=new e.StencilMode({func:n.GEQUAL,mask:255},i+this.nextStencilID,255,n.KEEP,n.KEEP,n.REPLACE);return this.nextStencilID+=o,[t,i]}return[{[r]:e.StencilMode.disabled},i]}colorModeForRenderPass(){const t=this.context.gl;if(this._showOverdrawInspector){const n=1/8;return new e.ColorMode([t.CONSTANT_COLOR,t.ONE],new e.Color(n,n,n,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?e.ColorMode.unblended:e.ColorMode.alphaBlended}depthModeForSublayer(t,n,i){if(!this.opaquePassEnabledForLayer())return e.DepthMode.disabled;const r=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new e.DepthMode(i||this.context.gl.LEQUAL,n,[r,r])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(t,n){this.style=t,this.options=n,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.exported.now()),this.imageManager.beginFrame();const i=this.style.order,r=this.style._sourceCaches;for(const e in r){const t=r[e];t.used&&t.prepare(this.context)}const o={},a={},s={};for(const e in r){const t=r[e];o[e]=t.getVisibleCoordinates(),a[e]=o[e].slice().reverse(),s[e]=t.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let e=0;e<i.length;e++)if(this.style._layers[i[e]].is3D()){this.opaquePassCutoff=e;break}if(this.terrain&&(this.terrain.updateTileBinding(s),this.opaquePassCutoff=0),"globe"!==this.transform.projection.name||this.globeSharedBuffers||(this.globeSharedBuffers=new e.GlobeSharedBuffers(this.context)),!e.isMapAuthenticated(this.context.gl))return;this.renderPass="offscreen";for(const e of i){const n=this.style._layers[e],i=t._getLayerSourceCache(n);if(!n.hasOffscreenPass()||n.isHidden(this.transform.zoom))continue;const r=i?a[i.id]:void 0;("custom"===n.type||n.isSky()||r&&r.length)&&this.renderLayer(this,i,n,r)}this.depthRangeFor3D=[0,1-(t.order.length+2)*this.numSublayers*this.depthEpsilon];const l=this.terrain;if(l&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&l.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:n.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=i.length-1;this.currentLayer>=0;this.currentLayer--){const e=this.style._layers[i[this.currentLayer]],n=t._getLayerSourceCache(e);if(e.isSky())continue;const r=n?a[n.id]:void 0;this._renderTileClippingMasks(e,n,r),this.renderLayer(this,n,e,r)}if(this.style.fog&&this.transform.projection.supportsFog&&function(t,n){const i=t.context,r=i.gl,o=t.transform,a=new e.DepthMode(r.LEQUAL,e.DepthMode.ReadOnly,[0,1]),s=t.useProgram("globeAtmosphere",null,"globe"===o.projection.name?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),l=e.globeToMercatorTransition(o.zoom),c=n.properties.get("color").toArray01(),u=n.properties.get("high-color").toArray01(),h=n.properties.get("space-color").toArray01PremultipliedAlpha(),d=e.identity$1([]);e.rotateY$1(d,d,-e.degToRad(o._center.lng)),e.rotateX$1(d,d,e.degToRad(o._center.lat)),e.rotateZ$1(d,d,o.angle),e.rotateX$1(d,d,-o._pitch);const p=e.fromQuat(new Float32Array(16),d),f=e.mapValue(n.properties.get("star-intensity"),0,1,0,.25),m=5e-4,g=e.mapValue(n.properties.get("horizon-blend"),0,1,m,.25),_=e.globeUseCustomAntiAliasing(t,i,o)&&g===m?o.worldSize/(2*Math.PI*1.025)-1:o.globeRadius,y=t.frameCounter/1e3%1,v=e.length(o.globeCenterInViewSpace),x=Math.sqrt(Math.pow(v,2)-Math.pow(_,2)),b=Math.acos(x/v),w=((t,n,i,r,o,a,s,l,c,u,h,d,p,f)=>({u_frustum_tl:t,u_frustum_tr:n,u_frustum_br:i,u_frustum_bl:r,u_horizon:o,u_transition:a,u_fadeout_range:s,u_color:l,u_high_color:c,u_space_color:u,u_star_intensity:h,u_star_size:5*e.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:d,u_horizon_angle:p,u_rotation_matrix:f}))(o.frustumCorners.TL,o.frustumCorners.TR,o.frustumCorners.BR,o.frustumCorners.BL,o.frustumCorners.horizon,l,g,c,u,h,f,y,b,p);t.prepareDrawProgram(i,s);const E=t.atmosphereBuffer;E&&s.draw(i,r.TRIANGLES,a,e.StencilMode.disabled,e.ColorMode.alphaBlended,e.CullFaceMode.backCW,w,"skybox",E.vertexBuffer,E.indexBuffer,E.segments)}(this,this.style.fog),this.renderPass="sky",(e.globeToMercatorTransition(this.transform.zoom)>0||"globe"!==this.transform.projection.name)&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){const e=this.style._layers[i[this.currentLayer]],n=t._getLayerSourceCache(e);e.isSky()&&this.renderLayer(this,n,e,n?a[n.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<i.length;){const e=this.style._layers[i[this.currentLayer]],n=t._getLayerSourceCache(e);if(e.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(e)){if(e.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const r=n?("symbol"===e.type?s:a)[n.id]:void 0;this._renderTileClippingMasks(e,n,n?o[n.id]:void 0),this.renderLayer(this,n,e,r),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let n=null;e.values(this.style._layers).forEach((e=>{const i=t._getLayerSourceCache(e);i&&!e.isHidden(this.transform.zoom)&&(!n||n.getSource().maxzoom<i.getSource().maxzoom)&&(n=i)})),n&&this.options.showTileBoundaries&&Oi.debug(this,n,n.getVisibleCoordinates())}this.options.showPadding&&function(e){const t=e.transform.padding;ki(e,e.transform.height-(t.top||0),3,vi),ki(e,t.bottom||0,3,xi),Si(e,t.left||0,3,bi),Si(e,e.transform.width-(t.right||0),3,wi);const n=e.transform.centerPoint;!function(e,t,n,i){Ci(e,t-1,n-10,2,20,i),Ci(e,t-10,n-1,20,2,i)}(e,n.x,e.transform.height-n.y,Ei)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(e.window.performance.now()),this.saveCanvasCopy())}renderLayer(e,t,n,i){n.isHidden(this.transform.zoom)||("background"===n.type||"sky"===n.type||"custom"===n.type||i&&i.length)&&(this.id=n.id,this.gpuTimingStart(n),(!e.transform.projection.unsupportedLayers||!e.transform.projection.unsupportedLayers.includes(n.type)||e.terrain&&"custom"===n.type)&&Oi[n.type](e,t,n,i,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(e){if(!this.options.gpuTiming)return;const t=this.context.extTimerQuery;let n=this.gpuTimers[e.id];n||(n=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),n.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,n.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const e=this.context.extTimerQuery,t=e.createQueryEXT();this.deferredRenderGpuTimeQueries.push(t),e.beginQueryEXT(e.TIME_ELAPSED_EXT,t)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}collectGpuTimers(){const e=this.gpuTimers;return this.gpuTimers={},e}collectDeferredRenderGpuQueries(){const e=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],e}queryGpuTimers(e){const t={};for(const n in e){const i=e[n],r=this.context.extTimerQuery,o=r.getQueryObjectEXT(i.query,r.QUERY_RESULT_EXT)/1e6;r.deleteQueryEXT(i.query),t[n]=o}return t}queryGpuTimeDeferredRender(e){if(!this.options.gpuTimingDeferredRender)return 0;const t=this.context.extTimerQuery;let n=0;for(const i of e)n+=t.getQueryObjectEXT(i,t.QUERY_RESULT_EXT)/1e6,t.deleteQueryEXT(i);return n}translatePosMatrix(t,n,i,r,o){if(!i[0]&&!i[1])return t;const a=o?"map"===r?this.transform.angle:0:"viewport"===r?-this.transform.angle:0;if(a){const e=Math.sin(a),t=Math.cos(a);i=[i[0]*t-i[1]*e,i[0]*e+i[1]*t]}const s=[o?i[0]:A(n,i[0],this.transform.zoom),o?i[1]:A(n,i[1],this.transform.zoom),0],l=new Float32Array(16);return e.translate(l,t,s),l}saveTileTexture(e){const t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]}getTileTexture(e){const t=this._tileTextures[e];return t&&t.length>0?t.pop():null}isPatternMissing(e){return null===e||void 0!==e&&!this.imageManager.getPattern(e.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const e=this.terrain&&this.terrain.renderingToTexture,t=this.terrain&&0===this.terrain.exaggeration(),n=this.style&&this.style.fog,i=[];return this.terrainRenderModeElevated()&&i.push("TERRAIN"),"globe"===this.transform.projection.name&&i.push("GLOBE"),t&&i.push("ZERO_EXAGGERATION"),n&&!e&&0!==n.getOpacity(this.transform.pitch)&&i.push("FOG"),e&&i.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&i.push("OVERDRAW_INSPECTOR"),i}useProgram(e,t,n){this.cache=this.cache||{};const i=n||[],r=this.currentGlobalDefines().concat(i),o=In.cacheKey(un[e],e,r,t);return this.cache[o]||(this.cache[o]=new In(this.context,e,un[e],t,si[e],r)),this.cache[o]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=e.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new e.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(t,n,i){if(this.terrain&&this.terrain.renderingToTexture)return;const r=this.style.fog;if(r){const o=r.getOpacity(this.transform.pitch),a=((t,n,i,r,o,a,s,l,c,u,h)=>{const d=t.transform,p=n.properties.get("color").toArray01();p[3]=r;const f=t.frameCounter/1e3%1;return{u_fog_matrix:i?d.calculateFogTileMatrix(i):t.identityMat,u_fog_range:n.getFovAdjustedRange(d._fov),u_fog_color:p,u_fog_horizon_blend:n.properties.get("horizon-blend"),u_fog_temporal_offset:f,u_frustum_tl:o,u_frustum_tr:a,u_frustum_br:s,u_frustum_bl:l,u_globe_pos:c,u_globe_radius:u,u_viewport:h,u_globe_transition:e.globeToMercatorTransition(d.zoom),u_is_globe:+("globe"===d.projection.name)}})(this,r,i,o,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*e.exported.devicePixelRatio,this.transform.height*e.exported.devicePixelRatio]);n.setFogUniformValues(t,a)}}setTileLoadedFlag(e){this.tileLoaded=e}saveCanvasCopy(){const e=this.canvasCopy();e&&(this.frameCopies.push(e),this.tileLoaded=!1)}canvasCopy(){const e=this.context.gl,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,0,0,e.drawingBufferWidth,e.drawingBufferHeight,0),t}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const e=this.style&&this.style.fog;return!!e&&0!==e.getOpacity(this.transform.pitch)}getBackgroundTiles(){const t=this._backgroundTiles,n=this._backgroundTiles={},i=this.transform.coveringTiles({tileSize:512});for(const r of i)n[r.key]=t[r.key]||new e.Tile(r,512,this.transform.tileZoom,this);return n}clearBackgroundTiles(){this._backgroundTiles={}}}class Bi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(isNaN(e)||e<0||isNaN(t)||t<0||isNaN(n)||n<0||isNaN(i)||i<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=n,this.right=i}interpolate(t,n,i){return null!=n.top&&null!=t.top&&(this.top=e.number(t.top,n.top,i)),null!=n.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,n.bottom,i)),null!=n.left&&null!=t.left&&(this.left=e.number(t.left,n.left,i)),null!=n.right&&null!=t.right&&(this.right=e.number(t.right,n.right,i)),this}getCenter(t,n){const i=e.clamp((this.left+t-this.right)/2,0,t),r=e.clamp((this.top+n-this.bottom)/2,0,n);return new e.Point(i,r)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new Bi(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Fi(t,n){const i=e.getColumn(t,3);e.fromQuat(t,n),e.setColumn(t,3,i)}function ji(t,n){const i=e.identity$1([]);return e.rotateZ$1(i,i,-n),e.rotateX$1(i,i,-t),i}function Ni(t,n){const i=[t[0],t[1],0],r=[n[0],n[1],0];if(e.length(i)>=1e-15){const t=e.normalize([],i);e.scale$2(r,t,e.dot(r,t)),n[0]=r[0],n[1]=r[1]}const o=e.cross([],n,t);if(e.len(o)<1e-15)return null;const a=Math.atan2(-o[1],o[0]);return ji(Math.atan2(Math.sqrt(t[0]*t[0]+t[1]*t[1]),-t[2]),a)}class Ui{constructor(e,t){this.position=e,this.orientation=t}get position(){return this._position}set position(t){if(t){const n=t instanceof e.MercatorCoordinate?t:new e.MercatorCoordinate(t[0],t[1],t[2]);this._renderWorldCopies&&(n.x=e.wrap(n.x,0,1)),this._position=n}else this._position=null}lookAtPoint(t,n){if(this.orientation=null,!this.position)return;const i=this.position,r=this._elevation?this._elevation.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(t)):0,o=e.MercatorCoordinate.fromLngLat(t,r),a=[o.x-i.x,o.y-i.y,o.z-i.z];n||(n=[0,0,1]),n[2]=Math.abs(n[2]),this.orientation=Ni(a,n)}setPitchBearing(t,n){this.orientation=ji(e.degToRad(t),e.degToRad(-n))}}class Vi{constructor(t,n){this._transform=e.identity([]),this.orientation=n,this.position=t}get mercatorPosition(){const t=this.position;return new e.MercatorCoordinate(t[0],t[1],t[2])}get position(){const t=e.getColumn(this._transform,3);return[t[0],t[1],t[2]]}set position(t){var n;t&&e.setColumn(this._transform,3,[(n=t)[0],n[1],n[2],1])}get orientation(){return this._orientation}set orientation(t){this._orientation=t||e.identity$1([]),t&&Fi(this._transform,this._orientation)}getPitchBearing(){const e=this.forward(),t=this.right();return{bearing:Math.atan2(-t[1],t[0]),pitch:Math.atan2(Math.sqrt(e[0]*e[0]+e[1]*e[1]),-e[2])}}setPitchBearing(e,t){this._orientation=ji(e,t),Fi(this._transform,this._orientation)}forward(){const t=e.getColumn(this._transform,2);return[-t[0],-t[1],-t[2]]}up(){const t=e.getColumn(this._transform,1);return[-t[0],-t[1],-t[2]]}right(){const t=e.getColumn(this._transform,0);return[t[0],t[1],t[2]]}getCameraToWorld(t,n){const i=new Float64Array(16);return e.invert(i,this.getWorldToCamera(t,n)),i}getWorldToCameraPosition(t,n,i){const r=this.position;e.scale$2(r,r,-t);const o=new Float64Array(16);return e.fromScaling(o,[i,i,i]),e.translate(o,o,r),o[10]*=n,o}getWorldToCamera(t,n){const i=new Float64Array(16),r=new Float64Array(4),o=this.position;return e.conjugate(r,this._orientation),e.scale$2(o,o,-t),e.fromQuat(i,r),e.translate(i,i,o),i[1]*=-1,i[5]*=-1,i[9]*=-1,i[13]*=-1,i[8]*=n,i[9]*=n,i[10]*=n,i[11]*=n,i}getCameraToClipPerspective(t,n,i,r){const o=new Float64Array(16);return e.perspective(o,t,n,i,r),o}getDistanceToElevation(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=0===t?0:e.mercatorZfromAltitude(t,n?e.latFromMercatorY(this.position[1]):this.position[1]),r=this.forward();return(i-this.position[2])/r[2]}clone(){return new Vi([...this.position],[...this.orientation])}}function qi(t,n){const i=Wi(t.projection,t.zoom,t.width,t.height),r=function(t,n,i,r,o){const a=new e.LngLat(i.lng-180*Zi,i.lat),s=new e.LngLat(i.lng+180*Zi,i.lat),l=t.project(a.lng,a.lat),c=t.project(s.lng,s.lat),u=-Math.atan2(c.y-l.y,c.x-l.x),h=e.MercatorCoordinate.fromLngLat(i);h.y=e.clamp(h.y,-1+Zi,1-Zi);const d=h.toLngLat(),p=t.project(d.lng,d.lat),f=e.MercatorCoordinate.fromLngLat(d);f.x+=Zi;const m=f.toLngLat(),g=t.project(m.lng,m.lat),_=Xi(g.x-p.x,g.y-p.y,u),y=e.MercatorCoordinate.fromLngLat(d);y.y+=Zi;const v=y.toLngLat(),x=t.project(v.lng,v.lat),b=Xi(x.x-p.x,x.y-p.y,u),w=Math.abs(_.x)/Math.abs(b.y),E=e.identity([]);e.rotateZ(E,E,-u*(1-(o?0:r)));const T=e.identity([]);return e.scale(T,T,[1,1-(1-w)*r,1]),T[4]=-b.x/b.y*r,e.rotateZ(T,T,u),e.multiply(T,E,T),T}(t.projection,0,t.center,i,n),o=Gi(t);return e.scale(r,r,[o,o,1]),r}function Gi(t){const n=t.projection,i=Wi(t.projection,t.zoom,t.width,t.height),r=Hi(n,t.center),o=Hi(n,e.LngLat.convert(n.center));return Math.pow(2,r*i+(1-i)*o)}function Wi(t,n,i,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0;const a=t.range;if(!a)return 0;const s=Math.min(o,Math.max(i,r)),l=Math.log(s/1024)/Math.LN2;return e.smoothstep(a[0]+l,a[1]+l,n)}const Zi=1/4e4;function Hi(t,n){const i=e.clamp(n.lat,-e.MAX_MERCATOR_LATITUDE,e.MAX_MERCATOR_LATITUDE),r=new e.LngLat(n.lng-180*Zi,i),o=new e.LngLat(n.lng+180*Zi,i),a=t.project(r.lng,i),s=t.project(o.lng,i),l=e.MercatorCoordinate.fromLngLat(r),c=e.MercatorCoordinate.fromLngLat(o),u=s.x-a.x,h=s.y-a.y,d=c.x-l.x,p=c.y-l.y,f=Math.sqrt((d*d+p*p)/(u*u+h*h));return Math.log(f)/Math.LN2}function Xi(e,t,n){const i=Math.cos(n),r=Math.sin(n);return{x:e*i-t*r,y:e*r+t*i}}class Ki{constructor(t,n,i,r,o,a,s){this.tileSize=512,this._renderWorldCopies=void 0===o||o,this._minZoom=t||0,this._maxZoom=n||22,this._minPitch=null==i?0:i,this._maxPitch=null==r?60:r,this.setProjection(a),this.setMaxBounds(s),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Bi,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new Vi,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const e=new Ki(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return e._elevation=this._elevation,e._centerAltitude=this._centerAltitude,e._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,e.tileSize=this.tileSize,e.mercatorFromTransition=this.mercatorFromTransition,e.width=this.width,e.height=this.height,e.cameraElevationReference=this.cameraElevationReference,e._center=this._center,e._setZoom(this.zoom),e._seaLevelZoom=this._seaLevelZoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._nearZ=this._nearZ,e._farZ=this._farZ,e._averageElevation=this._averageElevation,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._camera=this._camera.clone(),e._calcMatrices(),e.freezeTileCoverage=this.freezeTileCoverage,e.frustumCorners=this.frustumCorners,e}get elevation(){return this._elevation}set elevation(e){this._elevation!==e&&(this._elevation=e,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(null==this._seaLevelZoom||n)&&this._updateCameraOnTerrain(),(e||n)&&this._constrainCamera(t),this._calcMatrices()}getProjection(){return e.pick(this.projection,["name","center","parallels"])}setProjection(n){this.projectionOptions=n||{name:"mercator"};const i=this.projection?this.getProjection():void 0;this.projection=e.getProjection(this.projectionOptions);const r=!t(i,this.getProjection());return r&&this._calcMatrices(),this.mercatorFromTransition=!1,r}setMercatorFromTransition(){const t=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=e.getProjection({name:"mercator"});const n=t!==this.projection.name;return n&&this._calcMatrices(),n}get minZoom(){return this._minZoom}set minZoom(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))}get maxZoom(){return this._maxZoom}set maxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))}get minPitch(){return this._minPitch}set minPitch(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))}get maxPitch(){return this._maxPitch}set maxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))}get renderWorldCopies(){return this._renderWorldCopies&&!0===this.projection.supportsWorldCopies}set renderWorldCopies(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const e=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(e))}get cameraWorldSize(){const e=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(e))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return e.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new e.Point(this.width,this.height)}get bearing(){return e.wrap(this.rotation,-180,180)}set bearing(e){this.rotation=e}get rotation(){return-this.angle/Math.PI*180}set rotation(t){const n=-t*Math.PI/180;var i;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=(i=new e.ARRAY_TYPE(4),e.ARRAY_TYPE!=Float32Array&&(i[1]=0,i[2]=0),i[0]=1,i[3]=1,i),function(e,t,n){var i=t[0],r=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);e[0]=i*l+o*s,e[1]=r*l+a*s,e[2]=i*-s+o*l,e[3]=r*-s+a*l}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(t){const n=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const e=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/e)}set fov(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=e.degToRad(t),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(e){this._averageElevation=e,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(e){const t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._setZoom(t),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(e){this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const e=this._elevation;this._centerAltitude=e.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=e.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){void 0!==this._centerAltitudeValidForExaggeration&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const t=this._elevation,n=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],i=this.horizonLineFromTop();let r=0,o=0;for(let a=0;a<n.length;a++){const s=new e.Point(n[a][0]*this.width,i+n[a][1]*(this.height-i)),l=t.pointCoordinate(s);if(!l)continue;const c=1/Math.hypot(l[0]-this._camera.position[0],l[1]-this._camera.position[1]);r+=l[3]*c,o+=c}return 0===o?NaN:r/o}get center(){return this._center}set center(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(null==this._seaLevelZoom||!this._elevation)return;const e=this._seaLevelZoom,t=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),n=this.pixelsPerMeter/this.worldSize*t,i=this._mercatorZfromZoom(e),r=this._mercatorZfromZoom(this._maxZoom),o=Math.max(i-n,r);this._setZoom(this._zoomFromMercatorZ(o))}get padding(){return this._edgeInsets.toJSON()}set padding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}computeZoomRelativeTo(t){const n=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,t.toAltitude()));let i;i=t.z<this._camera.position[2]?[n.x,n.y,n.z]:[t.x,t.y,t.z];const r=e.length(e.sub([],this._camera.position,i));return e.clamp(this._zoomFromMercatorZ(r),this._minZoom,this._maxZoom)}setFreeCameraOptions(t){if(!this.height)return;if(!t.position&&!t.orientation)return;this._updateCameraState();let n=!1;if(t.orientation&&!e.exactEquals(t.orientation,this._camera.orientation)&&(n=this._setCameraOrientation(t.orientation)),t.position){const i=[t.position.x,t.position.y,t.position.z];e.exactEquals$1(i,this._camera.position)||(this._setCameraPosition(i),n=!0)}n&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const t=this._camera.position,n=new Ui;return n.position=new e.MercatorCoordinate(t[0],t[1],t[2]),n.orientation=this._camera.orientation,n._elevation=this.elevation,n._renderWorldCopies=this.renderWorldCopies,n}_setCameraOrientation(t){if(!e.length$1(t))return!1;e.normalize$1(t,t);const n=e.transformQuat([],[0,0,-1],t),i=e.transformQuat([],[0,-1,0],t);if(i[2]<0)return!1;const r=Ni(n,i);return!!r&&(this._camera.orientation=r,!0)}_setCameraPosition(t){const n=this.zoomScale(this.minZoom)*this.tileSize,i=this.zoomScale(this.maxZoom)*this.tileSize,r=this.cameraToCenterDistance;t[2]=e.clamp(t[2],r/i,r/n),this._camera.position=t}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,t,n){this._unmodified=!1,this._edgeInsets.interpolate(e,t,n),this._constrain(),this._calcMatrices()}coveringZoomLevel(e){const t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}getVisibleUnwrappedCoordinates(t){const n=[new e.UnwrappedTileID(0,t)];if(this.renderWorldCopies){const i=this.pointCoordinate(new e.Point(0,0)),r=this.pointCoordinate(new e.Point(this.width,0)),o=this.pointCoordinate(new e.Point(this.width,this.height)),a=this.pointCoordinate(new e.Point(0,this.height)),s=Math.floor(Math.min(i.x,r.x,o.x,a.x)),l=Math.floor(Math.max(i.x,r.x,o.x,a.x)),c=1;for(let u=s-c;u<=l+c;u++)0!==u&&n.push(new e.UnwrappedTileID(u,t))}return n}coveringTiles(t){let n=this.coveringZoomLevel(t);const i=n,r=this.elevation&&!t.isTerrainDEM,o="mercator"===this.projection.name;if(void 0!==t.minzoom&&n<t.minzoom)return[];void 0!==t.maxzoom&&n>t.maxzoom&&(n=t.maxzoom);const a=this.locationCoordinate(this.center),s=this.center.lat,l=1<<n,c=[l*a.x,l*a.y,0],u="globe"===this.projection.name,h=!u,d=e.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,n,h),p=u?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),f=l*e.mercatorZfromAltitude(1,this.center.lat),m=this._camera.position[2]/e.mercatorZfromAltitude(1,this.center.lat),g=[l*p.x,l*p.y,m*(h?1:f)],_=this.cameraToCenterDistance/t.tileSize*(t.roundZoom?1:.502),y=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?n:0,v=t.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,x=t.isTerrainDEM?-v:this._elevation?this._elevation.getMinElevationBelowMSL():0,b=this.projection.isReprojectedInTileSpace?Gi(this):1,w=t=>{const n=1/4e4,i=new e.MercatorCoordinate(t.x+n,t.y,t.z),r=new e.MercatorCoordinate(t.x,t.y+n,t.z),o=t.toLngLat(),a=i.toLngLat(),s=r.toLngLat(),l=this.locationCoordinate(o),c=this.locationCoordinate(a),u=this.locationCoordinate(s),h=Math.hypot(c.x-l.x,c.y-l.y),d=Math.hypot(u.x-l.x,u.y-l.y);return Math.sqrt(h*d)*b/n},E=t=>{const n=v,i=x;return{aabb:e.tileAABB(this,l,0,0,0,t,i,n,this.projection),zoom:0,x:0,y:0,minZ:i,maxZ:n,wrap:t,fullyVisible:!1}},T=[];let k=[];const S=n,C=t.reparseOverscaled?i:n,M=e=>e*e,z=M((m-this._centerAltitude)*f),A=e=>{if(!this._elevation||!e.tileID||!o)return;const t=this._elevation.getMinMaxForTile(e.tileID),n=e.aabb;t?(n.min[2]=t.min,n.max[2]=t.max,n.center[2]=(n.min[2]+n.max[2])/2):(e.shouldSplit=P(e),e.shouldSplit||(n.min[2]=n.max[2]=n.center[2]=this._centerAltitude))},P=t=>{if(t.zoom<y)return!0;if(t.zoom===S)return!1;if(null!=t.shouldSplit)return t.shouldSplit;const n=t.aabb.distanceX(g),o=t.aabb.distanceY(g);let a=z,l=1;if(u){a=M(t.aabb.distanceZ(g));const n=Math.pow(2,t.zoom),i=e.latFromMercatorY((t.y+1)/n),r=e.latFromMercatorY(t.y/n),o=Math.min(Math.max(s,i),r),c=e.circumferenceAtLatitude(o)/e.circumferenceAtLatitude(s);if(l=o===s?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,c/this._mercatorScaleRatio),this.zoom<=e.GLOBE_ZOOM_THRESHOLD_MIN&&t.zoom===S-1&&c>=.9)return!0}else if(r&&(a=M(t.aabb.distanceZ(g)*f)),this.projection.isReprojectedInTileSpace&&i<=5){const n=Math.pow(2,t.zoom),i=w(new e.MercatorCoordinate((t.x+.5)/n,(t.y+.5)/n));l=i>.85?1:i}const c=n*n+o*o+a,h=M((1<<S-t.zoom)*_*l*((e,t)=>{if(t*M(.707)<e)return 1;const n=Math.sqrt(t/e);return n/(1.4144271570014144+(Math.pow(1.1,n-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(a,z),c));return c<h};if(this.renderWorldCopies)for(let e=1;e<=3;e++)T.push(E(-e)),T.push(E(e));for(T.push(E(0));T.length>0;){const i=T.pop(),a=i.x,s=i.y;let h=i.fullyVisible;if(!h){const e=i.aabb.intersects(d);if(0===e)continue;h=2===e}if(i.zoom!==S&&P(i))for(let t=0;t<4;t++){const n=(a<<1)+t%2,c=(s<<1)+(t>>1),d={aabb:o?i.aabb.quadrant(t):e.tileAABB(this,l,i.zoom+1,n,c,i.wrap,i.minZ,i.maxZ,this.projection),zoom:i.zoom+1,x:n,y:c,wrap:i.wrap,fullyVisible:h,tileID:void 0,shouldSplit:void 0,minZ:i.minZ,maxZ:i.maxZ};r&&!u&&(d.tileID=new e.OverscaledTileID(i.zoom+1===S?C:i.zoom+1,i.wrap,i.zoom+1,n,c),A(d)),T.push(d)}else{const r=i.zoom===S?C:i.zoom;if(t.minzoom&&t.minzoom>r)continue;const o=c[0]-(.5+a+(i.wrap<<i.zoom))*(1<<n-i.zoom),l=c[1]-.5-s,u=i.tileID?i.tileID:new e.OverscaledTileID(r,i.wrap,i.zoom,a,s);k.push({tileID:u,distanceSq:o*o+l*l})}}if(this.fogCullDistSq){const n=this.fogCullDistSq,i=this.horizonLineFromTop();k=k.filter((r=>{const o=[0,0,0,1],a=[e.EXTENT,e.EXTENT,0,1],s=this.calculateFogTileMatrix(r.tileID.toUnwrapped());e.transformMat4$1(o,o,s),e.transformMat4$1(a,a,s);const l=e.getAABBPointSquareDist(o,a);if(0===l)return!0;let c=!1;const u=this._elevation;if(u&&l>n&&0!==i){const n=this.calculateProjMatrix(r.tileID.toUnwrapped());let o;t.isTerrainDEM||(o=u.getMinMaxForTile(r.tileID)),o||(o={min:x,max:v});const a=e.furthestTileCorner(this.rotation),s=[a[0]*e.EXTENT,a[1]*e.EXTENT,o.max];e.transformMat4(s,s,n),c=(1-s[1])*this.height*.5<i}return l<n||c}))}return k.sort(((e,t)=>e.distanceSq-t.distanceSq)).map((e=>e.tileID))}resize(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(e){return Math.pow(2,e)}scaleZoom(e){return Math.log(e)/Math.LN2}project(t){const n=e.clamp(t.lat,-e.MAX_MERCATOR_LATITUDE,e.MAX_MERCATOR_LATITUDE),i=this.projection.project(t.lng,n);return new e.Point(i.x*this.worldSize,i.y*this.worldSize)}unproject(e){return this.projection.unproject(e.x/this.worldSize,e.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/e.mercatorZfromAltitude(1,this.center.lat)/this.worldSize}setLocationAtPoint(t,n){let i,r;const o=this.centerPoint;if("globe"===this.projection.name){const e=this.worldSize;i=(n.x-o.x)/e,r=(n.y-o.y)/e}else{const e=this.pointCoordinate(n),t=this.pointCoordinate(o);i=e.x-t.x,r=e.y-t.y}const a=this.locationCoordinate(t);this.setLocation(new e.MercatorCoordinate(a.x-i,a.y-r))}setLocation(e){this.center=this.coordinateLocation(e),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(e){return this.projection.locationPoint(this,e)}locationPoint3D(e){return this.projection.locationPoint(this,e,!0)}pointLocation(e){return this.coordinateLocation(this.pointCoordinate(e))}pointLocation3D(e){return this.coordinateLocation(this.pointCoordinate3D(e))}locationCoordinate(t,n){const i=n?e.mercatorZfromAltitude(n,t.lat):void 0,r=this.projection.project(t.lng,t.lat);return new e.MercatorCoordinate(r.x,r.y,i)}coordinateLocation(e){return this.projection.unproject(e.x,e.y)}pointRayIntersection(t,n){const i=null!=n?n:this._centerAltitude,r=[t.x,t.y,0,1],o=[t.x,t.y,1,1];e.transformMat4$1(r,r,this.pixelMatrixInverse),e.transformMat4$1(o,o,this.pixelMatrixInverse);const a=o[3];e.scale$1(r,r,1/r[3]),e.scale$1(o,o,1/a);const s=r[2],l=o[2];return{p0:r,p1:o,t:s===l?0:(i-s)/(l-s)}}screenPointToMercatorRay(t){const n=[t.x,t.y,0,1],i=[t.x,t.y,1,1];return e.transformMat4$1(n,n,this.pixelMatrixInverse),e.transformMat4$1(i,i,this.pixelMatrixInverse),e.scale$1(n,n,1/n[3]),e.scale$1(i,i,1/i[3]),n[2]=e.mercatorZfromAltitude(n[2],this._center.lat)*this.worldSize,i[2]=e.mercatorZfromAltitude(i[2],this._center.lat)*this.worldSize,e.scale$1(n,n,1/this.worldSize),e.scale$1(i,i,1/this.worldSize),new e.Ray([n[0],n[1],n[2]],e.normalize([],e.sub([],i,n)))}rayIntersectionCoordinate(t){const{p0:n,p1:i,t:r}=t,o=e.mercatorZfromAltitude(n[2],this._center.lat),a=e.mercatorZfromAltitude(i[2],this._center.lat);return new e.MercatorCoordinate(e.number(n[0],i[0],r)/this.worldSize,e.number(n[1],i[1],r)/this.worldSize,e.number(o,a,r))}pointCoordinate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._centerAltitude;return this.projection.pointCoordinate(this,e.x,e.y,t)}pointCoordinate3D(t){if(!this.elevation)return this.pointCoordinate(t);let n=this.projection.pointCoordinate3D(this,t.x,t.y);if(n)return new e.MercatorCoordinate(n[0],n[1],n[2]);let i=0,r=this.horizonLineFromTop();if(t.y>r)return this.pointCoordinate(t);const o=.02*r,a=t.clone();for(let s=0;s<10&&r-i>o;s++){a.y=e.number(i,r,.66);const t=this.projection.pointCoordinate3D(this,a.x,a.y);t?(r=a.y,n=t):i=a.y}return n?new e.MercatorCoordinate(n[0],n[1],n[2]):this.pointCoordinate(t)}isPointAboveHorizon(e){return this.projection.isPointAboveHorizon(this,e)}isPointOnSurface(t){if(t.y<0||t.y>this.height||t.x<0||t.x>this.width)return!1;if(this.elevation||this.zoom>=e.GLOBE_ZOOM_THRESHOLD_MAX)return!this.isPointAboveHorizon(t);const n=this.pointCoordinate(t);return n.y>=0&&n.y<=1}_coordinatePoint(t,n){const i=n&&this.elevation?this.elevation.getAtPointOrZero(t,this._centerAltitude):this._centerAltitude,r=[t.x*this.worldSize,t.y*this.worldSize,i+t.toAltitude(),1];return e.transformMat4$1(r,r,this.pixelMatrix),r[3]>0?new e.Point(r[0]/r[3],r[1]/r[3]):new e.Point(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:t,left:n}=this._edgeInsets,i=this.height-this._edgeInsets.bottom,r=this.width-this._edgeInsets.right,o=this.pointLocation3D(new e.Point(n,t)),a=this.pointLocation3D(new e.Point(r,t)),s=this.pointLocation3D(new e.Point(r,i)),l=this.pointLocation3D(new e.Point(n,i));let c=Math.min(o.lng,a.lng,s.lng,l.lng),u=Math.max(o.lng,a.lng,s.lng,l.lng),h=Math.min(o.lat,a.lat,s.lat,l.lat),d=Math.max(o.lat,a.lat,s.lat,l.lat);const p=Math.pow(2,-this.zoom)/16*270,f="globe"===this.projection.name?1:4,m=(t,n,i,r,o)=>{const a=(t+i)/2,s=(n+r)/2,l=new e.Point(a,s),{lng:g,lat:_}=this.pointLocation3D(l),y=Math.max(0,c-g,h-_,g-u,_-d);c=Math.min(c,g),u=Math.max(u,g),h=Math.min(h,_),d=Math.max(d,_),(o<f||y>p)&&(m(t,n,a,s,o+1),m(a,s,i,r,o+1))};if(m(n,t,r,t,1),m(r,t,r,i,1),m(r,i,n,i,1),m(n,i,n,t,1),"globe"===this.projection.name){const[t,n]=e.polesInViewport(this);t?(d=90,u=180,c=-180):n&&(h=-90,u=180,c=-180)}return new e.LngLatBounds(new e.LngLat(c,h),new e.LngLat(u,d))}_getBoundsRectangular(t,n){const{top:i,left:r}=this._edgeInsets,o=this.height-this._edgeInsets.bottom,a=this.width-this._edgeInsets.right,s=new e.Point(r,i),l=new e.Point(a,i),c=new e.Point(a,o),u=new e.Point(r,o);let h=this.pointCoordinate(s,t),d=this.pointCoordinate(l,t);const p=this.pointCoordinate(c,n),f=this.pointCoordinate(u,n),m=(e,t)=>(t.y-e.y)/(t.x-e.x);return h.y>1&&d.y>=0?h=new e.MercatorCoordinate((1-f.y)/m(f,h)+f.x,1):h.y<0&&d.y<=1&&(h=new e.MercatorCoordinate(-f.y/m(f,h)+f.x,0)),d.y>1&&h.y>=0?d=new e.MercatorCoordinate((1-p.y)/m(p,d)+p.x,1):d.y<0&&h.y<=1&&(d=new e.MercatorCoordinate(-p.y/m(p,d)+p.x,0)),(new e.LngLatBounds).extend(this.coordinateLocation(h)).extend(this.coordinateLocation(d)).extend(this.coordinateLocation(f)).extend(this.coordinateLocation(p))}_getBoundsRectangularTerrain(){const e=this.elevation;if(!e.visibleDemTiles.length||e.isUsingMockSource())return this._getBoundsRectangular(0,0);const t=e.visibleDemTiles.reduce(((e,t)=>{if(t.dem){const n=t.dem.tree;e.min=Math.min(e.min,n.minimums[0]),e.max=Math.max(e.max,n.maximums[0])}return e}),{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(t.min*e.exaggeration(),t.max*e.exaggeration())}getBounds(){return"mercator"===this.projection.name||"equirectangular"===this.projection.name?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,n=this.height/2-t*(1-this._horizonShift);return e?Math.max(0,n):n}getMaxBounds(){return this.maxBounds}setMaxBounds(t){this.maxBounds=t,this.minLat=-e.MAX_MERCATOR_LATITUDE,this.maxLat=e.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,t&&(this.minLat=t.getSouth(),this.maxLat=t.getNorth(),this.minLng=t.getWest(),this.maxLng=t.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=e.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=e.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=e.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=e.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(e,t){return this.projection.createTileMatrix(this,t,e)}calculateDistanceTileData(t){const n=t.key,i=this._distanceTileDataCache;if(i[n])return i[n];const r=t.canonical,o=1/this.height,a=this.cameraWorldSize,s=a/this.zoomScale(r.z),l=(r.x+Math.pow(2,r.z)*t.wrap)*s,c=r.y*s,u=this.point;u.x*=a/this.worldSize,u.y*=a/this.worldSize;const h=this.angle,d=Math.sin(-h),p=-Math.cos(-h);return i[n]={bearing:[d,p],center:[(u.x-l)*o,(u.y-c)*o],scale:s/e.EXTENT*o},i[n]}calculateFogTileMatrix(t){const n=t.key,i=this._fogTileMatrixCache;if(i[n])return i[n];const r=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,t);return e.multiply(r,this.worldToFogMatrix,r),i[n]=new Float32Array(r),i[n]}calculateProjMatrix(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=t.key,r=n?this._alignedProjMatrixCache:this._projMatrixCache;if(r[i])return r[i];const o=this.calculatePosMatrix(t,this.worldSize);return e.multiply(o,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:n?this.alignedProjMatrix:this.projMatrix,o),r[i]=new Float32Array(o),r[i]}calculatePixelsToTileUnitsMatrix(t){const n=t.tileID.key,i=this._pixelsToTileUnitsCache;if(i[n])return i[n];const r=function(t,n){const{scale:i}=t.tileTransform,r=i*e.EXTENT/(t.tileSize*Math.pow(2,n.zoom-t.tileID.overscaledZ+t.tileID.canonical.z));return o=new Float32Array(4),l=(a=n.inverseAdjustmentMatrix)[1],c=a[2],u=a[3],d=(s=[r,r])[1],o[0]=a[0]*(h=s[0]),o[1]=l*h,o[2]=c*d,o[3]=u*d,o;var o,a,s,l,c,u,h,d}(t,this);return i[n]=r,i[n]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if("globe"===this.projection.name){const t=1/this.worldSize,n=e.fromScaling([],[t,t,t]);return e.multiply(n,n,this.globeMatrix),n}}recenterOnTerrain(){if(!this._elevation||"globe"===this.projection.name)return;const t=this._elevation;this._updateCameraState();const n=e.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,i=this._computeCameraPosition(n),r=this._camera.forward(),o=e.mercatorZfromAltitude(1,this._center.lat);i[2]/=o,r[2]/=o,e.normalize(r,r);const a=t.raycast(i,r,t.exaggeration());if(a){const t=e.scaleAndAdd([],i,r,a),n=new e.MercatorCoordinate(t[0],t[1],e.mercatorZfromAltitude(t[2],e.latFromMercatorY(t[1]))),s=(n.z+e.length([n.x-i[0],n.y-i[1],n.z-i[2]*o]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(s),this._centerAltitude=n.toAltitude(),this._center=this.coordinateLocation(n),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this._elevation)return;const n=this._elevation,i=e.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,r=this._computeCameraPosition(i),o=n.getAtPointOrZero(new e.MercatorCoordinate(...r)),a=this.pixelsPerMeter/this.worldSize*o,s=this._minimumHeightOverTerrain(),l=r[2]-a;if(l<=s)if(l<0||t){const t=this.locationCoordinate(this._center,this._centerAltitude),n=[r[0],r[1],t.z-r[2]],i=e.length(n);n[2]-=(s-l)/this._pixelsPerMercatorPixel;const o=e.length(n);if(0===o)return;e.scale$2(n,n,i/o*this._pixelsPerMercatorPixel),this._camera.position=[r[0],r[1],t.z*this._pixelsPerMercatorPixel-n[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const t="globe"===this.projection.name||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||t){const n=this.center;return n.lat=e.clamp(n.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!t)&&(n.lng=e.clamp(n.lng,this.minLng,this.maxLng)),this.center=n,void(this._constraining=!1)}const n=this._unmodified,{x:i,y:r}=this.point;let o=0,a=i,s=r;const l=this.width/2,c=this.height/2,u=this.worldMinY*this.scale,h=this.worldMaxY*this.scale;if(r-c<u&&(s=u+c),r+c>h&&(s=h-c),h-u<this.height&&(o=Math.max(o,this.height/(h-u)),s=(h+u)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const e=this.worldMinX*this.scale,t=this.worldMaxX*this.scale,n=this.worldSize/2-(e+t)/2;a=(i+n+this.worldSize)%this.worldSize-n,a-l<e&&(a=e+l),a+l>t&&(a=t-l),t-e<this.width&&(o=Math.max(o,this.width/(t-e)),a=(t+e)/2)}a===i&&s===r||(this.center=this.unproject(new e.Point(a,s))),o&&(this.zoom+=this.scaleZoom(o)),this._constrainCamera(),this._unmodified=n,this._constraining=!1}_minZoomForBounds(){let e=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(e=Math.max(e,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),e}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const t=this.centerOffset,n=this.pixelsPerMeter;"globe"===this.projection.name&&(this._mercatorScaleRatio=e.mercatorZfromAltitude(1,this.center.lat)/e.mercatorZfromAltitude(1,e.GLOBE_SCALE_MATCH_LATITUDE));const i=Wi(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,i),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const r="meters"===this.projection.zAxisUnit?n:1,o=this._camera.getWorldToCamera(this.worldSize,r),a=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);a[8]=2*-t.x/this.width,a[9]=2*t.y/this.height;let s=e.mul([],a,o);if(this.projection.isReprojectedInTileSpace){const t=this.locationCoordinate(this.center),n=e.identity([]);e.translate(n,n,[t.x*this.worldSize,t.y*this.worldSize,0]),e.multiply(n,n,qi(this)),e.translate(n,n,[-t.x*this.worldSize,-t.y*this.worldSize,0]),e.multiply(s,s,n),this.inverseAdjustmentMatrix=function(e){const t=qi(e,!0);return y([],[t[0],t[1],t[4],t[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=e.scale([],s,[this.worldSize,this.worldSize,this.worldSize/r,1]),this.projMatrix=s,this.invProjMatrix=e.invert(new Float64Array(16),this.projMatrix);const l=e.invert([],a);this.frustumCorners=e.FrustumCorners.fromInvProjectionMatrix(l,this.horizonLineFromTop(),this.height);const c=new Float32Array(16);e.identity(c),e.scale(c,c,[1,-1,1]),e.rotateX(c,c,this._pitch),e.rotateZ(c,c,this.angle);const u=e.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),h=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;u[8]=2*-t.x/this.width,u[9]=2*(t.y+h)/this.height,this.skyboxMatrix=e.multiply(c,u,c);const d=this.point,p=d.x,f=d.y,m=this.width%2/2,g=this.height%2/2,_=Math.cos(this.angle),v=Math.sin(this.angle),x=p-Math.round(p)+_*m+v*g,b=f-Math.round(f)+_*g+v*m,w=new Float64Array(s);if(e.translate(w,w,[x>.5?x-1:x,b>.5?b-1:b,0]),this.alignedProjMatrix=w,s=e.create(),e.scale(s,s,[this.width/2,-this.height/2,1]),e.translate(s,s,[1,-1,0]),this.labelPlaneMatrix=s,s=e.create(),e.scale(s,s,[1,-1,1]),e.translate(s,s,[-1,-1,0]),e.scale(s,s,[2/this.width,2/this.height,1]),this.glCoordMatrix=s,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},s=e.invert(new Float64Array(16),this.pixelMatrix),!s)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=s,"globe"===this.projection.name||this.mercatorFromTransition){this.globeMatrix=e.calculateGlobeMatrix(this);const t=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=e.transformMat4(t,t,o),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=s;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const t=this.cameraWorldSizeForFog,n=this.cameraPixelsPerMeter,i=this._camera.position,r=1/this.height/this._pixelsPerMercatorPixel,o=[t,t,n];e.scale$2(o,o,r),e.scale$2(i,i,-1),e.multiply$2(i,i,o);const a=e.create();e.translate(a,a,i),e.scale(a,a,o),this.mercatorFogMatrix=a,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(t,n,r)}_computeCameraPosition(e){const t=(e=e||this.pixelsPerMeter)/this.pixelsPerMeter,n=this._camera.forward(),i=this.point,r=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*t-e/this.worldSize*this._centerAltitude;return[i.x/this.worldSize-n[0]*r,i.y/this.worldSize-n[1]*r,e/this.worldSize*this._centerAltitude-n[2]*r]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(t){const n=this._maxCameraBoundsDistance()*Math.cos(this._pitch),i=this._camera.position[2],r=t[2];let o=1;this.projection.wrap&&(this.center=this.center.wrap()),r>0&&(o=Math.min((n-i)/r,1)),this._camera.position=e.scaleAndAdd([],this._camera.position,t,o),this._updateStateFromCamera()}_updateStateFromCamera(){const t=this._camera.position,n=this._camera.forward(),{pitch:i,bearing:r}=this._camera.getPitchBearing(),o=e.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,a=this._mercatorZfromZoom(this._maxZoom)*Math.cos(e.degToRad(this._maxPitch)),s=Math.max((t[2]-o)/Math.cos(i),a),l=this._zoomFromMercatorZ(s);e.scaleAndAdd(t,t,n,s),this._pitch=e.clamp(i,e.degToRad(this.minPitch),e.degToRad(this.maxPitch)),this.angle=e.wrap(r,-Math.PI,Math.PI),this._setZoom(e.clamp(l,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new e.MercatorCoordinate(t[0],t[1],t[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(e){return Math.pow(2,e)*this.tileSize}_mercatorZfromZoom(e){return this.cameraToCenterDistance/this._worldSizeFromZoom(e)}_minimumHeightOverTerrain(){const e=Math.min((null!=this._seaLevelZoom?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(e)}_zoomFromMercatorZ(e){return this.scaleZoom(this.cameraToCenterDistance/(e*this.tileSize))}zoomFromMercatorZAdjusted(t){let n=0,i=e.GLOBE_ZOOM_THRESHOLD_MAX,r=0,o=1/0;for(;i-n>1e-6&&i>n;){const e=n+.5*(i-n),a=this.tileSize*Math.pow(2,e),s=this.getCameraToCenterDistance(this.projection,e,a),l=this.scaleZoom(s/(t*this.tileSize)),c=Math.abs(e-l);c<o&&(o=c,r=e),e<l?n=e:i=e}return r}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(e.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(t,n){const i=Math.min(t.x,n.x),r=Math.max(t.x,n.x),o=Math.min(t.y,n.y),a=Math.max(t.y,n.y);if(o<this.horizonLineFromTop(!1))return!0;if("mercator"!==this.projection.name)return!1;const s=[new e.Point(i,o),new e.Point(r,a),new e.Point(i,a),new e.Point(r,o)],l=this.renderWorldCopies?-3:0,c=this.renderWorldCopies?4:1;for(const e of s){const t=this.pointRayIntersection(e);if(t.t<0)return!0;const n=this.rayIntersectionCoordinate(t);if(n.x<l||n.y<0||n.x>c||n.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+e.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new e.Point(0,0),new e.Point(this.width,this.height))}zoomDeltaToMovement(t,n){const i=e.length(e.sub([],this._camera.position,t)),r=this._zoomFromMercatorZ(i)+n;return i-this._mercatorZfromZoom(r)}getCameraPoint(){if("globe"===this.projection.name){const t=function(t,n){let[i,r,o]=t;const a=[i,r,o,1];e.transformMat4$1(a,a,n);const s=a[3]=Math.max(a[3],1e-6);return a[0]/=s,a[1]/=s,a[2]/=s,a}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new e.Point(t[0],t[1])}{const t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.Point(0,t))}}getCameraToCenterDistance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.zoom,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.worldSize;const i=Wi(e,t,this.width,this.height,1024),r=e.pixelSpaceConversion(this.center.lat,n,i);return.5/Math.tan(.5*this._fov)*this.height*r}getWorldToCameraMatrix(){const t=this._camera.getWorldToCamera(this.worldSize,"meters"===this.projection.zAxisUnit?this.pixelsPerMeter:1);return"globe"===this.projection.name&&e.multiply(t,t,this.globeMatrix),t}}function Yi(e,t){let n=!1,i=null;const r=()=>{i=null,n&&(e(),i=setTimeout(r,t),n=!1)};return()=>(n=!0,i||r(),i)}class Ji{constructor(t){this._hashName=t&&encodeURIComponent(t),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Yi(this._updateHashUnthrottled.bind(this),300)}addTo(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),t.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),e.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const t=this._map;if(!t)return"";const n=$i(t);if(this._hashName){const t=this._hashName;let i=!1;const r=e.window.location.hash.slice(1).split("&").map((e=>{const r=e.split("=")[0];return r===t?(i=!0,"".concat(r,"=").concat(n)):e})).filter((e=>e));return i||r.push("".concat(t,"=").concat(n)),"#".concat(r.join("&"))}return"#".concat(n)}_getCurrentHash(){const t=e.window.location.hash.replace("#","");if(this._hashName){let e;return t.split("&").map((e=>e.split("="))).forEach((t=>{t[0]===this._hashName&&(e=t)})),(e&&e[1]||"").split("/")}return t.split("/")}_onHashChange(){const e=this._map;if(!e)return!1;const t=this._getCurrentHash();if(t.length>=3&&!t.some((e=>isNaN(e)))){const n=e.dragRotate.isEnabled()&&e.touchZoomRotate.isEnabled()?+(t[3]||0):e.getBearing();return e.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:n,pitch:+(t[4]||0)}),!0}return!1}_updateHashUnthrottled(){const t=e.window.location.href.replace(/(#.+)?$/,this.getHashString());e.window.history.replaceState(e.window.history.state,null,t)}}function $i(e,t){const n=e.getCenter(),i=Math.round(100*e.getZoom())/100,r=Math.ceil((i*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,r),a=Math.round(n.lng*o)/o,s=Math.round(n.lat*o)/o,l=e.getBearing(),c=e.getPitch();let u=t?"/".concat(a,"/").concat(s,"/").concat(i):"".concat(i,"/").concat(s,"/").concat(a);return(l||c)&&(u+="/"+Math.round(10*l)/10),c&&(u+="/".concat(Math.round(c))),u}const Qi={linearity:.3,easing:e.bezier(0,0,.3,1)},er=e.extend({deceleration:2500,maxSpeed:1400},Qi),tr=e.extend({deceleration:20,maxSpeed:1400},Qi),nr=e.extend({deceleration:1e3,maxSpeed:360},Qi),ir=e.extend({deceleration:1e3,maxSpeed:90},Qi);class rr{constructor(e){this._map=e,this.clear()}clear(){this._inertiaBuffer=[]}record(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.exported.now(),settings:t})}_drainInertiaBuffer(){const t=this._inertiaBuffer,n=e.exported.now();for(;t.length>0&&n-t[0].time>160;)t.shift()}_onMoveEnd(t){if(this._map._prefersReducedMotion())return;if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const n={zoom:0,bearing:0,pitch:0,pan:new e.Point(0,0),pinchAround:void 0,around:void 0};for(const{settings:e}of this._inertiaBuffer)n.zoom+=e.zoomDelta||0,n.bearing+=e.bearingDelta||0,n.pitch+=e.pitchDelta||0,e.panDelta&&n.pan._add(e.panDelta),e.around&&(n.around=e.around),e.pinchAround&&(n.pinchAround=e.pinchAround);const i=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,r={};if(n.pan.mag()){const o=ar(n.pan.mag(),i,e.extend({},er,t||{}));r.offset=n.pan.mult(o.amount/n.pan.mag()),r.center=this._map.transform.center,or(r,o)}if(n.zoom){const e=ar(n.zoom,i,tr);r.zoom=this._map.transform.zoom+e.amount,or(r,e)}if(n.bearing){const t=ar(n.bearing,i,nr);r.bearing=this._map.transform.bearing+e.clamp(t.amount,-179,179),or(r,t)}if(n.pitch){const e=ar(n.pitch,i,ir);r.pitch=this._map.transform.pitch+e.amount,or(r,e)}if(r.zoom||r.bearing){const e=void 0===n.pinchAround?n.around:n.pinchAround;r.around=e?this._map.unproject(e):this._map.getCenter()}return this.clear(),r.noMoveStart=!0,r}}function or(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function ar(t,n,i){const{maxSpeed:r,linearity:o,deceleration:a}=i,s=e.clamp(t*o/(n/1e3),-r,r),l=Math.abs(s)/(a*o);return{easing:i.easing,duration:1e3*l,amount:s*(l/2)}}class sr extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,n,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=f(n.getCanvasContainer(),i),a=n.unproject(o);super(t,e.extend({point:o,lngLat:a,originalEvent:i},r)),this._defaultPrevented=!1,this.target=n}}class lr extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,n,i){const r="touchend"===t?i.changedTouches:i.touches,o=m(n.getCanvasContainer(),r),a=o.map((e=>n.unproject(e))),s=o.reduce(((e,t,n,i)=>e.add(t.div(i.length))),new e.Point(0,0));super(t,{points:o,point:s,lngLats:a,lngLat:n.unproject(s),originalEvent:i}),this._defaultPrevented=!1}}class cr extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,n){super(e,{originalEvent:n}),this._defaultPrevented=!1}}class ur{constructor(e,t){this._map=e,this._clickTolerance=t.clickTolerance}reset(){this._mousedownPos=void 0}wheel(e){return this._firePreventable(new cr(e.type,this._map,e))}mousedown(e,t){return this._mousedownPos=t,this._firePreventable(new sr(e.type,this._map,e))}mouseup(e){this._map.fire(new sr(e.type,this._map,e))}preclick(t){const n=e.extend({},t);n.type="preclick",this._map.fire(new sr(n.type,this._map,n))}click(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||(this.preclick(e),this._map.fire(new sr(e.type,this._map,e)))}dblclick(e){return this._firePreventable(new sr(e.type,this._map,e))}mouseover(e){this._map.fire(new sr(e.type,this._map,e))}mouseout(e){this._map.fire(new sr(e.type,this._map,e))}touchstart(e){return this._firePreventable(new lr(e.type,this._map,e))}touchmove(e){this._map.fire(new lr(e.type,this._map,e))}touchend(e){this._map.fire(new lr(e.type,this._map,e))}touchcancel(e){this._map.fire(new lr(e.type,this._map,e))}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class hr{constructor(e){this._map=e}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(e){this._map.fire(new sr(e.type,this._map,e))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new sr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new sr(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class dr{constructor(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(u(),this._startPos=this._lastPos=t,this._active=!0)}mousemoveWindow(e,t){if(!this._active)return;const n=t,i=this._startPos,r=this._lastPos;if(!i||!r||r.equals(n)||!this._box&&n.dist(i)<this._clickTolerance)return;this._lastPos=n,this._box||(this._box=o("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));const a=Math.min(i.x,n.x),s=Math.max(i.x,n.x),l=Math.min(i.y,n.y),c=Math.max(i.y,n.y);this._map._requestDomTask((()=>{this._box&&(this._box.style.transform="translate(".concat(a,"px,").concat(l,"px)"),this._box.style.width=s-a+"px",this._box.style.height=c-l+"px")}))}mouseupWindow(t,n){if(!this._active)return;const i=this._startPos,r=n;if(i&&0===t.button){if(this.reset(),p(),i.x!==r.x||i.y!==r.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:e=>e.fitScreenCoordinates(i,r,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",t)}}keydown(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),h(),delete this._startPos,delete this._lastPos}_fireEvent(t,n){return this._map.fire(new e.Event(t,{originalEvent:n}))}}function pr(e,t){const n={};for(let i=0;i<e.length;i++)n[e[i].identifier]=t[i];return n}class fr{constructor(e){this.reset(),this.numTouches=e.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(t,n,i){(this.centroid||i.length>this.numTouches)&&(this.aborted=!0),this.aborted||(0===this.startTime&&(this.startTime=t.timeStamp),i.length===this.numTouches&&(this.centroid=function(t){const n=new e.Point(0,0);for(const e of t)n._add(e);return n.div(t.length)}(n),this.touches=pr(i,n)))}touchmove(e,t,n){if(this.aborted||!this.centroid)return;const i=pr(n,t);for(const r in this.touches){const e=i[r];(!e||e.dist(this.touches[r])>30)&&(this.aborted=!0)}}touchend(e,t,n){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){const e=!this.aborted&&this.centroid;if(this.reset(),e)return e}}}class mr{constructor(e){this.singleTap=new fr(e),this.numTaps=e.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(e,t,n){this.singleTap.touchstart(e,t,n)}touchmove(e,t,n){this.singleTap.touchmove(e,t,n)}touchend(e,t,n){const i=this.singleTap.touchend(e,t,n);if(i){const t=e.timeStamp-this.lastTime<500,n=!this.lastTap||this.lastTap.dist(i)<30;if(t&&n||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=i,this.count===this.numTaps)return this.reset(),i}}}class gr{constructor(){this._zoomIn=new mr({numTouches:1,numTaps:2}),this._zoomOut=new mr({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(e,t,n){this._zoomIn.touchstart(e,t,n),this._zoomOut.touchstart(e,t,n)}touchmove(e,t,n){this._zoomIn.touchmove(e,t,n),this._zoomOut.touchmove(e,t,n)}touchend(e,t,n){const i=this._zoomIn.touchend(e,t,n),r=this._zoomOut.touchend(e,t,n);return i?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(i)},{originalEvent:e})}):r?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(r)},{originalEvent:e})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const _r={0:1,2:2};class yr{constructor(e){this.reset(),this._clickTolerance=e.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(e,t){return!1}_move(e,t){return{}}mousedown(e,t){if(this._lastPoint)return;const n=g(e);this._correctButton(e,n)&&(this._lastPoint=t,this._eventButton=n)}mousemoveWindow(e,t){const n=this._lastPoint;if(n)if(e.preventDefault(),null!=this._eventButton&&function(e,t){const n=_r[t];return void 0===e.buttons||(e.buttons&n)!==n}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(n)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(n,t)}mouseupWindow(e){this._lastPoint&&g(e)===this._eventButton&&(this._moved&&p(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class vr extends yr{mousedown(e,t){super.mousedown(e,t),this._lastPoint&&(this._active=!0)}_correctButton(e,t){return 0===t&&!e.ctrlKey}_move(e,t){return{around:t,panDelta:t.sub(e)}}}class xr extends yr{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const n=.8*(t.x-e.x);if(n)return this._active=!0,{bearingDelta:n}}contextmenu(e){e.preventDefault()}}class br extends yr{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const n=-.5*(t.y-e.y);if(n)return this._active=!0,{pitchDelta:n}}contextmenu(e){e.preventDefault()}}class wr{constructor(t,n){this._map=t,this._el=t.getCanvasContainer(),this._minTouches=1,this._clickTolerance=n.clickTolerance||1,this.reset(),e.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new e.Point(0,0)}touchstart(e,t,n){return this._calculateTransform(e,t,n)}touchmove(t,n,i){if(this._active&&!(i.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(1===i.length&&!e.isFullscreen())return void this._showTouchPanBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return t.cancelable&&t.preventDefault(),this._calculateTransform(t,n,i)}}touchend(e,t,n){this._calculateTransform(e,t,n),this._active&&n.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(t,n,i){i.length>0&&(this._active=!0);const r=pr(i,n),o=new e.Point(0,0),a=new e.Point(0,0);let s=0;for(const e in r){const t=r[e],n=this._touches[e];n&&(o._add(t),a._add(t.sub(n)),s++,r[e]=t)}if(this._touches=r,s<this._minTouches||!a.mag())return;const l=a.div(s);return this._sum._add(l),this._sum.mag()<this._clickTolerance?void 0:{around:o.div(s),panDelta:l}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=o("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize="".concat(Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth))),"px"))}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")}),500)}}class Er{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(e){}_move(e,t,n){return{}}touchstart(e,t,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([t[0],t[1]]))}touchmove(e,t,n){const i=this._firstTwoTouches;if(!i)return;e.preventDefault();const[r,o]=i,a=Tr(n,t,r),s=Tr(n,t,o);if(!a||!s)return;const l=this._aroundCenter?null:a.add(s).div(2);return this._move([a,s],l,e)}touchend(e,t,n){if(!this._firstTwoTouches)return;const[i,r]=this._firstTwoTouches,o=Tr(n,t,i),a=Tr(n,t,r);o&&a||(this._active&&p(),this.reset())}touchcancel(){this.reset()}enable(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Tr(e,t,n){for(let i=0;i<e.length;i++)if(e[i].identifier===n)return t[i]}function kr(e,t){return Math.log(e/t)/Math.LN2}class Sr extends Er{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(e){this._startDistance=this._distance=e[0].dist(e[1])}_move(e,t){const n=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(kr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:kr(this._distance,n),pinchAround:t}}}function Cr(e,t){return 180*e.angleWith(t)/Math.PI}class Mr extends Er{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}_move(e,t){const n=this._vector;if(this._vector=e[0].sub(e[1]),n&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Cr(this._vector,n),pinchAround:t}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());const t=25/(Math.PI*this._minDiameter)*360,n=this._startVector;if(!n)return!1;const i=Cr(e,n);return Math.abs(i)<t}}function zr(e){return Math.abs(e.y)>Math.abs(e.x)}class Ar extends Er{constructor(e){super(),this._map=e}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(e){this._lastPoints=e,zr(e[0].sub(e[1]))&&(this._valid=!1)}_move(t,n,i){const r=this._lastPoints;if(!r)return;const o=t[0].sub(r[0]),a=t[1].sub(r[1]);return this._map._cooperativeGestures&&!e.isFullscreen()&&i.touches.length<3||(this._valid=this.gestureBeginsVertically(o,a,i.timeStamp),!this._valid)?void 0:(this._lastPoints=t,this._active=!0,{pitchDelta:(o.y+a.y)/2*-.5})}gestureBeginsVertically(e,t,n){if(void 0!==this._valid)return this._valid;const i=e.mag()>=2,r=t.mag()>=2;if(!i&&!r)return;if(!i||!r)return null==this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;const o=e.y>0==t.y>0;return zr(e)&&zr(t)&&o}}const Pr={panStep:100,bearingStep:15,pitchStep:10};class Ir{constructor(){const e=Pr;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let t=0,n=0,i=0,r=0,o=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?n=-1:(e.preventDefault(),r=-1);break;case 39:e.shiftKey?n=1:(e.preventDefault(),r=1);break;case 38:e.shiftKey?i=1:(e.preventDefault(),o=-1);break;case 40:e.shiftKey?i=-1:(e.preventDefault(),o=1);break;default:return}return this._rotationDisabled&&(n=0,i=0),{cameraAnimation:a=>{const s=a.getZoom();a.easeTo({duration:300,easeId:"keyboardHandler",easing:Lr,zoom:t?Math.round(s)+t*(e.shiftKey?2:1):s,bearing:a.getBearing()+n*this._bearingStep,pitch:a.getPitch()+i*this._pitchStep,offset:[-r*this._panStep,-o*this._panStep],center:a.getCenter()},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Lr(e){return e*(2-e)}const Dr=4.000244140625;class Or{constructor(t,n){this._map=t,this._el=t.getCanvasContainer(),this._handler=n,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,e.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(e){this._defaultZoomRate=e}setWheelZoomRate(e){this._wheelZoomRate=e}isEnabled(){return!!this._enabled}isActive(){return this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around,this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(t){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(t.ctrlKey||t.metaKey||this.isZooming()||e.isFullscreen()))return void this._showBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let n=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY;const i=e.exported.now(),r=i-(this._lastWheelEventTime||0);this._lastWheelEventTime=i,0!==n&&n%Dr==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":r>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(r*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),t.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=t,this._delta-=n,this._active||this._start(t)),t.preventDefault()}_onTimeout(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)}_start(e){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const t=f(this._el,e);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:t,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId)return;if(this._frameId=null,!this.isActive())return;const t=this._map.transform;"wheel"===this._type&&t.projection.wrap&&(t._center.lng>=180||t._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const n=()=>t._terrainEnabled()&&this._aroundCoord?t.computeZoomRelativeTo(this._aroundCoord):t.zoom;if(0!==this._delta){const e="wheel"===this._type&&Math.abs(this._delta)>Dr?this._wheelZoomRate:this._defaultZoomRate;let i=2/(1+Math.exp(-Math.abs(this._delta*e)));this._delta<0&&0!==i&&(i=1/i);const r=n(),o=Math.pow(2,r),a="number"==typeof this._targetZoom?t.zoomScale(this._targetZoom):o;this._targetZoom=Math.min(t.maxZoom,Math.max(t.minZoom,t.scaleZoom(a*i))),"wheel"===this._type&&(this._startZoom=r,this._easing=this._smoothOutEasing(200)),this._delta=0}const i="number"==typeof this._targetZoom?this._targetZoom:n(),r=this._startZoom,o=this._easing;let a,s=!1;if("wheel"===this._type&&r&&o){const t=Math.min((e.exported.now()-this._lastWheelEventTime)/200,1),n=o(t);a=e.number(r,i,n),t<1?this._frameId||(this._frameId=!0):s=!0}else a=i,s=!0;return this._active=!0,s&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!s,zoomDelta:a-n(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(t){let n=e.ease;if(this._prevEase){const t=this._prevEase,i=(e.exported.now()-t.start)/t.duration,r=t.easing(i+.01)-t.easing(i),o=.27/Math.sqrt(r*r+1e-4)*.01,a=Math.sqrt(.0729-o*o);n=e.bezier(o,a,.25,1)}return this._prevEase={start:e.exported.now(),duration:t,easing:n},n}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=o("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(e.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize="".concat(Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth))),"px"))}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")}),200)}}class Rr{constructor(e,t){this._clickZoom=e,this._tapZoom=t}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Br{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(e,t){return e.preventDefault(),{cameraAnimation:n=>{n.easeTo({duration:300,zoom:n.getZoom()+(e.shiftKey?-1:1),around:n.unproject(t)},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Fr{constructor(){this._tap=new mr({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(e,t,n){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?n.length>0&&(this._swipePoint=t[0],this._swipeTouch=n[0].identifier):this._tap.touchstart(e,t,n))}touchmove(e,t,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;const i=t[0],r=i.y-this._swipePoint.y;return this._swipePoint=i,e.preventDefault(),this._active=!0,{zoomDelta:r/128}}}else this._tap.touchmove(e,t,n)}touchend(e,t,n){this._tapTime?this._swipePoint&&0===n.length&&this.reset():this._tap.touchend(e,t,n)&&(this._tapTime=e.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class jr{constructor(e,t,n){this._el=e,this._mousePan=t,this._touchPan=n}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Nr{constructor(e,t,n){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=n}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Ur{constructor(e,t,n,i){this._el=e,this._touchZoom=t,this._touchRotate=n,this._tapDragZoom=i,this._rotationDisabled=!1,this._enabled=!0}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Vr=e=>e.zoom||e.drag||e.pitch||e.rotate;class qr extends e.Event{}class Gr{constructor(){this.constants=[1,1,.01],this.radius=0}setup(t,n){const i=e.sub([],n,t);this.radius=e.length(i[2]<0?e.div([],i,this.constants):[i[0],i[1],0])}projectRay(t){e.div(t,t,this.constants),e.normalize(t,t),e.mul$1(t,t,this.constants);const n=e.scale$2([],t,this.radius);if(n[2]>0){const t=e.scale$2([],[0,0,1],e.dot(n,[0,0,1])),i=e.scale$2([],e.normalize([],[n[0],n[1],0]),this.radius),r=e.add([],n,e.scale$2([],e.sub([],e.add([],i,t),n),2));n[0]=r[0],n[1]=r[1]}return n}}function Wr(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}class Zr{constructor(t,n){this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new rr(t),this._bearingSnap=n.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new Gr,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(n),e.bindAll(["handleEvent","handleWindowEvent"],this);const i=this._el;this._listeners=[[i,"touchstart",{passive:!0}],[i,"touchmove",{passive:!1}],[i,"touchend",void 0],[i,"touchcancel",void 0],[i,"mousedown",void 0],[i,"mousemove",void 0],[i,"mouseup",void 0],[e.window.document,"mousemove",{capture:!0}],[e.window.document,"mouseup",void 0],[i,"mouseover",void 0],[i,"mouseout",void 0],[i,"dblclick",void 0],[i,"click",void 0],[i,"keydown",{capture:!1}],[i,"keyup",void 0],[i,"wheel",{passive:!1}],[i,"contextmenu",void 0],[e.window,"blur",void 0]];for(const[r,o,a]of this._listeners)r.addEventListener(o,r===e.window.document?this.handleWindowEvent:this.handleEvent,a)}destroy(){for(const[t,n,i]of this._listeners)t.removeEventListener(n,t===e.window.document?this.handleWindowEvent:this.handleEvent,i)}_addDefaultHandlers(e){const t=this._map,n=t.getCanvasContainer();this._add("mapEvent",new ur(t,e));const i=t.boxZoom=new dr(t,e);this._add("boxZoom",i);const r=new gr,o=new Br;t.doubleClickZoom=new Rr(o,r),this._add("tapZoom",r),this._add("clickZoom",o);const a=new Fr;this._add("tapDragZoom",a);const s=t.touchPitch=new Ar(t);this._add("touchPitch",s);const l=new xr(e),c=new br(e);t.dragRotate=new Nr(e,l,c),this._add("mouseRotate",l,["mousePitch"]),this._add("mousePitch",c,["mouseRotate"]);const u=new vr(e),h=new wr(t,e);t.dragPan=new jr(n,u,h),this._add("mousePan",u),this._add("touchPan",h,["touchZoom","touchRotate"]);const d=new Mr,p=new Sr;t.touchZoomRotate=new Ur(n,p,d,a),this._add("touchRotate",d,["touchPan","touchZoom"]),this._add("touchZoom",p,["touchPan","touchRotate"]),this._add("blockableMapEvent",new hr(t));const f=t.scrollZoom=new Or(t,this);this._add("scrollZoom",f,["mousePan"]);const m=t.keyboard=new Ir;this._add("keyboard",m);for(const g of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])e.interactive&&e[g]&&t[g].enable(e[g])}_add(e,t,n){this._handlers.push({handlerName:e,handler:t,allowed:n}),this._handlersById[e]=t}stop(e){if(!this._updatingCamera){for(const{handler:e}of this._handlers)e.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}isActive(){for(const{handler:e}of this._handlers)if(e.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Vr(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(e,t,n){for(const i in e)if(i!==n&&(!t||t.indexOf(i)<0))return!0;return!1}handleWindowEvent(e){this.handleEvent(e,"".concat(e.type,"Window"))}_getMapTouches(e){const t=[];for(const n of e)this._el.contains(n.target)&&t.push(n);return t}handleEvent(e,t){this._updatingCamera=!0;const n="renderFrame"===e.type,i=n?void 0:e,r={needsRenderFrame:!1},o={},a={},s=e.touches?this._getMapTouches(e.touches):void 0,l=s?m(this._el,s):n?void 0:f(this._el,e);for(const{handlerName:h,handler:d,allowed:p}of this._handlers){if(!d.isEnabled())continue;let n;this._blockedByActive(a,p,h)?d.reset():d[t||e.type]&&(n=d[t||e.type](e,l,s),this.mergeHandlerResult(r,o,n,h,i),n&&n.needsRenderFrame&&this._triggerRenderFrame()),(n||d.isActive())&&(a[h]=d)}const c={};for(const h in this._previousActiveHandlers)a[h]||(c[h]=i);this._previousActiveHandlers=a,(Object.keys(c).length||Wr(r))&&(this._changes.push([r,o,c]),this._triggerRenderFrame()),(Object.keys(a).length||Wr(r))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:u}=r;u&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],u(this._map))}mergeHandlerResult(t,n,i,r,o){if(!i)return;e.extend(t,i);const a={handlerName:r,originalEvent:i.originalEvent||o};void 0!==i.zoomDelta&&(n.zoom=a),void 0!==i.panDelta&&(n.drag=a),void 0!==i.pitchDelta&&(n.pitch=a),void 0!==i.bearingDelta&&(n.rotate=a)}_applyChanges(){const t={},n={},i={};for(const[r,o,a]of this._changes)r.panDelta&&(t.panDelta=(t.panDelta||new e.Point(0,0))._add(r.panDelta)),r.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+r.zoomDelta),r.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+r.bearingDelta),r.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+r.pitchDelta),void 0!==r.around&&(t.around=r.around),void 0!==r.aroundCoord&&(t.aroundCoord=r.aroundCoord),void 0!==r.pinchAround&&(t.pinchAround=r.pinchAround),r.noInertia&&(t.noInertia=r.noInertia),e.extend(n,o),e.extend(i,a);this._updateMapTransform(t,n,i),this._changes=[]}_updateMapTransform(t,n,i){const r=this._map,o=r.transform,a=e=>[e.x,e.y,e.z];if((e=>{const t=this._eventsInProgress.drag;return t&&!this._handlersById[t.handlerName].isActive()})()&&!Wr(t)){const e=o.zoom;o.cameraElevationReference="sea",o.recenterOnTerrain(),o.cameraElevationReference="ground",e!==o.zoom&&this._map._update(!0)}if(o._isCameraConstrained&&r._stop(!0),!Wr(t))return void this._fireEvents(n,i,!0);let{panDelta:s,zoomDelta:l,bearingDelta:c,pitchDelta:u,around:h,aroundCoord:d,pinchAround:p}=t;o._isCameraConstrained&&(l>0&&(l=0),o._isCameraConstrained=!1),void 0!==p&&(h=p),(l||(e=>n[e]&&!this._eventsInProgress[e])("drag"))&&h&&(this._dragOrigin=a(o.pointCoordinate3D(h)),this._trackingEllipsoid.setup(o._camera.position,this._dragOrigin)),o.cameraElevationReference="sea",r._stop(!0),h=h||r.transform.centerPoint,c&&(o.bearing+=c),u&&(o.pitch+=u),o._updateCameraState();const f=[0,0,0];if(s)if("mercator"===o.projection.name){const e=this._trackingEllipsoid.projectRay(o.screenPointToMercatorRay(h).dir),t=this._trackingEllipsoid.projectRay(o.screenPointToMercatorRay(h.sub(s)).dir);f[0]=t[0]-e[0],f[1]=t[1]-e[1]}else{const t=o.pointCoordinate(h);if("globe"===o.projection.name){s=s.rotate(-o.angle);const n=o._pixelsPerMercatorPixel/o.worldSize;f[0]=-s.x*e.mercatorScale(e.latFromMercatorY(t.y))*n,f[1]=-s.y*e.mercatorScale(o.center.lat)*n}else{const e=o.pointCoordinate(h.sub(s));t&&e&&(f[0]=e.x-t.x,f[1]=e.y-t.y)}}const m=o.zoom,g=[0,0,0];if(l){const t=a(d||o.pointCoordinate3D(h)),n={dir:e.normalize([],e.sub([],t,o._camera.position))};if(n.dir[2]<0){const i=o.zoomDeltaToMovement(t,l);e.scale$2(g,n.dir,i)}}const _=e.add(f,f,g);o._translateCameraConstrained(_),l&&Math.abs(o.zoom-m)>1e-4&&o.recenterOnTerrain(),o.cameraElevationReference="ground",this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(n,i,!0)}_fireEvents(t,n,i){const r=Vr(this._eventsInProgress),o=Vr(t),a={};for(const e in t){const{originalEvent:n}=t[e];this._eventsInProgress[e]||(a["".concat(e,"start")]=n),this._eventsInProgress[e]=t[e]}!r&&o&&this._fireEvent("movestart",o.originalEvent);for(const e in a)this._fireEvent(e,a[e]);o&&this._fireEvent("move",o.originalEvent);for(const e in t){const{originalEvent:n}=t[e];this._fireEvent(e,n)}const s={};let l;for(const e in this._eventsInProgress){const{handlerName:t,originalEvent:i}=this._eventsInProgress[e];this._handlersById[t].isActive()||(delete this._eventsInProgress[e],l=n[t]||i,s["".concat(e,"end")]=l)}for(const e in s)this._fireEvent(e,s[e]);const c=Vr(this._eventsInProgress);if(i&&(r||o)&&!c){this._updatingCamera=!0;const t=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),n=e=>0!==e&&-this._bearingSnap<e&&e<this._bearingSnap;t?(n(t.bearing||this._map.getBearing())&&(t.bearing=0),this._map.easeTo(t,{originalEvent:l})):(this._map.fire(new e.Event("moveend",{originalEvent:l})),n(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(t,n){this._map.fire(new e.Event(t,n?{originalEvent:n}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((e=>{this._frameId=void 0,this.handleEvent(new qr("renderFrame",{timeStamp:e})),this._applyChanges()}))}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}const Hr="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Xr extends e.Evented{constructor(t,n){super(),this._moving=!1,this._zooming=!1,this.transform=t,this._bearingSnap=n.bearingSnap,this._respectPrefersReducedMotion=!1!==n.respectPrefersReducedMotion,e.bindAll(["_renderFrameCallback"],this)}getCenter(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(e,t){return this.jumpTo({center:e},t)}panBy(t,n,i){return t=e.Point.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},n),i)}panTo(t,n,i){return this.easeTo(e.extend({center:t},n),i)}getZoom(){return this.transform.zoom}setZoom(e,t){return this.jumpTo({zoom:e},t),this}zoomTo(t,n,i){return this.easeTo(e.extend({zoom:t},n),i)}zoomIn(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}zoomOut(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}getBearing(){return this.transform.bearing}setBearing(e,t){return this.jumpTo({bearing:e},t),this}getPadding(){return this.transform.padding}setPadding(e,t){return this.jumpTo({padding:e},t),this}rotateTo(t,n,i){return this.easeTo(e.extend({bearing:t},n),i)}resetNorth(t,n){return this.rotateTo(0,e.extend({duration:1e3},t),n),this}resetNorthPitch(t,n){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),n),this}snapToNorth(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}getPitch(){return this.transform.pitch}setPitch(e,t){return this.jumpTo({pitch:e},t),this}cameraForBounds(t,n){t=e.LngLatBounds.convert(t);const i=n&&n.bearing||0,r=n&&n.pitch||0,o=t.getNorthWest(),a=t.getSouthEast();return this._cameraForBounds(this.transform,o,a,i,r,n)}_extendCameraOptions(t){const n={top:0,bottom:0,right:0,left:0};if("number"==typeof(t=e.extend({padding:n,offset:[0,0],maxZoom:this.transform.maxZoom},t)).padding){const e=t.padding;t.padding={top:e,bottom:e,right:e,left:e}}return t.padding=e.extend(n,t.padding),t}_minimumAABBFrustumDistance(e,t){const n=t.max[0]-t.min[0],i=t.max[1]-t.min[1];return n/i>e.aspect?n/(2*Math.tan(.5*e.fovX)*e.aspect):i/(2*Math.tan(.5*e.fovY)*e.aspect)}_cameraForBoundsOnGlobe(t,n,i,r,o,a){const s=t.clone(),l=this._extendCameraOptions(a);s.bearing=r,s.pitch=o;const c=e.LngLat.convert(n),u=e.LngLat.convert(i),h=.5*(c.lat+u.lat),d=.5*(c.lng+u.lng),p=e.latLngToECEF(h,d),f=e.normalize([],p),m=e.normalize([],e.cross([],f,[0,1,0])),g=e.cross([],m,f),_=[m[0],m[1],m[2],0,g[0],g[1],g[2],0,f[0],f[1],f[2],0,0,0,0,1],y=[p,e.latLngToECEF(c.lat,c.lng),e.latLngToECEF(u.lat,c.lng),e.latLngToECEF(u.lat,u.lng),e.latLngToECEF(c.lat,u.lng),e.latLngToECEF(h,c.lng),e.latLngToECEF(h,u.lng),e.latLngToECEF(c.lat,d),e.latLngToECEF(u.lat,d)];let v=e.Aabb.fromPoints(y.map((t=>[e.dot(m,t),e.dot(g,t),e.dot(f,t)])));const x=e.transformMat4([],v.center,_);0===e.squaredLength(x)&&e.set(x,0,0,1),e.normalize(x,x),e.scale$2(x,x,e.GLOBE_RADIUS),s.center=e.ecefToLatLng(x);const b=s.getWorldToCameraMatrix(),w=e.invert(new Float64Array(16),b);v=e.Aabb.applyTransform(v,e.multiply([],b,_)),e.transformMat4(x,x,b);const E=.5*(v.max[2]-v.min[2]),T=this._minimumAABBFrustumDistance(s,v),k=e.scale$2([],[0,0,1],E),S=e.add(k,x,k),C=T+(0===s.pitch?0:e.distance(x,S)),M=s.globeCenterInViewSpace,z=e.sub([],x,[M[0],M[1],M[2]]);e.normalize(z,z),e.scale$2(z,z,C);const A=e.add([],x,z);e.transformMat4(A,A,w);const P=e.earthRadius/e.GLOBE_RADIUS,I=e.length(A),L=e.mercatorZfromAltitude(Math.max(I*P-e.earthRadius,Number.EPSILON),0),D=Math.min(s.zoomFromMercatorZAdjusted(L),l.maxZoom);return D>.5*(e.GLOBE_ZOOM_THRESHOLD_MIN+e.GLOBE_ZOOM_THRESHOLD_MAX)?(s.setProjection({name:"mercator"}),s.zoom=D,this._cameraForBounds(s,n,i,r,o,a)):{center:s.center,zoom:D,bearing:r,pitch:o}}queryTerrainElevation(t,n){const i=this.transform.elevation;return i?(n=e.extend({},{exaggerated:!0},n),i.getAtPoint(e.MercatorCoordinate.fromLngLat(t),null,n.exaggerated)):null}_cameraForBounds(t,n,i,r,o,a){if("globe"===t.projection.name)return this._cameraForBoundsOnGlobe(t,n,i,r,o,a);const s=t.clone(),l=this._extendCameraOptions(a),c=s.padding;s.bearing=r,s.pitch=o;const u=e.LngLat.convert(n),h=e.LngLat.convert(i),d=new e.LngLat(u.lng,h.lat),p=new e.LngLat(h.lng,u.lat),f=s.project(u),m=s.project(h),g=this.queryTerrainElevation(u),_=this.queryTerrainElevation(h),y=this.queryTerrainElevation(d),v=this.queryTerrainElevation(p),x=[[f.x,f.y,Math.min(g||0,_||0,y||0,v||0)],[m.x,m.y,Math.max(g||0,_||0,y||0,v||0)]];let b=e.Aabb.fromPoints(x);const w=s.getWorldToCameraMatrix(),E=e.invert(new Float64Array(16),w);b=e.Aabb.applyTransform(b,w);const T=e.sub([],b.max,b.min),k=c.left||0,S=c.right||0,C=c.bottom||0,M=c.top||0,{left:z,right:A,top:P,bottom:I}=l.padding,L=.5*(k+S),D=.5*(M+C),O=Math.min(s.scaleZoom(s.scale*Math.min((s.width-(k+S+z+A))/T[0],(s.height-(C+M+I+P))/T[1])),l.maxZoom),R=s.scale/s.zoomScale(O);b=new e.Aabb([b.min[0]-(z+L)*R,b.min[1]-(I+D)*R,b.min[2]],[b.max[0]+(A+L)*R,b.max[1]+(P+D)*R,b.max[2]]);const B=.5*T[2],F=this._minimumAABBFrustumDistance(s,b),j=[0,0,1,0];e.transformMat4$1(j,j,w),e.normalize$2(j,j);const N=e.scale$2([],j,F+B),U=e.add([],b.center,N),V=("number"==typeof l.offset.x&&"number"==typeof l.offset.y?new e.Point(l.offset.x,l.offset.y):e.Point.convert(l.offset)).rotate(-e.degToRad(r));b.center[0]-=V.x*R,b.center[1]+=V.y*R,e.transformMat4(b.center,b.center,E),e.transformMat4(U,U,E);const q=[b.center[0],b.center[1],U[2]*s.pixelsPerMeter];e.scale$2(q,q,1/s.worldSize);const G=e.lngFromMercatorX(q[0]),W=e.latFromMercatorY(q[1]),Z=Math.min(s._zoomFromMercatorZ(q[2]),l.maxZoom),H=new e.LngLat(G,W);return s.mercatorFromTransition&&Z<.5*(e.GLOBE_ZOOM_THRESHOLD_MIN+e.GLOBE_ZOOM_THRESHOLD_MAX)?(s.setProjection({name:"globe"}),s.zoom=Z,this._cameraForBounds(s,n,i,r,o,a)):{center:H,zoom:Z,bearing:r,pitch:o}}fitBounds(e,t,n){const i=this.cameraForBounds(e,t);return this._fitInternal(i,t,n)}fitScreenCoordinates(t,n,i,r,o){const a=e.Point.convert(t),s=e.Point.convert(n),l=new e.Point(Math.min(a.x,s.x),Math.min(a.y,s.y)),c=new e.Point(Math.max(a.x,s.x),Math.max(a.y,s.y));if("mercator"===this.transform.projection.name&&this.transform.anyCornerOffEdge(a,s))return this;const u=this.transform.pointLocation3D(l),h=this.transform.pointLocation3D(c),d=this.transform.pointLocation3D(new e.Point(l.x,c.y)),p=this.transform.pointLocation3D(new e.Point(c.x,l.y)),f=[Math.min(u.lng,h.lng,d.lng,p.lng),Math.min(u.lat,h.lat,d.lat,p.lat)],m=[Math.max(u.lng,h.lng,d.lng,p.lng),Math.max(u.lat,h.lat,d.lat,p.lat)],g=r&&r.pitch?r.pitch:this.getPitch(),_=this._cameraForBounds(this.transform,f,m,i,g,r);return this._fitInternal(_,r,o)}_fitInternal(t,n,i){return t?(delete(n=e.extend(t,n)).padding,n.linear?this.easeTo(n,i):this.flyTo(n,i)):this}jumpTo(t,n){this.stop();const i=t.preloadOnly?this.transform.clone():this.transform;let r=!1,o=!1,a=!1;return"zoom"in t&&i.zoom!==+t.zoom&&(r=!0,i.zoom=+t.zoom),void 0!==t.center&&(i.center=e.LngLat.convert(t.center)),"bearing"in t&&i.bearing!==+t.bearing&&(o=!0,i.bearing=+t.bearing),"pitch"in t&&i.pitch!==+t.pitch&&(a=!0,i.pitch=+t.pitch),null==t.padding||i.isPaddingEqual(t.padding)||(i.padding=t.padding),t.preloadOnly?(this._preloadTiles(i),this):(this.fire(new e.Event("movestart",n)).fire(new e.Event("move",n)),r&&this.fire(new e.Event("zoomstart",n)).fire(new e.Event("zoom",n)).fire(new e.Event("zoomend",n)),o&&this.fire(new e.Event("rotatestart",n)).fire(new e.Event("rotate",n)).fire(new e.Event("rotateend",n)),a&&this.fire(new e.Event("pitchstart",n)).fire(new e.Event("pitch",n)).fire(new e.Event("pitchend",n)),this.fire(new e.Event("moveend",n)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||e.warnOnce(Hr),this.transform.getFreeCameraOptions()}setFreeCameraOptions(t,n){const i=this.transform;if(!i.projection.supportsFreeCamera)return e.warnOnce(Hr),this;this.stop();const r=i.zoom,o=i.pitch,a=i.bearing;i.setFreeCameraOptions(t);const s=r!==i.zoom,l=o!==i.pitch,c=a!==i.bearing;return this.fire(new e.Event("movestart",n)).fire(new e.Event("move",n)),s&&this.fire(new e.Event("zoomstart",n)).fire(new e.Event("zoom",n)).fire(new e.Event("zoomend",n)),c&&this.fire(new e.Event("rotatestart",n)).fire(new e.Event("rotate",n)).fire(new e.Event("rotateend",n)),l&&this.fire(new e.Event("pitchstart",n)).fire(new e.Event("pitch",n)).fire(new e.Event("pitchend",n)),this.fire(new e.Event("moveend",n)),this}easeTo(t,n){this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||this._prefersReducedMotion(t))&&(t.duration=0);const i=this.transform,r=this.getZoom(),o=this.getBearing(),a=this.getPitch(),s=this.getPadding(),l="zoom"in t?+t.zoom:r,c="bearing"in t?this._normalizeBearing(t.bearing,o):o,u="pitch"in t?+t.pitch:a,h="padding"in t?t.padding:i.padding,d=e.Point.convert(t.offset);let p,f,m;if("globe"===i.projection.name){const n=e.MercatorCoordinate.fromLngLat(i.center),r=d.rotate(-i.angle);n.x+=r.x/i.worldSize,n.y+=r.y/i.worldSize;const o=n.toLngLat(),a=e.LngLat.convert(t.center||o);this._normalizeCenter(a),p=i.centerPoint.add(r),f=new e.Point(n.x,n.y).mult(i.worldSize),m=new e.Point(e.mercatorXfromLng(a.lng),e.mercatorYfromLat(a.lat)).mult(i.worldSize).sub(f)}else{p=i.centerPoint.add(d);const n=i.pointLocation(p),r=e.LngLat.convert(t.center||n);this._normalizeCenter(r),f=i.project(n),m=i.project(r).sub(f)}const g=i.zoomScale(l-r);let _,y;t.around&&(_=e.LngLat.convert(t.around),y=i.locationPoint(_));const v=this._zooming||l!==r,x=this._rotating||o!==c,b=this._pitching||u!==a,w=!i.isPaddingEqual(h),E=i=>E=>{if(v&&(i.zoom=e.number(r,l,E)),x&&(i.bearing=e.number(o,c,E)),b&&(i.pitch=e.number(a,u,E)),w&&(i.interpolatePadding(s,h,E),p=i.centerPoint.add(d)),_)i.setLocationAtPoint(_,y);else{const e=i.zoomScale(i.zoom-r),t=l>r?Math.min(2,g):Math.max(.5,g),n=Math.pow(t,1-E),o=i.unproject(f.add(m.mult(E*n)).mult(e));i.setLocationAtPoint(i.renderWorldCopies?o.wrap():o,p)}return t.preloadOnly||this._fireMoveEvents(n),i};if(t.preloadOnly){const e=this._emulate(E,t.duration,i);return this._preloadTiles(e),this}const T={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=v,this._rotating=x,this._pitching=b,this._padding=w,this._easeId=t.easeId,this._prepareEase(n,t.noMoveStart,T),this._ease(E(i),(e=>{i.recenterOnTerrain(),this._afterEase(n,e)}),t),this}_prepareEase(t,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._moving=!0,this.transform.cameraElevationReference="sea",n||i.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!i.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!i.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!i.pitching&&this.fire(new e.Event("pitchstart",t))}_fireMoveEvents(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))}_afterEase(t,n){if(this._easeId&&n&&this._easeId===n)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const i=this._zooming,r=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,i&&this.fire(new e.Event("zoomend",t)),r&&this.fire(new e.Event("rotateend",t)),o&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))}flyTo(t,n){if(this._prefersReducedMotion(t)){const i=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(i,n)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);const i=this.transform,r=this.getZoom(),o=this.getBearing(),a=this.getPitch(),s=this.getPadding(),l="zoom"in t?e.clamp(+t.zoom,i.minZoom,i.maxZoom):r,c="bearing"in t?this._normalizeBearing(t.bearing,o):o,u="pitch"in t?+t.pitch:a,h="padding"in t?t.padding:i.padding,d=i.zoomScale(l-r),p=e.Point.convert(t.offset);let f=i.centerPoint.add(p);const m=i.pointLocation(f),g=e.LngLat.convert(t.center||m);this._normalizeCenter(g);const _=i.project(m),y=i.project(g).sub(_);let v=t.curve;const x=Math.max(i.width,i.height),b=x/d,w=y.mag();if("minZoom"in t){const n=e.clamp(Math.min(t.minZoom,r,l),i.minZoom,i.maxZoom),o=x/i.zoomScale(n-r);v=Math.sqrt(o/w*2)}const E=v*v;function T(e){const t=(b*b-x*x+(e?-1:1)*E*E*w*w)/(2*(e?b:x)*E*w);return Math.log(Math.sqrt(t*t+1)-t)}function k(e){return(Math.exp(e)-Math.exp(-e))/2}function S(e){return(Math.exp(e)+Math.exp(-e))/2}const C=T(0);let M=function(e){return S(C)/S(C+v*e)},z=function(e){return x*((S(C)*(k(t=C+v*e)/S(t))-k(C))/E)/w;var t},A=(T(1)-C)/v;if(Math.abs(w)<1e-6||!isFinite(A)){if(Math.abs(x-b)<1e-6)return this.easeTo(t,n);const e=b<x?-1:1;A=Math.abs(Math.log(b/x))/v,z=function(){return 0},M=function(t){return Math.exp(e*v*t)}}t.duration="duration"in t?+t.duration:1e3*A/("screenSpeed"in t?+t.screenSpeed/v:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0);const P=o!==c,I=u!==a,L=!i.isPaddingEqual(h),D=i=>d=>{const m=d*A,v=1/M(m);i.zoom=1===d?l:r+i.scaleZoom(v),P&&(i.bearing=e.number(o,c,d)),I&&(i.pitch=e.number(a,u,d)),L&&(i.interpolatePadding(s,h,d),f=i.centerPoint.add(p));const x=1===d?g:i.unproject(_.add(y.mult(z(m))).mult(v));return i.setLocationAtPoint(i.renderWorldCopies?x.wrap():x,f),i._updateCameraOnTerrain(),t.preloadOnly||this._fireMoveEvents(n),i};if(t.preloadOnly){const e=this._emulate(D,t.duration,i);return this._preloadTiles(e),this}return this._zooming=!0,this._rotating=P,this._pitching=I,this._padding=L,this._prepareEase(n,!1),this._ease(D(i),(()=>this._afterEase(n)),t),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const e=this._onEaseEnd;this._onEaseEnd=void 0,e.call(this,t)}if(!e){const e=this.handlers;e&&e.stop(!1)}return this}_ease(t,n,i){!1===i.animate||0===i.duration?(t(1),n()):(this._easeStart=e.exported.now(),this._easeOptions=i,this._onEaseFrame=t,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const t=Math.min((e.exported.now()-this._easeStart)/this._easeOptions.duration,1),n=this._onEaseFrame;n&&n(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(t,n){t=e.wrap(t,-180,180);const i=Math.abs(t-n);return Math.abs(t-360-n)<i&&(t-=360),Math.abs(t+360-n)<i&&(t+=360),t}_normalizeCenter(e){const t=this.transform;if(!t.renderWorldCopies||t.maxBounds)return;const n=e.lng-t.center.lng;e.lng+=n>180?-360:n<-180?360:0}_prefersReducedMotion(t){return this._respectPrefersReducedMotion&&e.exported.prefersReducedMotion&&!(t&&t.essential)}_emulate(e,t,n){const i=Math.ceil(15*t/1e3),r=[],o=e(n.clone());for(let a=0;a<=i;a++){const e=o(a/i);r.push(e.clone())}return r}}class Kr{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t,e.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(e){const t=this.options&&this.options.compact;return this._map=e,this._container=o("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=o("button","mapboxgl-ctrl-attrib-button",this._container),o("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=o("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(e,t){const n=this._map._getUIString("AttributionControl.".concat(t));e.setAttribute("aria-label",n),e.removeAttribute("title"),e.firstElementChild&&e.firstElementChild.setAttribute("title",n)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));const n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){const i=n.reduce(((e,t,i)=>(t.value&&(e+="".concat(t.key,"=").concat(t.value).concat(i<n.length-1?"&":"")),e)),"?");t.href="".concat(e.config.FEEDBACK_URL,"/").concat(i,"#").concat($i(this._map,!0)),t.rel="noopener nofollow",this._setElementTitle(t,"MapFeedback")}}_updateData(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let e=[];if(this._map.style.stylesheet){const e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}const t=this._map.style._sourceCaches;for(const i in t){const n=t[i];if(n.used){const t=n.getSource();t.attribution&&e.indexOf(t.attribution)<0&&e.push(t.attribution)}}e.sort(((e,t)=>e.length-t.length)),e=e.filter(((t,n)=>{for(let i=n+1;i<e.length;i++)if(e[i].indexOf(t)>=0)return!1;return!0})),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=[...this.options.customAttribution,...e]:e.unshift(this.options.customAttribution));const n=e.join(" | ");n!==this._attribHTML&&(this._attribHTML=n,e.length?(this._innerContainer.innerHTML=n,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class Yr{constructor(){e.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(e){this._map=e,this._container=o("div","mapboxgl-ctrl");const t=o("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://www.mapbox.com/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const e=this._map.style._sourceCaches;if(0===Object.entries(e).length)return!0;for(const t in e){const n=e[t].getSource();if(n.hasOwnProperty("mapbox_logo")&&!n.mapbox_logo)return!1}return!0}_updateCompact(){const e=this._container.children;if(e.length){const t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}}}class Jr{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(e){const t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}remove(e){const t=this._currentlyRunning,n=t?this._queue.concat(t):this._queue;for(const i of n)if(i.id===e)return void(i.cancelled=!0)}run(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const t=this._currentlyRunning=this._queue;this._queue=[];for(const n of t)if(!n.cancelled&&(n.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function $r(t,n,i){if(t=new e.LngLat(t.lng,t.lat),n){const r=new e.LngLat(t.lng-360,t.lat),o=new e.LngLat(t.lng+360,t.lat),a=360*Math.ceil(Math.abs(t.lng-i.center.lng)/360),s=i.locationPoint(t).distSqr(n),l=n.x<0||n.y<0||n.x>i.width||n.y>i.height;i.locationPoint(r).distSqr(n)<s&&(l||Math.abs(r.lng-i.center.lng)<a)?t=r:i.locationPoint(o).distSqr(n)<s&&(l||Math.abs(o.lng-i.center.lng)<a)&&(t=o)}for(;Math.abs(t.lng-i.center.lng)>180;){const e=i.locationPoint(t);if(e.x>=0&&e.y>=0&&e.x<=i.width&&e.y<=i.height)break;t.lng>i.center.lng?t.lng-=360:t.lng+=360}return t}const Qr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class eo extends e.Evented{constructor(t,n){if(super(),(t instanceof e.window.HTMLElement||n)&&(t=e.extend({element:t},n)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=t&&t.anchor||"center",this._color=t&&t.color||"#3FB1CE",this._scale=t&&t.scale||1,this._draggable=t&&t.draggable||!1,this._clickTolerance=t&&t.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=t&&t.rotation||0,this._rotationAlignment=t&&t.rotationAlignment||"auto",this._pitchAlignment=t&&t.pitchAlignment&&t.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=t&&t.occludedOpacity||.2,t&&t.element)this._element=t.element,this._offset=e.Point.convert(t&&t.offset||[0,0]);else{this._defaultMarker=!0,this._element=o("div");const n=41,i=27,r=a("svg",{display:"block",height:n*this._scale+"px",width:i*this._scale+"px",viewBox:"0 0 ".concat(i," ").concat(n)},this._element),s=a("radialGradient",{id:"shadowGradient"},a("defs",{},r));a("stop",{offset:"10%","stop-opacity":.4},s),a("stop",{offset:"100%","stop-opacity":.05},s),a("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},r),a("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},r),a("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},r),a("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},r),this._offset=e.Point.convert(t&&t.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(e=>{e.preventDefault()})),this._element.addEventListener("mousedown",(e=>{e.preventDefault()}));const i=this._element.classList;for(const e in Qr)i.remove("mapboxgl-marker-anchor-".concat(e));i.add("mapboxgl-marker-anchor-".concat(this._anchor)),this._popup=null}addTo(e){return e===this._map||(this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._updateMoving),e.on("moveend",this._update),e.on("remove",this._clearFadeTimer),e._addMarker(this),this.setDraggable(this._draggable),this._update(),e.on("click",this._onMapClick)),this}remove(){const e=this._map;return e&&(e.off("click",this._onMapClick),e.off("move",this._updateMoving),e.off("moveend",this._update),e.off("mousedown",this._addDragHandler),e.off("touchstart",this._addDragHandler),e.off("mouseup",this._onUp),e.off("touchend",this._onUp),e.off("mousemove",this._onMove),e.off("touchmove",this._onMove),e.off("remove",this._clearFadeTimer),e._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){const t=38.1,n=13.5,i=Math.sqrt(Math.pow(n,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-t],"bottom-left":[i,-1*(t-n+i)],"bottom-right":[-i,-1*(t-n+i)],left:[n,-1*(t-n)],right:[-n,-1*(t-n)]}:this._offset}this._popup=e,e._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(e){const t=e.code,n=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==n&&13!==n||this.togglePopup()}_onMapClick(e){const t=e.originalEvent.target,n=this._element;this._popup&&(t===n||n.contains(t))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const e=this._popup;return e?(e.isOpen()?(e.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(e.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const e=this._map,t=this._pos;if(!e||!t)return!1;const n=e.unproject(t),i=e.getFreeCameraOptions();if(!i.position)return!1;const r=i.position.toLngLat();return r.distanceTo(n)<.9*r.distanceTo(this._lngLat)}_evaluateOpacity(){const t=this._map;if(!t)return;const n=this._pos;if(!n||n.x<0||n.x>t.transform.width||n.y<0||n.y>t.transform.height)return void this._clearFadeTimer();const i=t.unproject(n);let r;t._showingGlobe()&&e.isLngLatBehindGlobe(t.transform,this._lngLat)?r=0:(r=1-t._queryFogOpacity(i),t.transform._terrainEnabled()&&t.getTerrain()&&this._behindTerrain()&&(r*=this._occludedOpacity)),this._element.style.opacity="".concat(r),this._element.style.pointerEvents=r>0?"auto":"none",this._popup&&this._popup._setOpacity(r),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const e=this._pos;if(!e||!this._map)return;const t=this._offset.mult(this._scale);this._element.style.transform="\n            translate(".concat(e.x,"px,").concat(e.y,"px)\n            ").concat(Qr[this._anchor],"\n            ").concat(this._calculateXYTransform()," ").concat(this._calculateZTransform(),"\n            translate(").concat(t.x,"px,").concat(t.y,"px)\n        ")}_calculateXYTransform(){const t=this._pos,n=this._map,i=this.getPitchAlignment();if(!n||!t||"map"!==i)return"";if(!n._showingGlobe()){const e=n.getPitch();return e?"rotateX(".concat(e,"deg)"):""}const r=e.radToDeg(e.globeTiltAtLngLat(n.transform,this._lngLat)),o=t.sub(e.globeCenterToScreenPoint(n.transform)),a=Math.abs(o.x)+Math.abs(o.y);if(0===a)return"";const s=r/a;return"rotateX(".concat(-o.y*s,"deg) rotateY(").concat(o.x*s,"deg)")}_calculateZTransform(){const t=this._pos,n=this._map;if(!n||!t)return"";let i=0;const r=this.getRotationAlignment();if("map"===r)if(n._showingGlobe()){const t=n.project(new e.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),r=n.project(new e.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(t);i=e.radToDeg(Math.atan2(r.y,r.x))-90}else i=-n.getBearing();else if("horizon"===r){const r=e.smoothstep(4,6,n.getZoom()),o=e.globeCenterToScreenPoint(n.transform);o.y+=r*n.transform.height;const a=t.sub(o),s=e.radToDeg(Math.atan2(a.y,a.x));i=(s>90?s-270:s+90)*(1-r)}return i+=this._rotation,i?"rotateZ(".concat(i,"deg)"):""}_update(t){e.window.cancelAnimationFrame(this._updateFrameId);const n=this._map;n&&(n.transform.renderWorldCopies&&(this._lngLat=$r(this._lngLat,this._pos,n.transform)),this._pos=n.project(this._lngLat),!0===t?this._updateFrameId=e.window.requestAnimationFrame((()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())})):this._pos=this._pos.round(),n._requestDomTask((()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(n._showingGlobe()||n.getTerrain()||n.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))})))}getOffset(){return this._offset}setOffset(t){return this._offset=e.Point.convert(t),this._update(),this}_onMove(t){const n=this._map;if(!n)return;const i=this._pointerdownPos,r=this._positionDelta;if(i&&r){if(!this._isDragging){const e=this._clickTolerance||n._clickTolerance;if(t.point.dist(i)<e)return;this._isDragging=!0}this._pos=t.point.sub(r),this._lngLat=n.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const t=this._map;t&&(t.off("mousemove",this._onMove),t.off("touchmove",this._onMove)),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"}_addDragHandler(e){const t=this._map,n=this._pos;t&&n&&this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(n),this._pointerdownPos=e.point,this._state="pending",t.on("mousemove",this._onMove),t.on("touchmove",this._onMove),t.once("mouseup",this._onUp),t.once("touchend",this._onUp))}setDraggable(e){this._draggable=!!e;const t=this._map;return t&&(e?(t.on("mousedown",this._addDragHandler),t.on("touchstart",this._addDragHandler)):(t.off("mousedown",this._addDragHandler),t.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e){return this._rotation=e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e){return this._rotationAlignment=e||"auto",this._update(),this}getRotationAlignment(){return"auto"===this._rotationAlignment||"horizon"===this._rotationAlignment&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(e){return this._pitchAlignment=e||"auto",this._update(),this}getPitchAlignment(){return"auto"===this._pitchAlignment?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(e){return this._occludedOpacity=e||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const to={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},no=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function io(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new e.Point(0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bottom";if("number"==typeof t){const i=Math.round(Math.sqrt(.5*Math.pow(t,2)));switch(n){case"top":return new e.Point(0,t);case"top-left":return new e.Point(i,i);case"top-right":return new e.Point(-i,i);case"bottom":return new e.Point(0,-t);case"bottom-left":return new e.Point(i,-i);case"bottom-right":return new e.Point(-i,-i);case"left":return new e.Point(t,0);case"right":return new e.Point(-t,0)}return new e.Point(0,0)}return t instanceof e.Point||Array.isArray(t)?e.Point.convert(t):e.Point.convert(t[n]||[0,0])}class ro{constructor(e){this.jumpTo(e)}getValue(t){if(t<=this._startTime)return this._start;if(t>=this._endTime)return this._end;const n=e.easeCubicInOut((t-this._startTime)/(this._endTime-this._startTime));return this._start*(1-n)+this._end*n}isEasing(e){return e>=this._startTime&&e<=this._endTime}jumpTo(e){this._startTime=-1/0,this._endTime=-1/0,this._start=e,this._end=e}easeTo(e,t,n){this._start=this.getValue(t),this._end=e,this._startTime=t,this._endTime=t+n}}const oo={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use \u2318 + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},ao={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0},so={showCompass:!0,showZoom:!0,visualizePitch:!1};class lo{constructor(t,n){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._clickTolerance=10,this.element=n,this.mouseRotate=new xr({clickTolerance:t.dragRotate._mouseRotate._clickTolerance}),this.map=t,i&&(this.mousePitch=new br({clickTolerance:t.dragRotate._mousePitch._clickTolerance})),e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),n.addEventListener("mousedown",this.mousedown),n.addEventListener("touchstart",this.touchstart,{passive:!1}),n.addEventListener("touchmove",this.touchmove),n.addEventListener("touchend",this.touchend),n.addEventListener("touchcancel",this.reset)}down(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),u()}move(e,t){const n=this.map,i=this.mouseRotate.mousemoveWindow(e,t),r=i&&i.bearingDelta;if(r&&n.setBearing(n.getBearing()+r),this.mousePitch){const i=this.mousePitch.mousemoveWindow(e,t),r=i&&i.pitchDelta;r&&n.setPitch(n.getPitch()+r)}}off(){const e=this.element;e.removeEventListener("mousedown",this.mousedown),e.removeEventListener("touchstart",this.touchstart,{passive:!1}),e.removeEventListener("touchmove",this.touchmove),e.removeEventListener("touchend",this.touchend),e.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){h(),e.window.removeEventListener("mousemove",this.mousemove),e.window.removeEventListener("mouseup",this.mouseup)}mousedown(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:()=>t.preventDefault()}),f(this.element,t)),e.window.addEventListener("mousemove",this.mousemove),e.window.addEventListener("mouseup",this.mouseup)}mousemove(e){this.move(e,f(this.element,e))}mouseup(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()}touchstart(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=m(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>e.preventDefault()},this._startPos))}touchmove(e){1!==e.targetTouches.length?this.reset():(this._lastPos=m(this.element,e.targetTouches)[0],this.move({preventDefault:()=>e.preventDefault()},this._lastPos))}touchend(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const co={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},uo={maxWidth:100,unit:"metric"},ho={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"},po={version:e.version,supported:n,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:class extends Xr{constructor(t){if(e.LivePerformanceUtils.mark(e.PerformanceMarkers.create),null!=(t=e.extend({},ao,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(t.antialias&&e.isSafariWithAntialiasingBug(e.window)&&(t.antialias=!1,e.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new Ki(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies),t),this._interactive=t.interactive,this._minTileCacheSize=t.minTileCacheSize,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._useWebGL2=t.useWebGL2,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=t.crossSourceCollisions,this._collectResourceTiming=t.collectResourceTiming,this._optimizeForTerrain=t.optimizeForTerrain,this._language=this._parseLanguage(t.language),this._worldview=t.worldview,this._renderTaskQueue=new Jr,this._domRenderTaskQueue=new Jr,this._controls=[],this._markers=[],this._popups=[],this._mapId=e.uniqueId(),this._locale=e.extend({},oo,t.locale),this._clickTolerance=t.clickTolerance,this._cooperativeGestures=t.cooperativeGestures,this._performanceMetricsCollection=t.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new ro(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new e.RequestManager(t.transformRequest,t.accessToken,t.testMode),this._silenceAuthErrors=!!t.testMode,"string"==typeof t.container){if(this._container=e.window.document.getElementById(t.container),!this._container)throw new Error("Container '".concat(t.container,"' not found."))}else{if(!(t.container instanceof e.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(this._container.childNodes.length>0&&e.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(()=>this._update(!1))),this.on("moveend",(()=>this._update(!1))),this.on("zoom",(()=>this._update(!0))),void 0!==e.window&&(e.window.addEventListener("online",this._onWindowOnline,!1),e.window.addEventListener("resize",this._onWindowResize,!1),e.window.addEventListener("orientationchange",this._onWindowResize,!1),e.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),e.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new Zr(this,t),this._localFontFamily=t.localFontFamily,this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),t.projection&&this.setProjection(t.projection),this._hash=t.hash&&new Ji("string"==typeof t.hash&&t.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),t.attributionControl&&this.addControl(new Kr({customAttribution:t.customAttribution})),this._logoControl=new Yr,this.addControl(this._logoControl,t.logoPosition),this.on("style.load",(()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)})),this.on("data",(t=>{this._update("style"===t.dataType),this.fire(new e.Event("".concat(t.dataType,"data"),t))})),this.on("dataloading",(t=>{this.fire(new e.Event("".concat(t.dataType,"dataloading"),t))}))}_getMapId(){return this._mapId}addControl(t,n){if(void 0===n&&(n=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const i=t.onAdd(this);this._controls.push(t);const r=this._controlPositions[n];return-1!==n.indexOf("bottom")?r.insertBefore(i,r.firstChild):r.appendChild(i),this}removeControl(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const n=this._controls.indexOf(t);return n>-1&&this._controls.splice(n,1),t.onRemove(this),this}hasControl(e){return this._controls.indexOf(e)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(t){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const n=!this._moving;return n&&this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t)),this.fire(new e.Event("resize",t)),n&&this.fire(new e.Event("moveend",t)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()}setMinZoom(t){if((t=null==t?-2:t)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t?this.setZoom(t):this.fire(new e.Event("zoomstart")).fire(new e.Event("zoom")).fire(new e.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t?this.setZoom(t):this.fire(new e.Event("zoomstart")).fire(new e.Event("zoom")).fire(new e.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(t){if((t=null==t?0:t)<0)throw new Error("minPitch must be greater than or equal to 0");if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this._update(),this.getPitch()<t?this.setPitch(t):this.fire(new e.Event("pitchstart")).fire(new e.Event("pitch")).fire(new e.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(t){if((t=null==t?85:t)>85)throw new Error("maxPitch must be less than or equal to 85");if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this._update(),this.getPitch()>t?this.setPitch(t):this.fire(new e.Event("pitchstart")).fire(new e.Event("pitch")).fire(new e.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(e){return this.transform.renderWorldCopies=e,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(t){return"auto"===t?e.window.navigator.language:Array.isArray(t)?0===t.length?void 0:t.map((t=>"auto"===t?e.window.navigator.language:t)):t}setLanguage(e){const t=this._parseLanguage(e);if(!this.style||t===this._language)return this;this._language=t,this.style._reloadSources();for(const n of this._controls)n._setLanguage&&n._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(e){return this.style&&e!==this._worldview?(this._worldview=e,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return"globe"===this.transform.projection.name}setProjection(e){return this._lazyInitEmptyStyle(),e?"string"==typeof e&&(e={name:e}):e=null,this._useExplicitProjection=!!e,this._prioritizeAndUpdateProjection(e,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if("globe"!==this.getProjection().name)return;const t=this.transform,n=t.projection.name;let i;"globe"===n&&t.zoom>=e.GLOBE_ZOOM_THRESHOLD_MAX?(t.setMercatorFromTransition(),i=!0):"mercator"===n&&t.zoom<e.GLOBE_ZOOM_THRESHOLD_MAX&&(t.setProjection({name:"globe"}),i=!0),i&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(e,t){return this._updateProjection(e||t||{name:"mercator"})}_updateProjection(t){let n;if(n="globe"===t.name&&this.transform.zoom>=e.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(t),this.style.applyProjectionUpdate(),n){this.painter.clearBackgroundTiles();for(const e in this.style._sourceCaches)this.style._sourceCaches[e].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(t){return this.transform.locationPoint3D(e.LngLat.convert(t))}unproject(t){return this.transform.pointLocation3D(e.Point.convert(t))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(e,t,n){if("mouseenter"===e||"mouseover"===e){let i=!1;const r=r=>{const o=t.filter((e=>this.getLayer(e))),a=o.length?this.queryRenderedFeatures(r.point,{layers:o}):[];a.length?i||(i=!0,n.call(this,new sr(e,this,r.originalEvent,{features:a}))):i=!1},o=()=>{i=!1};return{layers:new Set(t),listener:n,delegates:{mousemove:r,mouseout:o}}}if("mouseleave"===e||"mouseout"===e){let i=!1;const r=r=>{const o=t.filter((e=>this.getLayer(e)));(o.length?this.queryRenderedFeatures(r.point,{layers:o}):[]).length?i=!0:i&&(i=!1,n.call(this,new sr(e,this,r.originalEvent)))},o=t=>{i&&(i=!1,n.call(this,new sr(e,this,t.originalEvent)))};return{layers:new Set(t),listener:n,delegates:{mousemove:r,mouseout:o}}}{const i=e=>{const i=t.filter((e=>this.getLayer(e))),r=i.length?this.queryRenderedFeatures(e.point,{layers:i}):[];r.length&&(e.features=r,n.call(this,e),delete e.features)};return{layers:new Set(t),listener:n,delegates:{[e]:i}}}}on(e,t,n){if(void 0===n)return super.on(e,t);Array.isArray(t)||(t=[t]);const i=this._createDelegatedListener(e,t,n);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(i);for(const r in i.delegates)this.on(r,i.delegates[r]);return this}once(e,t,n){if(void 0===n)return super.once(e,t);Array.isArray(t)||(t=[t]);const i=this._createDelegatedListener(e,t,n);for(const r in i.delegates)this.once(r,i.delegates[r]);return this}off(e,t,n){if(void 0===n)return super.off(e,t);t=new Set(Array.isArray(t)?t:[t]);const i=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0},r=this._delegatedListeners?this._delegatedListeners[e]:void 0;return r&&(e=>{for(let r=0;r<e.length;r++){const o=e[r];if(o.listener===n&&i(o.layers,t)){for(const e in o.delegates)this.off(e,o.delegates[e]);return e.splice(r,1),this}}})(r),this}queryRenderedFeatures(t,n){return this.style?(void 0!==n||void 0===t||t instanceof e.Point||Array.isArray(t)||(n=t,t=void 0),this.style.queryRenderedFeatures(t=t||[[0,0],[this.transform.width,this.transform.height]],n=n||{},this.transform)):[]}querySourceFeatures(e,t){return this.style.querySourceFeatures(e,t)}isPointOnSurface(t){const{name:n}=this.transform.projection;return"globe"!==n&&"mercator"!==n&&e.warnOnce("".concat(n," projection does not support isPointOnSurface, this API may behave unexpectedly.")),this.transform.isPointOnSurface(e.Point.convert(t))}setStyle(t,n){return!1!==(n=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&n.localFontFamily===this._localFontFamily&&this.style&&t?(this._diffStyle(t,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._localFontFamily=n.localFontFamily,this._updateStyle(t,n))}_getUIString(e){const t=this._locale[e];if(null==t)throw new Error("Missing UI string '".concat(e,"'"));return t}_updateStyle(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),e&&(this.style=new Jt(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Jt(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(t,n){if("string"==typeof t){const i=this._requestManager.normalizeStyleURL(t),r=this._requestManager.transformRequest(i,e.ResourceType.Style);e.getJSON(r,((t,i)=>{t?this.fire(new e.ErrorEvent(t)):i&&this._updateDiff(i,n)}))}else"object"==typeof t&&this._updateDiff(t,n)}_updateDiff(t,n){try{this.style.setState(t)&&this._update(!0)}catch(i){e.warnOnce("Unable to perform style diff: ".concat(i.message||i.error||i,".  Rebuilding the style from scratch.")),this._updateStyle(t,n)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(e.warnOnce("There is no style added to the map."),!1)}addSource(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)}isSourceLoaded(e){return!!this.style&&this.style._isSourceCacheLoaded(e)}areTilesLoaded(){const e=this.style&&this.style._sourceCaches;for(const t in e){const n=e[t]._tiles;for(const e in n){const t=n[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}}return!0}addSourceType(e,t,n){this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,n)}removeSource(e){return this.style.removeSource(e),this._updateTerrain(),this._update(!0)}getSource(e){return this.style.getSource(e)}addImage(t,n){let{pixelRatio:i=1,sdf:r=!1,stretchX:o,stretchY:a,content:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this._lazyInitEmptyStyle(),n instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&n instanceof e.window.ImageBitmap){const{width:l,height:c,data:u}=e.exported.getImageData(n);this.style.addImage(t,{data:new e.RGBAImage({width:l,height:c},u),pixelRatio:i,stretchX:o,stretchY:a,content:s,sdf:r,version:0})}else if(void 0===n.width||void 0===n.height)this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:l,height:c}=n,u=n;this.style.addImage(t,{data:new e.RGBAImage({width:l,height:c},new Uint8Array(u.data)),pixelRatio:i,stretchX:o,stretchY:a,content:s,sdf:r,version:0,userImage:u}),u.onAdd&&u.onAdd(this,t)}}updateImage(t,n){const i=this.style.getImage(t);if(!i)return void this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const r=n instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&n instanceof e.window.ImageBitmap?e.exported.getImageData(n):n,{width:o,height:a}=r;void 0!==o&&void 0!==a?o===i.data.width&&a===i.data.height?(i.data.replace(r.data,!(n instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&n instanceof e.window.ImageBitmap)),this.style.updateImage(t,i)):this.fire(new e.ErrorEvent(new Error("The width and height of the updated image (".concat(o,", ").concat(a,")\n                must be that same as the previous version of the image\n                (").concat(i.data.width,", ").concat(i.data.height,")")))):this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(e){this.style.removeImage(e)}loadImage(t,n){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),((t,i)=>{n(t,i instanceof e.window.HTMLImageElement?e.exported.getImageData(i):i)}))}listImages(){return this.style.listImages()}addLayer(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)}moveLayer(e,t){return this.style.moveLayer(e,t),this._update(!0)}removeLayer(e){return this.style.removeLayer(e),this._update(!0)}getLayer(e){return this.style.getLayer(e)}setLayerZoomRange(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0)}setFilter(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.style.setFilter(e,t,n),this._update(!0)}getFilter(e){return this.style.getFilter(e)}setPaintProperty(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.style.setPaintProperty(e,t,n,i),this._update(!0)}getPaintProperty(e,t){return this.style.getPaintProperty(e,t)}setLayoutProperty(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.style.setLayoutProperty(e,t,n,i),this._update(!0)}getLayoutProperty(e,t){return this.style.getLayoutProperty(e,t)}setLight(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(e){return this._lazyInitEmptyStyle(),!e&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(e),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(e){return this._lazyInitEmptyStyle(),this.style.setFog(e),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(t){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(e.LngLat.convert(t),this.transform):0}setFeatureState(e,t){return this.style.setFeatureState(e,t),this._update()}removeFeatureState(e,t){return this.style.removeFeatureState(e,t),this._update()}getFeatureState(e){return this.style.getFeatureState(e)}_updateContainerDimensions(){if(!this._container)return;const t=this._container.getBoundingClientRect().width||400,n=this._container.getBoundingClientRect().height||300;let i,r,o,a=this._container;for(;a&&(!r||!o);){const t=e.window.getComputedStyle(a).transform;t&&"none"!==t&&(i=t.match(/matrix.*\((.+)\)/)[1].split(", "),i[0]&&"0"!==i[0]&&"1"!==i[0]&&(r=i[0]),i[3]&&"0"!==i[3]&&"1"!==i[3]&&(o=i[3])),a=a.parentElement}this._containerWidth=r?Math.abs(t/r):t,this._containerHeight=o?Math.abs(n/o):n}_detectMissingCSS(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=o("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();const t=this._canvasContainer=o("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=o("canvas","mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const n=this._controlContainer=o("div","mapboxgl-control-container",e),i=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((e=>{i[e]=o("div","mapboxgl-ctrl-".concat(e),n)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(t,n){const i=e.exported.devicePixelRatio||1;this._canvas.width=i*Math.ceil(t),this._canvas.height=i*Math.ceil(n),this._canvas.style.width="".concat(t,"px"),this._canvas.style.height="".concat(n,"px")}_addMarker(e){this._markers.push(e)}_removeMarker(e){const t=this._markers.indexOf(e);-1!==t&&this._markers.splice(t,1)}_addPopup(e){this._popups.push(e)}_removePopup(e){const t=this._popups.indexOf(e);-1!==t&&this._popups.splice(t,1)}_setupPainter(){const t=e.extend({},n.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),i=this._useWebGL2&&this._canvas.getContext("webgl2",t),r=i||this._canvas.getContext("webgl",t)||this._canvas.getContext("experimental-webgl",t);r?(this._useWebGL2&&!i&&e.warnOnce("Failed to create WebGL 2 context. Using WebGL 1."),e.storeAuthState(r,!0),this.painter=new Ri(r,this.transform,!!i),this.on("data",(e=>{"source"===e.dataType&&this.painter.setTileLoadedFlag(!0)})),e.exported$1.testSupport(r)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))}_contextRestored(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))}_onMapScroll(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(e){return this._update(),this._renderTaskQueue.add(e)}_cancelRenderFrame(e){this._renderTaskQueue.remove(e)}_requestDomTask(e){!this.loaded()||this.loaded()&&!this.isMoving()?e():this._domRenderTaskQueue.add(e)}_render(t){let n;const i=this.painter.context.extTimerQuery,r=e.exported.now();if(this.listens("gpu-timing-frame")&&(n=i.createQueryEXT(),i.beginQueryEXT(i.TIME_ELAPSED_EXT,n)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],e.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],e.window.performance.now())),this._renderTaskQueue.run(t),this._domRenderTaskQueue.run(t),this._removed)return;this._updateProjectionTransition();const o=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const t=this.transform.zoom,n=this.transform.pitch,i=e.exported.now(),r=new e.EvaluationParameters(t,{now:i,fadeDuration:o,pitch:n,transition:this.style.getTransition()});this.style.update(r)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let a=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),a=this._updateAverageElevation(r),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):a=this._updateAverageElevation(r),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,o,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:o,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),n){const t=e.exported.now()-r;i.endQueryEXT(i.TIME_ELAPSED_EXT,n),setTimeout((()=>{const o=i.getQueryObjectEXT(n,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(n),this.fire(new e.Event("gpu-timing-frame",{cpuTime:t,gpuTime:o})),e.window.performance.mark("frame-gpu",{startTime:r,detail:{gpuTime:o}})}),50)}if(this.listens("gpu-timing-layer")){const t=this.painter.collectGpuTimers();setTimeout((()=>{const n=this.painter.queryGpuTimers(t);this.fire(new e.Event("gpu-timing-layer",{layerTimes:n}))}),50)}if(this.listens("gpu-timing-deferred-render")){const t=this.painter.collectDeferredRenderGpuQueries();setTimeout((()=>{const n=this.painter.queryGpuTimeDeferredRender(t);this.fire(new e.Event("gpu-timing-deferred-render",{gpuTime:n}))}),50)}const s=this._sourcesDirty||this._styleDirty||this._placementDirty||a;if(s||this._repaint)this.triggerRepaint();else{const t=!this.isMoving()&&this.loaded();if(t&&(a=this._updateAverageElevation(r,!0)),a)this.triggerRepaint();else if(this._triggerFrame(!1),t&&(this.fire(new e.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const t=this._calculateSpeedIndex();this.fire(new e.Event("speedindexcompleted",{speedIndex:t})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||s||(this._fullyLoaded=!0,e.LivePerformanceUtils.mark(e.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&e.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(e){for(const t of this._markers)e&&!this.getRenderWorldCopies()&&(t._lngLat=t._lngLat.wrap()),t._update();for(const t of this._popups)!e||this.getRenderWorldCopies()||t._trackPointer||(t._lngLat=t._lngLat.wrap()),t._update()}_updateAverageElevation(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e=>(this.transform.averageElevation=e,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&n(0);if((t||e-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(e)){const t=this.transform.averageElevation;let i=this.transform.sampleAverageElevation(),r=!1;this.transform.elevation&&(r=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(i)?i=0:this._averageElevationLastSampledAt=e;const o=Math.abs(t-i);if(o>1){if(this._isInitialLoad||r)return this._averageElevation.jumpTo(i),n(i);this._averageElevation.easeTo(i,e,300)}else if(o>1e-4)return this._averageElevation.jumpTo(i),n(i)}return!!this._averageElevation.isEasing(e)&&n(this._averageElevation.getValue(e))}_authenticate(){e.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(t=>{if(t&&(t.message===e.AUTH_ERR_MSG||401===t.status)){const t=this.painter.context.gl;e.storeAuthState(t,!1),this._logoControl instanceof Yr&&this._logoControl._updateLogo(),t&&t.clear(t.DEPTH_BUFFER_BIT|t.COLOR_BUFFER_BIT|t.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new e.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}})),e.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(()=>{}))}_updateTerrain(){const e=this._isDragging();this.painter.updateTerrain(this.style,e)}_calculateSpeedIndex(){const e=this.painter.canvasCopy(),t=this.painter.getCanvasCopiesAndTimestamps();t.timeStamps.push(performance.now());const n=this.painter.context.gl,i=n.createFramebuffer();function r(e){n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0);const t=new Uint8Array(n.drawingBufferWidth*n.drawingBufferHeight*4);return n.readPixels(0,0,n.drawingBufferWidth,n.drawingBufferHeight,n.RGBA,n.UNSIGNED_BYTE,t),t}return n.bindFramebuffer(n.FRAMEBUFFER,i),this._canvasPixelComparison(r(e),t.canvasCopies.map(r),t.timeStamps)}_canvasPixelComparison(e,t,n){let i=n[1]-n[0];const r=e.length/4;for(let o=0;o<t.length;o++){const a=t[o];let s=0;for(let t=0;t<a.length;t+=4)a[t]===e[t]&&a[t+1]===e[t+1]&&a[t+2]===e[t+2]&&a[t+3]===e[t+3]&&(s+=1);i+=(n[o+2]-n[o+1])*(1-s/r)}return i}remove(){this._hash&&this._hash.remove();for(const e of this._controls)e.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("orientationchange",this._onWindowResize,!1),e.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1),e.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const t=this.painter.context.gl.getExtension("WEBGL_lose_context");t&&t.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),e.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new e.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(t){this._renderNextFrame=this._renderNextFrame||t,this.style&&!this._frame&&(this._frame=e.exported.frame((e=>{const t=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,t&&this._render(e)})))}_preloadTiles(t){const n=this.style?Object.values(this.style._sourceCaches):[];return e.asyncAll(n,((e,n)=>e._preloadTiles(t,n)),(()=>{this.triggerRepaint()})),this}_onWindowOnline(){this._update()}_onWindowResize(e){this._trackResize&&this.resize({originalEvent:e})._update()}_onVisibilityChange(){"hidden"===e.window.document.visibilityState&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(e){this._showTerrainWireframe!==e&&(this._showTerrainWireframe=e,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(e){this._speedIndexTiming!==e&&(this._speedIndexTiming=e,this._update())}get showPadding(){return!!this._showPadding}set showPadding(e){this._showPadding!==e&&(this._showPadding=e,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())}get repaint(){return!!this._repaint}set repaint(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(e){this._vertices=e,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(e){this._showTileAABBs!==e&&(this._showTileAABBs=e,e&&this._update())}_setCacheLimits(t,n){e.setCacheLimits(t,n)}get version(){return e.version}},NavigationControl:class{constructor(t){this.options=e.extend({},so,t),this._container=o("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(e=>e.preventDefault())),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(e=>{this._map&&this._map.zoomIn({},{originalEvent:e})})),o("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(e=>{this._map&&this._map.zoomOut({},{originalEvent:e})})),o("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(e=>{const t=this._map;t&&(this.options.visualizePitch?t.resetNorthPitch({},{originalEvent:e}):t.resetNorth({},{originalEvent:e}))})),this._compassIcon=o("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const e=this._map;if(!e)return;const t=e.getZoom(),n=t===e.getMaxZoom(),i=t===e.getMinZoom();this._zoomInButton.disabled=n,this._zoomOutButton.disabled=i,this._zoomInButton.setAttribute("aria-disabled",n.toString()),this._zoomOutButton.setAttribute("aria-disabled",i.toString())}_rotateCompassArrow(){const e=this._map;if(!e)return;const t=this.options.visualizePitch?"scale(".concat(1/Math.pow(Math.cos(e.transform.pitch*(Math.PI/180)),.5),") rotateX(").concat(e.transform.pitch,"deg) rotateZ(").concat(e.transform.angle*(180/Math.PI),"deg)"):"rotate(".concat(e.transform.angle*(180/Math.PI),"deg)");e._requestDomTask((()=>{this._compassIcon&&(this._compassIcon.style.transform=t)}))}onAdd(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),e.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&e.on("pitch",this._rotateCompassArrow),e.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new lo(e,this._compass,this.options.visualizePitch)),this._container}onRemove(){const e=this._map;e&&(this._container.remove(),this.options.showZoom&&e.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&e.off("pitch",this._rotateCompassArrow),e.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(e,t){const n=o("button",e,this._container);return n.type="button",n.addEventListener("click",t),n}_setButtonTitle(e,t){if(!this._map)return;const n=this._map._getUIString("NavigationControl.".concat(t));e.setAttribute("aria-label",n),e.firstElementChild&&e.firstElementChild.setAttribute("title",n)}},GeolocateControl:class extends e.Evented{constructor(t){super(),this.options=e.extend({geolocation:e.window.navigator.geolocation},co,t),e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Yi(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(e){return this._map=e,this._container=o("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(t){var n=this;const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!!n.options.geolocation;n._supportsGeolocation=e,t(e)};void 0!==this._supportsGeolocation?t(this._supportsGeolocation):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then((e=>i("denied"!==e.state))).catch((()=>i())):i()}_isOutOfMapMaxBounds(e){const t=this._map.getMaxBounds(),n=e.coords;return!!t&&(n.longitude<t.getWest()||n.longitude>t.getEast()||n.latitude<t.getSouth()||n.latitude>t.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()}}_updateCamera(t){const n=new e.LngLat(t.coords.longitude,t.coords.latitude),i=t.coords.accuracy,r=this._map.getBearing(),o=e.extend({bearing:r},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(i),o,{geolocateSource:!0})}_updateMarker(t){if(t){const n=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const t=this._map.transform,n=e.mercatorZfromAltitude(1,t._center.lat)*t.worldSize,i=Math.ceil(2*this._accuracy*n);this._circleElement.style.width="".concat(i,"px"),this._circleElement.style.height="".concat(i,"px")}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&"number"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",e),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&this._noTimeout)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(t){if(void 0!==this._map){if(this._container.addEventListener("contextmenu",(e=>e.preventDefault())),this._geolocateButton=o("button","mapboxgl-ctrl-geolocate",this._container),o("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const t=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",t),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",t)}else{const e=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",e)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=o("div","mapboxgl-user-location"),this._dotElement.appendChild(o("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(o("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new eo({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=o("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new eo({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(t=>{t.geolocateSource||"ACTIVE_LOCK"!==this._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new e.Event("trackuserlocationend")))}))}}_onDeviceOrientation(e){this._userLocationDotMarker&&(e.webkitCompassHeading?this._heading=e.webkitCompassHeading:!0===e.absolute&&(this._heading=-1*e.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let e;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(e={maximumAge:6e5,timeout:0},this._noTimeout=!0):(e=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,e),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const t=()=>{e.window.addEventListener("ondeviceorientationabsolute"in e.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};void 0!==e.window.DeviceMotionEvent&&"function"==typeof e.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((e=>{"granted"===e&&t()})).catch(console.error):t()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),e.window.removeEventListener("deviceorientation",this._onDeviceOrientation),e.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Kr,ScaleControl:class{constructor(t){this.options=e.extend({},uo,t),this._isNumberFormatSupported=function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"short",unit:"meter"}),!0}catch(e){return!1}}(),e.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const e=this.options.maxWidth||100,t=this._map,n=t._containerHeight/2,i=t._containerWidth/2-e/2,r=t.unproject([i,n]),o=t.unproject([i+e,n]),a=r.distanceTo(o);if("imperial"===this.options.unit){const t=3.2808*a;t>5280?this._setScale(e,t/5280,"mile"):this._setScale(e,t,"foot")}else"nautical"===this.options.unit?this._setScale(e,a/1852,"nautical-mile"):a>=1e3?this._setScale(e,a/1e3,"kilometer"):this._setScale(e,a,"meter")}_setScale(e,t,n){this._map._requestDomTask((()=>{const i=function(e){const t=Math.pow(10,"".concat(Math.floor(e)).length-1);let n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:n>=1?1:function(e){const t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(n),t*n}(t),r=i/t;this._container.innerHTML=this._isNumberFormatSupported&&"nautical-mile"!==n?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"short",unit:n}).format(i):"".concat(i,"&nbsp;").concat(ho[n]),this._container.style.width=e*r+"px"}))}onAdd(e){return this._map=e,this._language=e.getLanguage(),this._container=o("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(e){this._language=e,this._update()}setUnit(e){this.options.unit=e,this._update()}},FullscreenControl:class{constructor(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof e.window.HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in e.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=o("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!e.window.document.fullscreenEnabled&&!e.window.document.webkitFullscreenEnabled)}_setupUI(){const t=this._fullscreenButton=o("button","mapboxgl-ctrl-fullscreen",this._controlContainer);o("span","mapboxgl-ctrl-icon",t).setAttribute("aria-hidden","true"),t.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",e)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(e.window.document.fullscreenElement||e.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends e.Evented{constructor(t){super(),this.options=e.extend(Object.create(to),t),e.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(t&&t.className?t.className.trim().split(/\s+/):[])}addTo(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&t.on("preclick",this._onClose),this.options.closeOnMove&&t.on("move",this._onClose),t.on("remove",this.remove),this._update(),t._addPopup(this),this._focusFirstElement(),this._trackPointer?(t.on("mousemove",this._onMouseEvent),t.on("mouseup",this._onMouseEvent),t._canvasContainer.classList.add("mapboxgl-track-pointer")):t.on("move",this._update),this.fire(new e.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const t=this._map;return t&&(t.off("move",this._update),t.off("move",this._onClose),t.off("preclick",this._onClose),t.off("click",this._onClose),t.off("remove",this.remove),t.off("mousemove",this._onMouseEvent),t.off("mouseup",this._onMouseEvent),t.off("drag",this._onMouseEvent),t._canvasContainer&&t._canvasContainer.classList.remove("mapboxgl-track-pointer"),t._removePopup(this),this._map=void 0),this.fire(new e.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(t){this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update();const n=this._map;return n&&(n.on("move",this._update),n.off("mousemove",this._onMouseEvent),n._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const e=this._map;return e&&(e.off("move",this._update),e.on("mousemove",this._onMouseEvent),e.on("drag",this._onMouseEvent),e._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(t){return this.setDOMContent(e.window.document.createTextNode(t))}setHTML(t){const n=e.window.document.createDocumentFragment(),i=e.window.document.createElement("body");let r;for(i.innerHTML=t;r=i.firstChild,r;)n.appendChild(r);return this.setDOMContent(n)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(e){return this.options.maxWidth=e,this._update(),this}setDOMContent(e){let t=this._content;if(t)for(;t.hasChildNodes();)t.firstChild&&t.removeChild(t.firstChild);else t=this._content=o("div","mapboxgl-popup-content",this._container||void 0);if(t.appendChild(e),this.options.closeButton){const e=this._closeButton=o("button","mapboxgl-popup-close-button",t);e.type="button",e.setAttribute("aria-label","Close popup"),e.setAttribute("aria-hidden","true"),e.innerHTML="&#215;",e.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(e){return this._classList.add(e),this._updateClassList(),this}removeClassName(e){return this._classList.delete(e),this._updateClassList(),this}setOffset(e){return this.options.offset=e,this._update(),this}toggleClassName(e){let t;return this._classList.delete(e)?t=!1:(this._classList.add(e),t=!0),this._updateClassList(),t}_onMouseEvent(e){this._update(e.point)}_getAnchor(e){if(this.options.anchor)return this.options.anchor;const t=this._map,n=this._container,i=this._pos;if(!t||!n||!i)return"bottom";const r=n.offsetWidth,o=n.offsetHeight,a=i.x<r/2,s=i.x>t.transform.width-r/2;if(i.y+e<o)return a?"top-left":s?"top-right":"top";if(i.y>t.transform.height-o){if(a)return"bottom-left";if(s)return"bottom-right"}return a?"left":s?"right":"bottom"}_updateClassList(){const e=this._container;if(!e)return;const t=[...this._classList];t.push("mapboxgl-popup"),this._anchor&&t.push("mapboxgl-popup-anchor-".concat(this._anchor)),this._trackPointer&&t.push("mapboxgl-popup-track-pointer"),e.className=t.join(" ")}_update(t){const n=this._map,i=this._content;if(!n||!this._lngLat&&!this._trackPointer||!i)return;let r=this._container;if(r||(r=this._container=o("div","mapboxgl-popup",n.getContainer()),this._tip=o("div","mapboxgl-popup-tip",r),r.appendChild(i)),this.options.maxWidth&&r.style.maxWidth!==this.options.maxWidth&&(r.style.maxWidth=this.options.maxWidth),n.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=$r(this._lngLat,this._pos,n.transform)),!this._trackPointer||t){const e=this._pos=this._trackPointer&&t?t:n.project(this._lngLat),i=io(this.options.offset),r=this._anchor=this._getAnchor(i.y),o=io(this.options.offset,r),a=e.add(o).round();n._requestDomTask((()=>{this._container&&r&&(this._container.style.transform="".concat(Qr[r]," translate(").concat(a.x,"px,").concat(a.y,"px)"))}))}if(!this._marker&&n._showingGlobe()){const t=e.isLngLatBehindGlobe(n.transform,this._lngLat)?0:1;this._setOpacity(t)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const e=this._container.querySelector(no);e&&e.focus()}_onClose(){this.remove()}_setOpacity(e){this._container&&(this._container.style.opacity="".concat(e)),this._content&&(this._content.style.pointerEvents=e?"auto":"none")}},Marker:eo,Style:Jt,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.Point,MercatorCoordinate:e.MercatorCoordinate,FreeCameraOptions:Ui,Evented:e.Evented,config:e.config,prewarm:function(){je().acquire(Re)},clearPrewarmedResources:function(){const e=Fe;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(Re),Fe=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return Be.workerCount},set workerCount(e){Be.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage(t){e.clearTileCache(t)},workerUrl:"",workerClass:null,setNow:e.exported.setNow,restoreNow:e.exported.restoreNow};return po})),n}()},2619:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=function(e){return e=e||Object.create(null),{on:function(t,n){(e[t]||(e[t]=[])).push(n)},off:function(t,n){e[t]&&e[t].splice(e[t].indexOf(n)>>>0,1)},emit:function(t,n){(e[t]||[]).slice().map((function(e){e(n)})),(e["*"]||[]).slice().map((function(e){e(t,n)}))}}}},8872:function(e){(function(){var t,n,i,r,o,a;"undefined"!==typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!==typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-o)/1e6},n=process.hrtime,r=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})(),a=1e9*process.uptime(),o=r-a):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)},888:(e,t,n)=>{"use strict";var i=n(9047);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},2007:(e,t,n)=>{e.exports=n(888)()},9047:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5475:(e,t,n)=>{for(var i=n(8872),r="undefined"===typeof window?n.g:window,o=["moz","webkit"],a="AnimationFrame",s=r["request"+a],l=r["cancel"+a]||r["cancelRequest"+a],c=0;!s&&c<o.length;c++)s=r[o[c]+"Request"+a],l=r[o[c]+"Cancel"+a]||r[o[c]+"CancelRequest"+a];if(!s||!l){var u=0,h=0,d=[];s=function(e){if(0===d.length){var t=i(),n=Math.max(0,16.666666666666668-(t-u));u=n+t,setTimeout((function(){var e=d.slice(0);d.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(n){setTimeout((function(){throw n}),0)}}),Math.round(n))}return d.push({handle:++h,callback:e,cancelled:!1}),h},l=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}e.exports=function(e){return s.call(r,e)},e.exports.cancel=function(){l.apply(r,arguments)},e.exports.polyfill=function(e){e||(e=r),e.requestAnimationFrame=s,e.cancelAnimationFrame=l}},4463:(e,t,n)=>{"use strict";var i=n(2791),r=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,i,r,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var _=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function v(e,t,n,i){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!h.call(f,e)||!h.call(p,e)&&(d.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(_,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(_,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(_,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var R,B=Object.assign;function F(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var j=!1;function N(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),o=i.stack.split("\n"),a=r.length-1,s=o.length-1;1<=a&&0<=s&&r[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(r[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||r[a]!==o[s]){var l="\n"+r[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=N(e.type,!1);case 11:return e=N(e.type.render,!1);case 1:return e=N(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case w:return"Portal";case k:return"Profiler";case T:return"StrictMode";case z:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case M:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Z(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=W(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function $(e,t){J(e,t);var n=G(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function oe(e,t){var n=G(t.value),i=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=me(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var _e=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ee=null,Te=null;function ke(e){if(e=vr(e)){if("function"!==typeof we)throw Error(o(280));var t=e.stateNode;t&&(t=br(t),we(e.stateNode,e.type,t))}}function Se(e){Ee?Te?Te.push(e):Te=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=Te;if(Te=Ee=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Me(e,t){return e(t)}function ze(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Me(e,t,n)}finally{Ae=!1,(null!==Ee||null!==Te)&&(ze(),Ce())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var i=br(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Le=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Le=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Le=!1}function Oe(e,t,n,i,r,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Re=!1,Be=null,Fe=!1,je=null,Ne={onError:function(e){Re=!0,Be=e}};function Ue(e,t,n,i,r,o,a,s,l){Re=!1,Be=null,Oe.apply(Ne,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Ve(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(i=r.return)){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return Ge(r),e;if(a===i)return Ge(r),t;a=a.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=a;break}if(l===i){s=!0,i=r,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,i=r;break}if(l===i){s=!0,i=a,n=r;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ze(e):null}function Ze(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ze(e);if(null!==t)return t;e=e.sibling}return null}var He=r.unstable_scheduleCallback,Xe=r.unstable_cancelCallback,Ke=r.unstable_shouldYield,Ye=r.unstable_requestPaint,Je=r.unstable_now,$e=r.unstable_getCurrentPriorityLevel,Qe=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~r;0!==s?i=ht(s):0!==(o&=a)&&(i=ht(o))}else 0!==(a=n&~r)?i=ht(a):0!==o&&(i=ht(o));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(o=t&-t)||16===r&&0!==(4194240&o)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-at(t)),i|=e[n],t&=~r;return i}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _t(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-at(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var vt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,wt,Et,Tt,kt,St=!1,Ct=[],Mt=null,zt=null,At=null,Pt=new Map,It=new Map,Lt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":zt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Rt(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},null!==t&&(null!==(t=vr(t))&&wt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Bt(e){var t=yr(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void kt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vr(n))&&wt(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);xe=i,n.target.dispatchEvent(i),xe=null,t.shift()}return!0}function jt(e,t,n){Ft(e)&&n.delete(t)}function Nt(){St=!1,null!==Mt&&Ft(Mt)&&(Mt=null),null!==zt&&Ft(zt)&&(zt=null),null!==At&&Ft(At)&&(At=null),Pt.forEach(jt),It.forEach(jt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Nt)))}function Vt(e){function t(t){return Ut(t,e)}if(0<Ct.length){Ut(Ct[0],e);for(var n=1;n<Ct.length;n++){var i=Ct[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Mt&&Ut(Mt,e),null!==zt&&Ut(zt,e),null!==At&&Ut(At,e),Pt.forEach(t),It.forEach(t),n=0;n<Lt.length;n++)(i=Lt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)Bt(n),null===n.blockedOn&&Lt.shift()}var qt=x.ReactCurrentBatchConfig,Gt=!0;function Wt(e,t,n,i){var r=vt,o=qt.transition;qt.transition=null;try{vt=1,Ht(e,t,n,i)}finally{vt=r,qt.transition=o}}function Zt(e,t,n,i){var r=vt,o=qt.transition;qt.transition=null;try{vt=4,Ht(e,t,n,i)}finally{vt=r,qt.transition=o}}function Ht(e,t,n,i){if(Gt){var r=Kt(e,t,n,i);if(null===r)Gi(e,t,i,Xt,n),Ot(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Mt=Rt(Mt,e,t,n,i,r),!0;case"dragenter":return zt=Rt(zt,e,t,n,i,r),!0;case"mouseover":return At=Rt(At,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return Pt.set(o,Rt(Pt.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,It.set(o,Rt(It.get(o)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Ot(e,i),4&t&&-1<Dt.indexOf(e)){for(;null!==r;){var o=vr(r);if(null!==o&&bt(o),null===(o=Kt(e,t,n,i))&&Gi(e,t,i,Xt,n),o===r)break;r=o}null!==r&&i.stopPropagation()}else Gi(e,t,i,null,n)}}var Xt=null;function Kt(e,t,n,i){if(Xt=null,null!==(e=yr(e=be(i))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=$t,i=n.length,r="value"in Jt?Jt.value:Jt.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[o-t];t++);return Qt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,i,r,o){for(var a in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),hn=B({},cn,{view:0,detail:0}),dn=on(hn),pn=B({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=on(pn),mn=on(B({},pn,{dataTransfer:0})),gn=on(B({},hn,{relatedTarget:0})),_n=on(B({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=B({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=on(yn),xn=on(B({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function kn(){return Tn}var Sn=B({},hn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=on(Sn),Mn=on(B({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),zn=on(B({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),An=on(B({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=B({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=on(Pn),Ln=[9,13,27,32],Dn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Rn=u&&"TextEvent"in window&&!On,Bn=u&&(!Dn||On&&8<On&&11>=On),Fn=String.fromCharCode(32),jn=!1;function Nn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,i){Se(i),0<(t=Zi(t,"onChange")).length&&(n=new un("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Zn=null,Hn=null;function Xn(e){Fi(e,0)}function Kn(e){if(H(xr(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(u){var $n;if(u){var Qn="oninput"in document;if(!Qn){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),Qn="function"===typeof ei.oninput}$n=Qn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function ti(){Zn&&(Zn.detachEvent("onpropertychange",ni),Hn=Zn=null)}function ni(e){if("value"===e.propertyName&&Kn(Hn)){var t=[];Wn(t,Hn,e,be(e)),Pe(Xn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Hn=n,(Zn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Hn)}function oi(e,t){if("click"===e)return Kn(t)}function ai(e,t){if("input"===e||"change"===e)return Kn(t)}var si="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(si(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!h.call(t,r)||!si(e[r],t[r]))return!1}return!0}function ci(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ui(e,t){var n,i=ci(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ci(i)}}function hi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function di(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function pi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fi(e){var t=di(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==i&&pi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=void 0===i.end?o:Math.min(i.end,r),!e.extend&&o>i&&(r=i,i=o,o=r),r=ui(n,o);var a=ui(n,i);r&&a&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mi=u&&"documentMode"in document&&11>=document.documentMode,gi=null,_i=null,yi=null,vi=!1;function xi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vi||null==gi||gi!==X(i)||("selectionStart"in(i=gi)&&pi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&li(yi,i)||(yi=i,0<(i=Zi(_i,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=gi)))}function bi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wi={animationend:bi("Animation","AnimationEnd"),animationiteration:bi("Animation","AnimationIteration"),animationstart:bi("Animation","AnimationStart"),transitionend:bi("Transition","TransitionEnd")},Ei={},Ti={};function ki(e){if(Ei[e])return Ei[e];if(!wi[e])return e;var t,n=wi[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ti)return Ei[e]=n[t];return e}u&&(Ti=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);var Si=ki("animationend"),Ci=ki("animationiteration"),Mi=ki("animationstart"),zi=ki("transitionend"),Ai=new Map,Pi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ii(e,t){Ai.set(e,t),l(t,[e])}for(var Li=0;Li<Pi.length;Li++){var Di=Pi[Li];Ii(Di.toLowerCase(),"on"+(Di[0].toUpperCase()+Di.slice(1)))}Ii(Si,"onAnimationEnd"),Ii(Ci,"onAnimationIteration"),Ii(Mi,"onAnimationStart"),Ii("dblclick","onDoubleClick"),Ii("focusin","onFocus"),Ii("focusout","onBlur"),Ii(zi,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ri=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oi));function Bi(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,a,s,l,c){if(Ue.apply(this,arguments),Re){if(!Re)throw Error(o(198));var u=Be;Re=!1,Be=null,Fe||(Fe=!0,je=u)}}(i,t,void 0,e),e.currentTarget=null}function Fi(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var a=i.length-1;0<=a;a--){var s=i[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&r.isPropagationStopped())break e;Bi(r,s,c),o=l}else for(a=0;a<i.length;a++){if(l=(s=i[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&r.isPropagationStopped())break e;Bi(r,s,c),o=l}}}if(Fe)throw e=je,Fe=!1,je=null,e}function ji(e,t){var n=t[mr];void 0===n&&(n=t[mr]=new Set);var i=e+"__bubble";n.has(i)||(qi(t,e,2,!1),n.add(i))}function Ni(e,t,n){var i=0;t&&(i|=4),qi(n,e,i,t)}var Ui="_reactListening"+Math.random().toString(36).slice(2);function Vi(e){if(!e[Ui]){e[Ui]=!0,a.forEach((function(t){"selectionchange"!==t&&(Ri.has(t)||Ni(t,!1,e),Ni(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ui]||(t[Ui]=!0,Ni("selectionchange",!1,t))}}function qi(e,t,n,i){switch(Yt(t)){case 1:var r=Wt;break;case 4:r=Zt;break;default:r=Ht}n=r.bind(null,t,n,e),r=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Gi(e,t,n,i,r){var o=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var a=i.tag;if(3===a||4===a){var s=i.stateNode.containerInfo;if(s===r||8===s.nodeType&&s.parentNode===r)break;if(4===a)for(a=i.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;a=a.return}for(;null!==s;){if(null===(a=yr(s)))return;if(5===(l=a.tag)||6===l){i=o=a;continue e}s=s.parentNode}}i=i.return}Pe((function(){var i=o,r=be(n),a=[];e:{var s=Ai.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=zn;break;case Si:case Ci:case Mi:l=_n;break;case zi:l=An;break;case"scroll":l=dn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Mn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=i;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==d&&(null!=(m=Ie(f,d))&&u.push(Wi(f,m,p)))),h)break;f=f.return}0<u.length&&(s=new l(s,c,null,n,r),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!yr(c)&&!c[fr])&&(l||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?yr(c):null)&&(c!==(h=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=fn,m="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Mn,m="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?s:xr(l),p=null==c?s:xr(c),(s=new u(m,f+"leave",l,n,r)).target=h,s.relatedTarget=p,m=null,yr(r)===i&&((u=new u(d,f+"enter",c,n,r)).target=p,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,f=0,p=u=l;p;p=Hi(p))f++;for(p=0,m=d;m;m=Hi(m))p++;for(;0<f-p;)u=Hi(u),f--;for(;0<p-f;)d=Hi(d),p--;for(;f--;){if(u===d||null!==d&&u===d.alternate)break e;u=Hi(u),d=Hi(d)}u=null}else u=null;null!==l&&Xi(a,s,l,u,!1),null!==c&&null!==h&&Xi(a,h,c,u,!0)}if("select"===(l=(s=i?xr(i):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Yn;else if(Gn(s))if(Jn)g=ai;else{g=ri;var _=ii}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=oi);switch(g&&(g=g(e,i))?Wn(a,g,n,r):(_&&_(e,s,i),"focusout"===e&&(_=s._wrapperState)&&_.controlled&&"number"===s.type&&ee(s,"number",s.value)),_=i?xr(i):window,e){case"focusin":(Gn(_)||"true"===_.contentEditable)&&(gi=_,_i=i,yi=null);break;case"focusout":yi=_i=gi=null;break;case"mousedown":vi=!0;break;case"contextmenu":case"mouseup":case"dragend":vi=!1,xi(a,n,r);break;case"selectionchange":if(mi)break;case"keydown":case"keyup":xi(a,n,r)}var y;if(Dn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Vn?Nn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Bn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Vn&&(y=en()):($t="value"in(Jt=r)?Jt.value:Jt.textContent,Vn=!0)),0<(_=Zi(i,v)).length&&(v=new xn(v,e,null,n,r),a.push({event:v,listeners:_}),y?v.data=y:null!==(y=Un(n))&&(v.data=y))),(y=Rn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(jn=!0,Fn);case"textInput":return(e=t.data)===Fn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Dn&&Nn(e,t)?(e=en(),Qt=$t=Jt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Zi(i,"onBeforeInput")).length&&(r=new xn("onBeforeInput","beforeinput",null,n,r),a.push({event:r,listeners:i}),r.data=y))}Fi(a,t)}))}function Wi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=Ie(e,n))&&i.unshift(Wi(e,o,r)),null!=(o=Ie(e,t))&&i.push(Wi(e,o,r))),e=e.return}return i}function Hi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xi(e,t,n,i,r){for(var o=t._reactName,a=[];null!==n&&n!==i;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===i)break;5===s.tag&&null!==c&&(s=c,r?null!=(l=Ie(n,o))&&a.unshift(Wi(n,l,s)):r||null!=(l=Ie(n,o))&&a.push(Wi(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Ki=/\r\n?/g,Yi=/\u0000|\uFFFD/g;function Ji(e){return("string"===typeof e?e:""+e).replace(Ki,"\n").replace(Yi,"")}function $i(e,t,n){if(t=Ji(t),Ji(e)!==t&&n)throw Error(o(425))}function Qi(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,or="function"===typeof Promise?Promise:void 0,ar="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof or?function(e){return or.resolve(null).then(e).catch(sr)}:ir;function sr(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void Vt(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Vt(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ur(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hr=Math.random().toString(36).slice(2),dr="__reactFiber$"+hr,pr="__reactProps$"+hr,fr="__reactContainer$"+hr,mr="__reactEvents$"+hr,gr="__reactListeners$"+hr,_r="__reactHandles$"+hr;function yr(e){var t=e[dr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fr]||n[dr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ur(e);null!==e;){if(n=e[dr])return n;e=ur(e)}return t}n=(e=n).parentNode}return null}function vr(e){return!(e=e[dr]||e[fr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function br(e){return e[pr]||null}var wr=[],Er=-1;function Tr(e){return{current:e}}function kr(e){0>Er||(e.current=wr[Er],wr[Er]=null,Er--)}function Sr(e,t){Er++,wr[Er]=e.current,e.current=t}var Cr={},Mr=Tr(Cr),zr=Tr(!1),Ar=Cr;function Pr(e,t){var n=e.type.contextTypes;if(!n)return Cr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ir(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Lr(){kr(zr),kr(Mr)}function Dr(e,t,n){if(Mr.current!==Cr)throw Error(o(168));Sr(Mr,t),Sr(zr,n)}function Or(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(o(108,q(e)||"Unknown",r));return B({},n,i)}function Rr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cr,Ar=Mr.current,Sr(Mr,e),Sr(zr,zr.current),!0}function Br(e,t,n){var i=e.stateNode;if(!i)throw Error(o(169));n?(e=Or(e,t,Ar),i.__reactInternalMemoizedMergedChildContext=e,kr(zr),kr(Mr),Sr(Mr,e)):kr(zr),Sr(zr,n)}var Fr=null,jr=!1,Nr=!1;function Ur(e){null===Fr?Fr=[e]:Fr.push(e)}function Vr(){if(!Nr&&null!==Fr){Nr=!0;var e=0,t=vt;try{var n=Fr;for(vt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Fr=null,jr=!1}catch(r){throw null!==Fr&&(Fr=Fr.slice(e+1)),He(Qe,Vr),r}finally{vt=t,Nr=!1}}return null}var qr=[],Gr=0,Wr=null,Zr=0,Hr=[],Xr=0,Kr=null,Yr=1,Jr="";function $r(e,t){qr[Gr++]=Zr,qr[Gr++]=Wr,Wr=e,Zr=t}function Qr(e,t,n){Hr[Xr++]=Yr,Hr[Xr++]=Jr,Hr[Xr++]=Kr,Kr=e;var i=Yr;e=Jr;var r=32-at(i)-1;i&=~(1<<r),n+=1;var o=32-at(t)+r;if(30<o){var a=r-r%5;o=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Yr=1<<32-at(t)+r|n<<r|i,Jr=o+e}else Yr=1<<o|n<<r|i,Jr=e}function eo(e){null!==e.return&&($r(e,1),Qr(e,1,0))}function to(e){for(;e===Wr;)Wr=qr[--Gr],qr[Gr]=null,Zr=qr[--Gr],qr[Gr]=null;for(;e===Kr;)Kr=Hr[--Xr],Hr[Xr]=null,Jr=Hr[--Xr],Hr[Xr]=null,Yr=Hr[--Xr],Hr[Xr]=null}var no=null,io=null,ro=!1,oo=null;function ao(e,t){var n=Ic(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,io=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,io=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Kr?{id:Yr,overflow:Jr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ic(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,io=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(ro){var t=io;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=cr(n.nextSibling);var i=no;t&&so(e,t)?ao(i,n):(e.flags=-4097&e.flags|2,ro=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ro=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!ro)return uo(e),ro=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=io)){if(lo(e))throw po(),Error(o(418));for(;t;)ao(e,t),t=cr(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){io=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}io=null}}else io=no?cr(e.stateNode.nextSibling):null;return!0}function po(){for(var e=io;e;)e=cr(e.nextSibling)}function fo(){io=no=null,ro=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=x.ReactCurrentBatchConfig;function _o(e,t){if(e&&e.defaultProps){for(var n in t=B({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Tr(null),vo=null,xo=null,bo=null;function wo(){bo=xo=vo=null}function Eo(e){var t=yo.current;kr(yo),e._currentValue=t}function To(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function ko(e,t){vo=e,bo=xo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function So(e){var t=e._currentValue;if(bo!==e)if(e={context:e,memoizedValue:t,next:null},null===xo){if(null===vo)throw Error(o(308));xo=e,vo.dependencies={lanes:0,firstContext:e}}else xo=xo.next=e;return t}var Co=null;function Mo(e){null===Co?Co=[e]:Co.push(e)}function zo(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,Mo(t)):(n.next=r.next,r.next=n),t.interleaved=n,Ao(e,i)}function Ao(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Po=!1;function Io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Do(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oo(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&zl)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,Ao(e,n)}return null===(r=i.interleaved)?(t.next=t,Mo(i)):(t.next=r.next,r.next=t),i.interleaved=t,Ao(e,n)}function Ro(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bo(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fo(e,t,n,i){var r=e.updateQueue;Po=!1;var o=r.firstBaseUpdate,a=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var h=r.baseState;for(a=0,u=c=l=null,s=o;;){var d=s.lane,p=s.eventTime;if((i&d)===d){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(d=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){h=f.call(p,h,d);break e}h=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(d="function"===typeof(f=m.payload)?f.call(p,h,d):f)||void 0===d)break e;h=B({},h,d);break e;case 2:Po=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=r.effects)?r.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,a|=d;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(d=s).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===u&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(t=r.shared.interleaved)){r=t;do{a|=r.lane,r=r.next}while(r!==t)}else null===o&&(r.shared.lanes=0);Bl|=a,e.lanes=a,e.memoizedState=h}}function jo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var No=(new i.Component).refs;function Uo(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:B({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vo={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=tc(),r=nc(e),o=Do(i,r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Oo(e,o,r))&&(ic(t,e,r,i),Ro(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=tc(),r=nc(e),o=Do(i,r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Oo(e,o,r))&&(ic(t,e,r,i),Ro(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),i=nc(e),r=Do(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Oo(e,r,i))&&(ic(t,e,i,n),Ro(t,e,i))}};function qo(e,t,n,i,r,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(r,o))}function Go(e,t,n){var i=!1,r=Cr,o=t.contextType;return"object"===typeof o&&null!==o?o=So(o):(r=Ir(t)?Ar:Mr.current,o=(i=null!==(i=t.contextTypes)&&void 0!==i)?Pr(e,r):Cr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vo,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wo(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Vo.enqueueReplaceState(t,t.state,null)}function Zo(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=No,Io(e);var o=t.contextType;"object"===typeof o&&null!==o?r.context=So(o):(o=Ir(t)?Ar:Mr.current,r.context=Pr(e,o)),r.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Uo(e,t,o,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Vo.enqueueReplaceState(r,r.state,null),Fo(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function Ho(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var i=n.stateNode}if(!i)throw Error(o(147,e));var r=i,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=r.refs;t===No&&(t=r.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Xo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ko(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function a(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Fc(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){var o=n.type;return o===E?h(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===I&&Ko(o)===t.type)?((i=r(t,n.props)).ref=Ho(e,t,n),i.return=e,i):((i=Oc(n.type,n.key,n.props,null,e.mode,i)).ref=Ho(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function h(e,t,n,i,o){return null===t||7!==t.tag?((t=Rc(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Ho(e,null,t),n.return=e,n;case w:return(t=jc(t,e.mode,n)).return=e,t;case I:return d(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Rc(t,e.mode,n,null)).return=e,t;Xo(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===r?c(e,t,n,i):null;case w:return n.key===r?u(e,t,n,i):null;case I:return p(e,t,(r=n._init)(n._payload),i)}if(te(n)||O(n))return null!==r?null:h(e,t,n,i,null);Xo(e,n)}return null}function f(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case b:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case w:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case I:return f(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||O(i))return h(t,e=e.get(n)||null,i,r,null);Xo(t,i)}return null}function m(r,o,s,l){for(var c=null,u=null,h=o,m=o=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var _=p(r,h,s[m],l);if(null===_){null===h&&(h=g);break}e&&h&&null===_.alternate&&t(r,h),o=a(_,o,m),null===u?c=_:u.sibling=_,u=_,h=g}if(m===s.length)return n(r,h),ro&&$r(r,m),c;if(null===h){for(;m<s.length;m++)null!==(h=d(r,s[m],l))&&(o=a(h,o,m),null===u?c=h:u.sibling=h,u=h);return ro&&$r(r,m),c}for(h=i(r,h);m<s.length;m++)null!==(g=f(h,r,m,s[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(r,e)})),ro&&$r(r,m),c}function g(r,s,l,c){var u=O(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var h=u=null,m=s,g=s=0,_=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(_=m,m=null):_=m.sibling;var v=p(r,m,y.value,c);if(null===v){null===m&&(m=_);break}e&&m&&null===v.alternate&&t(r,m),s=a(v,s,g),null===h?u=v:h.sibling=v,h=v,m=_}if(y.done)return n(r,m),ro&&$r(r,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(r,y.value,c))&&(s=a(y,s,g),null===h?u=y:h.sibling=y,h=y);return ro&&$r(r,g),u}for(m=i(r,m);!y.done;g++,y=l.next())null!==(y=f(m,r,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(r,e)})),ro&&$r(r,g),u}return function e(i,o,a,l){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case b:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===E){if(7===u.tag){n(i,u.sibling),(o=r(u,a.props.children)).return=i,i=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&Ko(c)===u.type){n(i,u.sibling),(o=r(u,a.props)).ref=Ho(i,u,a),o.return=i,i=o;break e}n(i,u);break}t(i,u),u=u.sibling}a.type===E?((o=Rc(a.props.children,i.mode,l,a.key)).return=i,i=o):((l=Oc(a.type,a.key,a.props,null,i.mode,l)).ref=Ho(i,o,a),l.return=i,i=l)}return s(i);case w:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(i,o.sibling),(o=r(o,a.children||[])).return=i,i=o;break e}n(i,o);break}t(i,o),o=o.sibling}(o=jc(a,i.mode,l)).return=i,i=o}return s(i);case I:return e(i,o,(u=a._init)(a._payload),l)}if(te(a))return m(i,o,a,l);if(O(a))return g(i,o,a,l);Xo(i,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(i,o.sibling),(o=r(o,a)).return=i,i=o):(n(i,o),(o=Fc(a,i.mode,l)).return=i,i=o),s(i)):n(i,o)}}var Jo=Yo(!0),$o=Yo(!1),Qo={},ea=Tr(Qo),ta=Tr(Qo),na=Tr(Qo);function ia(e){if(e===Qo)throw Error(o(174));return e}function ra(e,t){switch(Sr(na,t),Sr(ta,e),Sr(ea,Qo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}kr(ea),Sr(ea,t)}function oa(){kr(ea),kr(ta),kr(na)}function aa(e){ia(na.current);var t=ia(ea.current),n=le(t,e.type);t!==n&&(Sr(ta,e),Sr(ea,n))}function sa(e){ta.current===e&&(kr(ea),kr(ta))}var la=Tr(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function ha(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var da=x.ReactCurrentDispatcher,pa=x.ReactCurrentBatchConfig,fa=0,ma=null,ga=null,_a=null,ya=!1,va=!1,xa=0,ba=0;function wa(){throw Error(o(321))}function Ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!si(e[n],t[n]))return!1;return!0}function Ta(e,t,n,i,r,a){if(fa=a,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=null===e||null===e.memoizedState?ss:ls,e=n(i,r),va){a=0;do{if(va=!1,xa=0,25<=a)throw Error(o(301));a+=1,_a=ga=null,t.updateQueue=null,da.current=cs,e=n(i,r)}while(va)}if(da.current=as,t=null!==ga&&null!==ga.next,fa=0,_a=ga=ma=null,ya=!1,t)throw Error(o(300));return e}function ka(){var e=0!==xa;return xa=0,e}function Sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===_a?ma.memoizedState=_a=e:_a=_a.next=e,_a}function Ca(){if(null===ga){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===_a?ma.memoizedState:_a.next;if(null!==t)_a=t,ga=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===_a?ma.memoizedState=_a=e:_a=_a.next=e}return _a}function Ma(e,t){return"function"===typeof t?t(e):t}function za(e){var t=Ca(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=ga,r=i.baseQueue,a=n.pending;if(null!==a){if(null!==r){var s=r.next;r.next=a.next,a.next=s}i.baseQueue=r=a,n.pending=null}if(null!==r){a=r.next,i=i.baseState;var l=s=null,c=null,u=a;do{var h=u.lane;if((fa&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,s=i):c=c.next=d,ma.lanes|=h,Bl|=h}u=u.next}while(null!==u&&u!==a);null===c?s=i:c.next=l,si(i,t.memoizedState)||(xs=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{a=r.lane,ma.lanes|=a,Bl|=a,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Aa(e){var t=Ca(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{a=e(a,s.action),s=s.next}while(s!==r);si(a,t.memoizedState)||(xs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function Pa(){}function Ia(e,t){var n=ma,i=Ca(),r=t(),a=!si(i.memoizedState,r);if(a&&(i.memoizedState=r,xs=!0),i=i.queue,Ga(Oa.bind(null,n,i,e),[e]),i.getSnapshot!==t||a||null!==_a&&1&_a.memoizedState.tag){if(n.flags|=2048,ja(9,Da.bind(null,n,i,r,t),void 0,null),null===Al)throw Error(o(349));0!==(30&fa)||La(n,t,r)}return r}function La(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Da(e,t,n,i){t.value=n,t.getSnapshot=i,Ra(t)&&Ba(e)}function Oa(e,t,n){return n((function(){Ra(t)&&Ba(e)}))}function Ra(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!si(e,n)}catch(i){return!0}}function Ba(e){var t=Ao(e,1);null!==t&&ic(t,e,1,-1)}function Fa(e){var t=Sa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ma,e),[t.memoizedState,e]}function ja(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Na(){return Ca().memoizedState}function Ua(e,t,n,i){var r=Sa();ma.flags|=e,r.memoizedState=ja(1|t,n,void 0,void 0===i?null:i)}function Va(e,t,n,i){var r=Ca();i=void 0===i?null:i;var o=void 0;if(null!==ga){var a=ga.memoizedState;if(o=a.destroy,null!==i&&Ea(i,a.deps))return void(r.memoizedState=ja(t,n,o,i))}ma.flags|=e,r.memoizedState=ja(1|t,n,o,i)}function qa(e,t){return Ua(8390656,8,e,t)}function Ga(e,t){return Va(2048,8,e,t)}function Wa(e,t){return Va(4,2,e,t)}function Za(e,t){return Va(4,4,e,t)}function Ha(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4,4,Ha.bind(null,t,e),n)}function Ka(){}function Ya(e,t){var n=Ca();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Ea(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Ja(e,t){var n=Ca();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Ea(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function $a(e,t,n){return 0===(21&fa)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(si(n,t)||(n=mt(),ma.lanes|=n,Bl|=n,e.baseState=!0),t)}function Qa(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var i=pa.transition;pa.transition={};try{e(!1),t()}finally{vt=n,pa.transition=i}}function es(){return Ca().memoizedState}function ts(e,t,n){var i=nc(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},is(e))rs(t,n);else if(null!==(n=zo(e,t,n,i))){ic(n,e,i,tc()),os(n,t,i)}}function ns(e,t,n){var i=nc(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(is(e))rs(t,r);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(r.hasEagerState=!0,r.eagerState=s,si(s,a)){var l=t.interleaved;return null===l?(r.next=r,Mo(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=zo(e,t,r,i))&&(ic(n,e,i,r=tc()),os(n,t,i))}}function is(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function rs(e,t){va=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:So,useCallback:wa,useContext:wa,useEffect:wa,useImperativeHandle:wa,useInsertionEffect:wa,useLayoutEffect:wa,useMemo:wa,useReducer:wa,useRef:wa,useState:wa,useDebugValue:wa,useDeferredValue:wa,useTransition:wa,useMutableSource:wa,useSyncExternalStore:wa,useId:wa,unstable_isNewReconciler:!1},ss={readContext:So,useCallback:function(e,t){return Sa().memoizedState=[e,void 0===t?null:t],e},useContext:So,useEffect:qa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ua(4194308,4,Ha.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ua(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ua(4,2,e,t)},useMemo:function(e,t){var n=Sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Sa();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=ts.bind(null,ma,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Sa().memoizedState=e},useState:Fa,useDebugValue:Ka,useDeferredValue:function(e){return Sa().memoizedState=e},useTransition:function(){var e=Fa(!1),t=e[0];return e=Qa.bind(null,e[1]),Sa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=ma,r=Sa();if(ro){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Al)throw Error(o(349));0!==(30&fa)||La(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,qa(Oa.bind(null,i,a,e),[e]),i.flags|=2048,ja(9,Da.bind(null,i,a,n,t),void 0,null),n},useId:function(){var e=Sa(),t=Al.identifierPrefix;if(ro){var n=Jr;t=":"+t+"R"+(n=(Yr&~(1<<32-at(Yr)-1)).toString(32)+n),0<(n=xa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ba++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:So,useCallback:Ya,useContext:So,useEffect:Ga,useImperativeHandle:Xa,useInsertionEffect:Wa,useLayoutEffect:Za,useMemo:Ja,useReducer:za,useRef:Na,useState:function(){return za(Ma)},useDebugValue:Ka,useDeferredValue:function(e){return $a(Ca(),ga.memoizedState,e)},useTransition:function(){return[za(Ma)[0],Ca().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Ia,useId:es,unstable_isNewReconciler:!1},cs={readContext:So,useCallback:Ya,useContext:So,useEffect:Ga,useImperativeHandle:Xa,useInsertionEffect:Wa,useLayoutEffect:Za,useMemo:Ja,useReducer:Aa,useRef:Na,useState:function(){return Aa(Ma)},useDebugValue:Ka,useDeferredValue:function(e){var t=Ca();return null===ga?t.memoizedState=e:$a(t,ga.memoizedState,e)},useTransition:function(){return[Aa(Ma)[0],Ca().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Ia,useId:es,unstable_isNewReconciler:!1};function us(e,t){try{var n="",i=t;do{n+=U(i),i=i.return}while(i);var r=n}catch(o){r="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:r,digest:null}}function hs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Do(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Wl||(Wl=!0,Zl=i),ds(0,t)},n}function ms(e,t,n){(n=Do(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof i&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new ps;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function _s(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Do(-1,1)).tag=2,Oo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var vs=x.ReactCurrentOwner,xs=!1;function bs(e,t,n,i){t.child=null===e?$o(t,null,n,i):Jo(t,e.child,n,i)}function ws(e,t,n,i,r){n=n.render;var o=t.ref;return ko(t,r),i=Ta(e,t,n,i,o,r),n=ka(),null===e||xs?(ro&&n&&eo(t),t.flags|=1,bs(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ws(e,t,r))}function Es(e,t,n,i,r){if(null===e){var o=n.type;return"function"!==typeof o||Lc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ts(e,t,o,i,r))}if(o=e.child,0===(e.lanes&r)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:li)(a,i)&&e.ref===t.ref)return Ws(e,t,r)}return t.flags|=1,(e=Dc(o,i)).ref=t.ref,e.return=t,t.child=e}function Ts(e,t,n,i,r){if(null!==e){var o=e.memoizedProps;if(li(o,i)&&e.ref===t.ref){if(xs=!1,t.pendingProps=i=o,0===(e.lanes&r))return t.lanes=e.lanes,Ws(e,t,r);0!==(131072&e.flags)&&(xs=!0)}}return Cs(e,t,n,i,r)}function ks(e,t,n){var i=t.pendingProps,r=i.children,o=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sr(Dl,Ll),Ll|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sr(Dl,Ll),Ll|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==o?o.baseLanes:n,Sr(Dl,Ll),Ll|=i}else null!==o?(i=o.baseLanes|n,t.memoizedState=null):i=n,Sr(Dl,Ll),Ll|=i;return bs(e,t,r,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,i,r){var o=Ir(n)?Ar:Mr.current;return o=Pr(t,o),ko(t,r),n=Ta(e,t,n,i,o,r),i=ka(),null===e||xs?(ro&&i&&eo(t),t.flags|=1,bs(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ws(e,t,r))}function Ms(e,t,n,i,r){if(Ir(n)){var o=!0;Rr(t)}else o=!1;if(ko(t,r),null===t.stateNode)Gs(e,t),Go(t,n,i),Zo(t,n,i,r),i=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=So(c):c=Pr(t,c=Ir(n)?Ar:Mr.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==i||l!==c)&&Wo(t,a,i,c),Po=!1;var d=t.memoizedState;a.state=d,Fo(t,i,a,r),l=t.memoizedState,s!==i||d!==l||zr.current||Po?("function"===typeof u&&(Uo(t,n,u,i),l=t.memoizedState),(s=Po||qo(t,n,s,i,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),a.props=i,a.state=l,a.context=c,i=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,Lo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:_o(t.type,s),a.props=c,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=So(l):l=Pr(t,l=Ir(n)?Ar:Mr.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||d!==l)&&Wo(t,a,i,l),Po=!1,d=t.memoizedState,a.state=d,Fo(t,i,a,r);var f=t.memoizedState;s!==h||d!==f||zr.current||Po?("function"===typeof p&&(Uo(t,n,p,i),f=t.memoizedState),(c=Po||qo(t,n,c,i,d,f,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=f),a.props=i,a.state=f,a.context=l,i=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return zs(e,t,n,i,o,r)}function zs(e,t,n,i,r,o){Ss(e,t);var a=0!==(128&t.flags);if(!i&&!a)return r&&Br(t,n,!1),Ws(e,t,o);i=t.stateNode,vs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&a?(t.child=Jo(t,e.child,null,o),t.child=Jo(t,null,s,o)):bs(e,t,s,o),t.memoizedState=i.state,r&&Br(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Dr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Dr(0,t.context,!1),ra(e,t.containerInfo)}function Ps(e,t,n,i,r){return fo(),mo(r),t.flags|=256,bs(e,t,n,i),t.child}var Is,Ls,Ds,Os,Rs={dehydrated:null,treeContext:null,retryLane:0};function Bs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var i,r=t.pendingProps,a=la.current,s=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&a)),i?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Sr(la,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Bc(l,r,0,null),e=Rc(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Bs(n),t.memoizedState=Rs,e):js(t,l));if(null!==(a=e.memoizedState)&&null!==(i=a.dehydrated))return function(e,t,n,i,r,a,s){if(n)return 256&t.flags?(t.flags&=-257,Ns(e,t,s,i=hs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=i.fallback,r=t.mode,i=Bc({mode:"visible",children:i.children},r,0,null),(a=Rc(a,r,s,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,0!==(1&t.mode)&&Jo(t,e.child,null,s),t.child.memoizedState=Bs(s),t.memoizedState=Rs,a);if(0===(1&t.mode))return Ns(e,t,s,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,Ns(e,t,s,i=hs(a=Error(o(419)),i,void 0))}if(l=0!==(s&e.childLanes),xs||l){if(null!==(i=Al)){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|s))?0:r)&&r!==a.retryLane&&(a.retryLane=r,Ao(e,r),ic(i,e,r,-1))}return gc(),Ns(e,t,s,i=hs(Error(o(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Mc.bind(null,e),r._reactRetry=t,null):(e=a.treeContext,io=cr(r.nextSibling),no=t,ro=!0,oo=null,null!==e&&(Hr[Xr++]=Yr,Hr[Xr++]=Jr,Hr[Xr++]=Kr,Yr=e.id,Jr=e.overflow,Kr=t),t=js(t,i.children),t.flags|=4096,t)}(e,t,l,r,i,a,n);if(s){s=r.fallback,l=t.mode,i=(a=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==a?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Dc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==i?s=Dc(i,s):(s=Rc(s,l,n,null)).flags|=2,s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=null===(l=e.child.memoizedState)?Bs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Rs,r}return e=(s=e.child).sibling,r=Dc(s,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function js(e,t){return(t=Bc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ns(e,t,n,i){return null!==i&&mo(i),Jo(t,e.child,null,n),(e=js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),To(e.return,t,n)}function Vs(e,t,n,i,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function qs(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(bs(e,t,i.children,n),0!==(2&(i=la.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Sr(la,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Vs(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ca(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Vs(t,!0,n,null,o);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Zs(e,t){if(!ro)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Hs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Xs(e,t,n){var i=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hs(t),null;case 1:case 17:return Ir(t.type)&&Lr(),Hs(t),null;case 3:return i=t.stateNode,oa(),kr(zr),kr(Mr),ha(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Ls(e,t),Hs(t),null;case 5:sa(t);var r=ia(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(o(166));return Hs(t),null}if(e=ia(ea.current),ho(t)){i=t.stateNode,n=t.type;var a=t.memoizedProps;switch(i[dr]=t,i[pr]=a,e=0!==(1&t.mode),n){case"dialog":ji("cancel",i),ji("close",i);break;case"iframe":case"object":case"embed":ji("load",i);break;case"video":case"audio":for(r=0;r<Oi.length;r++)ji(Oi[r],i);break;case"source":ji("error",i);break;case"img":case"image":case"link":ji("error",i),ji("load",i);break;case"details":ji("toggle",i);break;case"input":Y(i,a),ji("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},ji("invalid",i);break;case"textarea":re(i,a),ji("invalid",i)}for(var l in ye(n,a),r=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==a.suppressHydrationWarning&&$i(i.textContent,c,e),r=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&$i(i.textContent,c,e),r=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&ji("scroll",i)}switch(n){case"input":Z(i),Q(i,a,!0);break;case"textarea":Z(i),ae(i);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(i.onclick=Qi)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[dr]=t,e[pr]=i,Is(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,i),n){case"dialog":ji("cancel",e),ji("close",e),r=i;break;case"iframe":case"object":case"embed":ji("load",e),r=i;break;case"video":case"audio":for(r=0;r<Oi.length;r++)ji(Oi[r],e);r=i;break;case"source":ji("error",e),r=i;break;case"img":case"image":case"link":ji("error",e),ji("load",e),r=i;break;case"details":ji("toggle",e),r=i;break;case"input":Y(e,i),r=K(e,i),ji("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=B({},i,{value:void 0}),ji("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),ji("invalid",e)}for(a in ye(n,r),c=r)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&ji("scroll",e):null!=u&&v(e,a,u,l))}switch(n){case"input":Z(e),Q(e,i,!1);break;case"textarea":Z(e),ae(e);break;case"option":null!=i.value&&e.setAttribute("value",""+G(i.value));break;case"select":e.multiple=!!i.multiple,null!=(a=i.value)?ne(e,!!i.multiple,a,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Qi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hs(t),null;case 6:if(e&&null!=t.stateNode)Os(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(o(166));if(n=ia(na.current),ia(ea.current),ho(t)){if(i=t.stateNode,n=t.memoizedProps,i[dr]=t,(a=i.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:$i(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$i(i.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[dr]=t,t.stateNode=i}return Hs(t),null;case 13:if(kr(la),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ro&&null!==io&&0!==(1&t.mode)&&0===(128&t.flags))po(),fo(),t.flags|=98560,a=!1;else if(a=ho(t),null!==i&&null!==i.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[dr]=t}else fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hs(t),a=!1}else null!==oo&&(sc(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&la.current)?0===Ol&&(Ol=3):gc())),null!==t.updateQueue&&(t.flags|=4),Hs(t),null);case 4:return oa(),Ls(e,t),null===e&&Vi(t.stateNode.containerInfo),Hs(t),null;case 10:return Eo(t.type._context),Hs(t),null;case 19:if(kr(la),null===(a=t.memoizedState))return Hs(t),null;if(i=0!==(128&t.flags),null===(l=a.rendering))if(i)Zs(a,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ca(e))){for(t.flags|=128,Zs(a,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Sr(la,1&la.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>ql&&(t.flags|=128,i=!0,Zs(a,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=ca(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Zs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ro)return Hs(t),null}else 2*Je()-a.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,i=!0,Zs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=la.current,Sr(la,i?1&n|2:1&n),t):(Hs(t),null);case 22:case 23:return dc(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Ll)&&(Hs(t),6&t.subtreeFlags&&(t.flags|=8192)):Hs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ks(e,t){switch(to(t),t.tag){case 1:return Ir(t.type)&&Lr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),kr(zr),kr(Mr),ha(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(kr(la),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return kr(la),null;case 4:return oa(),null;case 10:return Eo(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Is=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ls=function(){},Ds=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,ia(ea.current);var o,a=null;switch(n){case"input":r=K(e,r),i=K(e,i),a=[];break;case"select":r=B({},r,{value:void 0}),i=B({},i,{value:void 0}),a=[];break;case"textarea":r=ie(e,r),i=ie(e,i),a=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=Qi)}for(u in ye(n,i),n=null,r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=r?r[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&ji("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Os=function(e,t,n,i){n!==i&&(t.flags|=4)};var Ys=!1,Js=!1,$s="function"===typeof WeakSet?WeakSet:Set,Qs=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){kc(e,t,i)}else n.current=null}function tl(e,t,n){try{n()}catch(i){kc(e,t,i)}}var nl=!1;function il(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var o=r.destroy;r.destroy=void 0,void 0!==o&&tl(t,n,o)}r=r.next}while(r!==i)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[dr],delete t[pr],delete t[mr],delete t[gr],delete t[_r])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qi));else if(4!==i&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var hl=null,dl=!1;function pl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(rt,n)}catch(s){}switch(n.tag){case 5:Js||el(n,t);case 6:var i=hl,r=dl;hl=null,pl(e,t,n),dl=r,null!==(hl=i)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Vt(e)):lr(hl,n.stateNode));break;case 4:i=hl,r=dl,hl=n.stateNode.containerInfo,dl=!0,pl(e,t,n),hl=i,dl=r;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var o=r,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tl(n,t,a),r=r.next}while(r!==i)}pl(e,t,n);break;case 1:if(!Js&&(el(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(s){kc(n,t,s)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Js=(i=Js)||null!==n.memoizedState,pl(e,t,n),Js=i):pl(e,t,n);break;default:pl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var i=zc.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(o(160));fl(a,s,r),hl=null,dl=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){kc(r,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)_l(t,e),t=t.sibling}function _l(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&i){try{il(3,e,e.return),rl(3,e)}catch(g){kc(e,e.return,g)}try{il(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&i&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&i&&null!==n&&el(n,n.return),32&e.flags){var r=e.stateNode;try{de(r,"")}catch(g){kc(e,e.return,g)}}if(4&i&&null!=(r=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&J(r,a),ve(l,s);var u=ve(l,a);for(s=0;s<c.length;s+=2){var h=c[s],d=c[s+1];"style"===h?ge(r,d):"dangerouslySetInnerHTML"===h?he(r,d):"children"===h?de(r,d):v(r,h,d,u)}switch(l){case"input":$(r,a);break;case"textarea":oe(r,a);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(r,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(r,!!a.multiple,a.defaultValue,!0):ne(r,!!a.multiple,a.multiple?[]:"",!1))}r[pr]=a}catch(g){kc(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&i){if(null===e.stateNode)throw Error(o(162));r=e.stateNode,a=e.memoizedProps;try{r.nodeValue=a}catch(g){kc(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(r=e.child).flags&&(a=null!==r.memoizedState,r.stateNode.isHidden=a,!a||null!==r.alternate&&null!==r.alternate.memoizedState||(Vl=Je())),4&i&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(u=Js)||h,gl(t,e),Js=u):gl(t,e),yl(e),8192&i){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Qs=e,h=e.child;null!==h;){for(d=Qs=h;null!==Qs;){switch(f=(p=Qs).child,p.tag){case 0:case 11:case 14:case 15:il(4,p,p.return);break;case 1:el(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){i=p,n=p.return;try{t=i,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(i,n,g)}}break;case 5:el(p,p.return);break;case 22:if(null!==p.memoizedState){wl(d);continue}}null!==f?(f.return=p,Qs=f):wl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{r=d.stateNode,u?"function"===typeof(a=r.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,s=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){kc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),yl(e),4&i&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var i=n;break e}n=n.return}throw Error(o(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(de(r,""),i.flags&=-33),ul(e,ll(e),r);break;case 3:case 4:var a=i.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(o(161))}}catch(s){kc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Qs=e,xl(e,t,n)}function xl(e,t,n){for(var i=0!==(1&e.mode);null!==Qs;){var r=Qs,o=r.child;if(22===r.tag&&i){var a=null!==r.memoizedState||Ys;if(!a){var s=r.alternate,l=null!==s&&null!==s.memoizedState||Js;s=Ys;var c=Js;if(Ys=a,(Js=l)&&!c)for(Qs=r;null!==Qs;)l=(a=Qs).child,22===a.tag&&null!==a.memoizedState?El(r):null!==l?(l.return=a,Qs=l):El(r);for(;null!==o;)Qs=o,xl(o,t,n),o=o.sibling;Qs=r,Ys=s,Js=c}bl(e)}else 0!==(8772&r.subtreeFlags)&&null!==o?(o.return=r,Qs=o):bl(e)}}function bl(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||rl(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Js)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:_o(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&jo(t,a,i);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}jo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Vt(d)}}}break;default:throw Error(o(163))}Js||512&t.flags&&ol(t)}catch(p){kc(t,t.return,p)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function wl(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function El(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){kc(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(l){kc(t,r,l)}}var o=t.return;try{ol(t)}catch(l){kc(t,o,l)}break;case 5:var a=t.return;try{ol(t)}catch(l){kc(t,a,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var Tl,kl=Math.ceil,Sl=x.ReactCurrentDispatcher,Cl=x.ReactCurrentOwner,Ml=x.ReactCurrentBatchConfig,zl=0,Al=null,Pl=null,Il=0,Ll=0,Dl=Tr(0),Ol=0,Rl=null,Bl=0,Fl=0,jl=0,Nl=null,Ul=null,Vl=0,ql=1/0,Gl=null,Wl=!1,Zl=null,Hl=null,Xl=!1,Kl=null,Yl=0,Jl=0,$l=null,Ql=-1,ec=0;function tc(){return 0!==(6&zl)?Je():-1!==Ql?Ql:Ql=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&zl)&&0!==Il?Il&-Il:null!==go.transition?(0===ec&&(ec=mt()),ec):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function ic(e,t,n,i){if(50<Jl)throw Jl=0,$l=null,Error(o(185));_t(e,n,i),0!==(2&zl)&&e===Al||(e===Al&&(0===(2&zl)&&(Fl|=n),4===Ol&&lc(e,Il)),rc(e,i),1===n&&0===zl&&0===(1&t.mode)&&(ql=Je()+500,jr&&Vr()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=r[a];-1===l?0!==(s&n)&&0===(s&i)||(r[a]=pt(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var i=dt(e,e===Al?Il:0);if(0===i)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){jr=!0,Ur(e)}(cc.bind(null,e)):Ur(cc.bind(null,e)),ar((function(){0===(6&zl)&&Vr()})),n=null;else{switch(xt(i)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Ac(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Ql=-1,ec=0,0!==(6&zl))throw Error(o(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var i=dt(e,e===Al?Il:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=_c(e,i);else{t=i;var r=zl;zl|=2;var a=mc();for(Al===e&&Il===t||(Gl=null,ql=Je()+500,pc(e,t));;)try{vc();break}catch(l){fc(e,l)}wo(),Sl.current=a,zl=r,null!==Pl?t=0:(Al=null,Il=0,t=Ol)}if(0!==t){if(2===t&&(0!==(r=ft(e))&&(i=r,t=ac(e,r))),1===t)throw n=Rl,pc(e,0),lc(e,i),rc(e,Je()),n;if(6===t)lc(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!si(o(),r))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=_c(e,i))&&(0!==(a=ft(e))&&(i=a,t=ac(e,a))),1===t))throw n=Rl,pc(e,0),lc(e,i),rc(e,Je()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(o(345));case 2:case 5:wc(e,Ul,Gl);break;case 3:if(lc(e,i),(130023424&i)===i&&10<(t=Vl+500-Je())){if(0!==dt(e,0))break;if(((r=e.suspendedLanes)&i)!==i){tc(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(wc.bind(null,e,Ul,Gl),t);break}wc(e,Ul,Gl);break;case 4:if(lc(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var s=31-at(i);a=1<<s,(s=t[s])>r&&(r=s),i&=~a}if(i=r,10<(i=(120>(i=Je()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*kl(i/1960))-i)){e.timeoutHandle=ir(wc.bind(null,e,Ul,Gl),i);break}wc(e,Ul,Gl);break;default:throw Error(o(329))}}}return rc(e,Je()),e.callbackNode===n?oc.bind(null,e):null}function ac(e,t){var n=Nl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=_c(e,t))&&(t=Ul,Ul=n,null!==t&&sc(t)),e}function sc(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function lc(e,t){for(t&=~jl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),i=1<<n;e[n]=-1,t&=~i}}function cc(e){if(0!==(6&zl))throw Error(o(327));Ec();var t=dt(e,0);if(0===(1&t))return rc(e,Je()),null;var n=_c(e,t);if(0!==e.tag&&2===n){var i=ft(e);0!==i&&(t=i,n=ac(e,i))}if(1===n)throw n=Rl,pc(e,0),lc(e,t),rc(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Ul,Gl),rc(e,Je()),null}function uc(e,t){var n=zl;zl|=1;try{return e(t)}finally{0===(zl=n)&&(ql=Je()+500,jr&&Vr())}}function hc(e){null!==Kl&&0===Kl.tag&&0===(6&zl)&&Ec();var t=zl;zl|=1;var n=Ml.transition,i=vt;try{if(Ml.transition=null,vt=1,e)return e()}finally{vt=i,Ml.transition=n,0===(6&(zl=t))&&Vr()}}function dc(){Ll=Dl.current,kr(Dl)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Pl)for(n=Pl.return;null!==n;){var i=n;switch(to(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Lr();break;case 3:oa(),kr(zr),kr(Mr),ha();break;case 5:sa(i);break;case 4:oa();break;case 13:case 19:kr(la);break;case 10:Eo(i.type._context);break;case 22:case 23:dc()}n=n.return}if(Al=e,Pl=e=Dc(e.current,null),Il=Ll=t,Ol=0,Rl=null,jl=Fl=Bl=0,Ul=Nl=null,null!==Co){for(t=0;t<Co.length;t++)if(null!==(i=(n=Co[t]).interleaved)){n.interleaved=null;var r=i.next,o=n.pending;if(null!==o){var a=o.next;o.next=r,i.next=a}n.pending=i}Co=null}return e}function fc(e,t){for(;;){var n=Pl;try{if(wo(),da.current=as,ya){for(var i=ma.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}ya=!1}if(fa=0,_a=ga=ma=null,va=!1,xa=0,Cl.current=null,null===n||null===n.return){Ol=1,Rl=t,Pl=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Il,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=_s(s);if(null!==f){f.flags&=-257,ys(f,s,l,0,t),1&f.mode&&gs(a,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){gs(a,u,t),gc();break e}c=Error(o(426))}else if(ro&&1&l.mode){var _=_s(s);if(null!==_){0===(65536&_.flags)&&(_.flags|=256),ys(_,s,l,0,t),mo(us(c,l));break e}}a=c=us(c,l),4!==Ol&&(Ol=2),null===Nl?Nl=[a]:Nl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Bo(a,fs(0,c,t));break e;case 1:l=c;var y=a.type,v=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Hl||!Hl.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t,Bo(a,ms(a,l,t));break e}}a=a.return}while(null!==a)}bc(n)}catch(x){t=x,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function mc(){var e=Sl.current;return Sl.current=as,null===e?as:e}function gc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Al||0===(268435455&Bl)&&0===(268435455&Fl)||lc(Al,Il)}function _c(e,t){var n=zl;zl|=2;var i=mc();for(Al===e&&Il===t||(Gl=null,pc(e,t));;)try{yc();break}catch(r){fc(e,r)}if(wo(),zl=n,Sl.current=i,null!==Pl)throw Error(o(261));return Al=null,Il=0,Ol}function yc(){for(;null!==Pl;)xc(Pl)}function vc(){for(;null!==Pl&&!Ke();)xc(Pl)}function xc(e){var t=Tl(e.alternate,e,Ll);e.memoizedProps=e.pendingProps,null===t?bc(e):Pl=t,Cl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xs(n,t,Ll)))return void(Pl=n)}else{if(null!==(n=Ks(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Ol=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Ol&&(Ol=5)}function wc(e,t,n){var i=vt,r=Ml.transition;try{Ml.transition=null,vt=1,function(e,t,n,i){do{Ec()}while(null!==Kl);if(0!==(6&zl))throw Error(o(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-at(n),o=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~o}}(e,a),e===Al&&(Pl=Al=null,Il=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xl||(Xl=!0,Ac(tt,(function(){return Ec(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Ml.transition,Ml.transition=null;var s=vt;vt=1;var l=zl;zl|=4,Cl.current=null,function(e,t){if(er=Gt,pi(e=di())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(b){n=null;break e}var s=0,l=-1,c=-1,u=0,h=0,d=e,p=null;t:for(;;){for(var f;d!==n||0!==r&&3!==d.nodeType||(l=s+r),d!==a||0!==i&&3!==d.nodeType||(c=s+i),3===d.nodeType&&(s+=d.nodeValue.length),null!==(f=d.firstChild);)p=d,d=f;for(;;){if(d===e)break t;if(p===n&&++u===r&&(l=s),p===a&&++h===i&&(c=s),null!==(f=d.nextSibling))break;p=(d=p).parentNode}d=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Gt=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,_=m.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:_o(t.type,g),_);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(o(163))}}catch(b){kc(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}m=nl,nl=!1}(e,n),_l(n,e),fi(tr),Gt=!!er,tr=er=null,e.current=n,vl(n,e,r),Ye(),zl=l,vt=s,Ml.transition=a}else e.current=n;if(Xl&&(Xl=!1,Kl=e,Yl=r),a=e.pendingLanes,0===a&&(Hl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Wl)throw Wl=!1,e=Zl,Zl=null,e;0!==(1&Yl)&&0!==e.tag&&Ec(),a=e.pendingLanes,0!==(1&a)?e===$l?Jl++:(Jl=0,$l=e):Jl=0,Vr()}(e,t,n,i)}finally{Ml.transition=r,vt=i}return null}function Ec(){if(null!==Kl){var e=xt(Yl),t=Ml.transition,n=vt;try{if(Ml.transition=null,vt=16>e?16:e,null===Kl)var i=!1;else{if(e=Kl,Kl=null,Yl=0,0!==(6&zl))throw Error(o(331));var r=zl;for(zl|=4,Qs=e.current;null!==Qs;){var a=Qs,s=a.child;if(0!==(16&Qs.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Qs=u;null!==Qs;){var h=Qs;switch(h.tag){case 0:case 11:case 15:il(8,h,a)}var d=h.child;if(null!==d)d.return=h,Qs=d;else for(;null!==Qs;){var p=(h=Qs).sibling,f=h.return;if(al(h),h===u){Qs=null;break}if(null!==p){p.return=f,Qs=p;break}Qs=f}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(null!==g)}}Qs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(a=Qs).flags))switch(a.tag){case 0:case 11:case 15:il(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Qs=y;break e}Qs=a.return}}var v=e.current;for(Qs=v;null!==Qs;){var x=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Qs=x;else e:for(s=v;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(w){kc(l,l.return,w)}if(l===s){Qs=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,Qs=b;break e}Qs=l.return}}if(zl=r,Vr(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(rt,e)}catch(w){}i=!0}return i}finally{vt=n,Ml.transition=t}}return!1}function Tc(e,t,n){e=Oo(e,t=fs(0,t=us(n,t),1),1),t=tc(),null!==e&&(_t(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)Tc(e,e,n);else for(;null!==t;){if(3===t.tag){Tc(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Hl||!Hl.has(i))){t=Oo(t,e=ms(t,e=us(n,e),1),1),e=tc(),null!==t&&(_t(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Il&n)===n&&(4===Ol||3===Ol&&(130023424&Il)===Il&&500>Je()-Vl?pc(e,0):jl|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ao(e,t))&&(_t(e,t,n),rc(e,n))}function Mc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function zc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(o(314))}null!==i&&i.delete(t),Cc(e,n)}function Ac(e,t){return He(e,t)}function Pc(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,t,n,i){return new Pc(e,t,n,i)}function Lc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Ic(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,i,r,a){var s=2;if(i=e,"function"===typeof e)Lc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Rc(n.children,r,a,t);case T:s=8,r|=8;break;case k:return(e=Ic(12,n,t,2|r)).elementType=k,e.lanes=a,e;case z:return(e=Ic(13,n,t,r)).elementType=z,e.lanes=a,e;case A:return(e=Ic(19,n,t,r)).elementType=A,e.lanes=a,e;case L:return Bc(n,r,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case C:s=9;break e;case M:s=11;break e;case P:s=14;break e;case I:s=16,i=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ic(s,n,t,r)).elementType=e,t.type=i,t.lanes=a,t}function Rc(e,t,n,i){return(e=Ic(7,e,i,t)).lanes=n,e}function Bc(e,t,n,i){return(e=Ic(22,e,i,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Ic(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Ic(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Nc(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,i,r,o,a,s,l){return e=new Nc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ic(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Io(o),e}function Vc(e){if(!e)return Cr;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ir(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ir(n))return Or(e,n,t)}return t}function qc(e,t,n,i,r,o,a,s,l){return(e=Uc(n,i,!0,e,0,o,0,s,l)).context=Vc(null),n=e.current,(o=Do(i=tc(),r=nc(n))).callback=void 0!==t&&null!==t?t:null,Oo(n,o,r),e.current.lanes=r,_t(e,r,i),rc(e,i),e}function Gc(e,t,n,i){var r=t.current,o=tc(),a=nc(r);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Do(o,a)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Oo(r,t,a))&&(ic(e,r,a,o),Ro(e,r,a)),a}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Zc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Zc(e,t),(e=e.alternate)&&Zc(e,t)}Tl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||zr.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:As(t),fo();break;case 5:aa(t);break;case 1:Ir(t.type)&&Rr(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Sr(yo,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Sr(la,1&la.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Sr(la,1&la.current),null!==(e=Ws(e,t,n))?e.sibling:null);Sr(la,1&la.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return qs(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Sr(la,la.current),i)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,n)}return Ws(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,ro&&0!==(1048576&t.flags)&&Qr(t,Zr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Gs(e,t),e=t.pendingProps;var r=Pr(t,Mr.current);ko(t,n),r=Ta(null,t,i,e,r,n);var a=ka();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ir(i)?(a=!0,Rr(t)):a=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Io(t),r.updater=Vo,t.stateNode=r,r._reactInternals=t,Zo(t,i,e,n),t=zs(null,t,i,!0,a,n)):(t.tag=0,ro&&a&&eo(t),bs(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return Lc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===M)return 11;if(e===P)return 14}return 2}(i),e=_o(i,e),r){case 0:t=Cs(null,t,i,e,n);break e;case 1:t=Ms(null,t,i,e,n);break e;case 11:t=ws(null,t,i,e,n);break e;case 14:t=Es(null,t,i,_o(i.type,e),n);break e}throw Error(o(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Cs(e,t,i,r=t.elementType===i?r:_o(i,r),n);case 1:return i=t.type,r=t.pendingProps,Ms(e,t,i,r=t.elementType===i?r:_o(i,r),n);case 3:e:{if(As(t),null===e)throw Error(o(387));i=t.pendingProps,r=(a=t.memoizedState).element,Lo(e,t),Fo(t,i,null,n);var s=t.memoizedState;if(i=s.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ps(e,t,i,n,r=us(Error(o(423)),t));break e}if(i!==r){t=Ps(e,t,i,n,r=us(Error(o(424)),t));break e}for(io=cr(t.stateNode.containerInfo.firstChild),no=t,ro=!0,oo=null,n=$o(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),i===r){t=Ws(e,t,n);break e}bs(e,t,i,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),i=t.type,r=t.pendingProps,a=null!==e?e.memoizedProps:null,s=r.children,nr(i,r)?s=null:null!==a&&nr(i,a)&&(t.flags|=32),Ss(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Fs(e,t,n);case 4:return ra(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Jo(t,null,i,n):bs(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,ws(e,t,i,r=t.elementType===i?r:_o(i,r),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,a=t.memoizedProps,s=r.value,Sr(yo,i._currentValue),i._currentValue=s,null!==a)if(si(a.value,s)){if(a.children===r.children&&!zr.current){t=Ws(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===a.tag){(c=Do(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),To(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),To(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}bs(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,ko(t,n),i=i(r=So(r)),t.flags|=1,bs(e,t,i,n),t.child;case 14:return r=_o(i=t.type,t.pendingProps),Es(e,t,i,r=_o(i.type,r),n);case 15:return Ts(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:_o(i,r),Gs(e,t),t.tag=1,Ir(i)?(e=!0,Rr(t)):e=!1,ko(t,n),Go(t,i,r),Zo(t,i,r,n),zs(null,t,i,!0,e,n);case 19:return qs(e,t,n);case 22:return ks(e,t,n)}throw Error(o(156,t.tag))};var Xc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function eu(e,t,n,i,r){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof r){var s=r;r=function(){var e=Wc(a);s.call(e)}}Gc(t,a,e,r)}else a=function(e,t,n,i,r){if(r){if("function"===typeof i){var o=i;i=function(){var e=Wc(a);o.call(e)}}var a=qc(t,i,e,0,null,!1,0,"",Qc);return e._reactRootContainer=a,e[fr]=a.current,Vi(8===e.nodeType?e.parentNode:e),hc(),a}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var s=i;i=function(){var e=Wc(l);s.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[fr]=l.current,Vi(8===e.nodeType?e.parentNode:e),hc((function(){Gc(t,l,n,i)})),l}(n,t,e,r,i);return Wc(a)}Yc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Gc(e,t,null,null)},Yc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Gc(null,e,null,null)})),t[fr]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&Bt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Je()),0===(6&zl)&&(ql=Je()+500,Vr()))}break;case 13:hc((function(){var t=Ao(e,1);if(null!==t){var n=tc();ic(t,e,1,n)}})),Hc(e,1)}},wt=function(e){if(13===e.tag){var t=Ao(e,134217728);if(null!==t)ic(t,e,134217728,tc());Hc(e,134217728)}},Et=function(e){if(13===e.tag){var t=nc(e),n=Ao(e,t);if(null!==n)ic(n,e,t,tc());Hc(e,t)}},Tt=function(){return vt},kt=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},we=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=br(i);if(!r)throw Error(o(90));H(i),$(i,r)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Me=uc,ze=hc;var tu={usingClientEntryPoint:!1,Events:[vr,xr,br,Se,Ce,uc]},nu={findFiberByHostInstance:yr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},iu={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{rt=ru.inject(iu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(o(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(o(299));var n=!1,i="",r=Xc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,i,r),e[fr]=t.current,Vi(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(o(405));var i=null!=n&&n.hydratedSources||null,r=!1,a="",s=Xc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,r,0,a,s),e[fr]=t.current,Vi(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Yc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(o(40));return!!e._reactRootContainer&&(hc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[fr]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!$c(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,i)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:(e,t,n)=>{"use strict";var i=n(4164);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},4164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6696:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var o=n(4776),a=n(6667);r(n(6667),t);var s=/\s+/g,l={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},c=function(){function e(e,t,n){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"===typeof t&&(n=t,t=l),"object"===typeof e&&(t=e,e=void 0),this.callback=null!==e&&void 0!==e?e:null,this.options=null!==t&&void 0!==t?t:l,this.elementCB=null!==n&&void 0!==n?n:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var n=this.options.xmlMode?o.ElementType.Tag:void 0,i=new a.Element(e,t,void 0,n);this.addNode(i),this.tagStack.push(i)},e.prototype.ontext=function(e){var t=this.options.normalizeWhitespace,n=this.lastNode;if(n&&n.type===o.ElementType.Text)t?n.data=(n.data+e).replace(s," "):n.data+=e,this.options.withEndIndices&&(n.endIndex=this.parser.endIndex);else{t&&(e=e.replace(s," "));var i=new a.Text(e);this.addNode(i),this.lastNode=i}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===o.ElementType.Comment)this.lastNode.data+=e;else{var t=new a.Comment(e);this.addNode(t),this.lastNode=t}},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new a.Text(""),t=new a.NodeWithChildren(o.ElementType.CDATA,[e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var n=new a.ProcessingInstruction(e,t);this.addNode(n)},e.prototype.handleCallback=function(e){if("function"===typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],n=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),n&&(e.prev=n,n.next=e),e.parent=t,this.lastNode=null},e}();t.DomHandler=c,t.default=c},6667:function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.cloneNode=t.hasChildren=t.isDocument=t.isDirective=t.isComment=t.isText=t.isCDATA=t.isTag=t.Element=t.Document=t.NodeWithChildren=t.ProcessingInstruction=t.Comment=t.Text=t.DataNode=t.Node=void 0;var o=n(4776),a=new Map([[o.ElementType.Tag,1],[o.ElementType.Script,1],[o.ElementType.Style,1],[o.ElementType.Directive,1],[o.ElementType.Text,3],[o.ElementType.CDATA,4],[o.ElementType.Comment,8],[o.ElementType.Root,9]]),s=function(){function e(e){this.type=e,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"nodeType",{get:function(){var e;return null!==(e=a.get(this.type))&&void 0!==e?e:1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),b(this,e)},e}();t.Node=s;var l=function(e){function t(t,n){var i=e.call(this,t)||this;return i.data=n,i}return i(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(s);t.DataNode=l;var c=function(e){function t(t){return e.call(this,o.ElementType.Text,t)||this}return i(t,e),t}(l);t.Text=c;var u=function(e){function t(t){return e.call(this,o.ElementType.Comment,t)||this}return i(t,e),t}(l);t.Comment=u;var h=function(e){function t(t,n){var i=e.call(this,o.ElementType.Directive,n)||this;return i.name=t,i}return i(t,e),t}(l);t.ProcessingInstruction=h;var d=function(e){function t(t,n){var i=e.call(this,t)||this;return i.children=n,i}return i(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(s);t.NodeWithChildren=d;var p=function(e){function t(t){return e.call(this,o.ElementType.Root,t)||this}return i(t,e),t}(d);t.Document=p;var f=function(e){function t(t,n,i,r){void 0===i&&(i=[]),void 0===r&&(r="script"===t?o.ElementType.Script:"style"===t?o.ElementType.Style:o.ElementType.Tag);var a=e.call(this,r,i)||this;return a.name=t,a.attribs=n,a}return i(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map((function(t){var n,i;return{name:t,value:e.attribs[t],namespace:null===(n=e["x-attribsNamespace"])||void 0===n?void 0:n[t],prefix:null===(i=e["x-attribsPrefix"])||void 0===i?void 0:i[t]}}))},enumerable:!1,configurable:!0}),t}(d);function m(e){return(0,o.isTag)(e)}function g(e){return e.type===o.ElementType.CDATA}function _(e){return e.type===o.ElementType.Text}function y(e){return e.type===o.ElementType.Comment}function v(e){return e.type===o.ElementType.Directive}function x(e){return e.type===o.ElementType.Root}function b(e,t){var n;if(void 0===t&&(t=!1),_(e))n=new c(e.data);else if(y(e))n=new u(e.data);else if(m(e)){var i=t?w(e.children):[],a=new f(e.name,r({},e.attribs),i);i.forEach((function(e){return e.parent=a})),null!=e.namespace&&(a.namespace=e.namespace),e["x-attribsNamespace"]&&(a["x-attribsNamespace"]=r({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(a["x-attribsPrefix"]=r({},e["x-attribsPrefix"])),n=a}else if(g(e)){i=t?w(e.children):[];var s=new d(o.ElementType.CDATA,i);i.forEach((function(e){return e.parent=s})),n=s}else if(x(e)){i=t?w(e.children):[];var l=new p(i);i.forEach((function(e){return e.parent=l})),e["x-mode"]&&(l["x-mode"]=e["x-mode"]),n=l}else{if(!v(e))throw new Error("Not implemented yet: ".concat(e.type));var b=new h(e.name,e.data);null!=e["x-name"]&&(b["x-name"]=e["x-name"],b["x-publicId"]=e["x-publicId"],b["x-systemId"]=e["x-systemId"]),n=b}return n.startIndex=e.startIndex,n.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function w(e){for(var t=e.map((function(e){return b(e,!0)})),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}t.Element=f,t.isTag=m,t.isCDATA=g,t.isText=_,t.isComment=y,t.isDirective=v,t.isDocument=x,t.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},t.cloneNode=b},5120:e=>{e.exports={CASE_SENSITIVE_TAG_NAMES:["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussainBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"]}},3879:(e,t,n)=>{var i="html",r="head",o="body",a=/<([a-zA-Z]+[0-9]?)/,s=/<head.*>/i,l=/<body.*>/i,c=function(){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},u=function(){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")};if("function"===typeof window.DOMParser){var h=new window.DOMParser;c=u=function(e,t){return t&&(e="<"+t+">"+e+"</"+t+">"),h.parseFromString(e,"text/html")}}if(document.implementation){var d=n(362).isIE,p=document.implementation.createHTMLDocument(d()?"html-dom-parser":void 0);c=function(e,t){return t?(p.documentElement.getElementsByTagName(t)[0].innerHTML=e,p):(p.documentElement.innerHTML=e,p)}}var f,m=document.createElement("template");m.content&&(f=function(e){return m.innerHTML=e,m.content.childNodes}),e.exports=function(e){var t,n,h,d,p=e.match(a);switch(p&&p[1]&&(t=p[1].toLowerCase()),t){case i:return n=u(e),s.test(e)||(h=n.getElementsByTagName(r)[0])&&h.parentNode.removeChild(h),l.test(e)||(h=n.getElementsByTagName(o)[0])&&h.parentNode.removeChild(h),n.getElementsByTagName(i);case r:case o:return d=c(e).getElementsByTagName(t),l.test(e)&&s.test(e)?d[0].parentNode.childNodes:d;default:return f?f(e):c(e,o).getElementsByTagName(o)[0].childNodes}}},8524:(e,t,n)=>{var i=n(3879),r=n(362).formatDOM,o=/<(![a-zA-Z\s]+)>/;e.exports=function(e){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(""===e)return[];var t,n=e.match(o);return n&&n[1]&&(t=n[1]),r(i(e),null,t)}},362:(e,t,n)=>{for(var i,r=n(5120),o=n(6667),a=r.CASE_SENSITIVE_TAG_NAMES,s=o.Comment,l=o.Element,c=o.ProcessingInstruction,u=o.Text,h={},d=0,p=a.length;d<p;d++)i=a[d],h[i.toLowerCase()]=i;function f(e){for(var t,n={},i=0,r=e.length;i<r;i++)n[(t=e[i]).name]=t.value;return n}function m(e){var t=function(e){return h[e]}(e=e.toLowerCase());return t||e}e.exports={formatAttributes:f,formatDOM:function e(t,n,i){n=n||null;for(var r=[],o=0,a=t.length;o<a;o++){var h,d=t[o];switch(d.nodeType){case 1:(h=new l(m(d.nodeName),f(d.attributes))).children=e(d.childNodes,h);break;case 3:h=new u(d.nodeValue);break;case 8:h=new s(d.nodeValue);break;default:continue}var p=r[o-1]||null;p&&(p.next=h),h.parent=n,h.prev=p,h.next=null,r.push(h)}return i&&((h=new c(i.substring(0,i.indexOf(" ")).toLowerCase(),i)).next=r[0]||null,h.parent=n,r.unshift(h),r[1]&&(r[1].prev=r[0])),r},isIE:function(){return/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)}}},9647:(e,t,n)=>{var i=n(8955),r=n(228),o=n(8524);o="function"===typeof o.default?o.default:o;var a={lowerCaseAttributeNames:!1};function s(e,t){if("string"!==typeof e)throw new TypeError("First argument must be a string");return""===e?[]:i(o(e,(t=t||{}).htmlparser2||a),t)}s.domToReact=i,s.htmlToDOM=o,s.attributesToProps=r,s.Element=n(6696).Element,e.exports=s,e.exports.default=s},228:(e,t,n)=>{var i=n(6195),r=n(9460);function o(e){return i.possibleStandardNames[e]}e.exports=function(e){var t,n,a,s,l,c={},u=(e=e||{}).type&&{reset:!0,submit:!0}[e.type];for(t in e)if(a=e[t],i.isCustomAttribute(t))c[t]=a;else if(s=o(n=t.toLowerCase()))switch(l=i.getPropertyInfo(s),"checked"!==s&&"value"!==s||u||(s=o("default"+n)),c[s]=a,l&&l.type){case i.BOOLEAN:c[s]=!0;break;case i.OVERLOADED_BOOLEAN:""===a&&(c[s]=!0)}else r.PRESERVE_CUSTOM_ATTRIBUTES&&(c[t]=a);return r.setStyleProp(e.style,c),c}},8955:(e,t,n)=>{var i=n(2791),r=n(228),o=n(9460),a=o.setStyleProp,s=o.canTextBeChildOfNode;function l(e){return o.PRESERVE_CUSTOM_ATTRIBUTES&&"tag"===e.type&&o.isCustomComponent(e.name,e.attribs)}e.exports=function e(t,n){for(var o,c,u,h,d,p=(n=n||{}).library||i,f=p.cloneElement,m=p.createElement,g=p.isValidElement,_=[],y="function"===typeof n.replace,v=n.trim,x=0,b=t.length;x<b;x++)if(o=t[x],y&&g(u=n.replace(o)))b>1&&(u=f(u,{key:u.key||x})),_.push(u);else if("text"!==o.type){switch(h=o.attribs,l(o)?a(h.style,h):h&&(h=r(h)),d=null,o.type){case"script":case"style":o.children[0]&&(h.dangerouslySetInnerHTML={__html:o.children[0].data});break;case"tag":"textarea"===o.name&&o.children[0]?h.defaultValue=o.children[0].data:o.children&&o.children.length&&(d=e(o.children,n));break;default:continue}b>1&&(h.key=x),_.push(m(o.name,h,d))}else{if((c=!o.data.trim().length)&&o.parent&&!s(o.parent))continue;if(v&&c)continue;_.push(o.data)}return 1===_.length?_[0]:_}},9460:(e,t,n)=>{var i=n(2791),r=n(2819).default;var o={reactCompat:!0};var a=i.version.split(".")[0]>=16,s=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);e.exports={PRESERVE_CUSTOM_ATTRIBUTES:a,invertObject:function(e,t){if(!e||"object"!==typeof e)throw new TypeError("First argument must be an object");var n,i,r="function"===typeof t,o={},a={};for(n in e)i=e[n],r&&(o=t(n,i))&&2===o.length?a[o[0]]=o[1]:"string"===typeof i&&(a[i]=n);return a},isCustomComponent:function(e,t){if(-1===e.indexOf("-"))return t&&"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}},setStyleProp:function(e,t){if(null!==e&&void 0!==e)try{t.style=r(e,o)}catch(n){t.style={}}},canTextBeChildOfNode:function(e){return!s.has(e.name)},elementsWithNoTextChildren:s}},2819:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var r=i(n(9978)),o=n(5688);t.default=function(e,t){var n={};return e&&"string"===typeof e?((0,r.default)(e,(function(e,i){e&&i&&(n[(0,o.camelCase)(e,t)]=i)})),n):n}},5688:(e,t)=>{"use strict";t.__esModule=!0,t.camelCase=void 0;var n=/^--[a-zA-Z0-9-]+$/,i=/-([a-z])/g,r=/^[^-]+$/,o=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,s=function(e,t){return t.toUpperCase()},l=function(e,t){return"".concat(t,"-")};t.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||r.test(e)||n.test(e)}(e)?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(a,l):e.replace(o,l)).replace(i,s))}},9978:(e,t,n)=>{var i=n(1065);e.exports=function(e,t){var n,r=null;if(!e||"string"!==typeof e)return r;for(var o,a,s=i(e),l="function"===typeof t,c=0,u=s.length;c<u;c++)o=(n=s[c]).property,a=n.value,l?t(o,a,n):a&&(r||(r={}),r[o]=a);return r}},5893:(e,t,n)=>{"use strict";t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function o(e){return e&&e.__esModule?e:{default:e}}var a=o(n(47)),s=o(n(764)),l=o(n(1653)),c=o(n(5985)),u=o(n(5475)),h=o(n(8022)),d=o(n(2791)),p=o(n(2007)),f=1e3/60,m=function(e){function t(n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,n),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(e){var t=!1,n=r.state,o=n.currentStyle,a=n.currentVelocity,s=n.lastIdealStyle,l=n.lastIdealVelocity;for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var u=e[c];"number"===typeof u&&(t||(t=!0,o=i({},o),a=i({},a),s=i({},s),l=i({},l)),o[c]=u,a[c]=0,s[c]=u,l[c]=0)}t&&r.setState({currentStyle:o,currentVelocity:a,lastIdealStyle:s,lastIdealVelocity:l})},this.startAnimationIfNecessary=function(){r.animationID=u.default((function(e){var t=r.props.style;if(h.default(r.state.currentStyle,t,r.state.currentVelocity))return r.wasAnimating&&r.props.onRest&&r.props.onRest(),r.animationID=null,r.wasAnimating=!1,void(r.accumulatedTime=0);r.wasAnimating=!0;var n=e||c.default(),i=n-r.prevTime;if(r.prevTime=n,r.accumulatedTime=r.accumulatedTime+i,r.accumulatedTime>10*f&&(r.accumulatedTime=0),0===r.accumulatedTime)return r.animationID=null,void r.startAnimationIfNecessary();var o=(r.accumulatedTime-Math.floor(r.accumulatedTime/f)*f)/f,a=Math.floor(r.accumulatedTime/f),s={},u={},d={},p={};for(var m in t)if(Object.prototype.hasOwnProperty.call(t,m)){var g=t[m];if("number"===typeof g)d[m]=g,p[m]=0,s[m]=g,u[m]=0;else{for(var _=r.state.lastIdealStyle[m],y=r.state.lastIdealVelocity[m],v=0;v<a;v++){var x=l.default(f/1e3,_,y,g.val,g.stiffness,g.damping,g.precision);_=x[0],y=x[1]}var b=l.default(f/1e3,_,y,g.val,g.stiffness,g.damping,g.precision),w=b[0],E=b[1];d[m]=_+(w-_)*o,p[m]=y+(E-y)*o,s[m]=_,u[m]=y}}r.animationID=null,r.accumulatedTime-=a*f,r.setState({currentStyle:d,currentVelocity:p,lastIdealStyle:s,lastIdealVelocity:u}),r.unreadPropStyle=null,r.startAnimationIfNecessary()}))},this.state=this.defaultState()}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"propTypes",value:{defaultStyle:p.default.objectOf(p.default.number),style:p.default.objectOf(p.default.oneOfType([p.default.number,p.default.object])).isRequired,children:p.default.func.isRequired,onRest:p.default.func},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyle,n=e.style,i=t||s.default(n),r=a.default(i);return{currentStyle:i,currentVelocity:r,lastIdealStyle:i,lastIdealVelocity:r}},t.prototype.componentDidMount=function(){this.prevTime=c.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=c.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(u.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyle);return e&&d.default.Children.only(e)},t}(d.default.Component);t.default=m,e.exports=t.default},7265:(e,t,n)=>{"use strict";t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function o(e){return e&&e.__esModule?e:{default:e}}var a=o(n(47)),s=o(n(764)),l=o(n(1653)),c=o(n(5985)),u=o(n(5475)),h=o(n(8022)),d=o(n(2791)),p=o(n(2007)),f=1e3/60;var m=function(e){function t(n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,n),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=r.state,n=t.currentStyles,o=t.currentVelocities,a=t.lastIdealStyles,s=t.lastIdealVelocities,l=!1,c=0;c<e.length;c++){var u=e[c],h=!1;for(var d in u)if(Object.prototype.hasOwnProperty.call(u,d)){var p=u[d];"number"===typeof p&&(h||(h=!0,l=!0,n[c]=i({},n[c]),o[c]=i({},o[c]),a[c]=i({},a[c]),s[c]=i({},s[c])),n[c][d]=p,o[c][d]=0,a[c][d]=p,s[c][d]=0)}}l&&r.setState({currentStyles:n,currentVelocities:o,lastIdealStyles:a,lastIdealVelocities:s})},this.startAnimationIfNecessary=function(){r.animationID=u.default((function(e){var t=r.props.styles(r.state.lastIdealStyles);if(function(e,t,n){for(var i=0;i<e.length;i++)if(!h.default(e[i],t[i],n[i]))return!1;return!0}(r.state.currentStyles,t,r.state.currentVelocities))return r.animationID=null,void(r.accumulatedTime=0);var n=e||c.default(),i=n-r.prevTime;if(r.prevTime=n,r.accumulatedTime=r.accumulatedTime+i,r.accumulatedTime>10*f&&(r.accumulatedTime=0),0===r.accumulatedTime)return r.animationID=null,void r.startAnimationIfNecessary();for(var o=(r.accumulatedTime-Math.floor(r.accumulatedTime/f)*f)/f,a=Math.floor(r.accumulatedTime/f),s=[],u=[],d=[],p=[],m=0;m<t.length;m++){var g=t[m],_={},y={},v={},x={};for(var b in g)if(Object.prototype.hasOwnProperty.call(g,b)){var w=g[b];if("number"===typeof w)_[b]=w,y[b]=0,v[b]=w,x[b]=0;else{for(var E=r.state.lastIdealStyles[m][b],T=r.state.lastIdealVelocities[m][b],k=0;k<a;k++){var S=l.default(f/1e3,E,T,w.val,w.stiffness,w.damping,w.precision);E=S[0],T=S[1]}var C=l.default(f/1e3,E,T,w.val,w.stiffness,w.damping,w.precision),M=C[0],z=C[1];_[b]=E+(M-E)*o,y[b]=T+(z-T)*o,v[b]=E,x[b]=T}}d[m]=_,p[m]=y,s[m]=v,u[m]=x}r.animationID=null,r.accumulatedTime-=a*f,r.setState({currentStyles:d,currentVelocities:p,lastIdealStyles:s,lastIdealVelocities:u}),r.unreadPropStyles=null,r.startAnimationIfNecessary()}))},this.state=this.defaultState()}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"propTypes",value:{defaultStyles:p.default.arrayOf(p.default.objectOf(p.default.number)),styles:p.default.func.isRequired,children:p.default.func.isRequired},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,n=e.styles,i=t||n().map(s.default),r=i.map((function(e){return a.default(e)}));return{currentStyles:i,currentVelocities:r,lastIdealStyles:i,lastIdealVelocities:r}},t.prototype.componentDidMount=function(){this.prevTime=c.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=e.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=c.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(u.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyles);return e&&d.default.Children.only(e)},t}(d.default.Component);t.default=m,e.exports=t.default},8411:(e,t,n)=>{"use strict";t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function o(e){return e&&e.__esModule?e:{default:e}}var a=o(n(47)),s=o(n(764)),l=o(n(1653)),c=o(n(6375)),u=o(n(5985)),h=o(n(5475)),d=o(n(8022)),p=o(n(2791)),f=o(n(2007)),m=1e3/60;function g(e,t,n){var i=t;return null==i?e.map((function(e,t){return{key:e.key,data:e.data,style:n[t]}})):e.map((function(e,t){for(var r=0;r<i.length;r++)if(i[r].key===e.key)return{key:i[r].key,data:i[r].data,style:n[t]};return{key:e.key,data:e.data,style:n[t]}}))}function _(e,t,n,i,r,o,s,l,u){for(var h=c.default(i,r,(function(e,i){var r=t(i);return null==r||d.default(o[e],r,s[e])?(n({key:i.key,data:i.data}),null):{key:i.key,data:i.data,style:r}})),p=[],f=[],m=[],g=[],_=0;_<h.length;_++){for(var y=h[_],v=null,x=0;x<i.length;x++)if(i[x].key===y.key){v=x;break}if(null==v){var b=e(y);p[_]=b,m[_]=b;var w=a.default(y.style);f[_]=w,g[_]=w}else p[_]=o[v],m[_]=l[v],f[_]=s[v],g[_]=u[v]}return[h,p,f,m,g]}var y=function(e){function t(n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,n),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=_(r.props.willEnter,r.props.willLeave,r.props.didLeave,r.state.mergedPropsStyles,e,r.state.currentStyles,r.state.currentVelocities,r.state.lastIdealStyles,r.state.lastIdealVelocities),n=t[0],o=t[1],a=t[2],s=t[3],l=t[4],c=0;c<e.length;c++){var u=e[c].style,h=!1;for(var d in u)if(Object.prototype.hasOwnProperty.call(u,d)){var p=u[d];"number"===typeof p&&(h||(h=!0,o[c]=i({},o[c]),a[c]=i({},a[c]),s[c]=i({},s[c]),l[c]=i({},l[c]),n[c]={key:n[c].key,data:n[c].data,style:i({},n[c].style)}),o[c][d]=p,a[c][d]=0,s[c][d]=p,l[c][d]=0,n[c].style[d]=p)}}r.setState({currentStyles:o,currentVelocities:a,mergedPropsStyles:n,lastIdealStyles:s,lastIdealVelocities:l})},this.startAnimationIfNecessary=function(){r.unmounting||(r.animationID=h.default((function(e){if(!r.unmounting){var t=r.props.styles,n="function"===typeof t?t(g(r.state.mergedPropsStyles,r.unreadPropStyles,r.state.lastIdealStyles)):t;if(function(e,t,n,i){if(i.length!==t.length)return!1;for(var r=0;r<i.length;r++)if(i[r].key!==t[r].key)return!1;for(r=0;r<i.length;r++)if(!d.default(e[r],t[r].style,n[r]))return!1;return!0}(r.state.currentStyles,n,r.state.currentVelocities,r.state.mergedPropsStyles))return r.animationID=null,void(r.accumulatedTime=0);var i=e||u.default(),o=i-r.prevTime;if(r.prevTime=i,r.accumulatedTime=r.accumulatedTime+o,r.accumulatedTime>10*m&&(r.accumulatedTime=0),0===r.accumulatedTime)return r.animationID=null,void r.startAnimationIfNecessary();for(var a=(r.accumulatedTime-Math.floor(r.accumulatedTime/m)*m)/m,s=Math.floor(r.accumulatedTime/m),c=_(r.props.willEnter,r.props.willLeave,r.props.didLeave,r.state.mergedPropsStyles,n,r.state.currentStyles,r.state.currentVelocities,r.state.lastIdealStyles,r.state.lastIdealVelocities),h=c[0],p=c[1],f=c[2],y=c[3],v=c[4],x=0;x<h.length;x++){var b=h[x].style,w={},E={},T={},k={};for(var S in b)if(Object.prototype.hasOwnProperty.call(b,S)){var C=b[S];if("number"===typeof C)w[S]=C,E[S]=0,T[S]=C,k[S]=0;else{for(var M=y[x][S],z=v[x][S],A=0;A<s;A++){var P=l.default(m/1e3,M,z,C.val,C.stiffness,C.damping,C.precision);M=P[0],z=P[1]}var I=l.default(m/1e3,M,z,C.val,C.stiffness,C.damping,C.precision),L=I[0],D=I[1];w[S]=M+(L-M)*a,E[S]=z+(D-z)*a,T[S]=M,k[S]=z}}y[x]=T,v[x]=k,p[x]=w,f[x]=E}r.animationID=null,r.accumulatedTime-=s*m,r.setState({currentStyles:p,currentVelocities:f,lastIdealStyles:y,lastIdealVelocities:v,mergedPropsStyles:h}),r.unreadPropStyles=null,r.startAnimationIfNecessary()}})))},this.state=this.defaultState()}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"propTypes",value:{defaultStyles:f.default.arrayOf(f.default.shape({key:f.default.string.isRequired,data:f.default.any,style:f.default.objectOf(f.default.number).isRequired})),styles:f.default.oneOfType([f.default.func,f.default.arrayOf(f.default.shape({key:f.default.string.isRequired,data:f.default.any,style:f.default.objectOf(f.default.oneOfType([f.default.number,f.default.object])).isRequired}))]).isRequired,children:f.default.func.isRequired,willEnter:f.default.func,willLeave:f.default.func,didLeave:f.default.func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(e){return s.default(e.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,n=e.styles,i=e.willEnter,r=e.willLeave,o=e.didLeave,l="function"===typeof n?n(t):n,c=void 0;c=null==t?l:t.map((function(e){for(var t=0;t<l.length;t++)if(l[t].key===e.key)return l[t];return e}));var u=null==t?l.map((function(e){return s.default(e.style)})):t.map((function(e){return s.default(e.style)})),h=null==t?l.map((function(e){return a.default(e.style)})):t.map((function(e){return a.default(e.style)})),d=_(i,r,o,c,l,u,h,u,h),p=d[0];return{currentStyles:d[1],currentVelocities:d[2],lastIdealStyles:d[3],lastIdealVelocities:d[4],mergedPropsStyles:p}},t.prototype.componentDidMount=function(){this.prevTime=u.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var t=e.styles;this.unreadPropStyles="function"===typeof t?t(g(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):t,null==this.animationID&&(this.prevTime=u.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){this.unmounting=!0,null!=this.animationID&&(h.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=g(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),t=this.props.children(e);return t&&p.default.Children.only(t)},t}(p.default.Component);t.default=y,e.exports=t.default},47:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=0);return t},e.exports=t.default},6375:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t,n){for(var i={},r=0;r<e.length;r++)i[e[r].key]=r;var o={};for(r=0;r<t.length;r++)o[t[r].key]=r;var a=[];for(r=0;r<t.length;r++)a[r]=t[r];for(r=0;r<e.length;r++)if(!Object.prototype.hasOwnProperty.call(o,e[r].key)){var s=n(r,e[r]);null!=s&&a.push(s)}return a.sort((function(e,n){var r=o[e.key],a=o[n.key],s=i[e.key],l=i[n.key];if(null!=r&&null!=a)return o[e.key]-o[n.key];if(null!=s&&null!=l)return i[e.key]-i[n.key];if(null!=r){for(var c=0;c<t.length;c++){var u=t[c].key;if(Object.prototype.hasOwnProperty.call(i,u)){if(r<o[u]&&l>i[u])return-1;if(r>o[u]&&l<i[u])return 1}}return 1}for(c=0;c<t.length;c++){u=t[c].key;if(Object.prototype.hasOwnProperty.call(i,u)){if(a<o[u]&&s>i[u])return 1;if(a>o[u]&&s<i[u])return-1}}return-1}))},e.exports=t.default},1471:(e,t)=>{"use strict";t.__esModule=!0,t.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t.default},3562:(e,t,n)=>{"use strict";function i(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var r=n(5893);t.Motion=i(r);var o=n(7265);t.StaggeredMotion=i(o);var a=n(8411);t.TransitionMotion=i(a);var s=n(9115);t.spring=i(s);var l=n(1471);t.presets=i(l);var c=n(764);t.stripStyle=i(c);var u=n(1876);t.reorderKeys=i(u)},1876:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(){0};e.exports=t.default},8022:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t,n){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(0!==n[i])return!1;var r="number"===typeof t[i]?t[i]:t[i].val;if(e[i]!==r)return!1}return!0},e.exports=t.default},9115:(e,t,n)=>{"use strict";t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default=function(e,t){return i({},s,t,{val:e})};var r,o=n(1471),a=(r=o)&&r.__esModule?r:{default:r},s=i({},a.default.noWobble,{precision:.01});e.exports=t.default},1653:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t,i,r,o,a,s){var l=i+(-o*(t-r)+-a*i)*e,c=t+l*e;if(Math.abs(l)<s&&Math.abs(c-r)<s)return n[0]=r,n[1]=0,n;return n[0]=c,n[1]=l,n};var n=[0,0];e.exports=t.default},764:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]="number"===typeof e[n]?e[n]:e[n].val);return t},e.exports=t.default},5985:function(e){(function(){var t,n,i;"undefined"!==typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!==typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-i)/1e6},n=process.hrtime,i=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})()):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)},7460:(e,t,n)=>{"use strict";var i=n(6734);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},4956:(e,t,n)=>{e.exports=n(7460)()},6734:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6195:(e,t,n)=>{"use strict";function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(l){s=!0,r=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}Object.defineProperty(t,"__esModule",{value:!0});function o(e,t,n,i,r,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var a={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach((function(e){a[e]=new o(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=i(e,2),n=t[0],r=t[1];a[n]=new o(n,1,!1,r,null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){a[e]=new o(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){a[e]=new o(e,2,!1,e,null,!1,!1)})),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach((function(e){a[e]=new o(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){a[e]=new o(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){a[e]=new o(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){a[e]=new o(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){a[e]=new o(e,5,!1,e.toLowerCase(),null,!1,!1)}));var s=/[\-\:]([a-z])/g,l=function(e){return e[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach((function(e){var t=e.replace(s,l);a[t]=new o(t,1,!1,e,null,!1,!1)})),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach((function(e){var t=e.replace(s,l);a[t]=new o(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(s,l);a[t]=new o(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){a[e]=new o(e,1,!1,e.toLowerCase(),null,!1,!1)}));a.xlinkHref=new o("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){a[e]=new o(e,1,!1,e.toLowerCase(),null,!0,!0)}));var c=n(1590),u=c.CAMELCASE,h=c.SAME,d=c.possibleStandardNames,p=RegExp.prototype.test.bind(new RegExp("^(data|aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$")),f=Object.keys(d).reduce((function(e,t){var n=d[t];return n===h?e[t]=t:n===u?e[t.toLowerCase()]=t:e[t]=n,e}),{});t.BOOLEAN=3,t.BOOLEANISH_STRING=2,t.NUMERIC=5,t.OVERLOADED_BOOLEAN=4,t.POSITIVE_NUMERIC=6,t.RESERVED=0,t.STRING=1,t.getPropertyInfo=function(e){return a.hasOwnProperty(e)?a[e]:null},t.isCustomAttribute=p,t.possibleStandardNames=f},1590:(e,t)=>{t.SAME=0;t.CAMELCASE=1,t.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1}},4416:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(2791),a=(u(o),u(n(2007))),s=u(n(5910)),l=u(n(7833)),c=u(n(8275));function u(e){return e&&e.__esModule?e:{default:e}}var h={tag:a.default.string,index:a.default.number,animations:a.default.array},d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillMount",value:function(){var e=this.props.animations;e.length&&(this._animationBus=new s.default({animations:e,origin:function(e){return e.origin}}))}},{key:"render",value:function(){var e=this.props,t=e.tag,n=e.index,r=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["tag","index"]),a=i({},r.style);if(this._animationBus){var s=this.context.view||this.context.pager.getView(n);s&&(a=i({},r.style,this._animationBus.getStyles(s)))}return(0,o.createElement)(t,(0,c.default)({style:a},this.props,h))}}]),t}(o.Component);d.contextTypes={pager:a.default.instanceOf(l.default),view:a.default.any},d.propTypes=h,d.defaultProps={tag:"div",animations:[]},t.default=d,e.exports=t.default},2486:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(2791),a=f(o),s=f(n(2007)),l=n(4164),c=n(3562),u=f(n(7833)),h=f(n(3974)),d=f(n(139)),p=f(n(8275));function f(e){return e&&e.__esModule?e:{default:e}}var m={tag:s.default.any,autoSize:s.default.oneOf([!0,!1,"width","height"]),accessibility:s.default.bool,springConfig:s.default.objectOf(s.default.number)},g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._setFrameSize=function(){var e=n.context.pager.getFrameSize({fullSize:!0});e.width&&e.height&&n.setState(e,(function(){n.state.instant&&n.setState({instant:!1})}))},n.state={width:0,height:0,instant:!0},n._hydrate=!1,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillMount",value:function(){var e=this.context.pager,t=this.props,n=t.autoSize,i=t.accessibility;e.setOptions({autoSize:n,accessibility:i}),this._swipe=new h.default(e),this._keyboard=new d.default(e)}},{key:"componentDidMount",value:function(){var e=this.context.pager;e.addFrame((0,l.findDOMNode)(this)),this._setFrameSize(),e.on("viewChange",this._setFrameSize),e.on("hydrated",this._setFrameSize)}},{key:"componentWillReceiveProps",value:function(e){var t=e.autoSize,n=e.accessibility;this.props.autoSize===t&&this.props.accessibility===n||(this.context.pager.setOptions({autoSize:t,accessibility:n}),this._hydrate=!0)}},{key:"componentDidUpdate",value:function(e){this._hydrate&&(this.context.pager.hydrate(),this._hydrate=!1)}},{key:"_getFrameStyle",value:function(){var e=this.props.springConfig,t=this.state,n=t.width,i=t.height,r=t.instant;return{maxWidth:r?n:(0,c.spring)(n,e),height:r?i:(0,c.spring)(i,e)}}},{key:"_renderFrame",value:function(e){this.context.pager;var t=this.props,n=t.tag,r=t.accessibility,a=(0,p.default)(i({},this._swipe.getEvents(),this._keyboard.getEvents(),{tabIndex:r?0:null}),this.props,m);return(0,o.createElement)(n,i({},a,{style:i({},e,a.style)}))}},{key:"render",value:function(){var e=this,t=this.props.autoSize,n=(this.state.height,{position:"relative",overflow:"hidden"});return t?a.default.createElement(c.Motion,{style:this._getFrameStyle()},(function(i){return!0!==t&&"width"!==t||!i.maxWidth||(n.maxWidth=i.maxWidth),!0!==t&&"height"!==t||!i.height||(n.height=i.height),e._renderFrame(n)})):this._renderFrame(n)}}]),t}(o.Component);g.contextTypes={pager:s.default.instanceOf(u.default)},g.propTypes=m,g.defaultProps={tag:"div",autoSize:!1,accessibility:!0,springConfig:c.presets.noWobble},t.default=g,e.exports=t.default},139:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(246);var o=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._handleKeyDown=function(e){switch(e.key){case"ArrowUp":case"ArrowLeft":return void n.pager.prev();case"ArrowDown":case"ArrowRight":case" ":return void n.pager.next();case"Home":return void n.pager.setCurrentView({index:0});case"End":return void n.pager.setCurrentView({index:n.pager.views.length-1})}for(var t=(0,r.clamp)(n.pager.views.length,0,9),i=1;i<=t;i++)+e.key===i&&n.pager.setCurrentView({index:i-1})},this.pager=t}return i(e,[{key:"getEvents",value:function(){var e={};return this.pager.options.accessibility&&(e.onKeyDown=this._handleKeyDown),e}}]),e}();t.default=o,e.exports=t.default},7833:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=h(n(2619)),a=h(n(5009)),s=h(n(5910)),l=h(n(9210)),c=h(n(907)),u=n(246);function h(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=n(3858)("transform"),g="undefined"!==typeof window,_=function(e){function t(){return d(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),r(t,[{key:"getStyles",value:function(e){var t,n,i,r=this.pager.getPositionValue(e),o=r.x,a=r.y,s=this.pager.getTrackSize(),l=(i="translate3d("+o+"px, "+a+"px, 0)",(n=m)in(t={})?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t);if(s){var c=this.pager.options,u=c.axis,h=c.viewsToShow;l["x"===u?"width":"height"]="auto"===h?s:this.pager.views.length/h*100+"%"}return l}}]),t}(c.default),y=function(e){function t(e){var n=e.index,i=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["index"]);d(this,t);var r=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i));return r.index=n,r.inBounds=!0,r.tabbableChildren=[],r.setCurrent(!1),r.setVisible(!1),r.setTarget(),r.setOrigin(),setTimeout((function(){r.tabbableChildren=(0,a.default)(r.node),r.setTabbableChildren()})),r}return f(t,e),r(t,[{key:"setCurrent",value:function(e){this.isCurrent=e}},{key:"setVisible",value:function(e){this.isVisible=e,this.setTabbableChildren()}},{key:"setTabbableChildren",value:function(){for(var e=0;e<this.tabbableChildren.length;e++)this.tabbableChildren[e].tabIndex=this.isCurrent?0:-1}},{key:"setTarget",value:function(){var e=this.pager.options,t=e.align,n=(e.viewsToShow,this.pager.getStartCoords(this.index));t&&(n+=this.pager.getAlignOffset(this)),this.target=n}},{key:"setOrigin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pager.trackPosition;this.origin=this.target-e}},{key:"getStyles",value:function(){var e=this.pager.options,t=e.axis,n=e.viewsToShow,r=e.infinite,o={};return"x"===t&&(o.display="inline-block",o.verticalAlign="top"),"auto"!==n&&(o["x"===t?"width":"height"]=100/this.pager.views.length+"%"),r&&!this.inBounds&&(o.position="relative",o["y"===t?"top":"left"]=this.getPosition()),i({},o,this.pager.animationBus.getStyles(this))}}]),t}(c.default),v={viewsToShow:1,viewsToMove:1,align:0,contain:!1,axis:"x",autoSize:!1,animations:[],infinite:!1,instant:!1,swipe:!0,swipeThreshold:.5,flickTimeout:300,accessibility:!0},x=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(this,e),this.hydrate=function(){t.frame.setSize(),t.track.setSize(),t.views.forEach((function(e){e.setSize(),e.setTarget()})),t.setPositionValue(),t.setViewStyles(),t.emit("hydrated")};var r=(0,o.default)();this.on=r.on,this.emit=r.emit,this.off=r.off,this.views=[],this.currentIndex=0,this.currentView=null,this.currentTween=0,this.trackPosition=0,this.isSwiping=!1,this.options=i({},v,n),this.animationBus=new s.default({animations:this.options.animations,origin:function(e){return e.origin}}),g&&(this.resizeObserver=new l.default((function(){t.hydrate()})))}return r(e,[{key:"setOptions",value:function(e){var t=this.options;this.options=i({},this.options,e),this.animationBus.animations=this.options.animations,t.viewsToShow!==this.options.viewsToShow&&this.emit("viewChange",this.getCurrentIndicies())}},{key:"addFrame",value:function(e){this.frame=new c.default({node:e,pager:this})}},{key:"addTrack",value:function(e){this.track=new _({node:e,pager:this})}},{key:"addView",value:function(e){var t=this.views.length,n=new y({node:e,index:t,pager:this});return this.views.push(n),this.currentView||this.setCurrentView({index:t,suppressEvent:!0}),g&&this.resizeObserver.observe(e),this.emit("viewAdded"),n}},{key:"removeView",value:function(e){this.views=this.views.filter((function(t){return e!==t})),g&&this.resizeObserver.disconnect(e.node),this.emit("viewRemoved")}},{key:"prev",value:function(){this.setCurrentView({direction:-1})}},{key:"next",value:function(){this.setCurrentView({direction:1})}},{key:"setCurrentView",value:function(e){var t=e.direction,n=void 0===t?0:t,i=e.index,r=void 0===i?this.currentIndex:i,o=e.suppressEvent,a=void 0!==o&&o,s=this.options,l=s.viewsToMove,c=s.infinite,h=r+n*l,d=this.currentIndex,p=c?h:(0,u.clamp)(h,0,this.views.length-1),f=this.getView(d),m=this.getView(p);this.currentIndex=p,this.currentView=m,f.setCurrent(!1),m.setCurrent(!0);var g=p,_=p+l-1;(0,u.range)(g,_,this.views.length);this.views.forEach((function(e,t){e.setVisible(t===p)})),this.setPositionValue(),a||this.emit("viewChange",this.getCurrentIndicies())}},{key:"setPositionValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentView?this.currentView.target:0;if(!this.isSwiping){var t=this.options,n=t.viewsToShow,i=t.autoSize,r=t.infinite,o=t.contain,a=this.getTrackSize();if(r&&(e-=(Math.floor(this.currentIndex/this.views.length)||0)*a),o){var s="auto"===n&&i||n<=1?0:this.getFrameSize({autoSize:!1});e=(0,u.clamp)(e,s-a,0)}}this.trackPosition=e}},{key:"setViewStyles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.options,n=t.infinite,i=t.align,r=(this.getFrameSize(),this.getTrackSize()),o=(0,u.modulo)(e,-r);this.views.reduce((function(t,a,s){var l=a.getSize(),c=t+l,u=t;return c+l*i<Math.abs(o)?(n&&(u+=r-t),a.inBounds=!1):a.inBounds=!0,a.setPosition(u),a.setOrigin(e),c}),0)}},{key:"getNumericViewsToShow",value:function(){return isNaN(this.options.viewsToShow)?1:this.options.viewsToShow}},{key:"getMaxDimensions",value:function(e){var t=this,n=this.options.axis,i=[],r=[];return e.forEach((function(e){var n=isNaN(e)?e:t.getView(e);i.push(n.getSize("width")),r.push(n.getSize("height"))})),{width:"x"===n?(0,u.sum)(i):(0,u.max)(i),height:"y"===n?(0,u.sum)(r):(0,u.max)(r)}}},{key:"getCurrentIndicies",value:function(){var e=this.options,t=e.infinite,n=e.contain,i=[],r=isNaN(this.options.viewsToShow)?1:this.options.viewsToShow,o=this.currentIndex,a=this.currentIndex+(r-1);if(n){o=(0,u.clamp)(o,0,this.views.length-r),a=(0,u.clamp)(a,0,this.views.length-1);for(var s=o;s<=a;s++)i.push(s)}else for(var l=o;l<=a;l++)i.push(t?(0,u.modulo)(l,this.views.length):(0,u.clamp)(l,0,this.views.length-1));return i}},{key:"getFrameSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoSize,n=void 0===t?this.options.autoSize:t,i=e.fullSize,r=void 0!==i&&i,o={width:0,height:0};if(this.views.length)if(n){var a=this.getCurrentIndicies();o=this.getMaxDimensions(a)}else this.frame&&(o={width:this.frame.getSize("width"),height:this.frame.getSize("height")});return r?o:o["x"===this.options.axis?"width":"height"]}},{key:"getTrackSize",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this.views.length:this.views.length-1,t=0;return this.views.slice(0,e).forEach((function(e){t+=e.getSize()})),t}},{key:"getView",value:function(e){return this.views[(0,u.modulo)(e,this.views.length)]}},{key:"getStartCoords",value:function(e){var t=0;return this.views.slice(0,e).forEach((function(e){t-=e.getSize()})),t}},{key:"getAlignOffset",value:function(e){return(this.getFrameSize({autoSize:!1})-e.getSize())*this.options.align}},{key:"getPositionValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.trackPosition,t=this.options,n=t.infinite,i=(t.contain,{x:0,y:0});if(this.currentTween=e,n){var r=this.getTrackSize();e=(0,u.modulo)(e,-r)||0}return this.emit("scroll",{progress:e/this.getTrackSize(!1),position:e}),i[this.options.axis]=e,i}},{key:"resetViewIndex",value:function(){this.setCurrentView({index:(0,u.modulo)(this.currentIndex,this.views.length),suppressEvent:!0})}}]),e}();t.default=x,e.exports=t.default},907:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=function(){function e(t){var n=t.node,i=t.pager,r=t.width,o=t.height;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.node=n,this.pager=i,this.x=this.y=0,this.setSize(r,o)}return n(e,[{key:"setSize",value:function(e,t){this.width=e||this.node.offsetWidth,this.height=t||this.node.offsetHeight}},{key:"setPosition",value:function(e){this[this.pager.options.axis]=e}},{key:"getSize",value:function(e){return"width"===e||"height"===e?this[e]:this["x"===this.pager.options.axis?"width":"height"]}},{key:"getPosition",value:function(){return this[this.pager.options.axis]}}]),e}();t.default=i,e.exports=t.default},3974:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function i(e){return e.touches&&e.touches[0]||e}var r=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._onSwipeStart=function(e){var t=i(e),r=t.pageX,o=t.pageY;n.pager.isSwiping=!0,n._swipeStart={x:r,y:o},n._swipeDiff={x:0,y:0},n._isFlick=!0,setTimeout((function(){n._isFlick=!1}),n.pager.options.flickTimeout),n.pager.emit("swipeStart")},this._onSwipeMove=function(e){if(n.pager.isSwiping){var t=n.pager.options,r=t.swipeThreshold,o=t.axis,a=i(e),s=a.pageX,l=a.pageY;if(n._trackStart||(n._trackStart=n.pager.currentTween),n._swipeDiff={x:n._swipeStart.x-s,y:n._swipeStart.y-l},n._isSwipe(r)){e.preventDefault(),e.stopPropagation();var c=n._swipeDiff[o],u=n._trackStart-c;n.pager.setPositionValue(u),n.pager.emit("swipeMove")}}},this._onSwipeEnd=function(){var e=n.pager.options,t=e.swipeThreshold,i=e.viewsToMove,r=e.axis,o=(e.infinite,n._isFlick?t:n.pager.currentView.getSize()*i*t);n.pager.isSwiping=!1,n._trackStart=!1,(n._swipeDiff.x||n._swipeDiff.y)&&(n._isSwipe(o)?n._swipeDiff[r]<0?n.pager.prev():n.pager.next():n.pager.setPositionValue()),n.pager.emit("swipeEnd")},this._onSwipePast=function(){n.pager.isSwiping&&n._onSwipeEnd()},this.pager=t,this._trackStart=!1,this._swipeStart=this._swipeDiff={x:0,y:0}}return n(e,[{key:"_isSwipe",value:function(e){var t=this._swipeDiff,n=t.x,i=t.y;return"x"===this.pager.options.axis?Math.abs(n)>Math.max(e,Math.abs(i)):Math.abs(n)<Math.max(e,Math.abs(i))}},{key:"getEvents",value:function(){var e=this.pager.options.swipe,t={};return!0!==e&&"mouse"!==e||(t.onMouseDown=this._onSwipeStart,t.onMouseMove=this._onSwipeMove,t.onMouseUp=this._onSwipeEnd,t.onMouseLeave=this._onSwipePast),!0!==e&&"touch"!==e||(t.onTouchStart=this._onSwipeStart,t.onTouchMove=this._onSwipeMove,t.onTouchEnd=this._onSwipeEnd),t}}]),e}();t.default=r,e.exports=t.default},5471:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(2791),s=f(a),l=f(n(2007)),c=n(4164),u=n(3562),h=f(n(7833)),d=f(n(904)),p=f(n(8275));function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=function(){return null},x={tag:l.default.any,currentView:l.default.any,viewsToShow:l.default.oneOfType([l.default.number,l.default.oneOf(["auto"])]),viewsToMove:l.default.number,align:l.default.number,contain:l.default.bool,axis:l.default.oneOf(["x","y"]),animations:l.default.array,infinite:l.default.bool,instant:l.default.bool,swipe:l.default.oneOf([!0,!1,"mouse","touch"]),swipeThreshold:l.default.number,flickTimeout:l.default.number,springConfig:l.default.objectOf(l.default.number),onSwipeStart:l.default.func,onSwipeMove:l.default.func,onSwipeEnd:l.default.func,onScroll:l.default.func,onViewChange:l.default.func,onRest:l.default.func},b=function(e){function t(){var e,n,i;g(this,t);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=i=_(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),i.state={x:0,y:0},_(i,n)}return y(t,e),o(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.trackPosition,i=this.context.pager;i.setViewStyles(n),this.props.trackPosition!==n&&requestAnimationFrame((function(){return t.props.onScroll(n/i.getTrackSize(!1)*-1,n)}))}},{key:"_renderViews",value:function(){return a.Children.map(this.props.children,(function(e){return e}))}},{key:"render",value:function(){var e=this.context.pager,t=this.props,n=t.tag,i=t.trackPosition,o=(t.children,m(t,["tag","trackPosition","children"])),s=r({},o.style);return e.track&&(s=r({},s,e.track.getStyles(i))),(0,a.createElement)(n,r({},o,{style:s}),this._renderViews())}}]),t}(a.Component);b.propTypes=x,b.contextTypes={pager:l.default.instanceOf(h.default)};var w=function(e){function t(){var e,n,i;g(this,t);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=i=_(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),i.state={instant:!1},i._currentTween=0,i._hydrate=!1,i._handleOnRest=function(){i.props.infinite&&!i.state.instant&&(i.context.pager.resetViewIndex(),i._setValueInstantly(!0,!0)),i.props.onRest()},_(i,n)}return y(t,e),o(t,[{key:"componentWillMount",value:function(){this.context.pager.setOptions(this.props)}},{key:"componentDidMount",value:function(){var e=this,t=this.context.pager;t.addTrack((0,c.findDOMNode)(this)),this.scrollTo((0,d.default)(this.props.currentView,this.props.children)),t.on("hydrated",(function(){return e._setValueInstantly(!0,!0)})),t.on("swipeMove",(function(){return e._setValueInstantly(!0)})),t.on("swipeEnd",(function(){return e._setValueInstantly(!1)})),t.on("swipeStart",this.props.onSwipeStart),t.on("swipeMove",this.props.onSwipeMove),t.on("swipeEnd",this.props.onSwipeEnd),t.on("viewChange",this.props.onViewChange)}},{key:"componentWillReceiveProps",value:function(e){var t,n,r=e.currentView,o=e.instant,a=e.children;this.props.instant!==o&&this._setValueInstantly(o),void 0!==("undefined"===typeof r?"undefined":i(r))&&this.props.currentView!==r&&this.scrollTo((0,d.default)(r,a)),t=this.props,n=e,(t.viewsToShow!==n.viewsToShow||t.viewsToMove!==n.viewsToMove||t.align!==n.align||t.axis!==n.axis||t.animations!==n.animations||t.infinite!==n.infinite||t.swipe!==n.swipe||t.swipeThreshold!==n.swipeThreshold||t.flickTimeout!==n.flickTimeout)&&(this.context.pager.setOptions(e),this._hydrate=!0)}},{key:"componentDidUpdate",value:function(e){this._hydrate&&(this.context.pager.hydrate(),this._hydrate=!1)}},{key:"prev",value:function(){this.context.pager.prev()}},{key:"next",value:function(){this.context.pager.next()}},{key:"scrollTo",value:function(e){this.context.pager.setCurrentView({index:e})}},{key:"_setValueInstantly",value:function(e,t){var n=this;this.setState({instant:e},(function(){t&&n.setState({instant:!1})}))}},{key:"_getTrackStyle",value:function(){var e=this.context.pager.trackPosition;return this.state.instant||(e=(0,u.spring)(e,this.props.springConfig)),{trackPosition:e}}},{key:"render",value:function(){var e=this.props,t=e.tag,n=e.onScroll,i=m(e,["tag","onScroll"]);return s.default.createElement(u.Motion,{style:this._getTrackStyle(),onRest:this._handleOnRest},(function(e){var r=e.trackPosition;return(0,a.createElement)(b,(0,p.default)({trackPosition:r,tag:t,onScroll:n},i,x))}))}}]),t}(a.Component);w.propTypes=x,w.defaultProps={tag:"div",currentView:0,viewsToShow:1,viewsToMove:1,align:0,contain:!1,axis:"x",infinite:!1,instant:!1,swipe:!0,swipeThreshold:.5,flickTimeout:300,springConfig:u.presets.noWobble,onSwipeStart:v,onSwipeMove:v,onSwipeEnd:v,onScroll:v,onViewChange:v,onRest:v},w.contextTypes={pager:l.default.instanceOf(h.default)},t.default=w,e.exports=t.default},3112:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(2791),a=(c(o),c(n(2007))),s=n(4164),l=c(n(7833));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=i=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),i._viewAdded=!1,i._viewInstance=null,u(i,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"getChildContext",value:function(){return{view:this._viewInstance}}},{key:"componentDidMount",value:function(){this._viewInstance=this.context.pager.addView((0,s.findDOMNode)(this)),this._viewAdded=!0,this.forceUpdate()}},{key:"componentWillUnmount",value:function(){this.context.pager.removeView(this._viewInstance)}},{key:"render",value:function(){var e=this.context.pager.options,t=(e.viewsToShow,e.axis,this.props),n=t.tag,r=(t.trackSize,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(t,["tag","trackSize"])),a=i({},r.style);return this._viewAdded||(a.visibility="hidden",a.pointerEvents="none"),this._viewInstance&&(a=i({},a,this._viewInstance.getStyles())),(0,o.createElement)(n,i({},r,{style:a}))}}]),t}(o.Component);h.contextTypes={pager:a.default.instanceOf(l.default)},h.childContextTypes={view:a.default.any},h.propTypes={tag:a.default.any},h.defaultProps={tag:"div"},t.default=h,e.exports=t.default},2636:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(2791),o=(s(r),s(n(2007))),a=s(n(7833));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i=new a.default,r=function(){return n.forceUpdate()};return i.on("viewChange",r),i.on("hydrated",r),n._pager=i,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"getChildContext",value:function(){return{pager:this._pager}}},{key:"componentDidMount",value:function(){var e=this;requestAnimationFrame((function(){e._pager.hydrate()}))}},{key:"getInstance",value:function(){return this._pager}},{key:"render",value:function(){var e=this.props,t=e.tag,n=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["tag"]);return(0,r.createElement)(t,n)}}]),t}(r.Component);l.childContextTypes={pager:o.default.instanceOf(a.default)},l.propTypes={tag:o.default.string},l.defaultProps={tag:"div"},t.default=l,e.exports=t.default},904:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=null;return i.Children.forEach(t,(function(t,i){t.key!==e&&i!==e||(n=i)})),n};var i=n(2791);e.exports=t.default},5870:(e,t,n)=>{"use strict";t.G7=t.fQ=t.RQ=t.hE=void 0;var i=c(n(2636)),r=c(n(2486)),o=c(n(5471)),a=c(n(3112)),s=c(n(4416)),l=c(n(246));function c(e){return e&&e.__esModule?e:{default:e}}t.hE=i.default,t.RQ=r.default,t.fQ=o.default,t.G7=a.default,s.default,l.default},8275:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){for(var i in t)t.hasOwnProperty(i)&&!n[i]&&(e[i]=t[i]);return e},e.exports=t.default},246:(e,t)=>{"use strict";function n(e,t){return(e%t+t)%t}Object.defineProperty(t,"__esModule",{value:!0}),t.modulo=n,t.clamp=function(e,t,n){return Math.min(Math.max(t,e),n)},t.sum=function(e){return e.reduce((function(e,t){return e+t}),0)},t.max=function(e){return Math.max.apply(null,e)},t.range=function(e,t,i){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Array(1+t-e))).map((function(t){return i?n(e+t,i):e+t}))}},9210:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>T});var i=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,i){return e[0]===t&&(n=i,!0)})),n}return function(){function t(){this.__entries__=[]}var n={size:{configurable:!0}};return n.size.get=function(){return this.__entries__.length},t.prototype.get=function(t){var n=e(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(t,n){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,i=e(n,t);~i&&n.splice(i,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,i=this.__entries__;n<i.length;n+=1){var r=i[n];e.call(t,r[1],r[0])}},Object.defineProperties(t.prototype,n),t}()}(),r="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,o="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),a="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},s=["top","right","bottom","left","width","height","size","weight"],l="undefined"!==typeof MutationObserver,c=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,i=!1,r=0;function o(){n&&(n=!1,e()),i&&l()}function s(){a(o)}function l(){var e=Date.now();if(n){if(e-r<2)return;i=!0}else n=!0,i=!1,setTimeout(s,t);r=e}return l}(this.refresh.bind(this),20)};c.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},c.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},c.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},c.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},c.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},c.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},c.prototype.onTransitionEnd_=function(e){var t=e.propertyName;void 0===t&&(t=""),s.some((function(e){return!!~t.indexOf(e)}))&&this.refresh()},c.getInstance=function(){return this.instance_||(this.instance_=new c),this.instance_},c.instance_=null;var u=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n+=1){var r=i[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},h=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},d=y(0,0,0,0);function p(e){return parseFloat(e)||0}function f(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return t.reduce((function(t,n){return t+p(e["border-"+n+"-width"])}),0)}function m(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return d;var i=h(e).getComputedStyle(e),r=function(e){for(var t={},n=0,i=["top","right","bottom","left"];n<i.length;n+=1){var r=i[n],o=e["padding-"+r];t[r]=p(o)}return t}(i),o=r.left+r.right,a=r.top+r.bottom,s=p(i.width),l=p(i.height);if("border-box"===i.boxSizing&&(Math.round(s+o)!==t&&(s-=f(i,"left","right")+o),Math.round(l+a)!==n&&(l-=f(i,"top","bottom")+a)),!function(e){return e===h(e).document.documentElement}(e)){var c=Math.round(s+o)-t,u=Math.round(l+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return y(r.left,r.top,s,l)}var g="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof h(e).SVGGraphicsElement}:function(e){return e instanceof h(e).SVGElement&&"function"===typeof e.getBBox};function _(e){return r?g(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):m(e):d}function y(e,t,n,i){return{x:e,y:t,width:n,height:i}}var v=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e};v.prototype.isActive=function(){var e=_(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},v.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var x=function(e,t){var n=function(e){var t=e.x,n=e.y,i=e.width,r=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return u(a,{x:t,y:n,width:i,height:r,top:n,right:t+i,bottom:r+n,left:t}),a}(t);u(this,{target:e,contentRect:n})},b=function(e,t,n){if(this.activeObservations_=[],this.observations_=new i,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n};b.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new v(e)),this.controller_.addObserver(this),this.controller_.refresh())}},b.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},b.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},b.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},b.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new x(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},b.prototype.clearActive=function(){this.activeObservations_.splice(0)},b.prototype.hasActive=function(){return this.activeObservations_.length>0};var w="undefined"!==typeof WeakMap?new WeakMap:new i,E=function(e){if(!(this instanceof E))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=c.getInstance(),n=new b(e,t,this);w.set(this,n)};["observe","unobserve","disconnect"].forEach((function(e){E.prototype[e]=function(){return(t=w.get(this))[e].apply(t,arguments);var t}}));const T="undefined"!==typeof o.ResizeObserver?o.ResizeObserver:E},6374:(e,t,n)=>{"use strict";var i=n(2791),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,o={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,i)&&!l.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===o[i]&&(o[i]=t[i]);return{$$typeof:r,type:e,key:c,ref:u,props:o,_owner:s.current}}t.jsx=c,t.jsxs=c},9117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=_.prototype;var x=v.prototype=new y;x.constructor=v,m(x,_.prototype),x.isPureReactComponent=!0;var b=Array.isArray,w=Object.prototype.hasOwnProperty,E={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,i){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!T.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:E.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function M(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function z(e,t,r,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return a=a(l=e),e=""===o?"."+M(l,0):o,b(a)?(r="",null!=e&&(r=e.replace(C,"$&/")+"/"),z(a,t,r,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",b(e))for(var c=0;c<e.length;c++){var u=o+M(s=e[c],c);l+=z(s,t,r,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=z(s=s.value,t,r,u=o+M(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var i=[],r=0;return z(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},L={transition:null},D={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:L,ReactCurrentOwner:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=_,t.Fragment=r,t.Profiler=a,t.PureComponent=v,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!T.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:r,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.2.0"},2791:(e,t,n)=>{"use strict";e.exports=n(9117)},184:(e,t,n)=>{"use strict";e.exports=n(6374)},6813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<o(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,a=r>>>1;i<a;){var s=2*(i+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<r&&0>o(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[s]=n,i=s);else{if(!(c<r&&0>o(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],h=1,d=null,p=3,f=!1,m=!1,g=!1,_="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function b(e){if(g=!1,x(e),!m)if(null!==i(c))m=!0,L(w);else{var t=i(u);null!==t&&D(b,t.startTime-e)}}function w(e,n){m=!1,g&&(g=!1,y(S),S=-1),f=!0;var o=p;try{for(x(n),d=i(c);null!==d&&(!(d.expirationTime>n)||e&&!z());){var a=d.callback;if("function"===typeof a){d.callback=null,p=d.priorityLevel;var s=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===i(c)&&r(c),x(n)}else r(c);d=i(c)}if(null!==d)var l=!0;else{var h=i(u);null!==h&&D(b,h.startTime-n),l=!1}return l}finally{d=null,p=o,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,T=!1,k=null,S=-1,C=5,M=-1;function z(){return!(t.unstable_now()-M<C)}function A(){if(null!==k){var e=t.unstable_now();M=e;var n=!0;try{n=k(!0,e)}finally{n?E():(T=!1,k=null)}}else T=!1}if("function"===typeof v)E=function(){v(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,I=P.port2;P.port1.onmessage=A,E=function(){I.postMessage(null)}}else E=function(){_(A,0)};function L(e){k=e,T||(T=!0,E())}function D(e,n){S=_((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,L(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:r,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===i(c)&&e===i(u)&&(g?(y(S),S=-1):g=!0,D(b,o-a))):(e.sortIndex=s,n(c,e),m||f||(m=!0,L(w))),e},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},5296:(e,t,n)=>{"use strict";e.exports=n(6813)},5792:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(6426)),o=n(9483);t.default=function(e,t){var n={};return e&&"string"===typeof e?((0,r.default)(e,(function(e,i){e&&i&&(n[(0,o.camelCase)(e,t)]=i)})),n):n}},9483:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelCase=void 0;var n=/^--[a-zA-Z0-9-]+$/,i=/-([a-z])/g,r=/^[^-]+$/,o=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,s=function(e,t){return t.toUpperCase()},l=function(e,t){return"".concat(t,"-")};t.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||r.test(e)||n.test(e)}(e)?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(a,l):e.replace(o,l)).replace(i,s))}},6426:(e,t,n)=>{var i=n(1065);function r(e,t){var n,r=null;if(!e||"string"!==typeof e)return r;for(var o,a,s=i(e),l="function"===typeof t,c=0,u=s.length;c<u;c++)o=(n=s[c]).property,a=n.value,l?t(o,a,n):a&&(r||(r={}),r[o]=a);return r}e.exports=r,e.exports.default=r},5009:e=>{e.exports=function(e,t){t=t||{};var n,i,r=e.ownerDocument||e,o=[],a=[],s=function(e){var t=[];function n(i,r){if(i===e.documentElement)return!1;for(var o=0,a=t.length;o<a;o++)if(t[o][0]===i)return t[o][1];var s=!1;return"none"===(r=r||e.defaultView.getComputedStyle(i)).display?s=!0:i.parentNode&&(s=n(i.parentNode)),t.push([i,s]),s}return function(t){if(t===e.documentElement)return!1;var i=e.defaultView.getComputedStyle(t);return!!n(t,i)||"hidden"===i.visibility}}(r),l=["input","select","a[href]","textarea","button","[tabindex]"],c=e.querySelectorAll(l.join(","));if(t.includeContainer){var u=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;l.some((function(t){return u.call(e,t)}))&&(c=Array.prototype.slice.apply(c)).unshift(e)}for(var h=0,d=c.length;h<d;h++)n=c[h],(i=parseInt(n.getAttribute("tabindex"),10)||n.tabIndex)<0||"INPUT"===n.tagName&&"hidden"===n.type||n.disabled||s(n,r)||(0===i?o.push(n):a.push({index:h,tabIndex:i,node:n}));var p=a.sort((function(e,t){return e.tabIndex===t.tabIndex?e.index-t.index:e.tabIndex-t.tabIndex})).map((function(e){return e.node}));return Array.prototype.push.apply(p,o),p}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&i;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>i[e]));return a.default=()=>i,n.d(o,a),o}})(),n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,i)=>(n.f[i](e,t),t)),[])),n.u=e=>"static/js/"+e+".74de9c21.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="reunion:";n.l=(i,r,o,a)=>{if(e[i])e[i].push(r);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==t+o){s=h;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=i),e[i]=[r];var d=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var r=e[i];if(delete e[i],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((e=>e(n))),t)return t(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/reunion/",(()=>{var e={179:0};n.f.j=(t,i)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var o=new Promise(((n,i)=>r=e[t]=[n,i]));i.push(r[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(i=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,r[1](s)}}),"chunk-"+t,t)}};var t=(t,i)=>{var r,o,a=i[0],s=i[1],l=i[2],c=0;if(a.some((t=>0!==e[t]))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(l)l(n)}for(t&&t(i);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},i=self.webpackChunkreunion=self.webpackChunkreunion||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),n.nc=void 0,(()=>{"use strict";var e,t=n(2791),i=n.t(t,2),r=n(1250);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const a="popstate";function s(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n,i){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?d(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function p(t,n,i,r){void 0===r&&(r={});let{window:l=document.defaultView,v5Compat:d=!1}=r,p=l.history,f=e.Pop,m=null,g=_();function _(){return(p.state||{idx:null}).idx}function y(){f=e.Pop;let t=_(),n=null==t?null:t-g;g=t,m&&m({action:f,location:x.location,delta:n})}function v(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"===typeof e?e:h(e);return s(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,p.replaceState(o({},p.state,{idx:g}),""));let x={get action(){return f},get location(){return t(l,p)},listen(e){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(a,y),m=e,()=>{l.removeEventListener(a,y),m=null}},createHref:e=>n(l,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){f=e.Push;let r=u(x.location,t,n);i&&i(r,t),g=_()+1;let o=c(r,g),a=x.createHref(r);try{p.pushState(o,"",a)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;l.location.assign(a)}d&&m&&m({action:f,location:x.location,delta:1})},replace:function(t,n){f=e.Replace;let r=u(x.location,t,n);i&&i(r,t),g=_();let o=c(r,g),a=x.createHref(r);p.replaceState(o,"",a),d&&m&&m({action:f,location:x.location,delta:0})},go:e=>p.go(e)};return x}var f;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(f||(f={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(e,t,n){void 0===n&&(n="/");let i=z(("string"===typeof t?d(t):t).pathname||"/",n);if(null==i)return null;let r=g(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(r);let o=null;for(let a=0;null==o&&a<r.length;++a)o=S(r[a],M(i));return o}function g(e,t,n,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i="");let r=(e,r,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};a.relativePath.startsWith("/")&&(s(a.relativePath.startsWith(i),'Absolute route path "'+a.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(i.length));let l=L([i,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(s(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),g(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:k(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let i of _(e.path))r(e,t,i);else r(e,t)})),t}function _(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===i.length)return r?[o,""]:[o];let a=_(i.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),r&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const y=/^:\w+$/,v=3,x=2,b=1,w=10,E=-2,T=e=>"*"===e;function k(e,t){let n=e.split("/"),i=n.length;return n.some(T)&&(i+=E),t&&(i+=x),n.filter((e=>!T(e))).reduce(((e,t)=>e+(y.test(t)?v:""===t?b:w)),i)}function S(e,t){let{routesMeta:n}=e,i={},r="/",o=[];for(let a=0;a<n.length;++a){let e=n[a],s=a===n.length-1,l="/"===r?t:t.slice(r.length)||"/",c=C({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},l);if(!c)return null;Object.assign(i,c.params);let u=e.route;o.push({params:i,pathname:L([r,c.pathname]),pathnameBase:D(L([r,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(r=L([r,c.pathnameBase]))}return o}function C(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,t)=>(i.push(t),"/([^\\/]+)")));e.endsWith("*")?(i.push("*"),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let o=new RegExp(r,t?void 0:"i");return[o,i]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let o=r[0],a=o.replace(/(.)\/+$/,"$1"),s=r.slice(1),c=i.reduce(((e,t,n)=>{if("*"===t){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return l(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(s[n]||"",t),e}),{});return{params:c,pathname:o,pathnameBase:a,pattern:e}}function M(e){try{return decodeURI(e)}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function A(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function P(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function I(e,t,n,i){let r;void 0===i&&(i=!1),"string"===typeof e?r=d(e):(r=o({},e),s(!r.pathname||!r.pathname.includes("?"),A("?","pathname","search",r)),s(!r.pathname||!r.pathname.includes("#"),A("#","pathname","hash",r)),s(!r.search||!r.search.includes("#"),A("#","search","hash",r)));let a,l=""===e||""===r.pathname,c=l?"/":r.pathname;if(i||null==c)a=n;else{let e=t.length-1;if(c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:i="",hash:r=""}="string"===typeof e?d(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:O(i),hash:R(r)}}(r,a),h=c&&"/"!==c&&c.endsWith("/"),p=(l||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!p||(u.pathname+="/"),u}const L=e=>e.join("/").replace(/\/\/+/g,"/"),D=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),O=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",R=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const F=["post","put","patch","delete"],j=(new Set(F),["get",...F]);new Set(j),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},N.apply(this,arguments)}const U=t.createContext(null);const V=t.createContext(null);const q=t.createContext(null);const G=t.createContext(null);const W=t.createContext({outlet:null,matches:[],isDataRoute:!1});const Z=t.createContext(null);function H(){return null!=t.useContext(G)}function X(){return H()||s(!1),t.useContext(G).location}function K(e){t.useContext(q).static||t.useLayoutEffect(e)}function Y(){let{isDataRoute:e}=t.useContext(W);return e?function(){let{router:e}=se(oe.UseNavigateStable),n=ce(ae.UseNavigateStable),i=t.useRef(!1);K((()=>{i.current=!0}));let r=t.useCallback((function(t,r){void 0===r&&(r={}),i.current&&("number"===typeof t?e.navigate(t):e.navigate(t,N({fromRouteId:n},r)))}),[e,n]);return r}():function(){H()||s(!1);let e=t.useContext(U),{basename:n,navigator:i}=t.useContext(q),{matches:r}=t.useContext(W),{pathname:o}=X(),a=JSON.stringify(P(r).map((e=>e.pathnameBase))),l=t.useRef(!1);K((()=>{l.current=!0}));let c=t.useCallback((function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void i.go(t);let s=I(t,JSON.parse(a),o,"path"===r.relative);null==e&&"/"!==n&&(s.pathname="/"===s.pathname?n:L([n,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)}),[n,i,a,o,e]);return c}()}function J(){let{matches:e}=t.useContext(W),n=e[e.length-1];return n?n.params:{}}function $(e,n){let{relative:i}=void 0===n?{}:n,{matches:r}=t.useContext(W),{pathname:o}=X(),a=JSON.stringify(P(r).map((e=>e.pathnameBase)));return t.useMemo((()=>I(e,JSON.parse(a),o,"path"===i)),[e,a,o,i])}function Q(n,i,r){H()||s(!1);let{navigator:o}=t.useContext(q),{matches:a}=t.useContext(W),l=a[a.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,p=X();if(i){var f;let e="string"===typeof i?d(i):i;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||s(!1),h=e}else h=p;let g=h.pathname||"/",_=m(n,{pathname:"/"===u?g:g.slice(u.length)||"/"});let y=re(_&&_.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:L([u,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:L([u,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,r);return i&&y?t.createElement(G.Provider,{value:{location:N({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:e.Pop}},y):y}function ee(){let e=function(){var e;let n=t.useContext(Z),i=le(ae.UseRouteError),r=ce(ae.UseRouteError);if(n)return n;return null==(e=i.errors)?void 0:e[r]}(),n=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),i?t.createElement("pre",{style:o},i):null,null)}const te=t.createElement(ee,null);class ne extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?t.createElement(W.Provider,{value:this.props.routeContext},t.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:n,match:i,children:r}=e,o=t.useContext(U);return o&&o.static&&o.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=i.route.id),t.createElement(W.Provider,{value:n},r)}function re(e,n,i){var r;if(void 0===n&&(n=[]),void 0===i&&(i=null),null==e){var o;if(null==(o=i)||!o.errors)return null;e=i.matches}let a=e,l=null==(r=i)?void 0:r.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&(null==l?void 0:l[e.route.id])));e>=0||s(!1),a=a.slice(0,Math.min(a.length,e+1))}return a.reduceRight(((e,r,o)=>{let s=r.route.id?null==l?void 0:l[r.route.id]:null,c=null;i&&(c=r.route.errorElement||te);let u=n.concat(a.slice(0,o+1)),h=()=>{let n;return n=s?c:r.route.Component?t.createElement(r.route.Component,null):r.route.element?r.route.element:e,t.createElement(ie,{match:r,routeContext:{outlet:e,matches:u,isDataRoute:null!=i},children:n})};return i&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?t.createElement(ne,{location:i.location,revalidation:i.revalidation,component:c,error:s,children:h(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):h()}),null)}var oe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oe||{}),ae=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ae||{});function se(e){let n=t.useContext(U);return n||s(!1),n}function le(e){let n=t.useContext(V);return n||s(!1),n}function ce(e){let n=function(e){let n=t.useContext(W);return n||s(!1),n}(),i=n.matches[n.matches.length-1];return i.route.id||s(!1),i.route.id}i.startTransition;function ue(e){s(!1)}function he(n){let{basename:i="/",children:r=null,location:o,navigationType:a=e.Pop,navigator:l,static:c=!1}=n;H()&&s(!1);let u=i.replace(/^\/*/,"/"),h=t.useMemo((()=>({basename:u,navigator:l,static:c})),[u,l,c]);"string"===typeof o&&(o=d(o));let{pathname:p="/",search:f="",hash:m="",state:g=null,key:_="default"}=o,y=t.useMemo((()=>{let e=z(p,u);return null==e?null:{location:{pathname:e,search:f,hash:m,state:g,key:_},navigationType:a}}),[u,p,f,m,g,_,a]);return null==y?null:t.createElement(q.Provider,{value:h},t.createElement(G.Provider,{children:r,value:y}))}function de(e){let{children:t,location:n}=e;return Q(pe(t),n)}new Promise((()=>{}));t.Component;function pe(e,n){void 0===n&&(n=[]);let i=[];return t.Children.forEach(e,((e,r)=>{if(!t.isValidElement(e))return;let o=[...n,r];if(e.type===t.Fragment)return void i.push.apply(i,pe(e.props.children,o));e.type!==ue&&s(!1),e.props.index&&e.props.children&&s(!1);let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=pe(e.props.children,o)),i.push(a)})),i}var fe;function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},me.apply(this,arguments)}function ge(e,n){let{title:i,titleId:r,...o}=e;return t.createElement("svg",me({height:"800px",width:"800px",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 492.75 492.75",xmlSpace:"preserve",ref:n,"aria-labelledby":r},o),i?t.createElement("title",{id:r},i):null,fe||(fe=t.createElement("g",null,t.createElement("g",null,t.createElement("path",{d:"M45.082,121.589l-2.227,20.876l53.434,63.486l9.276-68.475c0.433-3.196,1.338-6.191,2.199-9.202L45.082,121.589z"}),t.createElement("path",{d:"M90.538,248.414l2.799-20.661l-52.876-62.832l-7.819,73.314c-1.941,18.178,11.223,34.478,29.402,36.422l31.597,3.37 C90.491,268.769,89.137,258.765,90.538,248.414z"}),t.createElement("path",{d:"M200.385,124.129c-4.577-12.695-18.593-19.301-31.296-14.693c-12.703,4.585-19.286,18.593-14.693,31.296l29.665,82.164 c2.69,7.474,8.851,13.173,16.516,15.274l76.894,21.14c2.165,0.597,4.346,0.884,6.495,0.884c10.729,0,20.575-7.124,23.56-17.98 c3.582-13.021-4.075-26.473-17.097-30.054l-64.678-17.781L200.385,124.129z"}),t.createElement("path",{d:"M280.893,391.117l-10.053-69.35c-1.162-8.007-5.667-15.139-12.393-19.636l-40.759-27.214l-14.318-9.56 c0.062-0.417,0.14-0.945,0.237-1.622l1.021-7.543l-8.376-2.303c-12.767-3.51-23.034-13.006-27.531-25.454l-9.316-25.806 l-50.052,28.345c0,0-1.994,14.721-2.658,19.627c-0.562,4.143-0.673,17.777,1.162,23.663c2.9,9.306,11.608,37.224,11.608,37.224 l15.589,49.994l-21.801,82.896c-4.012,15.242,5.094,30.843,20.328,34.846c2.436,0.637,4.879,0.947,7.275,0.947 c12.647,0,24.204-8.477,27.571-21.275l23.886-90.824c1.361-5.182,1.242-10.642-0.358-15.752l-10.235-32.818l34.479,23.02 l8.229,56.774c2.062,14.208,14.255,24.443,28.2,24.435c1.361,0,2.738-0.095,4.123-0.294 C272.345,421.18,283.154,406.71,280.893,391.117z"}),t.createElement("path",{d:"M464.069,212.629c-7.195-5.42-17.423-3.972-22.827,3.216l-61.184,81.297c-1.21,1.615-2.117,3.43-2.666,5.372 l-25.191,89.089l-38.658,5.524c-2.006,0.287-3.94,0.939-5.707,1.942l-111.908,63.189c-7.84,4.425-10.602,14.367-6.177,22.207 c2.993,5.309,8.517,8.286,14.208,8.286c2.714,0,5.468-0.677,7.998-2.109l109.234-61.677l46.116-6.59 c6.376-0.907,11.621-5.492,13.38-11.7l27.253-96.356l59.345-78.861C472.706,228.261,471.257,218.042,464.069,212.629z"}),t.createElement("path",{d:"M51.776,113.025l59.31,6.33l7.516,0.802c3.691,0.394,7.354,0.03,10.903-0.787c-3.937,5.952-6.764,12.751-7.782,20.296 l-9.621,71.021l41.688-23.61l-14.732-40.805c-3.945-10.929-2.855-22.401,1.961-32.034c0.618-0.432,1.294-0.759,1.884-1.236 c4.128-3.335,7.215-7.641,9.327-12.404c1.381-3.115,2.426-6.39,2.794-9.843c0.283-2.648,0.159-5.231-0.168-7.762 c-1.918-14.836-13.704-27-29.233-28.659l-66.851-7.132c-8.724-0.932-17.455,1.639-24.284,7.146 c-6.821,5.517-11.184,13.507-12.114,22.255C20.432,94.783,33.597,111.084,51.776,113.025z"})),t.createElement("circle",{cx:200.891,cy:47.5,r:47.5}))))}const _e=t.forwardRef(ge);n.p;var ye,ve;function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xe.apply(this,arguments)}function be(e,n){let{title:i,titleId:r,...o}=e;return t.createElement("svg",xe({width:"800px",height:"800px",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},o),i?t.createElement("title",{id:r},i):null,ye||(ye=t.createElement("path",{d:"M16 12.906a4.47 4.47 0 0 0 0 8.938 4.47 4.47 0 0 0 4.469-4.469A4.47 4.47 0 0 0 16 12.906zm0 7.063a2.577 2.577 0 1 1-.002-5.154A2.577 2.577 0 0 1 16 19.969z"})),ve||(ve=t.createElement("path",{d:"M25.625 9.812h-4.812l-2.062-2.75h-5.5l-2.062 2.75H6.375C5.618 9.812 5 10.43 5 11.188v12.375c0 .756.618 1.375 1.375 1.375h19.25c.757 0 1.375-.617 1.375-1.375V11.188c0-.758-.618-1.376-1.375-1.376zM16 23.477a6.103 6.103 0 1 1 .001-12.205A6.103 6.103 0 0 1 16 23.477zm9.625-10.399h-2.75v-1.375h2.75v1.375z"})))}const we=t.forwardRef(be);n.p;function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ee.apply(this,arguments)}function Te(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ke=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Se=["aria-current","caseSensitive","className","end","style","to","children"];const Ce=i.startTransition;function Me(e){let{basename:n,children:i,future:r,window:o}=e,a=t.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),p((function(e,t){let{pathname:n,search:i,hash:r}=e.location;return u("",{pathname:n,search:i,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:h(t)}),null,e)}({window:o,v5Compat:!0}));let s=a.current,[l,c]=t.useState({action:s.action,location:s.location}),{v7_startTransition:d}=r||{},f=t.useCallback((e=>{d&&Ce?Ce((()=>c(e))):c(e)}),[c,d]);return t.useLayoutEffect((()=>s.listen(f)),[s,f]),t.createElement(he,{basename:n,children:i,location:l.location,navigationType:l.action,navigator:s})}const ze="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=t.forwardRef((function(e,n){let i,{onClick:r,relative:o,reloadDocument:a,replace:l,state:c,target:u,to:d,preventScrollReset:p}=e,f=Te(e,ke),{basename:m}=t.useContext(q),g=!1;if("string"===typeof d&&Ae.test(d)&&(i=d,ze))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=z(t.pathname,m);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:g=!0}catch(v){}let _=function(e,n){let{relative:i}=void 0===n?{}:n;H()||s(!1);let{basename:r,navigator:o}=t.useContext(q),{hash:a,pathname:l,search:c}=$(e,{relative:i}),u=l;return"/"!==r&&(u="/"===l?r:L([r,l])),o.createHref({pathname:u,search:c,hash:a})}(d,{relative:o}),y=function(e,n){let{target:i,replace:r,state:o,preventScrollReset:a,relative:s}=void 0===n?{}:n,l=Y(),c=X(),u=$(e,{relative:s});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();let n=void 0!==r?r:h(c)===h(u);l(e,{replace:n,state:o,preventScrollReset:a,relative:s})}}),[c,l,u,r,o,i,e,a,s])}(d,{replace:l,state:c,target:u,preventScrollReset:p,relative:o});return t.createElement("a",Ee({},f,{href:i||_,onClick:g||a?r:function(e){r&&r(e),e.defaultPrevented||y(e)},ref:n,target:u}))}));const Ie=t.forwardRef((function(e,n){let{"aria-current":i="page",caseSensitive:r=!1,className:o="",end:a=!1,style:s,to:l,children:c}=e,u=Te(e,Se),h=$(l,{relative:u.relative}),d=X(),p=t.useContext(V),{navigator:f}=t.useContext(q),m=f.encodeLocation?f.encodeLocation(h).pathname:h.pathname,g=d.pathname,_=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(g=g.toLowerCase(),_=_?_.toLowerCase():null,m=m.toLowerCase());let y,v=g===m||!a&&g.startsWith(m)&&"/"===g.charAt(m.length),x=null!=_&&(_===m||!a&&_.startsWith(m)&&"/"===_.charAt(m.length)),b=v?i:void 0;y="function"===typeof o?o({isActive:v,isPending:x}):[o,v?"active":null,x?"pending":null].filter(Boolean).join(" ");let w="function"===typeof s?s({isActive:v,isPending:x}):s;return t.createElement(Pe,Ee({},u,{"aria-current":b,className:y,ref:n,style:w,to:l}),"function"===typeof c?c({isActive:v,isPending:x}):c)}));var Le,De;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(Le||(Le={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(De||(De={}));var Oe=n(184);const Re=()=>(0,Oe.jsx)("nav",{className:"main-nav-bar",children:(0,Oe.jsxs)("ul",{children:[(0,Oe.jsx)("li",{children:(0,Oe.jsxs)(Ie,{to:"/reunion/hikes",children:[(0,Oe.jsx)(_e,{}),"Randonn\xe9es"]})}),(0,Oe.jsx)("li",{children:(0,Oe.jsxs)(Ie,{to:"/reunion/visits",children:[(0,Oe.jsx)(we,{}),"Visites"]})})]})});var Be=n(5483),Fe=n.n(Be);const je=JSON.parse('{"version":8,"name":"outdoors","metadata":{"mapbox:type":"default","mapbox:origin":"outdoors-v11","mapbox:autocomposite":true,"mapbox:groups":{"Terrain, terrain-labels":{"name":"Terrain, terrain-labels","collapsed":false},"Transit, transit-labels":{"name":"Transit, transit-labels","collapsed":true},"Administrative boundaries, admin":{"name":"Administrative boundaries, admin","collapsed":true},"b05bde0d52c7b94cc170ae519c6f9ba2":{"name":"POIs - custom"},"Land & water, built":{"name":"Land & water, built","collapsed":true},"66ce0da4f3457b511d48a3b977db2943":{"name":"Ferrylines","collapsed":true},"Transit, bridges":{"name":"Transit, bridges","collapsed":true},"Terrain, surface":{"name":"Terrain, surface","collapsed":true},"331b07cfede41327831acd7dcfb816fd":{"name":"Park labels - custom","collapsed":false},"db52e0328f00d4b4036eade5aa0515bd":{"name":"Parks - custom","collapsed":false},"d0c134b8e7b7140409291bfca8c43146":{"name":"Trails - custom","collapsed":false},"Buildings, building-labels":{"name":"Buildings, building-labels","collapsed":true},"Transit, surface":{"name":"Transit, surface","collapsed":true},"58661eb5bee3ed4e0e26ef976157c181":{"name":"Trails - custom"},"Land & water, land":{"name":"Land & water, land","collapsed":false},"Road network, bridges":{"name":"Road network, bridges","collapsed":true},"cdd89e2f84b68b2432ba86fe60e4b621":{"name":"Trails - custom labels","collapsed":true},"Road network, tunnels":{"name":"Road network, tunnels","collapsed":true},"a69aaeafcfbaef848301769576c5e5f3":{"name":"Group","collapsed":false},"Road network, road-labels":{"name":"Road network, road-labels","collapsed":false},"d2b97dc610adbdc3f21c4287a6085f19":{"name":"Place labels, minor","collapsed":false},"Buildings, built":{"name":"Buildings, aeroways","collapsed":true},"5a42ee2ad0fffd9f9a0473fd522d925b":{"name":"Water - custom","collapsed":false},"f6c00c4f751f88b5b53f6a2e97eebaac":{"name":"Aerialway lines","collapsed":false},"Natural features, natural-labels":{"name":"Natural features, natural-labels","collapsed":false},"Road network, surface":{"name":"Road network, surface","collapsed":true},"Road network, bridges-2":{"name":"Road network, bridges-2","collapsed":false},"Walking, cycling, etc., barriers-bridges":{"name":"Walking, cycling, etc., barriers-bridges","collapsed":true},"Place labels, place-labels":{"name":"Place labels, minor","collapsed":false},"Transit, ferries":{"name":"Transit, ferries","collapsed":true},"Transit, elevated":{"name":"Transit, elevated","collapsed":true},"5dbeec1190804160e60da5b2592db927":{"name":"Landcover and landuse - custom","collapsed":false},"Road network, surface-case":{"name":"Road network, surface-case","collapsed":true},"Point of interest labels, poi-labels":{"name":"Point of interest labels, poi-labels","collapsed":false},"Walking, cycling, etc., bridges":{"name":"Walking, cycling, etc., bridges","collapsed":true},"Walking, cycling, etc., tunnels":{"name":"Walking, cycling, etc., tunnels","collapsed":true},"3491bd4207caacd4fc6afe89135a8bbe":{"name":"Place labels, major","collapsed":false},"Terrain, land":{"name":"Terrain, land","collapsed":true},"ed70cd96d2949573fc42d6b3f1b65f3b":{"name":"Terrain, custom","collapsed":false},"Road network, tunnels-case":{"name":"Road network, tunnels-case","collapsed":true},"Walking, cycling, etc., barriers":{"name":"Walking, cycling, etc., barriers","collapsed":true},"Walking, cycling, etc., walking-cycling-labels":{"name":"Walking, cycling, etc., walking-cycling-labels","collapsed":true},"Road network, bridges-case":{"name":"Road network, bridges-case","collapsed":true},"Walking, cycling, etc., surface":{"name":"Walking, cycling, etc., surface","collapsed":true},"Transit, built":{"name":"Transit, built","collapsed":true},"1f42f54cd117d46cea0d6cd6f35dd2fc":{"name":"Railroads","collapsed":true},"Road network, surface-icons":{"name":"Road network, surface-icons","collapsed":true},"f1886cf93696e2c587458e4a733fa74f":{"name":"POIs - custom","collapsed":true},"Land & water, water":{"name":"Land & water, water","collapsed":true},"7815aaad892f01d265942351d30b6131":{"name":"Transit lines","collapsed":true},"Transit, ferry-aerialway-labels":{"name":"Transit, ferry-aerialway-labels","collapsed":true},"f71e39c04acff6c070b7514ff3ada030":{"name":"Water way labels","collapsed":true},"2b3ec60a7f8cdd82ef6bfc6d4ee9e9a5":{"name":"Natural features - custom","collapsed":false}},"mapbox:sdk-support":{"js":"1.6.0","android":"8.3.0","ios":"5.3.0"},"mapbox:trackposition":false},"center":[-122.4534615620775,37.828758568031105],"zoom":9.683637240754322,"bearing":0,"pitch":0,"light":{"anchor":"viewport","color":"hsl(0, 0%, 100%)"},"sources":{"composite":{"url":"mapbox://alltrails.osm_segments,alltrails.ahx8exyx,mapbox.mapbox-streets-v8,alltrails.86sfqzu9,alltrails.6ejp62vc,alltrails.2a54nuiz,alltrails.5xfhqyuo,alltrails.dpxqqqh6,mapbox.mapbox-terrain-v2,alltrails.park-areas-production,alltrails.park-centerpoints-production","type":"vector"}},"sprite":"mapbox://sprites/alltrails/ck6ihzq4v0e801ipws9d40r9m/cfide7eh6mz81w3zi8t267in5","glyphs":"mapbox://fonts/alltrails/{fontstack}/{range}.pbf","layers":[{"id":"land","type":"background","metadata":{"mapbox:group":"Land & water, land"},"paint":{"background-color":["interpolate",["linear"],["zoom"],11,"#f1f1e9",13,"hsl(51, 38%, 92%)"]}},{"id":"landcover-outdoors custom","type":"fill","metadata":{"mapbox:group":"5dbeec1190804160e60da5b2592db927"},"source":"composite","source-layer":"landcover","maxzoom":12,"paint":{"fill-color":["match",["get","class"],"snow","hsl(35, 28%, 100%)",["scrub"],"hsl(108, 40%, 86%)",["crop"],"hsl(69, 57%, 94%)",["wood"],"#c7e2c1",["grass"],"hsl(63, 46%, 92%)","#f2f2e4"],"fill-opacity":["interpolate",["exponential",1.5],["zoom"],2,1,8,0,22,0.3],"fill-antialias":false}},{"minzoom":5,"layout":{},"metadata":{"mapbox:group":"5dbeec1190804160e60da5b2592db927"},"filter":["match",["get","class"],["park","airport","glacier","pitch","sand"],true,["agriculture","wood","grass","scrub"],true,"cemetery",true,"school",true,"hospital",true,false],"type":"fill","source":"composite","id":"landuse custom","paint":{"fill-color":["case",["match",["get","type"],["golf_course","golf"],true,false],"hsl(91, 25%, 93%)",["match",["get","class"],["pitch"],true,false],"hsla(129, 21%, 72%, 0.4)",["==",["get","class"],"airport"],"hsla(230, 12%, 92%, 0.7)",["==",["get","class"],"cemetery"],"hsla(164, 22%, 82%, 0.67)",["==",["get","class"],"glacier"],"hsl(192, 2%, 100%)",["==",["get","class"],"hospital"],"#e7dfda",["==",["get","class"],"sand"],"hsl(54, 78%, 94%)",["==",["get","class"],"school"],"hsla(51, 13%, 91%, 0.8)",["==",["get","class"],"agriculture"],"hsla(72, 25%, 92%, 0.74)",["match",["get","class"],["grass"],true,false],"hsl(84, 31%, 94%)",["match",["get","class"],["scrub"],true,false],"hsla(101, 30%, 87%, 0)",["match",["get","class"],["wood"],true,false],"#c3d8bb","hsla(56, 44%, 94%, 0.73)"],"fill-opacity":["interpolate",["linear"],["zoom"],4.98,["match",["get","class"],"agriculture",0.75,["wood","glacier"],0.5,"grass",0.4,"scrub",0.2,["park"],0.1,1],5,0,6,["match",["get","class"],["agriculture","wood","grass","scrub"],0,"glacier",0.5,1],15,["match",["get","class"],"agriculture",0.75,["wood"],0.5,"grass",0.4,"scrub",0.5,["park"],0.25,1]],"fill-outline-color":"hsla(122, 53%, 23%, 0)"},"source-layer":"landuse"},{"id":"parkareas-fallback","type":"fill","metadata":{"mapbox:group":"db52e0328f00d4b4036eade5aa0515bd"},"source":"composite","source-layer":"park-areas-production","minzoom":5,"paint":{"fill-color":"hsla(106, 42%, 74%, 0.8)","fill-outline-color":"hsla(108, 73%, 19%, 0)","fill-opacity":["interpolate",["linear"],["zoom"],5,0,6,1,10,0.8,13,0.5,14,0.2,16,0.1]},"filter":["match",["get","BOUNDARY"],["aboriginal_lands"],false,true]},{"id":"parkareas-city-state-parks","type":"fill","metadata":{"mapbox:group":"db52e0328f00d4b4036eade5aa0515bd"},"source":"composite","source-layer":"park-areas-production","minzoom":5,"filter":["all",["match",["get","LAYER"],["City Park"],true,false],["<",["get","ENCLOSED_A"],10]],"paint":{"fill-outline-color":"hsla(107, 41%, 36%, 0)","fill-color":"hsl(84, 45%, 78%)"}},{"id":"parkareas-wilderness","type":"fill","metadata":{"mapbox:group":"db52e0328f00d4b4036eade5aa0515bd"},"source":"composite","source-layer":"park-areas-production","minzoom":5,"filter":["all",["match",["get","LAYER"],["Wilderness"],true,false],["match",["get","PROTECT_CLASS"],["1b"],true,false]],"paint":{"fill-color":"hsl(106, 35%, 65%)","fill-outline-color":"hsla(108, 73%, 19%, 0)","fill-opacity":["interpolate",["linear"],["zoom"],5,0,6,1,10,0.8,13,0.5,14,0.1,16,0.05]}},{"id":"parkareas-nationalparks","type":"fill","metadata":{"mapbox:group":"db52e0328f00d4b4036eade5aa0515bd"},"source":"composite","source-layer":"park-areas-production","minzoom":5,"filter":["all",["match",["get","BOUNDARY"],["protected_area","national_park"],true,false],["match",["get","PROTECTION_TITLE"],["state wildlife area","National Preserve","National Monument","National Grassland","National Conservation Area","Wilderness Area","National Recreation Area","National Wildlife Refuge","State Forest","National Forest","National Volcanic Monument","Reserva de Biosfera","Parque Provincial","Reserva H\xeddrica y Paisaj\xedstica","Reserva H\xeddrica Natural","Reserva de la Bi\xf3sfera","state forest","state park"],false,true],["match",["get","LAYER"],["State Park","State Forest","Wilderness","City Park"],false,true],["match",["get","NAME"],["Tensas River National Wildlife Refuge","Delaware Water Gap National Recreation Area","Great Swamp National Wildlife Refuge","Bombay Hook National Wildlife Refuge","Wichita Mountains National Wildlife Refuge"],false,true]],"paint":{"fill-color":["case",["match",["get","PROTECTION_TITLE"],["National Park"],true,false],"hsl(47, 23%, 76%)",["match",["get","PROTECT_CLASS"],["2","1"],true,false],"hsl(47, 23%, 76%)",["match",["get","BOUNDARY"],["national_park"],true,false],"hsl(47, 23%, 76%)",["match",["get","PROTECTION_TITLE"],["Aire d\u2019adh\xe9sion de parc national","aire d\u2019adh\xe9sion","Aire d\u2019adh\xe9sion de Parc national","aire optimum d\'adh\xe9sion"],true,false],"hsl(47, 23%, 76%)","hsl(106, 42%, 74%)"],"fill-outline-color":"hsla(108, 73%, 19%, 0)","fill-opacity":["interpolate",["linear"],["zoom"],5,0,6,1,10,0.8,13,0.3,14,0.2,16,0.05]}},{"minzoom":5,"layout":{},"metadata":{"mapbox:group":"db52e0328f00d4b4036eade5aa0515bd"},"filter":["match",["get","BOUNDARY"],["aboriginal_lands"],false,true],"type":"line","source":"composite","id":"parkareas-boundaries","paint":{"line-color":["case",["match",["get","PROTECT_CLASS"],["2"],true,false],"hsla(27, 46%, 39%, 0.3)",["match",["get","BOUNDARY"],["national_park"],true,false],"hsla(27, 46%, 39%, 0.3)","hsla(141, 12%, 61%, 0.55)"],"line-width":["interpolate",["linear"],["zoom"],6,0,8,1,16,4],"line-blur":["interpolate",["linear"],["zoom"],8,1,15,2]},"source-layer":"park-areas-production"},{"id":"waterway-shadow","type":"line","metadata":{"mapbox:group":"Land & water, water"},"source":"composite","source-layer":"waterway","minzoom":8,"layout":{"line-cap":["step",["zoom"],"butt",11,"round"],"line-join":"round"},"paint":{"line-color":"hsl(217, 45%, 69%)","line-width":["interpolate",["exponential",1.3],["zoom"],9,["match",["get","class"],["canal","river"],0.1,0],20,["match",["get","class"],["canal","river"],8,3]],"line-translate":["interpolate",["exponential",1.2],["zoom"],7,["literal",[0,0]],16,["literal",[-1,-1]]],"line-translate-anchor":"viewport","line-opacity":["interpolate",["linear"],["zoom"],8,0,8.5,1]}},{"id":"waterway","type":"line","metadata":{"mapbox:group":"Land & water, water"},"source":"composite","source-layer":"waterway","minzoom":8,"layout":{"line-cap":["step",["zoom"],"butt",11,"round"],"line-join":"round"},"paint":{"line-color":"#83c9dc","line-width":["interpolate",["exponential",1.3],["zoom"],9,["match",["get","class"],["canal","river"],0.3,0.2],20,["match",["get","class"],["canal","river"],8,5]],"line-opacity":["interpolate",["linear"],["zoom"],8,0,8.5,1]}},{"id":"water","type":"fill","metadata":{"mapbox:group":"Land & water, water"},"source":"composite","source-layer":"water","paint":{"fill-color":"#83c9dc"}},{"id":"water-outline","type":"line","metadata":{"mapbox:group":"Land & water, water"},"source":"composite","source-layer":"water","paint":{"line-color":"hsl(215, 28%, 57%)","line-blur":5,"line-opacity":["interpolate",["linear"],["zoom"],10,0,14,1],"line-width":["interpolate",["linear"],["zoom"],0,2,12,2,16,3]}},{"minzoom":5,"layout":{},"metadata":{"mapbox:group":"Land & water, water"},"filter":["match",["get","class"],["wetland","wetland_noveg"],true,false],"type":"fill","source":"composite","id":"wetland","paint":{"fill-color":"rgb(186, 190, 191)","fill-opacity":["interpolate",["linear"],["zoom"],10,0.25,10.5,0.15]},"source-layer":"landuse_overlay"},{"minzoom":5,"layout":{},"metadata":{"mapbox:group":"Land & water, water"},"filter":["match",["get","class"],["wetland","wetland_noveg"],true,false],"type":"fill","source":"composite","id":"wetland-pattern","paint":{"fill-color":"rgb(186, 190, 191)","fill-opacity":["interpolate",["linear"],["zoom"],13,0,14,1],"fill-pattern":"wetland","fill-translate-anchor":"viewport","fill-translate":[0,0]},"source-layer":"landuse_overlay"},{"id":"hillshade","type":"fill","metadata":{"mapbox:group":"Terrain, land"},"source":"composite","source-layer":"hillshade","layout":{},"paint":{"fill-color":["match",["get","class"],"shadow","hsl(64, 31%, 11%)","hsl(35, 11%, 100%)"],"fill-opacity":["interpolate",["linear"],["zoom"],14,["match",["get","level"],[67,56],0.08,[89,78],0.07,0.15],16,0],"fill-antialias":false}},{"minzoom":11,"layout":{},"metadata":{"mapbox:group":"Terrain, land"},"filter":["!=",["get","index"],-1],"type":"line","source":"composite","id":"contour-line","paint":{"line-color":"hsla(29, 38%, 17%, 0.8)","line-width":["match",["get","index"],[5],1.7,1],"line-offset":["interpolate",["linear"],["zoom"],13,["match",["get","index"],[1,2],1,0.6],16,["match",["get","index"],[1,2],1.6,1.2]],"line-opacity":0.3},"source-layer":"contour"},{"id":"land-structure-polygon","type":"fill","metadata":{"mapbox:group":"Land & water, built"},"source":"composite","source-layer":"structure","minzoom":13,"filter":["all",["==",["geometry-type"],"Polygon"],["==",["get","class"],"land"]],"paint":{"fill-color":"hsl(35, 9%, 91%)"}},{"minzoom":13,"layout":{"line-cap":"round"},"metadata":{"mapbox:group":"Land & water, built"},"filter":["all",["==",["geometry-type"],"LineString"],["==",["get","class"],"land"]],"type":"line","source":"composite","id":"land-structure-line","paint":{"line-width":["interpolate",["exponential",1.99],["zoom"],14,0.75,20,40],"line-color":"hsl(35, 9%, 91%)"},"source-layer":"structure"},{"minzoom":11,"layout":{},"metadata":{"mapbox:group":"Buildings, built"},"filter":["all",["==",["geometry-type"],"Polygon"],["match",["get","type"],["runway","taxiway","helipad"],true,false]],"type":"fill","source":"composite","id":"aeroway-polygon","paint":{"fill-color":["interpolate",["linear"],["zoom"],15,"rgb(218, 215, 207)",16,"rgb(223, 220, 211)"],"fill-opacity":["interpolate",["linear"],["zoom"],11,0,11.5,1]},"source-layer":"aeroway"},{"minzoom":9,"layout":{},"metadata":{"mapbox:group":"Buildings, built"},"filter":["==",["geometry-type"],"LineString"],"type":"line","source":"composite","id":"aeroway-line","paint":{"line-color":["interpolate",["linear"],["zoom"],15,"rgb(218, 215, 207)",16,"hsl(45, 16%, 85%)"],"line-width":["interpolate",["exponential",1.5],["zoom"],9,["match",["get","type"],"runway",1,0.5],18,["match",["get","type"],"runway",80,20]]},"source-layer":"aeroway"},{"id":"building-outline","type":"line","metadata":{"mapbox:group":"Buildings, built"},"source":"composite","source-layer":"building","minzoom":15,"filter":["all",["!=",["get","type"],"building:part"],["==",["get","underground"],"false"]],"paint":{"line-color":"hsl(35, 5%, 81%)","line-width":["interpolate",["exponential",1.5],["zoom"],15,0.75,20,3],"line-opacity":["interpolate",["linear"],["zoom"],15,0,16,1]}},{"id":"building","type":"fill","metadata":{"mapbox:group":"Buildings, built"},"source":"composite","source-layer":"building","minzoom":15,"filter":["all",["!=",["get","type"],"building:part"],["==",["get","underground"],"false"]],"paint":{"fill-color":["interpolate",["linear"],["zoom"],15,"hsl(46, 24%, 91%)",16,"hsl(51, 12%, 91%)"],"fill-opacity":["interpolate",["linear"],["zoom"],15,0,16,0.4],"fill-outline-color":"hsl(35, 5%, 81%)"}},{"id":"building-number-label","type":"symbol","metadata":{"mapbox:group":"Buildings, building-labels"},"source":"composite","source-layer":"housenum_label","minzoom":17,"layout":{"text-field":["get","house_num"],"text-font":["Proxima Nova Regular","Arial Unicode MS Regular"],"text-padding":4,"text-max-width":7,"text-size":9.5,"visibility":"none","symbol-avoid-edges":true},"paint":{"text-color":"hsl(35, 0%, 70%)","text-halo-color":"hsl(35, 4%, 92%)","text-halo-width":0.5}},{"minzoom":16,"layout":{"text-field":["get","name"],"text-font":["Manrope Regular","Arial Unicode MS Regular"],"text-max-width":7,"text-size":11,"symbol-avoid-edges":true},"metadata":{"mapbox:group":"Buildings, building-labels"},"filter":["all",["==",["get","class"],"settlement_subdivision"],["==",["get","type"],"block"]],"type":"symbol","source":"composite","id":"block-number-label","paint":{"text-color":"hsl(35, 9%, 57%)","text-halo-color":"hsl(35, 7%, 100%)","text-halo-width":0.5,"text-halo-blur":0.5},"source-layer":"place_label"},{"minzoom":13,"layout":{},"metadata":{"mapbox:group":"Road network, tunnels-case"},"filter":["all",["==",["get","structure"],"tunnel"],["step",["zoom"],["match",["get","class"],["street","street_limited","primary_link","track"],true,false],14,["match",["get","class"],["street","street_limited","track","primary_link","secondary_link","tertiary_link","service"],true,false]],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"tunnel-street-minor-low","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,["match",["get","class"],["street","street_limited","primary_link"],2,"track",1,0.5],18,["match",["get","class"],["street","street_limited","primary_link"],18,12]],"line-color":"#fff","line-opacity":["step",["zoom"],1,14,0]},"source-layer":"road"},{"minzoom":13,"layout":{},"metadata":{"mapbox:group":"Road network, tunnels-case"},"filter":["all",["==",["get","structure"],"tunnel"],["step",["zoom"],["match",["get","class"],["street","street_limited","primary_link","track"],true,false],14,["match",["get","class"],["street","street_limited","track","primary_link","secondary_link","tertiary_link","service"],true,false]],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"tunnel-street-minor-case","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.75,20,2],"line-color":"hsl(49, 0%, 42%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,["match",["get","class"],["street","street_limited","primary_link"],2,"track",1,0.5],18,["match",["get","class"],["street","street_limited","primary_link"],18,12]],"line-opacity":["step",["zoom"],0,14,1],"line-dasharray":[3,3]},"source-layer":"road"},{"minzoom":13,"layout":{},"metadata":{"mapbox:group":"Road network, tunnels-case"},"filter":["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["primary","secondary","tertiary"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"tunnel-primary-secondary-tertiary-case","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],10,["match",["get","class"],"primary",1,0.75],18,2],"line-color":"hsl(49, 0%, 42%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,["match",["get","class"],"primary",0.75,0.1],18,["match",["get","class"],"primary",32,26]],"line-dasharray":[3,3]},"source-layer":"road"},{"minzoom":13,"layout":{},"metadata":{"mapbox:group":"Road network, tunnels-case"},"filter":["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["motorway_link","trunk_link"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"tunnel-major-link-case","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.75,20,2],"line-color":"#fff","line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,2,18,18],"line-dasharray":[3,3]},"source-layer":"road"},{"minzoom":13,"layout":{},"metadata":{"mapbox:group":"Road network, tunnels-case"},"filter":["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["motorway","trunk"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"tunnel-motorway-trunk-case","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],10,1,18,2],"line-color":"hsl(49, 3%, 67%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,0.75,18,32],"line-dasharray":[3,3]},"source-layer":"road"},{"minzoom":14,"layout":{},"metadata":{"mapbox:group":"Road network, tunnels-case"},"filter":["all",["==",["get","structure"],"tunnel"],["==",["get","class"],"construction"],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"tunnel-construction","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],14,2,18,18],"line-color":"hsl(49, 3%, 55%)","line-dasharray":["step",["zoom"],["literal",[0.4,0.8]],15,["literal",[0.3,0.6]],16,["literal",[0.2,0.3]],17,["literal",[0.2,0.25]],18,["literal",[0.15,0.15]]]},"source-layer":"road"},{"minzoom":14,"layout":{},"metadata":{"mapbox:group":"Walking, cycling, etc., tunnels"},"filter":["all",["==",["get","structure"],"tunnel"],["==",["get","class"],"path"],["match",["get","type"],["hiking","mountain_bike","trail"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"tunnel-path-trail","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],15,1,18,4],"line-color":"hsl(35, 23%, 95%)","line-dasharray":["step",["zoom"],["literal",[4,0.3]],15,["literal",[1.75,0.3]],16,["literal",[1,0.3]],17,["literal",[1,0.25]]]},"source-layer":"road"},{"minzoom":12,"layout":{"line-cap":"round"},"metadata":{"mapbox:group":"Walking, cycling, etc., tunnels"},"filter":["all",["==",["get","structure"],"tunnel"],["==",["get","class"],"path"],["match",["get","type"],["cycleway","piste"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"tunnel-path-cycleway-piste","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],15,1,18,4],"line-color":"hsl(35, 23%, 95%)","line-dasharray":[10,0]},"source-layer":"road"},{"minzoom":14,"layout":{},"metadata":{"mapbox:group":"Walking, cycling, etc., tunnels"},"filter":["all",["==",["get","structure"],"tunnel"],["==",["get","class"],"path"],["!=",["get","type"],"steps"],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"tunnel-path","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],15,1,18,4],"line-color":"hsl(35, 23%, 95%)","line-dasharray":["step",["zoom"],["literal",[5,0.5]],15,["literal",[4,0.5]],16,["literal",[4,0.45]]]},"source-layer":"road"},{"minzoom":14,"layout":{},"metadata":{"mapbox:group":"Walking, cycling, etc., tunnels"},"filter":["all",["==",["get","structure"],"tunnel"],["==",["get","class"],"steps"],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"tunnel-steps","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],15,1,16,1.6,18,6],"line-color":"hsl(35, 23%, 95%)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.75,1]],16,["literal",[1,0.75]],17,["literal",[0.3,0.3]]]},"source-layer":"road"},{"minzoom":13,"layout":{},"metadata":{"mapbox:group":"Walking, cycling, etc., tunnels"},"filter":["all",["==",["get","structure"],"tunnel"],["==",["get","class"],"pedestrian"],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"tunnel-pedestrian","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],14,0.5,18,12],"line-color":"#fff","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.5,0.4]],16,["literal",[1,0.2]]]},"source-layer":"road"},{"minzoom":13,"layout":{},"metadata":{"mapbox:group":"Road network, tunnels"},"filter":["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["motorway_link","trunk_link"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"tunnel-major-link","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,2,18,18],"line-color":["match",["get","class"],"motorway_link","rgb(255, 202, 114)","rgb(239, 234, 130)"]},"source-layer":"road"},{"minzoom":13,"layout":{},"metadata":{"mapbox:group":"Road network, tunnels"},"filter":["all",["==",["get","structure"],"tunnel"],["step",["zoom"],["match",["get","class"],["street","street_limited","primary_link","track"],true,false],14,["match",["get","class"],["street","street_limited","track","primary_link","secondary_link","tertiary_link","service"],true,false]],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"tunnel-street-minor","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,["match",["get","class"],["street","street_limited","primary_link"],2,"track",1,0.5],18,["match",["get","class"],["street","street_limited","primary_link"],18,12]],"line-color":["match",["get","class"],"street_limited","hsl(35, 13%, 94%)","#fff"],"line-opacity":["step",["zoom"],0,14,1]},"source-layer":"road"},{"minzoom":13,"layout":{},"metadata":{"mapbox:group":"Road network, tunnels"},"filter":["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["primary","secondary","tertiary"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"tunnel-primary-secondary-tertiary","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],5,["match",["get","class"],"primary",0.75,0.1],18,["match",["get","class"],"primary",32,26]],"line-color":"#fff"},"source-layer":"road"},{"minzoom":15,"layout":{"symbol-placement":"line","icon-image":["step",["zoom"],"oneway-small",17,["match",["get","class"],["primary","secondary","tertiary","street","street_limited"],"oneway-large","oneway-small"],18,"oneway-large"],"symbol-spacing":200,"icon-rotation-alignment":"map","symbol-avoid-edges":true},"metadata":{"mapbox:group":"Road network, tunnels"},"filter":["all",["==",["get","structure"],"tunnel"],["==",["get","oneway"],"true"],["step",["zoom"],["match",["get","class"],["primary","secondary","street","street_limited","tertiary"],true,false],16,["match",["get","class"],["primary","secondary","tertiary","street","street_limited","primary_link","secondary_link","tertiary_link","service","track"],true,false]]],"type":"symbol","source":"composite","id":"tunnel-oneway-arrow-blue","paint":{},"source-layer":"road"},{"minzoom":13,"layout":{},"metadata":{"mapbox:group":"Road network, tunnels"},"filter":["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["motorway","trunk"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"tunnel-motorway-trunk","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],5,0.75,18,32],"line-color":"#f7e79c"},"source-layer":"road"},{"minzoom":16,"layout":{"symbol-placement":"line","icon-image":["step",["zoom"],"oneway-white-small",17,"oneway-white-large"],"symbol-spacing":200,"symbol-avoid-edges":true},"metadata":{"mapbox:group":"Road network, tunnels"},"filter":["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["motorway","motorway_link","trunk","trunk_link"],true,false],["==",["get","oneway"],"true"]],"type":"symbol","source":"composite","id":"tunnel-oneway-arrow-white","paint":{},"source-layer":"road"},{"minzoom":14,"layout":{"line-cap":"round","line-join":"round","line-round-limit":1},"metadata":{"mapbox:group":"Terrain, surface"},"filter":["==",["get","class"],"cliff"],"type":"line","source":"composite","id":"cliff","paint":{"line-opacity":["interpolate",["linear"],["zoom"],14,0,15,0.2,16,0.6],"line-pattern":"cliffshade3","line-width":["interpolate",["linear"],["zoom"],14,5,16,7,22,40]},"source-layer":"structure"},{"minzoom":14,"layout":{"line-join":["step",["zoom"],"miter",14,"round"]},"metadata":{"mapbox:group":"Walking, cycling, etc., surface"},"filter":["all",["==",["get","class"],"pedestrian"],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"road-pedestrian-case","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],14,2,18,14.5],"line-color":"hsl(49, 8%, 13%)"},"source-layer":"road"},{"minzoom":12,"layout":{"line-join":["step",["zoom"],"miter",14,"round"]},"metadata":{"mapbox:group":"Walking, cycling, etc., surface"},"filter":["all",["==",["get","class"],"pedestrian"],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"road-pedestrian","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],14,0.5,18,12],"line-color":"hsl(0, 0%, 100%)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.5,0.4]],16,["literal",[1,0.2]]]},"source-layer":"road"},{"id":"road-pedestrian-polygon-fill","type":"fill","metadata":{"mapbox:group":"Walking, cycling, etc., surface"},"source":"composite","source-layer":"road","minzoom":12,"filter":["all",["==",["geometry-type"],"Polygon"],["match",["get","class"],["path","pedestrian"],true,false],["match",["get","structure"],["none","ford"],true,false]],"paint":{"fill-color":["interpolate",["linear"],["zoom"],16,"hsla(49, 0%, 61%, 0.5)",16.25,"hsla(49, 6%, 65%, 0.5)"],"fill-outline-color":"hsl(49, 3%, 55%)"}},{"id":"road-pedestrian-polygon-pattern","type":"fill","metadata":{"mapbox:group":"Walking, cycling, etc., surface"},"source":"composite","source-layer":"road","minzoom":11,"filter":["all",["==",["geometry-type"],"Polygon"],["match",["get","class"],["path","pedestrian"],true,false],["match",["get","structure"],["none","ford"],true,false]],"paint":{"fill-opacity":["interpolate",["linear"],["zoom"],11,0,16.25,1],"fill-color":"hsl(49, 31%, 93%)"}},{"minzoom":8,"layout":{"line-join":["step",["zoom"],"miter",14,"round"]},"metadata":{"mapbox:group":"66ce0da4f3457b511d48a3b977db2943"},"filter":["==",["get","type"],"ferry"],"type":"line","source":"composite","id":"ferry","paint":{"line-color":["interpolate",["linear"],["zoom"],15,"#80a4c0",17,"#4d74a8"],"line-width":["interpolate",["exponential",1.5],["zoom"],14,0.5,20,1],"line-dasharray":["step",["zoom"],["literal",[1,0]],13,["literal",[12,4]]]},"source-layer":"road"},{"id":"ferry-auto","type":"line","metadata":{"mapbox:group":"66ce0da4f3457b511d48a3b977db2943"},"source":"composite","source-layer":"road","filter":["==",["get","type"],"ferry_auto"],"layout":{"line-join":["step",["zoom"],"miter",14,"round"]},"paint":{"line-color":["interpolate",["linear"],["zoom"],15,"rgb(128, 164, 192)",17,"#4d74a8"],"line-width":["interpolate",["exponential",1.5],["zoom"],14,0.5,20,1]}},{"minzoom":13,"layout":{"line-join":"round"},"metadata":{"mapbox:group":"1f42f54cd117d46cea0d6cd6f35dd2fc"},"filter":["all",["match",["get","class"],["major_rail","minor_rail"],true,false],["match",["get","structure"],["none","ford"],true,false]],"type":"line","source":"composite","id":"road-rail","paint":{"line-color":["interpolate",["linear"],["zoom"],13,"hsl(50, 16%, 82%)",16,"hsl(49, 0%, 70%)"],"line-width":["interpolate",["exponential",1.5],["zoom"],14,0.5,20,1]},"source-layer":"road"},{"minzoom":13,"layout":{"line-join":"round"},"metadata":{"mapbox:group":"1f42f54cd117d46cea0d6cd6f35dd2fc"},"filter":["all",["match",["get","class"],["major_rail","minor_rail"],true,false],["match",["get","structure"],["none","ford"],true,false]],"type":"line","source":"composite","id":"road-rail-tracks","paint":{"line-color":["interpolate",["linear"],["zoom"],13,"hsl(50, 0%, 77%)",16,"hsl(0, 0%, 41%)"],"line-width":["interpolate",["exponential",1.5],["zoom"],14,4,20,8],"line-dasharray":[0.1,3],"line-opacity":["interpolate",["linear"],["zoom"],13.75,0,14,1]},"source-layer":"road"},{"minzoom":16,"layout":{"icon-image":"level-crossing","icon-allow-overlap":true,"symbol-avoid-edges":true},"metadata":{"mapbox:group":"Road network, surface-icons"},"filter":["==",["get","class"],"level_crossing"],"type":"symbol","source":"composite","id":"level-crossing","paint":{},"source-layer":"road"},{"minzoom":16,"layout":{"symbol-placement":"line","icon-image":["step",["zoom"],"oneway-white-small",17,"oneway-white-large"],"symbol-spacing":200,"symbol-avoid-edges":true},"metadata":{"mapbox:group":"Road network, surface-icons"},"filter":["all",["==",["get","oneway"],"true"],["match",["get","class"],["motorway","trunk","motorway_link","trunk_link"],true,false],["match",["get","structure"],["none","ford"],true,false]],"type":"symbol","source":"composite","id":"road-oneway-arrow-white","paint":{},"source-layer":"road"},{"minzoom":15,"layout":{"icon-image":"turning-circle","icon-size":["interpolate",["exponential",1.5],["zoom"],14,0.095,18,1],"icon-allow-overlap":true,"icon-ignore-placement":true,"icon-padding":0,"icon-rotation-alignment":"map","symbol-avoid-edges":true},"metadata":{"mapbox:group":"Road network, surface-icons"},"filter":["all",["==",["geometry-type"],"Point"],["match",["get","class"],["turning_circle","turning_loop"],true,false]],"type":"symbol","source":"composite","id":"turning-feature","paint":{},"source-layer":"road"},{"minzoom":16,"layout":{"line-cap":"round","line-join":"round"},"metadata":{"mapbox:group":"Walking, cycling, etc., barriers-bridges"},"filter":["match",["get","class"],["gate","fence","hedge"],true,false],"type":"line","source":"composite","id":"gate-fence-hedge","paint":{"line-color":["match",["get","class"],"hedge","rgb(179, 201, 157)","hsl(35, 16%, 77%)"],"line-width":["interpolate",["linear"],["zoom"],16,1,20,3],"line-opacity":["match",["get","class"],"gate",0.5,1],"line-dasharray":[1,2,5,2,1,2]},"source-layer":"structure"},{"minzoom":14,"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"metadata":{"mapbox:group":"Walking, cycling, etc., barriers-bridges"},"filter":["all",["==",["get","structure"],"bridge"],["==",["get","class"],"path"],["step",["zoom"],["!",["match",["get","type"],["steps","sidewalk","crossing"],true,false]],16,["!=",["get","type"],"steps"]],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"bridge-path-bg","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],15,2,18,7],"line-color":["match",["get","type"],"piste","hsl(230, 100%, 60%)",["mountain_bike","hiking","trail","cycleway","footway","path","bridleway"],"hsl(50, 100%, 40%)","hsl(49, 0%, 49%)"]},"source-layer":"road"},{"minzoom":14,"layout":{"line-join":"round"},"metadata":{"mapbox:group":"Walking, cycling, etc., barriers-bridges"},"filter":["all",["==",["get","type"],"steps"],["==",["get","structure"],"bridge"],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"bridge-steps-bg","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],15,2,17,4.6,18,7],"line-opacity":0.75,"line-color":"hsl(50, 100%, 40%)"},"source-layer":"road"},{"minzoom":14,"layout":{"line-join":"round"},"metadata":{"mapbox:group":"Walking, cycling, etc., barriers-bridges"},"filter":["all",["==",["get","structure"],"bridge"],["==",["get","class"],"pedestrian"],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"bridge-pedestrian-case","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],14,2,18,14.5],"line-color":"hsl(49, 3%, 55%)"},"source-layer":"road"},{"minzoom":14,"layout":{"line-join":["step",["zoom"],"miter",14,"round"]},"metadata":{"mapbox:group":"Walking, cycling, etc., barriers-bridges"},"filter":["all",["==",["get","structure"],"bridge"],["==",["get","class"],"path"],["match",["get","type"],["hiking","mountain_bike","trail"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"bridge-path-trail","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],15,1,18,4],"line-color":"#fff","line-dasharray":["step",["zoom"],["literal",[4,0.3]],15,["literal",[1.75,0.3]],16,["literal",[1,0.3]],17,["literal",[1,0.25]]]},"source-layer":"road"},{"minzoom":14,"layout":{"line-cap":"round","line-join":["step",["zoom"],"miter",14,"round"]},"metadata":{"mapbox:group":"Walking, cycling, etc., barriers-bridges"},"filter":["all",["==",["get","structure"],"bridge"],["==",["get","class"],"path"],["match",["get","type"],["cycleway","piste"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"bridge-path-cycleway-piste","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],15,1,18,4],"line-color":"#fff","line-dasharray":[10,0]},"source-layer":"road"},{"minzoom":14,"layout":{"line-join":"round"},"metadata":{"mapbox:group":"Walking, cycling, etc., barriers-bridges"},"filter":["all",["==",["get","structure"],"bridge"],["==",["get","class"],"path"],["==",["geometry-type"],"LineString"],["!=",["get","type"],"steps"]],"type":"line","source":"composite","id":"bridge-path","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],15,1,18,4],"line-color":"#fff","line-dasharray":["step",["zoom"],["literal",[5,0.5]],15,["literal",[4,0.5]],16,["literal",[4,0.45]]]},"source-layer":"road"},{"minzoom":14,"layout":{"line-join":"round"},"metadata":{"mapbox:group":"Walking, cycling, etc., barriers-bridges"},"filter":["all",["==",["get","type"],"steps"],["==",["get","structure"],"bridge"],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"bridge-steps","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],15,1,16,1.6,18,6],"line-color":"#fff","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.75,1]],16,["literal",[1,0.75]],17,["literal",[0.3,0.3]]]},"source-layer":"road"},{"minzoom":13,"layout":{"line-join":"round"},"metadata":{"mapbox:group":"Walking, cycling, etc., barriers-bridges"},"filter":["all",["==",["get","structure"],"bridge"],["==",["get","class"],"pedestrian"],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"bridge-pedestrian","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],14,0.5,18,12],"line-color":"#fff","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.5,0.4]],16,["literal",[1,0.2]]]},"source-layer":"road"},{"minzoom":13,"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"metadata":{"mapbox:group":"Road network, bridges"},"filter":["all",["==",["get","structure"],"bridge"],["step",["zoom"],["match",["get","class"],["street","street_limited","primary_link","track"],true,false],14,["match",["get","class"],["street","street_limited","track","primary_link","secondary_link","tertiary_link","service"],true,false]],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"bridge-street-minor-low","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,["match",["get","class"],["street","street_limited","primary_link"],2,"track",1,0.5],18,["match",["get","class"],["street","street_limited","primary_link"],18,12]],"line-color":"#fff","line-opacity":["step",["zoom"],1,14,0]},"source-layer":"road"},{"minzoom":13,"layout":{"line-join":"round"},"metadata":{"mapbox:group":"Road network, bridges"},"filter":["all",["==",["get","structure"],"bridge"],["step",["zoom"],["match",["get","class"],["street","street_limited","primary_link","track"],true,false],14,["match",["get","class"],["street","street_limited","track","primary_link","secondary_link","tertiary_link","service"],true,false]],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"bridge-street-minor-case","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.75,20,2],"line-color":["match",["get","class"],"track","hsl(50, 100%, 40%)","hsl(49, 3%, 55%)"],"line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,["match",["get","class"],["street","street_limited","primary_link"],2,"track",1,0.5],18,["match",["get","class"],["street","street_limited","primary_link"],18,12]],"line-opacity":["step",["zoom"],0,14,1]},"source-layer":"road"},{"minzoom":13,"layout":{"line-join":"round"},"metadata":{"mapbox:group":"Road network, bridges"},"filter":["all",["==",["get","structure"],"bridge"],["match",["get","class"],["primary","secondary","tertiary"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"bridge-primary-secondary-tertiary-case","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],10,["match",["get","class"],"primary",1,0.75],18,2],"line-color":"hsl(49, 3%, 55%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,["match",["get","class"],"primary",0.75,0.1],18,["match",["get","class"],"primary",32,26]],"line-opacity":["step",["zoom"],0,10,1]},"source-layer":"road"},{"minzoom":13,"layout":{"line-join":"round"},"metadata":{"mapbox:group":"Road network, bridges"},"filter":["all",["==",["get","structure"],"bridge"],["match",["get","class"],["motorway_link","trunk_link"],true,false],["<=",["get","layer"],1],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"bridge-major-link-case","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.75,20,2],"line-color":"hsl(49, 3%, 67%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,2,18,18]},"source-layer":"road"},{"minzoom":13,"layout":{"line-join":"round"},"metadata":{"mapbox:group":"Road network, bridges"},"filter":["all",["==",["get","structure"],"bridge"],["match",["get","class"],["motorway","trunk"],true,false],["<=",["get","layer"],1],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"bridge-motorway-trunk-case","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],10,1,18,2],"line-color":"hsl(48, 87%, 43%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,0.75,18,32]},"source-layer":"road"},{"minzoom":14,"layout":{},"metadata":{"mapbox:group":"Road network, bridges"},"filter":["all",["==",["get","structure"],"bridge"],["==",["get","class"],"construction"],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"bridge-construction","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],14,2,18,18],"line-color":"hsl(49, 3%, 55%)","line-dasharray":["step",["zoom"],["literal",[0.4,0.8]],15,["literal",[0.3,0.6]],16,["literal",[0.2,0.3]],17,["literal",[0.2,0.25]],18,["literal",[0.15,0.15]]]},"source-layer":"road"},{"minzoom":13,"layout":{"line-cap":"round","line-join":"round"},"metadata":{"mapbox:group":"Road network, bridges"},"filter":["all",["==",["get","structure"],"bridge"],["match",["get","class"],["motorway_link","trunk_link"],true,false],["<=",["get","layer"],1],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"bridge-major-link","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,2,18,18],"line-color":"#f3d04b"},"source-layer":"road"},{"minzoom":13,"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"metadata":{"mapbox:group":"Road network, bridges"},"filter":["all",["==",["get","structure"],"bridge"],["step",["zoom"],["match",["get","class"],["street","street_limited","primary_link","track"],true,false],14,["match",["get","class"],["street","street_limited","track","primary_link","secondary_link","tertiary_link","service"],true,false]],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"bridge-street-minor","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,["match",["get","class"],["street","street_limited","primary_link"],2,"track",1,0.5],18,["match",["get","class"],["street","street_limited","primary_link"],18,12]],"line-color":["match",["get","class"],"street_limited","hsl(35, 13%, 94%)","#fff"],"line-opacity":["step",["zoom"],0,14,1]},"source-layer":"road"},{"minzoom":13,"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"metadata":{"mapbox:group":"Road network, bridges"},"filter":["all",["==",["get","structure"],"bridge"],["match",["get","class"],["primary","secondary","tertiary"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"bridge-primary-secondary-tertiary","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],5,["match",["get","class"],"primary",0.75,0.1],18,["match",["get","class"],"primary",32,26]],"line-color":"#f7e79c"},"source-layer":"road"},{"minzoom":15,"layout":{"symbol-placement":"line","icon-image":["step",["zoom"],"oneway-small",17,["match",["get","class"],["primary","secondary","tertiary","street","street_limited"],"oneway-large","oneway-small"],18,"oneway-large"],"symbol-spacing":200,"icon-rotation-alignment":"map","symbol-avoid-edges":true},"metadata":{"mapbox:group":"Road network, bridges"},"filter":["all",["==",["get","structure"],"bridge"],["==",["get","oneway"],"true"],["step",["zoom"],["match",["get","class"],["primary","secondary","tertiary","street","street_limited"],true,false],16,["match",["get","class"],["primary","secondary","tertiary","street","street_limited","primary_link","secondary_link","tertiary_link","service","track"],true,false]]],"type":"symbol","source":"composite","id":"bridge-oneway-arrow-blue","paint":{},"source-layer":"road"},{"minzoom":13,"layout":{"line-cap":"round","line-join":"round"},"metadata":{"mapbox:group":"Road network, bridges"},"filter":["all",["==",["get","structure"],"bridge"],["match",["get","class"],["motorway","trunk"],true,false],["<=",["get","layer"],1],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"bridge-motorway-trunk","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],5,0.75,18,32],"line-color":"#f3d04b"},"source-layer":"road"},{"minzoom":13,"layout":{"line-join":"round"},"metadata":{"mapbox:group":"Road network, bridges"},"filter":["all",["==",["get","structure"],"bridge"],[">=",["get","layer"],2],["match",["get","class"],["motorway_link","trunk_link"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"bridge-major-link-2-case","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.75,20,2],"line-color":"hsl(49, 3%, 67%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,2,18,18]},"source-layer":"road"},{"minzoom":13,"layout":{"line-join":"round"},"metadata":{"mapbox:group":"Road network, bridges"},"filter":["all",["==",["get","structure"],"bridge"],[">=",["get","layer"],2],["match",["get","class"],["motorway","trunk"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"bridge-motorway-trunk-2-case","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],10,1,18,2],"line-color":"#d0a80d","line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,0.75,18,32]},"source-layer":"road"},{"minzoom":13,"layout":{"line-cap":"round","line-join":"round"},"metadata":{"mapbox:group":"Road network, bridges"},"filter":["all",["==",["get","structure"],"bridge"],[">=",["get","layer"],2],["match",["get","class"],["motorway_link","trunk_link"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"bridge-major-link-2","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,2,18,18],"line-color":"#f3d04b"},"source-layer":"road"},{"minzoom":13,"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"metadata":{"mapbox:group":"Road network, bridges"},"filter":["all",["==",["get","structure"],"bridge"],[">=",["get","layer"],2],["match",["get","class"],["motorway","trunk"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"bridge-motorway-trunk-2","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],5,0.75,18,32],"line-color":"#f3d04b"},"source-layer":"road"},{"minzoom":16,"layout":{"symbol-placement":"line","icon-image":["step",["zoom"],"oneway-white-small",17,"oneway-white-large"],"symbol-spacing":200,"symbol-avoid-edges":true},"metadata":{"mapbox:group":"Road network, bridges"},"filter":["all",["==",["get","structure"],"bridge"],["match",["get","class"],["motorway","trunk","motorway_link","trunk_link"],true,false],["==",["get","oneway"],"true"]],"type":"symbol","source":"composite","id":"bridge-oneway-arrow-white","paint":{},"source-layer":"road"},{"id":"admin-1-boundary-bg","type":"line","metadata":{"mapbox:group":"Administrative boundaries, admin"},"source":"composite","source-layer":"admin","filter":["all",["==",["get","admin_level"],1],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"layout":{"line-join":"bevel"},"paint":{"line-color":["interpolate",["linear"],["zoom"],8,"hsl(35, 9%, 91%)",16,"rgb(232, 233, 232)"],"line-width":["interpolate",["linear"],["zoom"],7,4.5,12,6.6],"line-opacity":["interpolate",["linear"],["zoom"],7,0,8,0.75],"line-dasharray":[1,0],"line-translate":[0,0],"line-blur":["interpolate",["linear"],["zoom"],3,0,8,3.5999999999999996]}},{"minzoom":1,"layout":{},"metadata":{"mapbox:group":"Administrative boundaries, admin"},"filter":["all",["==",["get","admin_level"],0],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"type":"line","source":"composite","id":"admin-0-boundary-bg","paint":{"line-width":["interpolate",["linear"],["zoom"],3,3.5,10,8],"line-color":["interpolate",["linear"],["zoom"],6,"hsl(35, 9%, 91%)",8,"rgb(232, 233, 232)"],"line-opacity":["interpolate",["linear"],["zoom"],3,0,4,0.5],"line-translate":[0,0],"line-blur":["interpolate",["linear"],["zoom"],3,0,10,2]},"source-layer":"admin"},{"id":"admin-1-boundary","type":"line","metadata":{"mapbox:group":"Administrative boundaries, admin"},"source":"composite","source-layer":"admin","filter":["all",["==",["get","admin_level"],1],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"layout":{"line-join":"round","line-cap":"round"},"paint":{"line-dasharray":[7,4,1,4],"line-width":["interpolate",["linear"],["zoom"],7,0.8999999999999999,12,1.7999999999999998],"line-opacity":["interpolate",["linear"],["zoom"],2,0,3,1],"line-color":["interpolate",["linear"],["zoom"],3,"hsl(0, 0%, 62%)",7,"hsl(0, 0%, 42%)"]}},{"minzoom":1,"layout":{"line-join":"round","line-cap":"round"},"metadata":{"mapbox:group":"Administrative boundaries, admin"},"filter":["all",["==",["get","admin_level"],0],["==",["get","disputed"],"false"],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"type":"line","source":"composite","id":"admin-0-boundary","paint":{"line-color":"rgb(130, 130, 130)","line-width":["interpolate",["linear"],["zoom"],3,0.5,10,2],"line-dasharray":[10,0]},"source-layer":"admin"},{"minzoom":1,"layout":{"line-join":"round"},"metadata":{"mapbox:group":"Administrative boundaries, admin"},"filter":["all",["==",["get","disputed"],"true"],["==",["get","admin_level"],0],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"type":"line","source":"composite","id":"admin-0-boundary-disputed","paint":{"line-color":"rgb(130, 130, 130)","line-width":["interpolate",["linear"],["zoom"],3,0.5,10,2],"line-dasharray":["step",["zoom"],["literal",[3.25,3.25]],6,["literal",[2.5,2.5]],7,["literal",[2,2.25]],8,["literal",[1.75,2]]]},"source-layer":"admin"},{"minzoom":13,"layout":{"line-join":"round"},"metadata":{"mapbox:group":"7815aaad892f01d265942351d30b6131"},"filter":["all",["==",["get","structure"],"bridge"],["match",["get","class"],["major_rail","minor_rail"],true,false]],"type":"line","source":"composite","id":"bridge-rail","paint":{"line-color":["interpolate",["linear"],["zoom"],13,"hsl(50, 16%, 82%)",16,"hsl(49, 0%, 70%)"],"line-width":["interpolate",["exponential",1.5],["zoom"],14,0.5,20,1]},"source-layer":"road"},{"minzoom":13,"layout":{"line-join":"round"},"metadata":{"mapbox:group":"7815aaad892f01d265942351d30b6131"},"filter":["all",["==",["get","structure"],"bridge"],["match",["get","class"],["major_rail","minor_rail"],true,false]],"type":"line","source":"composite","id":"bridge-rail-tracks","paint":{"line-color":["interpolate",["linear"],["zoom"],13,"hsl(50, 16%, 82%)",16,"hsl(49, 0%, 70%)"],"line-width":["interpolate",["exponential",1.5],["zoom"],14,4,20,8],"line-dasharray":[0.1,15],"line-opacity":["interpolate",["linear"],["zoom"],13.75,0,14,1]},"source-layer":"road"},{"minzoom":13,"layout":{"text-size":["interpolate",["linear"],["zoom"],13,10,18,12],"symbol-avoid-edges":true,"text-max-angle":30,"symbol-spacing":["interpolate",["linear",1],["zoom"],15,250,17,400],"text-font":["Manrope Regular","Arial Unicode MS Regular"],"symbol-placement":"line","text-anchor":"bottom","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name_en"],["get","name"]],"text-letter-spacing":0.05},"metadata":{"mapbox:group":"f71e39c04acff6c070b7514ff3ada030"},"filter":["all",["match",["get","class"],["canal","river","stream"],true,false],["==",["geometry-type"],"LineString"]],"type":"symbol","source":"composite","id":"waterway-label","paint":{"text-color":"#235760","text-halo-color":"hsla(197, 0%, 100%, 0)","text-halo-width":0.5},"source-layer":"natural_label"},{"minzoom":4,"layout":{"text-size":11,"text-max-angle":30,"text-field":["coalesce",["get","name_en"],["get","name_en"],["get","name"]],"text-font":["Manrope Regular","Arial Unicode MS Regular"],"symbol-placement":"line-center","text-pitch-alignment":"viewport","symbol-avoid-edges":true},"metadata":{"mapbox:group":"f71e39c04acff6c070b7514ff3ada030"},"filter":["all",["match",["get","class"],["glacier","landform"],true,false],["==",["geometry-type"],"LineString"],["<=",["get","filterrank"],4]],"type":"symbol","source":"composite","id":"natural-line-label","paint":{"text-halo-width":0.5,"text-halo-color":"hsl(35, 16%, 100%)","text-halo-blur":0.5,"text-color":"hsla(0, 28%, 0%, 0.84)"},"source-layer":"natural_label"},{"id":"water-line-label","type":"symbol","metadata":{"mapbox:group":"f71e39c04acff6c070b7514ff3ada030"},"source":"composite","source-layer":"natural_label","filter":["all",["match",["get","class"],["bay","ocean","reservoir","sea","water"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"text-size":["interpolate",["linear"],["zoom"],7,["step",["get","sizerank"],24,6,18,12,12],10,["step",["get","sizerank"],18,9,12],18,["step",["get","sizerank"],18,9,16]],"text-max-angle":30,"text-letter-spacing":["match",["get","class"],"ocean",0.25,["sea","bay"],0.15,0.1],"text-font":["Manrope Regular","Arial Unicode MS Regular"],"symbol-placement":"line-center","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name_en"],["get","name"]],"symbol-avoid-edges":true},"paint":{"text-color":"#235760","text-halo-color":"#93bfd1"}},{"id":"water-point-label","type":"symbol","metadata":{"mapbox:group":"f71e39c04acff6c070b7514ff3ada030"},"source":"composite","source-layer":"natural_label","filter":["all",["match",["get","class"],["bay","ocean","reservoir","sea","water"],true,false],["==",["geometry-type"],"Point"]],"layout":{"text-line-height":1.3,"text-size":["interpolate",["linear"],["zoom"],7,["step",["get","sizerank"],24,6,18,12,12],10,["step",["get","sizerank"],18,9,12]],"text-font":["Manrope Regular","Arial Unicode MS Regular"],"text-field":["coalesce",["get","name_en"],["get","name_en"],["get","name"]],"text-letter-spacing":["match",["get","class"],"ocean",0.25,["bay","sea"],0.15,0.02],"text-max-width":["match",["get","class"],"ocean",4,"sea",5,["bay","water"],7,10],"symbol-avoid-edges":true},"paint":{"text-color":"#235760","text-halo-color":"#f0f8fa"}},{"minzoom":11,"layout":{"text-field":["concat",["to-string",["round",["get","ele"]]]," m"],"symbol-placement":"line","text-pitch-alignment":"viewport","text-max-angle":25,"text-padding":5,"text-font":["Manrope Regular","Arial Unicode MS Regular"],"text-size":["interpolate",["linear"],["zoom"],15,9.5,20,12],"symbol-avoid-edges":true},"metadata":{"mapbox:group":"Terrain, terrain-labels"},"filter":["any",["==",["get","index"],10],["==",["get","index"],5]],"type":"symbol","source":"composite","id":"contour-label","paint":{"text-color":"hsl(89, 24%, 17%)","text-halo-width":2,"text-halo-color":"hsla(35, 16%, 100%, 0.5)"},"source-layer":"contour"},{"minzoom":15,"layout":{"icon-image":"turning-circle-outline","icon-size":["interpolate",["exponential",1.5],["zoom"],14,0.122,18,0.969,20,1],"icon-allow-overlap":true,"icon-ignore-placement":true,"icon-padding":0,"icon-rotation-alignment":"map","symbol-avoid-edges":true,"visibility":"none"},"metadata":{"mapbox:group":"Road network, surface"},"filter":["all",["==",["geometry-type"],"Point"],["match",["get","class"],["turning_circle","turning_loop"],true,false]],"type":"symbol","source":"composite","id":"turning-feature-outline","paint":{"icon-opacity":0.2},"source-layer":"road"},{"minzoom":11,"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"metadata":{"mapbox:group":"Road network, surface"},"filter":["all",["step",["zoom"],["==",["get","class"],"track"],14,["match",["get","class"],["track","secondary_link","tertiary_link","service"],true,false]],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"road-minor-low","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],14,["match",["get","class"],"track",1,0.5],18,12],"line-color":["match",["get","class"],["track"],"hsla(0, 0%, 100%, 0)","hsl(0, 0%, 100%)"],"line-opacity":["step",["zoom"],1,14,0]},"source-layer":"road"},{"minzoom":11,"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"metadata":{"mapbox:group":"Road network, surface"},"filter":["all",["match",["get","class"],["street","street_limited","primary_link"],true,false],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"road-street-low","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.8,14,2,18,18],"line-color":"#fff","line-opacity":["step",["zoom"],1,14,0]},"source-layer":"road"},{"minzoom":8,"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"metadata":{"mapbox:group":"Road network, surface"},"filter":["all",["step",["zoom"],["==",["get","class"],"track"],14,["match",["get","class"],["track","secondary_link","tertiary_link","service"],true,false]],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"road-minor-case","paint":{"line-width":["interpolate",["exponential",1.96],["zoom"],11,1,12,1,14,1.5,18,1.5],"line-gap-width":["interpolate",["exponential",1.5],["zoom"],14,2,18,8],"line-opacity":["step",["zoom"],0,13,0,16,1],"line-color":["interpolate",["linear"],["zoom"],16,"hsl(0, 0%, 77%)",22,"hsl(0, 0%, 67%)"]},"source-layer":"road"},{"minzoom":6,"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"metadata":{"mapbox:group":"Road network, surface"},"filter":["all",["step",["zoom"],["==",["get","class"],"track"],11,["match",["get","class"],["track","secondary_link","tertiary_link","service"],true,false]],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"road-minor","paint":{"line-width":["interpolate",["linear"],["zoom"],0,0,11,1,14,2,18,8],"line-color":"hsl(0, 3%, 100%)","line-opacity":["step",["zoom"],0,13,0,14,1]},"source-layer":"road"},{"minzoom":11,"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"metadata":{"mapbox:group":"Road network, surface"},"filter":["all",["match",["get","class"],["street","street_limited","primary_link"],true,false],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"road-street-case","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],11,1,16,2],"line-color":"hsl(0, 0%, 41%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,2,18,18],"line-opacity":["step",["zoom"],0,13,0.2]},"source-layer":"road"},{"minzoom":8,"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"metadata":{"mapbox:group":"Road network, surface"},"filter":["all",["match",["get","class"],["secondary","tertiary"],true,false],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"road-secondary-tertiary-case","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],10,0.75,18,2],"line-color":"hsl(49, 91%, 43%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,0.1,18,26],"line-opacity":["step",["zoom"],0,10,1]},"source-layer":"road"},{"minzoom":7,"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"metadata":{"mapbox:group":"Road network, surface"},"filter":["all",["==",["get","class"],"primary"],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"road-primary-case","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],10,1,18,2],"line-color":"#edcb2c","line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,0.75,18,32],"line-opacity":["step",["zoom"],0,10,1]},"source-layer":"road"},{"minzoom":10,"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"metadata":{"mapbox:group":"Road network, surface"},"filter":["all",["match",["get","class"],["motorway_link","trunk_link"],true,false],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"road-major-link-case","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.75,20,2],"line-color":"hsl(49, 3%, 67%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,2,18,18],"line-opacity":["step",["zoom"],0,11,1]},"source-layer":"road"},{"minzoom":5,"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"metadata":{"mapbox:group":"Road network, surface"},"filter":["all",["match",["get","class"],["motorway","trunk"],true,false],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"road-motorway-trunk-case","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],10,1,18,2],"line-color":"#cea80e","line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,0.75,18,32],"line-opacity":["step",["zoom"],["match",["get","class"],"motorway",1,0],6,1]},"source-layer":"road"},{"minzoom":14,"layout":{},"metadata":{"mapbox:group":"Road network, surface"},"filter":["all",["==",["get","class"],"construction"],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"road-construction","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],14,2,18,18],"line-color":"#fff","line-dasharray":["step",["zoom"],["literal",[0.4,0.8]],15,["literal",[0.3,0.6]],16,["literal",[0.2,0.3]],17,["literal",[0.2,0.25]],18,["literal",[0.15,0.15]]]},"source-layer":"road"},{"minzoom":10,"layout":{"line-cap":["step",["zoom"],"butt",13,"round"],"line-join":["step",["zoom"],"miter",13,"round"]},"metadata":{"mapbox:group":"Road network, surface"},"filter":["all",["match",["get","class"],["motorway_link","trunk_link"],true,false],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"road-major-link","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,14,2,18,18],"line-color":"#f3d04b"},"source-layer":"road"},{"minzoom":12,"layout":{},"metadata":{"mapbox:group":"Road network, surface"},"filter":["all",["==",["geometry-type"],"Polygon"],["match",["get","class"],["primary","secondary","tertiary","primary_link","secondary_link","tertiary_link","trunk","trunk_link","street","street_limited","track","service"],true,false],["match",["get","structure"],["none","ford"],true,false]],"type":"fill","source":"composite","id":"road-polygon","paint":{"fill-color":"hsl(0, 0%, 100%)","fill-outline-color":"hsla(0, 0%, 0%, 0)"},"source-layer":"road"},{"minzoom":11,"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"metadata":{"mapbox:group":"Road network, surface"},"filter":["all",["match",["get","class"],["street","street_limited","primary_link"],true,false],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"road-street","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],12,0.5,13,2,18,18],"line-color":["match",["get","class"],"street_limited","hsl(35, 0%, 100%)","#fff"],"line-opacity":["step",["zoom"],0,11,1]},"source-layer":"road"},{"minzoom":8,"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"metadata":{"mapbox:group":"Road network, surface"},"filter":["all",["match",["get","class"],["secondary","tertiary"],true,false],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"road-secondary-tertiary","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],5,0.1,18,26],"line-color":"hsl(49, 83%, 84%)"},"source-layer":"road"},{"minzoom":7,"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},"metadata":{"mapbox:group":"Road network, surface"},"filter":["all",["==",["get","class"],"primary"],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"type":"line","source":"composite","id":"road-primary","paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],5,0.75,18,32],"line-color":"#f7e79c"},"source-layer":"road"},{"minzoom":15,"layout":{"symbol-placement":"line","icon-image":["step",["zoom"],"oneway-small",17,["match",["get","class"],["primary","secondary","tertiary","street","street_limited"],"oneway-large","oneway-small"],18,"oneway-large"],"symbol-spacing":200,"icon-rotation-alignment":"map","symbol-avoid-edges":true},"metadata":{"mapbox:group":"Road network, surface"},"filter":["all",["==",["get","oneway"],"true"],["step",["zoom"],["match",["get","class"],["primary","secondary","tertiary","street","street_limited"],true,false],16,["match",["get","class"],["primary","secondary","tertiary","street","street_limited","primary_link","secondary_link","tertiary_link","service","track"],true,false]],["match",["get","structure"],["none","ford"],true,false]],"type":"symbol","source":"composite","id":"road-oneway-arrow-blue","paint":{},"source-layer":"road"},{"id":"road-motorway-trunk","type":"line","metadata":{"mapbox:group":"Road network, surface"},"source":"composite","source-layer":"road","filter":["all",["match",["get","class"],["motorway","trunk"],true,false],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-cap":["step",["zoom"],"butt",13,"round"],"line-join":["step",["zoom"],"miter",13,"round"]},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],5,0.75,18,32],"line-color":"hsl(48, 87%, 62%)"}},{"minzoom":22,"layout":{"line-join":"round"},"metadata":{"mapbox:group":"d0c134b8e7b7140409291bfca8c43146"},"filter":["all",["match",["get","i"],["yes"],false,true],["match",["get","sac"],["difficult_alpine_hiking","demanding_alpine_hiking"],false,true],["match",["get","h"],["steps"],false,true]],"type":"line","source":"composite","id":"osm-alltrails-lines-private","paint":{"line-dasharray":["step",["zoom"],["literal",[3,1.5]],12,["literal",[3,2]],16,["literal",[3,1.5]]],"line-color":"hsla(0, 0%, 0%, 0)","line-width":0,"line-opacity":0},"source-layer":"osm_lines"},{"minzoom":11,"layout":{"line-join":"round"},"metadata":{"mapbox:group":"d0c134b8e7b7140409291bfca8c43146"},"filter":["all",["match",["get","i"],["yes"],false,true],["match",["get","sac"],["difficult_alpine_hiking","demanding_alpine_hiking"],false,true],["match",["get","h"],["steps"],false,true]],"type":"line","source":"composite","id":"osm-alltrails-lines-public","paint":{"line-dasharray":["step",["zoom"],["literal",[3,1.5]],12,["literal",[3,2]],16,["literal",[3,1.5]]],"line-width":["interpolate",["linear"],["zoom"],8,["case",["match",["get","sac"],["alpine_hiking"],true,false],0.3,0.5],14,["case",["match",["get","sac"],["alpine_hiking"],true,false],0.5,1.3],16,["case",["match",["get","sac"],["alpine_hiking"],true,false],0.75,1.7]],"line-color":["case",["match",["get","b"],["designated","yes"],true,false],"hsl(198, 70%, 33%)",["match",["get","a"],["private","no"],true,false],"#e87d7d","hsl(0, 8%, 20%)"],"line-opacity":["interpolate",["linear"],["zoom"],11,0,12,1]},"source-layer":"osm_lines"},{"minzoom":11,"layout":{"line-join":"round"},"metadata":{"mapbox:group":"d0c134b8e7b7140409291bfca8c43146"},"filter":["all",["match",["get","sac"],["difficult_alpine_hiking","demanding_alpine_hiking"],false,true],["match",["get","h"],["steps"],true,false]],"type":"line","source":"composite","id":"osm-steps","paint":{"line-color":["case",["match",["get","a"],["private","no"],true,false],"#e87d7d",["match",["get","b"],["designated"],true,false],"hsl(198, 70%, 33%)","hsl(0, 0%, 38%)"],"line-opacity":["interpolate",["linear"],["zoom"],11,0,12,1],"line-width":["interpolate",["linear"],["zoom"],11,1,16,3,18,8],"line-dasharray":[0.2,0.5]},"source-layer":"osm_lines"},{"minzoom":11,"layout":{"line-join":"round"},"metadata":{"mapbox:group":"d0c134b8e7b7140409291bfca8c43146"},"filter":["all",["match",["get","i"],["yes"],true,false],["match",["get","sac"],["demanding_alpine_hiking","difficult_alpine_hiking"],false,true]],"type":"line","source":"composite","id":"osm-alltrails-lines-informal","paint":{"line-dasharray":["step",["zoom"],["literal",[3,6]],12,["literal",[3,6]]],"line-width":["case",["match",["get","i"],["yes"],true,false],0.6,["match",["get","a"],["discouraged"],true,false],0.6,1],"line-color":["match",["get","a"],["private","no"],"#e87d7d",["discouraged"],"hsla(0, 0%, 18%, 0.5)","hsl(0, 0%, 18%)"],"line-opacity":["step",["zoom"],0,14,1]},"source-layer":"osm_lines"},{"id":"osm-at-points04","type":"symbol","metadata":{"mapbox:group":"d0c134b8e7b7140409291bfca8c43146"},"source":"composite","source-layer":"osm_points","minzoom":14,"layout":{"icon-image":"alltrails-trail-point","icon-size":["interpolate",["linear"],["zoom"],14,0.4,17,0.4],"symbol-avoid-edges":true,"text-font":["Manrope Medium","Arial Unicode MS Regular"]},"paint":{"icon-opacity":["step",["zoom"],0,15,1]}},{"minzoom":12,"layout":{"line-join":"round"},"metadata":{"mapbox:group":"f6c00c4f751f88b5b53f6a2e97eebaac"},"filter":["==",["get","class"],"aerialway"],"type":"line","source":"composite","id":"aerialway-bg","paint":{"line-color":"hsl(0, 0%, 100%)","line-width":["interpolate",["exponential",1.5],["zoom"],14,2.5,20,3],"line-blur":0.5},"source-layer":"road"},{"minzoom":12,"layout":{"line-join":"round","line-cap":"round"},"metadata":{"mapbox:group":"f6c00c4f751f88b5b53f6a2e97eebaac"},"filter":["==",["get","class"],"aerialway"],"type":"line","source":"composite","id":"aerialway","paint":{"line-color":"hsl(0, 48%, 61%)","line-width":["interpolate",["exponential",1.5],["zoom"],14,1.5,20,2]},"source-layer":"road"},{"id":"airport-label","type":"symbol","metadata":{"mapbox:group":"Road network, road-labels"},"source":"composite","source-layer":"airport_label","minzoom":8,"layout":{"text-line-height":1.1,"text-size":["step",["get","sizerank"],18,9,12],"icon-image":["step",["get","sizerank"],["concat",["get","maki"],"-15"],9,["concat",["get","maki"],"-11"]],"symbol-avoid-edges":true,"text-font":["Manrope Regular","Arial Unicode MS Regular"],"text-offset":[0,0.75],"text-rotation-alignment":"viewport","text-anchor":"top","text-field":["step",["get","sizerank"],["coalesce",["get","name_en"],["get","name_en"],["get","name"]],15,["get","ref"]],"text-letter-spacing":0.01,"text-max-width":9},"paint":{"text-color":"rgb(76, 70, 52)","text-halo-color":"rgb(255, 255, 255)","text-halo-width":1}},{"minzoom":15,"layout":{"text-size":["interpolate",["linear"],["zoom"],10,9,18,13],"text-max-angle":30,"symbol-spacing":500,"text-font":["Manrope Medium","Arial Unicode MS Regular"],"symbol-placement":"line","text-padding":1,"text-rotation-alignment":"map","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name_en"],["get","name"]],"text-letter-spacing":0.01},"metadata":{"mapbox:group":"Road network, road-labels"},"filter":["match",["get","class"],"aerialway",true,"ferry",true,false],"type":"symbol","source":"composite","id":"ferry-aerialway-label","paint":{"text-color":"#2f4665","text-halo-color":["match",["get","class"],"ferry","hsl(197, 8%, 100%)","hsl(35, 16%, 100%)"],"text-halo-width":2,"text-halo-blur":1},"source-layer":"road"},{"minzoom":10,"layout":{"text-size":["interpolate",["linear"],["zoom"],10,["match",["get","class"],["motorway","trunk","primary","secondary","tertiary"],10,["motorway_link","trunk_link","primary_link","secondary_link","tertiary_link","street","street_limited","track"],9,6.5],18,["match",["get","class"],["motorway","trunk","primary","secondary","tertiary"],16,["motorway_link","trunk_link","primary_link","secondary_link","tertiary_link","street","street_limited"],14,13]],"symbol-avoid-edges":true,"text-max-angle":30,"text-font":["Manrope Regular","Arial Unicode MS Regular"],"symbol-placement":"line","text-padding":1,"text-rotation-alignment":"map","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name_en"],["get","name"]],"text-letter-spacing":0.01},"metadata":{"mapbox:group":"Road network, road-labels"},"filter":["step",["zoom"],["match",["get","class"],["motorway","trunk","primary","secondary","tertiary"],true,false],12,["match",["get","class"],["motorway","trunk","primary","secondary","tertiary","street","street_limited","track"],true,false],15,["match",["get","class"],["path","pedestrian","golf","ferry","aerialway"],false,true]],"type":"symbol","source":"composite","id":"road-label-outdoors","paint":{"text-color":"#2b381f","text-halo-color":"#fff","text-halo-width":1,"text-halo-blur":1,"text-opacity":["step",["zoom"],0,12,["match",["get","class"],["track"],0,1],22,["match",["get","class"],["track"],0,1]]},"source-layer":"road"},{"minzoom":6,"layout":{"text-size":9,"icon-image":["concat",["get","shield"],"-",["to-string",["get","reflen"]]],"icon-rotation-alignment":"viewport","symbol-avoid-edges":true,"text-max-angle":38,"symbol-spacing":["interpolate",["linear"],["zoom"],11,150,14,200],"text-font":["Manrope Bold","Arial Unicode MS Bold"],"symbol-placement":["step",["zoom"],"point",11,"line"],"text-rotation-alignment":"viewport","text-field":["get","ref"],"text-letter-spacing":0.05},"metadata":{"mapbox:group":"Road network, road-labels"},"filter":["all",["has","reflen"],["<=",["get","reflen"],6],["step",["zoom"],["==",["geometry-type"],"Point"],11,[">",["get","len"],5000],12,[">",["get","len"],2500],13,[">",["get","len"],1000],14,true]],"type":"symbol","source":"composite","id":"road-number-shield","paint":{"text-color":["match",["get","shield_text_color"],"white","hsl(0, 0%, 100%)","yellow","hsl(50, 63%, 70%)","orange","hsl(25, 63%, 75%)","blue","hsl(230, 36%, 44%)","hsl(230, 11%, 13%)"]},"source-layer":"road"},{"minzoom":13,"layout":{"text-size":["interpolate",["linear"],["zoom"],13,9,22,10],"icon-offset":[10,0],"symbol-avoid-edges":true,"symbol-spacing":1000,"text-font":["Manrope ExtraBold","Arial Unicode MS Bold"],"symbol-placement":"line","text-offset":[0,0],"text-anchor":"bottom","text-field":["to-string",["/",["round",["*",["get","l"],16.1]],10]],"text-letter-spacing":0.1},"metadata":{"mapbox:group":"cdd89e2f84b68b2432ba86fe60e4b621"},"filter":["all",["match",["get","sac"],["demanding_alpine_hiking","difficult_alpine_hiking"],false,true],["match",["get","i"],["yes"],false,true]],"type":"symbol","source":"composite","id":"osm-alltrails-lines-public-distance-labels","paint":{"text-color":"#b24b34","text-halo-width":2,"text-halo-blur":1,"text-halo-color":"hsla(0, 0%, 100%, 0.84)","text-opacity":["step",["zoom"],0,13,1]},"source-layer":"osm_lines"},{"minzoom":16,"layout":{"text-size":["interpolate",["linear"],["zoom"],13,9,22,10],"symbol-avoid-edges":true,"symbol-spacing":600,"text-font":["Manrope ExtraBold","Arial Unicode MS Bold"],"symbol-placement":"line","text-offset":[0,0],"text-anchor":"right","text-field":["to-string",["/",["round",["*",["get","l"],16.1]],10]],"text-letter-spacing":0.1},"metadata":{"mapbox:group":"cdd89e2f84b68b2432ba86fe60e4b621"},"filter":["all",["match",["get","sac"],["demanding_alpine_hiking","difficult_alpine_hiking"],false,true],["match",["get","i"],["yes"],true,false]],"type":"symbol","source":"composite","id":"osm-alltrails-lines-informal -distance-labels","paint":{"text-color":"#b24b34","text-halo-width":2,"text-halo-blur":1,"text-halo-color":"hsla(0, 0%, 100%, 0.84)","text-opacity":["step",["zoom"],0,15,1]},"source-layer":"osm_lines"},{"minzoom":13,"layout":{"text-font":["Manrope Medium","Arial Unicode MS Regular"],"text-size":["interpolate",["linear"],["zoom"],11,8,13,10,16,12,18,14],"symbol-placement":"line-center","text-letter-spacing":0.1,"symbol-avoid-edges":true,"text-field":["concat",["coalesce",["get","n:en"],["get","n"]]," (Private)"]},"metadata":{"mapbox:group":"cdd89e2f84b68b2432ba86fe60e4b621"},"filter":["match",["get","a"],["private"],true,false],"type":"symbol","source":"composite","id":"osm-alltrails-lines-private-name-labels","paint":{"text-color":"hsl(0, 100%, 39%)","text-halo-color":["interpolate",["linear"],["zoom"],13,"hsl(56, 5%, 99%)",15,"hsl(56, 2%, 100%)"],"text-halo-width":3},"source-layer":"osm_lines"},{"minzoom":13,"layout":{"text-font":["Manrope Medium","Arial Unicode MS Regular"],"text-size":["interpolate",["linear"],["zoom"],11,8,13,10,16,12,18,14],"symbol-placement":"line-center","text-letter-spacing":0.1,"symbol-avoid-edges":true,"text-field":["concat",["coalesce",["get","n:en"],["get","n"]]," (NO ACCESS)"]},"metadata":{"mapbox:group":"cdd89e2f84b68b2432ba86fe60e4b621"},"filter":["match",["get","a"],["no"],true,false],"type":"symbol","source":"composite","id":"osm-alltrails-lines-noaccess-name","paint":{"text-color":"hsl(0, 100%, 39%)","text-halo-color":["interpolate",["linear"],["zoom"],13,"hsl(56, 6%, 100%)",15,"hsl(56, 1%, 100%)"],"text-halo-width":3},"source-layer":"osm_lines"},{"minzoom":11,"layout":{"text-size":["interpolate",["linear"],["zoom"],11,9,13,10,18,14],"text-allow-overlap":true,"icon-offset":[0,0],"icon-image":["match",["get","b"],["yes","designated"],"bicycle-thin",""],"icon-text-fit-padding":[0,100,0,0],"symbol-avoid-edges":true,"text-max-angle":90,"symbol-spacing":1000,"text-font":["Manrope Medium","Arial Unicode MS Regular"],"symbol-placement":"line","text-justify":"left","text-offset":[0,0],"icon-size":["interpolate",["linear"],["zoom"],14,0.7,18,1],"text-anchor":"left","text-letter-spacing":0.1,"icon-padding":0},"metadata":{"mapbox:group":"cdd89e2f84b68b2432ba86fe60e4b621"},"filter":["all",["match",["get","a"],["private","no"],false,true],["match",["get","sac"],["demanding_alpine_hiking","difficult_alpine_hiking"],false,true]],"type":"symbol","source":"composite","id":"osm-alltrails-lines-bicycles","paint":{"text-halo-color":["interpolate",["linear"],["zoom"],13,"#ffffff",15,"hsl(56, 0%, 100%)"],"text-halo-width":2,"icon-opacity":["step",["zoom"],0,16,1],"text-color":["match",["get","b"],["yes","designated"],"hsl(198, 79%, 21%)","hsl(109, 32%, 13%)"],"text-translate":[0,0],"icon-translate":[0,0]},"source-layer":"osm_lines"},{"minzoom":11,"layout":{"text-size":["interpolate",["linear"],["zoom"],11,9,13,10,18,14],"text-allow-overlap":true,"icon-offset":[20,0],"icon-text-fit-padding":[0,100,0,0],"symbol-avoid-edges":true,"text-max-angle":90,"text-font":["Manrope SemiBold","Arial Unicode MS Regular"],"symbol-placement":"line-center","text-justify":"left","text-offset":[0,0],"icon-size":["interpolate",["linear"],["zoom"],14,0.7,18,1],"text-anchor":"left","text-field":["coalesce",["get","n:en"],["get","n"]],"text-letter-spacing":0.1,"icon-padding":0},"metadata":{"mapbox:group":"cdd89e2f84b68b2432ba86fe60e4b621"},"filter":["all",["match",["get","a"],["private","no"],false,true],["match",["get","sac"],["demanding_alpine_hiking","difficult_alpine_hiking"],false,true]],"type":"symbol","source":"composite","id":"osm-alltrails-lines-public-name-labels","paint":{"text-halo-color":["interpolate",["linear"],["zoom"],13,"#ffffff",15,"hsl(56, 0%, 100%)"],"text-halo-width":2,"icon-opacity":["step",["zoom"],0,14,1],"text-color":["match",["get","b"],["yes","designated"],"hsl(198, 79%, 21%)","#000000"],"text-translate":[0,0],"icon-translate":[0,0]},"source-layer":"osm_lines"},{"minzoom":15,"layout":{"text-size":11,"icon-image":"dot-10","symbol-avoid-edges":true,"text-font":["Manrope Medium","Arial Unicode MS Regular"],"text-offset":[0,0.6],"icon-size":["interpolate",["linear"],["zoom"],14,0.6,18,1],"text-anchor":"top","text-field":["coalesce",["get","name_en"],["get","name_en"],["get","name"]]},"metadata":{"mapbox:group":"f1886cf93696e2c587458e4a733fa74f"},"filter":["all",["match",["get","type"],["Park","National Park","Nature Reserve","Pitch"],false,true],["match",["get","maki"],["marker"],true,false]],"type":"symbol","source":"composite","id":"POIs-Mapbox-Markers","paint":{"text-color":"#2b381f","text-halo-width":2,"text-halo-color":"#f8f8f7"},"source-layer":"poi_label"},{"minzoom":16,"layout":{"text-optional":true,"text-size":11,"symbol-sort-key":["match",["get","maki"],["drinking-water"],4,["toilet"],5,["parking"],6,["parking-garage"],6,10],"icon-image":["case",["match",["get","type"],["Ruins"],true,false],"new-castle",["match",["get","maki"],["viewpoint"],true,false],"new-attraction",["concat","new-",["get","maki"]]],"symbol-avoid-edges":true,"text-font":["Manrope Medium","Arial Unicode MS Regular"],"text-offset":[0,1.3],"icon-size":["interpolate",["linear"],["zoom"],14,0.6,18,1],"text-anchor":"top","text-field":["coalesce",["get","name_en"],["get","name_en"],["get","name"]]},"metadata":{"mapbox:group":"f1886cf93696e2c587458e4a733fa74f"},"filter":["all",["match",["get","type"],["amenity_hospital","amenity_restaurant","amenity_cafe","amenity_police","amenity_marketplace","leisure_picnic_table","historic_monument","shop_bakery","historic_ruins","amenity_bar","natural_beach","amenity_clinic","shop_convenience","man_made_bridge","shop_supermarket","amenity_doctors","amenity_townhall","amenity_college","amenity_fire_station","historic_archaeological_site","shop_optician","tourism_picnic_site","amenity_university","leisure_playground","amenity_library","landuse_cemetery","amenity_post_office","amenity_pub","tourism_viewpoint","historic_castle","tourism_information","building_university","amenity_pharmacy","amenity_grave_yard","amenity_school","tourism_attraction","historic_memorial","amenity_fuel","amenity_dentist","landuse_quarry","building_school"],true,false],["match",["get","filterrank"],[1],false,true],["match",["get","maki"],["marker"],false,true]],"type":"symbol","source":"composite","id":"POIs-Mapbox-TheRest","paint":{"text-color":"#435138","text-halo-color":"hsl(60, 7%, 97%)","text-halo-width":2},"source-layer":"poi_label"},{"minzoom":11,"layout":{"text-optional":true,"text-size":12,"symbol-sort-key":1,"icon-image":["match",["get","maki"],["mountain","volcano"],"peak-op4",["waterfall"],"waterfall","dot-11"],"symbol-avoid-edges":true,"text-font":["Manrope Medium","Arial Unicode MS Regular"],"text-offset":[0,1.3],"icon-size":["interpolate",["linear"],["zoom"],12,0.5,16,0.8,18,1],"text-anchor":["step",["zoom"],["step",["get","sizerank"],"center",5,"top"],17,["step",["get","sizerank"],"center",13,"top"]],"text-field":["let","name",["coalesce",["get","name_en"],["get","name_en"],["get","name"]],["case",["all",["to-boolean",["var","name"]],["has","elevation_m"]],["concat",["var","name"],"\\n",["get","elevation_m"]," m"],["to-boolean",["var","name"]],["var","name"],["has","elevation_m"],["concat",["get","elevation_m"]," m"],""]],"text-letter-spacing":0.04},"metadata":{"mapbox:group":"f1886cf93696e2c587458e4a733fa74f"},"filter":["all",["match",["get","class"],["dock","glacier","landform","water_feature","wetland"],true,false],["==",["geometry-type"],"Point"],["<=",["get","filterrank"],4]],"type":"symbol","source":"composite","id":"natural-point-label","paint":{"icon-opacity":["step",["zoom"],["step",["get","sizerank"],0,5,1],14,["step",["get","sizerank"],1,13,1],17,["step",["get","sizerank"],1,13,1]],"text-halo-color":"#f8f8f7","text-color":"hsl(108, 54%, 9%)","text-halo-width":2},"source-layer":"natural_label"},{"id":"drinking water","type":"symbol","metadata":{"mapbox:group":"f1886cf93696e2c587458e4a733fa74f"},"source":"composite","source-layer":"drinking_water-7j6x9l","minzoom":14,"layout":{"icon-size":["interpolate",["linear"],["zoom"],14,0.6,18,1],"symbol-avoid-edges":true,"icon-image":"new-drinking-water","symbol-sort-key":4,"text-field":["coalesce",["get","name_en"],["get","name_en"],["get","name"]],"text-font":["Manrope Medium","Arial Unicode MS Regular"]},"paint":{}},{"id":"hunting stands","type":"symbol","metadata":{"mapbox:group":"f1886cf93696e2c587458e4a733fa74f"},"source":"composite","source-layer":"hunting_stand_-58_72_-180_180-0prya2","minzoom":16,"layout":{"icon-image":"new-huntingstand","icon-size":["interpolate",["linear"],["zoom"],14,0.6,18,1],"symbol-avoid-edges":true,"symbol-sort-key":6,"text-field":["coalesce",["get","name_en"],["get","name_en"],["get","name"]],"text-font":["Manrope Medium","Arial Unicode MS Regular"]},"paint":{}},{"id":"caravan sites","type":"symbol","metadata":{"mapbox:group":"f1886cf93696e2c587458e4a733fa74f"},"source":"composite","source-layer":"caravan_site_-58_72_-180_180_-bmhmaj","minzoom":16,"layout":{"icon-image":"new-caravan","icon-size":["interpolate",["linear"],["zoom"],14,0.6,18,1],"symbol-avoid-edges":true,"symbol-sort-key":3,"text-field":["coalesce",["get","name_en"],["get","name_en"],["get","name"]],"text-font":["Manrope Medium","Arial Unicode MS Regular"]},"paint":{}},{"id":"campsites","type":"symbol","metadata":{"mapbox:group":"f1886cf93696e2c587458e4a733fa74f"},"source":"composite","source-layer":"camp_site_-58_72_-180_180_201-6zkf1k","minzoom":14,"layout":{"icon-image":"new-campsite","icon-size":["interpolate",["linear"],["zoom"],14,0.6,18,1],"symbol-avoid-edges":true,"symbol-sort-key":3,"text-field":["coalesce",["get","name_en"],["get","name_en"],["get","name"]],"text-font":["Manrope Medium","Arial Unicode MS Regular"]}},{"id":"toilets","type":"symbol","metadata":{"mapbox:group":"f1886cf93696e2c587458e4a733fa74f"},"source":"composite","source-layer":"toilets_-58_72_-180_180_20180-dxi5ps","minzoom":14,"layout":{"icon-size":["interpolate",["linear"],["zoom"],14,0.6,18,1],"symbol-avoid-edges":true,"symbol-sort-key":5,"text-field":["coalesce",["get","name_en"],["get","name_en"],["get","name"]],"text-font":["Manrope Medium","Arial Unicode MS Regular"],"icon-image":"new-toilet"},"paint":{}},{"id":"parking","type":"symbol","metadata":{"mapbox:group":"f1886cf93696e2c587458e4a733fa74f"},"source":"composite","source-layer":"parking_-58_72_-180_180_20180-59r2ki","minzoom":14,"layout":{"icon-size":["interpolate",["linear"],["zoom"],14,0.6,18,1],"symbol-avoid-edges":true,"icon-image":"new-parking","symbol-sort-key":6,"text-field":["coalesce",["get","name_en"],["get","name_en"],["get","name"]],"text-font":["Manrope Medium","Arial Unicode MS Regular"]},"paint":{}},{"minzoom":6,"layout":{"text-size":["step",["zoom"],["step",["get","sizerank"],18,5,12],17,["step",["get","sizerank"],18,13,12]],"text-font":["Manrope Medium","Arial Unicode MS Regular"],"text-field":["coalesce",["get","name_en"],["get","name_en"],["get","name"]]},"metadata":{"mapbox:group":"f1886cf93696e2c587458e4a733fa74f"},"filter":["<=",["get","filterrank"],["+",["step",["zoom"],0,16,1,17,2],3]],"type":"symbol","source":"composite","id":"poi-label","paint":{"icon-opacity":["step",["zoom"],["step",["get","sizerank"],0,5,1],17,["step",["get","sizerank"],0,13,1]],"text-halo-color":"#f8f8f7","text-halo-width":0.5,"text-halo-blur":0.5,"text-opacity":["step",["zoom"],0,19,1],"text-color":"#2b381f"},"source-layer":"poi_label"},{"minzoom":9,"layout":{"text-optional":true,"text-size":11,"symbol-sort-key":3,"icon-image":["case",["match",["get","type"],["Ruins"],true,false],"new-castle",["match",["get","maki"],["viewpoint","attraction"],true,false],"new-attraction",["match",["get","maki"],["park"],true,false],"park-test",["==",["get","maki"],""],["concat","new-",["get","maki"]],["match",["get","maki"],["campsite"],true,false],"new-campsite",["concat","new-",["get","maki"]]],"symbol-avoid-edges":true,"text-font":["Manrope Medium","Arial Unicode MS Regular"],"text-offset":[0,1.3],"icon-size":["interpolate",["linear"],["zoom"],14,0.6,18,1],"text-anchor":"top","text-field":["coalesce",["get","name_en"],["get","name_en"],["get","name"]],"text-letter-spacing":0.03},"metadata":{"mapbox:group":"f1886cf93696e2c587458e4a733fa74f"},"filter":["all",["match",["get","type"],["Camp Site","Attraction","Viewpoint","amenity_toilets","leisure_picnic_table","tourism_camp_site","tourism_picnic_site","natural_beach"],true,false],["match",["get","maki"],["marker"],false,true]],"type":"symbol","source":"composite","id":"POIs-Mapbox-Priority","paint":{"text-color":"#17380f","text-halo-color":"#f8f8f7","text-halo-width":2},"source-layer":"poi_label"},{"minzoom":11,"layout":{"text-optional":true,"text-size":11,"symbol-sort-key":2,"icon-image":["case",["match",["get","type"],["Ruins"],true,false],"new-castle",["match",["get","maki"],["viewpoint"],true,false],"new-attraction",["match",["get","maki"],["park"],true,false],"",["concat","new-",["get","maki"]]],"symbol-avoid-edges":true,"text-font":["Manrope Medium","Arial Unicode MS Regular"],"text-offset":[0,1.3],"icon-size":["interpolate",["linear"],["zoom"],14,0.6,18,1],"text-anchor":"top","text-field":["coalesce",["get","name_en"],["get","name_en"],["get","name"]],"text-letter-spacing":0.03},"metadata":{"mapbox:group":"f1886cf93696e2c587458e4a733fa74f"},"filter":["all",["match",["get","type"],["tourism_hotel","shop_books","leisure_sports_centre","landuse_residential","shop_car_repair","amenity_bank","leisure_stadium","tourism_hostel","building_industrial","amenity_police","amenity_public_building","man_made_tower","leisure_swimming_pool","tourism_motel","shop_beauty","shop_alcohol","tourism_guest_house","leisure_pitch","tourism_museum","shop_furniture","shop_butcher","shop_car","amenity_kindergarten","building_apartments","amenity_place_of_worship","landuse_commercial","building_retail","shop_electronics","man_made_bridge","amenity_doctors","amenity_social_facility","amenity_townhall","shop_hardware","amenity_college","shop_optician","landuse_allotments","office_government","amenity_university","amenity_library","building_commercial","building_house","amenity_post_office","amenity_community_centre","shop_florist","building_university","building_residential","shop_hairdresser","amenity_pharmacy","office_company","shop_mobile_phone","amenity_school","amenity_fast_food","place_locality","landuse_industrial","building_yes","amenity_dentist","shop_mall","man_made_works","shop_department_store","shop_doityourself","shop_yes","place_isolated_dwelling","shop_shoes","building_school","shop_clothes"],true,false],["match",["get","filterrank"],[1],true,false],["match",["get","maki"],["marker"],false,true]],"type":"symbol","source":"composite","id":"POIs-Mapbox-secondary","paint":{"text-halo-width":2,"text-color":"#17380f","text-halo-color":"#f8f8f7"},"source-layer":"poi_label"},{"minzoom":11,"layout":{"text-optional":true,"text-size":11,"symbol-sort-key":2,"icon-image":["case",["match",["get","type"],["Ruins"],true,false],"new-castle",["match",["get","maki"],["viewpoint"],true,false],"new-attraction",["match",["get","maki"],["park"],true,false],"",["concat","new-",["get","maki"]]],"symbol-avoid-edges":true,"text-font":["Manrope Medium","Arial Unicode MS Regular"],"text-offset":[0,1.3],"icon-size":["interpolate",["linear"],["zoom"],14,0.6,18,1],"text-anchor":"top","text-field":["coalesce",["get","name_en"],["get","name_en"],["get","name"]],"text-letter-spacing":0.03},"metadata":{"mapbox:group":"f1886cf93696e2c587458e4a733fa74f"},"filter":["all",["match",["get","type"],["Park","National Park","Nature Reserve","Pitch","Camp Site","Attraction","Viewpoint"],false,true],["match",["get","filterrank"],[1],true,false],["match",["get","maki"],["marker"],false,true]],"type":"symbol","source":"composite","id":"POIs-Mapbox-FilterRank1","paint":{"text-halo-width":2,"text-color":"#17380f","text-halo-color":"#f8f8f7"},"source-layer":"poi_label"},{"minzoom":12,"layout":{"text-size":11,"icon-image":["step",["zoom"],["concat","new-",["get","maki"]],22,["concat","new-",["get","maki"]]],"symbol-avoid-edges":true,"text-font":["Manrope Medium","Arial Unicode MS Regular"],"text-justify":["match",["get","stop_type"],"entrance","left","center"],"text-offset":["match",["get","stop_type"],"entrance",["literal",[1,1.3]],["literal",[0,1.3]]],"icon-size":["interpolate",["linear"],["zoom"],14,0.6,18,1],"text-anchor":["match",["get","stop_type"],"entrance","left","top"],"text-field":["step",["zoom"],"",14,["match",["get","mode"],["rail","metro_rail"],["coalesce",["get","name_en"],["get","name_en"],["get","name"]],""],16,["match",["get","mode"],["bus","bicycle"],"",["coalesce",["get","name_en"],["get","name_en"],["get","name"]]],18,["coalesce",["get","name_en"],["get","name_en"],["get","name"]]],"text-letter-spacing":0.01,"text-max-width":["match",["get","stop_type"],"entrance",15,9]},"filter":["step",["zoom"],["all",["match",["get","mode"],"rail",true,"metro_rail",true,false],["!=",["get","stop_type"],"entrance"]],15,["all",["match",["get","mode"],"rail",true,"metro_rail",true,"ferry",true,"light_rail",true,false],["!=",["get","stop_type"],"entrance"]],16,["all",["match",["get","mode"],"bus",false,true],["!=",["get","stop_type"],"entrance"]],17,["!=",["get","stop_type"],"entrance"],19,true],"type":"symbol","source":"composite","id":"transit-label","paint":{"text-halo-color":"#f8f8f7","text-color":"hsl(94, 13%, 19%)","text-halo-width":2},"source-layer":"transit_stop_label"},{"minzoom":10,"layout":{"text-field":["coalesce",["get","name_en"],["get","name_en"],["get","name"]],"text-transform":"uppercase","text-font":["Manrope Medium","Arial Unicode MS Regular"],"text-letter-spacing":["match",["get","type"],"suburb",0.15,0.05],"text-max-width":7,"text-padding":3,"text-size":["interpolate",["cubic-bezier",0.5,0,1,1],["zoom"],11,["match",["get","type"],"suburb",11,10.5],15,["match",["get","type"],"suburb",15,14]]},"metadata":{"mapbox:group":"d2b97dc610adbdc3f21c4287a6085f19"},"maxzoom":15,"filter":["all",["match",["get","class"],["settlement_subdivision","disputed_settlement_subdivision"],["match",["get","worldview"],["all","US"],true,false],false],["<=",["get","filterrank"],4]],"type":"symbol","source":"composite","id":"settlement-subdivision-label","paint":{"text-halo-color":"hsla(35, 16%, 100%, 0.75)","text-halo-width":1,"text-color":"#475c85","text-halo-blur":0.5},"source-layer":"place_label"},{"minzoom":12,"layout":{"text-size":10,"text-max-angle":30,"symbol-spacing":400,"text-font":["Manrope Medium","Arial Unicode MS Regular"],"symbol-placement":"line","text-padding":0,"text-offset":[0,1],"text-field":["to-string",["get","NAME"]],"text-letter-spacing":0.04},"metadata":{"mapbox:group":"331b07cfede41327831acd7dcfb816fd"},"filter":["all",[">",["get","ENCLOSED_A"],5],["match",["get","BOUNDARY"],["aboriginal_lands"],false,true]],"type":"symbol","source":"composite","id":"parklabels-along-border","paint":{"text-color":"hsl(97, 23%, 14%)","text-halo-width":0.25,"text-halo-color":"hsl(0, 0%, 100%)"},"source-layer":"park-areas-production"},{"minzoom":8,"layout":{"text-size":["interpolate",["linear"],["zoom"],10,12,12,16],"symbol-sort-key":["get","ENCLOSED_A"],"symbol-avoid-edges":true,"text-font":["Manrope Medium","Arial Unicode MS Regular"],"text-padding":10,"text-offset":[0,1],"icon-size":["interpolate",["linear"],["zoom"],16,0.8,18,1],"text-anchor":"top","text-field":["to-string",["get","NAME"]],"text-letter-spacing":0.04,"icon-padding":10},"metadata":{"mapbox:group":"331b07cfede41327831acd7dcfb816fd"},"filter":["match",["get","LAYER"],["Wilderness"],true,false],"type":"symbol","source":"composite","id":"parklabels-wilderness","paint":{"text-halo-color":"hsla(56, 44%, 94%, 0.87)","icon-opacity":["step",["zoom"],["case",[">=",["get","ENCLOSED_A"],400],1,0],10,["case",[">",["get","ENCLOSED_A"],150],1,0],11,["case",[">",["get","ENCLOSED_A"],50],1,0],13,["case",[">",["get","ENCLOSED_A"],5],0,1],16,["case",[">",["get","ENCLOSED_A"],0.08],1,0]],"text-opacity":["step",["zoom"],["case",[">=",["get","ENCLOSED_A"],1000],1,0],10,["case",[">",["get","ENCLOSED_A"],100],1,0],11,["case",[">",["get","ENCLOSED_A"],50],1,0],13,["case",[">",["get","ENCLOSED_A"],5],1,0],16,["case",[">",["get","ENCLOSED_A"],0.08],1,0]],"text-halo-width":1.5},"source-layer":"park-centerpoints-production"},{"minzoom":6,"layout":{"text-size":["interpolate",["linear"],["zoom"],10,12,11,14],"icon-image":"park-test","symbol-avoid-edges":true,"text-font":["Manrope SemiBold","Arial Unicode MS Regular"],"text-padding":10,"text-offset":[0,1],"icon-size":["interpolate",["linear"],["zoom"],16,0.7,18,1],"text-anchor":["step",["zoom"],"top",12,"top",13,"center"],"text-field":["to-string",["get","NAME"]],"text-letter-spacing":0.04,"icon-padding":10},"metadata":{"mapbox:group":"331b07cfede41327831acd7dcfb816fd"},"filter":["match",["get","LAYER"],["State Park","City Park","State Forest","state park"],true,false],"type":"symbol","source":"composite","id":"parklabels-city-state-park copy","paint":{"text-color":"#4a3b30","text-halo-color":"hsla(60, 7%, 97%, 0.8)","text-halo-width":2,"text-opacity":["step",["zoom"],["case",[">",["get","ENCLOSED_A"],100],1,0],6,["case",[">",["get","ENCLOSED_A"],40000],1,0],10,["case",[">",["get","ENCLOSED_A"],4000],1,0],11,["case",[">",["get","ENCLOSED_A"],50],1,0],13,["case",[">",["get","ENCLOSED_A"],5],1,0],16,["case",[">",["get","ENCLOSED_A"],0.08],1,0]],"icon-opacity":["step",["zoom"],["case",[">",["get","ENCLOSED_A"],100],1,0],6,["case",[">",["get","ENCLOSED_A"],40000],1,0],10,["case",[">",["get","ENCLOSED_A"],4000],1,0],11,["case",[">",["get","ENCLOSED_A"],50],1,0],13,["case",[">",["get","ENCLOSED_A"],5],0,0],16,["case",[">",["get","ENCLOSED_A"],0.08],0,0]]},"source-layer":"park-centerpoints-production"},{"minzoom":6,"layout":{"text-size":["interpolate",["linear"],["zoom"],10,12,13,16],"symbol-sort-key":["get","ENCLOSED_A"],"icon-image":"park-test","symbol-avoid-edges":true,"text-font":["Manrope SemiBold","Arial Unicode MS Regular"],"text-offset":[0,1],"icon-size":["interpolate",["linear"],["zoom"],16,0.7,18,1],"text-anchor":"top","text-field":["to-string",["get","NAME"]],"text-letter-spacing":0.05},"metadata":{"mapbox:group":"331b07cfede41327831acd7dcfb816fd"},"filter":["all",["match",["get","LAYER"],["State Park","City Park","Wilderness","Aboriginal Land","State Forest"],false,true],["match",["get","PROTECTION_TITLE"],["national_park"],false,true],["match",["get","NAME"],["","National Center for Atmospheric Research"],false,true]],"type":"symbol","source":"composite","id":"parklabels-national-forest","paint":{"text-color":"hsl(34, 72%, 12%)","text-halo-color":"#f6f5e8","text-halo-width":1.5,"text-opacity":["step",["zoom"],["case",[">",["get","ENCLOSED_A"],100],1,0],6,["case",[">",["get","ENCLOSED_A"],40000],1,0],10,["case",[">",["get","ENCLOSED_A"],4000],1,0],11,["case",[">",["get","ENCLOSED_A"],50],1,0],13,["case",[">",["get","ENCLOSED_A"],5],1,0],16,["case",[">",["get","ENCLOSED_A"],0.08],1,0]],"icon-opacity":["step",["zoom"],["case",[">",["get","ENCLOSED_A"],100],1,0],6,["case",[">",["get","ENCLOSED_A"],40000],1,0],10,["case",[">",["get","ENCLOSED_A"],4000],1,0],11,["case",[">",["get","ENCLOSED_A"],50],1,0],13,["case",[">",["get","ENCLOSED_A"],5],0,0],16,["case",[">",["get","ENCLOSED_A"],0.08],0,0]]},"source-layer":"park-centerpoints-production"},{"minzoom":6,"layout":{"text-size":["interpolate",["linear"],["zoom"],10,12,11,16],"symbol-sort-key":["get","ENCLOSED_A"],"icon-image":"park-test","symbol-avoid-edges":true,"text-font":["Manrope SemiBold","Arial Unicode MS Regular"],"text-offset":[0,1],"icon-size":["interpolate",["linear"],["zoom"],16,0.7,18,1],"text-anchor":"top","text-field":["to-string",["get","NAME"]],"text-letter-spacing":0.05},"metadata":{"mapbox:group":"331b07cfede41327831acd7dcfb816fd"},"filter":["all",["match",["get","LAYER"],["Wilderness","State Forest","State Park","state park","City Park"],false,true],["match",["get","PROTECTION_TITLE"],["National Park"],true,false]],"type":"symbol","source":"composite","id":"parklabels-national-park","paint":{"text-color":"hsl(109, 32%, 13%)","text-halo-color":"#f6f5e8","text-halo-width":1.5,"text-opacity":["step",["zoom"],["case",[">",["get","ENCLOSED_A"],100000],1,0],6,["case",[">",["get","ENCLOSED_A"],40000],1,0],10,["case",[">",["get","ENCLOSED_A"],4000],1,0],11,["case",[">",["get","ENCLOSED_A"],50],1,0],13,["case",[">",["get","ENCLOSED_A"],5],1,0],16,["case",[">",["get","ENCLOSED_A"],0.08],1,0]],"icon-opacity":["step",["zoom"],["case",[">",["get","ENCLOSED_A"],100000],1,0],6,["case",[">",["get","ENCLOSED_A"],40000],1,0],10,["case",[">",["get","ENCLOSED_A"],4000],1,0],11,["case",[">",["get","ENCLOSED_A"],50],1,1],13,["case",[">",["get","ENCLOSED_A"],5],0,1],16,["case",[">",["get","ENCLOSED_A"],0.08],0,0]]},"source-layer":"park-centerpoints-production"},{"minzoom":2,"layout":{"text-line-height":1.1,"text-size":["interpolate",["cubic-bezier",0.2,0,0.9,1],["zoom"],3,["step",["get","symbolrank"],11,9,10],6,["step",["get","symbolrank"],14,9,12,12,10],8,["step",["get","symbolrank"],16,9,14,12,12,15,10],13,["step",["get","symbolrank"],22,9,20,12,16,15,14]],"text-radial-offset":["step",["zoom"],["match",["get","capital"],2,0.6,0.55],8,0],"symbol-sort-key":["get","symbolrank"],"icon-image":["step",["zoom"],["case",["==",["get","capital"],2],"border-dot-13",["step",["get","symbolrank"],"dot-11",9,"dot-10",11,"dot-9"]],8,""],"text-font":["Manrope Medium","Arial Unicode MS Regular"],"text-justify":"auto","text-anchor":["step",["zoom"],["get","text_anchor"],8,"center"],"text-field":["coalesce",["get","name_en"],["get","name_en"],["get","name"]],"text-letter-spacing":0.04,"text-max-width":7},"metadata":{"mapbox:group":"3491bd4207caacd4fc6afe89135a8bbe"},"maxzoom":13,"filter":["all",["<=",["get","filterrank"],3],["match",["get","class"],["settlement","disputed_settlement"],["match",["get","worldview"],["all","US"],true,false],false],["step",["zoom"],[">",["get","symbolrank"],6],4,[">=",["get","symbolrank"],7],6,[">=",["get","symbolrank"],8],7,[">=",["get","symbolrank"],10],10,[">=",["get","symbolrank"],11],11,[">=",["get","symbolrank"],13],12,[">=",["get","symbolrank"],15]]],"type":"symbol","source":"composite","id":"settlement-minor-label","paint":{"text-color":"#2b381f","text-halo-color":"#f8f8f7","text-halo-width":2,"text-halo-blur":0.5},"source-layer":"place_label"},{"minzoom":2,"layout":{"text-line-height":1.1,"text-size":["interpolate",["cubic-bezier",0.2,0,0.9,1],["zoom"],3,["step",["get","symbolrank"],13,6,11],6,["step",["get","symbolrank"],18,6,16,7,14],8,["step",["get","symbolrank"],20,9,15,10,14],15,["step",["get","symbolrank"],24,9,20,12,16,15,14]],"text-radial-offset":["step",["zoom"],["match",["get","capital"],2,0.6,0.55],8,0],"symbol-sort-key":["get","symbolrank"],"icon-image":["step",["zoom"],["case",["==",["get","capital"],2],"border-dot-13",["step",["get","symbolrank"],"dot-11",9,"dot-10",11,"dot-9"]],8,""],"text-font":["Manrope Medium","Arial Unicode MS Regular"],"text-justify":["step",["zoom"],["match",["get","text_anchor"],["left","bottom-left","top-left"],"left",["right","bottom-right","top-right"],"right","center"],8,"center"],"text-anchor":["step",["zoom"],["get","text_anchor"],8,"center"],"text-field":["coalesce",["get","name_en"],["get","name_en"],["get","name"]],"text-letter-spacing":["match",["get","type"],"suburb",0.15,0.1],"text-max-width":7},"metadata":{"mapbox:group":"3491bd4207caacd4fc6afe89135a8bbe"},"maxzoom":15,"filter":["all",["<=",["get","filterrank"],3],["match",["get","class"],["settlement","disputed_settlement"],["match",["get","worldview"],["all","US"],true,false],false],["step",["zoom"],false,2,["<=",["get","symbolrank"],6],4,["<",["get","symbolrank"],7],6,["<",["get","symbolrank"],8],7,["<",["get","symbolrank"],10],10,["<",["get","symbolrank"],11],11,["<",["get","symbolrank"],13],12,["<",["get","symbolrank"],15],13,[">=",["get","symbolrank"],11],14,[">=",["get","symbolrank"],15]]],"type":"symbol","source":"composite","id":"settlement-major-label","paint":{"text-halo-color":"#f8f8f7","text-halo-width":2,"text-halo-blur":0.5,"text-color":"hsl(0, 3%, 6%)"},"source-layer":"place_label"},{"minzoom":3,"layout":{"text-size":["interpolate",["cubic-bezier",0.85,0.7,0.65,1],["zoom"],4,["step",["get","symbolrank"],12,6,9.5,7,9],9,["step",["get","symbolrank"],24,6,18,7,14]],"text-transform":"uppercase","text-font":["Manrope Bold","Arial Unicode MS Bold"],"text-field":["step",["zoom"],["step",["get","symbolrank"],["coalesce",["get","name_en"],["get","name_en"],["get","name"]],5,["coalesce",["get","abbr"],["get","name_en"],["get","name"]]],5,["coalesce",["get","name_en"],["get","name_en"],["get","name"]]],"text-letter-spacing":["match",["get","type"],"suburb",0.15,0.1],"text-max-width":6,"symbol-avoid-edges":true},"metadata":{"mapbox:group":"3491bd4207caacd4fc6afe89135a8bbe"},"maxzoom":9,"filter":["==",["get","class"],"state"],"type":"symbol","source":"composite","id":"state-label","paint":{"text-color":"#2b381f","text-halo-color":"hsl(35, 16%, 100%)","text-halo-width":1},"source-layer":"place_label"},{"minzoom":1,"layout":{"text-line-height":1.1,"text-size":["interpolate",["cubic-bezier",0.2,0,0.7,1],["zoom"],1,["step",["get","symbolrank"],11,4,9,5,8],9,["step",["get","symbolrank"],28,4,22,5,21]],"icon-image":"","symbol-avoid-edges":true,"text-font":["Manrope Bold","Arial Unicode MS Regular"],"text-justify":["step",["zoom"],["match",["get","text_anchor"],["left","bottom-left","top-left"],"left",["right","bottom-right","top-right"],"right","center"],7,"center"],"text-offset":["literal",[0,0]],"text-field":["coalesce",["get","name_en"],["get","name_en"],["get","name"]],"text-letter-spacing":["match",["get","type"],"suburb",0.15,0.1],"text-max-width":6},"metadata":{"mapbox:group":"3491bd4207caacd4fc6afe89135a8bbe"},"maxzoom":10,"filter":["==",["get","class"],"country"],"type":"symbol","source":"composite","id":"country-label","paint":{"icon-opacity":["step",["zoom"],["case",["has","text_anchor"],1,0],7,0],"text-color":"#142800","text-halo-color":["interpolate",["linear"],["zoom"],2,"hsla(35, 16%, 100%, 0.75)",3,"hsl(35, 16%, 100%)"],"text-halo-width":1.25},"source-layer":"place_label"}],"created":"2023-20-09T16:05:23.814Z","id":"cp2shzq4v0e835ipwk9d20v9l","owner":"ngrange","visibility":"private","protected":false,"draft":false}'),Ne="#364436",Ue=()=>{let e=8.75;return window.matchMedia("(min-width: 600px)").matches&&(e=9.25),window.matchMedia("(min-width: 1000px)").matches&&(e=10),e},Ve=e=>{if(Array.from(e.current.getContainer().getElementsByClassName("mapboxgl-marker")).forEach((e=>e.remove())),e&&e.current.loaded()){const t=e.current.getStyle().sources;Object.keys(t).filter((e=>"composite"!==e)).forEach((t=>{e.current.removeLayer(t),e.current.removeSource(t)}))}},qe=e=>{const t=Ue();e.current.flyTo({center:[55.5448,-21.1187],zoom:t,duration:700,essential:!0})},Ge=(e,t,n)=>{t.forEach((t=>{const i=new(Fe().Marker)({color:Ne}).setLngLat([t.position.longitude,t.position.latitude]).addTo(e.current);i.getElement().setAttribute("id",t.id),i.getElement().addEventListener("click",(r=>{Array.from(e.current.getContainer().getElementsByClassName("mapboxgl-marker")).filter((e=>e.id!==t.id)).forEach((e=>e.classList.remove("selected"))),i.getElement().classList.add("selected"),n("/reunion/hikes/"+t.id)}))}))},We=(e,t,n)=>{t.forEach((t=>{const i=new(Fe().Marker)({color:Ne}).setLngLat([t.position.longitude,t.position.latitude]).addTo(e.current);i.getElement().setAttribute("id",t.id),i.getElement().addEventListener("click",(r=>{Array.from(e.current.getContainer().getElementsByClassName("mapboxgl-marker")).filter((e=>e.id!==t.id)).forEach((e=>e.classList.remove("selected"))),i.getElement().classList.add("selected"),n("/reunion/visits/"+t.id)}))}))},Ze=()=>{window.scrollTo({top:0,behavior:"smooth"})},He={showHikes:(e,t,n)=>{Ve(e),qe(e),Ge(e,t,n)},selectHike:(e,t,n,i)=>{Ve(e),qe(e),Ge(e,t,i),e.current.getLayer(n.id)||e.current.addLayer({id:n.id,type:"line",source:{type:"geojson",data:n.data},paint:{"line-color":Ne,"line-width":4,"line-opacity":.9}}),e.current.flyTo({center:[n.position.longitude,n.position.latitude],duration:700,zoom:13,essential:!0}),document.getElementById(n.id).classList.add("selected"),Ze()},showVisits:(e,t,n)=>{Ve(e),qe(e),We(e,t,n)},selectVisit:(e,t,n,i)=>{Ve(e),qe(e),We(e,t,i),e.current.flyTo({center:[n.position.longitude,n.position.latitude],duration:700,zoom:13,essential:!0}),document.getElementById(n.id).classList.add("selected"),Ze()},highlightMarker:(e,t,n)=>{e&&e.current&&(e.current.flyTo({center:n,duration:700,essential:!0}),document.getElementById(t).classList.add("selected"))},unHighlightMarker:(e,t)=>{document.getElementById(t).classList.remove("selected"),qe(e)},getZoom:Ue},Xe=t.createContext(He);Fe().accessToken="pk.eyJ1IjoibmdyYW5nZSIsImEiOiJjbG05MzZkOWowa2lpM2RycmEwNWNianRzIn0.Ef2-MgCSKnHfrRGv7T6mLQ";const Ke=e=>{let{map:n}=e;const i=(0,t.useRef)(null),{getZoom:r}=(0,t.useContext)(Xe);return(0,t.useEffect)((()=>{if(n.current)return;const e=r();n.current=new(Fe().Map)({container:i.current,style:je,center:[55.5448,-21.1187],zoom:e}),n.current.on("load",(async()=>{n.current.addControl(new(Fe().NavigationControl)({}))}))})),(0,Oe.jsx)("section",{ref:i,className:"map"})},Ye=[{id:"hike-1",title:"Crat\xe8re Dolomieu",difficulty:"moyen",distance:"12.3km",positiveElevation:"500m",duration:"4h30",description:"<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolorem fugiat hic quam? Ad corporis dolore dolorem dolores doloribus enim, error excepturi libero molestias nesciunt quam recusandae sit tenetur unde voluptatem.</p>\n<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fugiat minus veritatis voluptatem! A corporis cum neque perspiciatis provident quod recusandae velit? Beatae esse excepturi itaque nam nisi omnis soluta voluptatem.</p>\n<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. At necessitatibus perspiciatis quas qui quia. Asperiores consequuntur ducimus officia optio quam, recusandae similique! Explicabo facere fugiat nam neque perspiciatis. Dolor, illo!</p>\n",position:{longitude:55.68463375791907,latitude:-21.22499425895512},photos:[{src:"/reunion/images/hikes/1_fournaise_dolomieu/1-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/1_fournaise_dolomieu/2-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/1_fournaise_dolomieu/3-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/1_fournaise_dolomieu/4-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/1_fournaise_dolomieu/5-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/1_fournaise_dolomieu/6-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/1_fournaise_dolomieu/7-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/1_fournaise_dolomieu/8-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/1_fournaise_dolomieu/9-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/1_fournaise_dolomieu/10-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/1_fournaise_dolomieu/11-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/1_fournaise_dolomieu/12-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/1_fournaise_dolomieu/13-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/1_fournaise_dolomieu/14-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/1_fournaise_dolomieu/15-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/1_fournaise_dolomieu/16-min.jpg",width:3,height:2}],data:{type:"FeatureCollection",name:"tracks",crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:[{type:"Feature",properties:{name:"Crat\xe8re Dolomieu",type:"walking"},geometry:{type:"MultiLineString",coordinates:[[[55.68930038250983,-21.222438868135214],[55.68934631533921,-21.222378769889474],[55.689315889030695,-21.22248404659331],[55.689340783283114,-21.222532326355577],[55.68934438750148,-21.222552191466093],[55.68933231756091,-21.222650846466422],[55.68934187293053,-21.222645565867424],[55.68939467892051,-21.222613379359245],[55.68940104916692,-21.222597202286124],[55.68942745216191,-21.222536768764257],[55.689457543194294,-21.222438449040055],[55.68948729895055,-21.222439790144563],[55.68954127840698,-21.222436353564262],[55.68957899697125,-21.222458397969604],[55.68959316238761,-21.222468120977283],[55.68959089927375,-21.222476083785295],[55.689624762162566,-21.222483040764928],[55.68964856676757,-21.222495948895812],[55.68968033418059,-21.22248119674623],[55.68970791064203,-21.222451105713844],[55.68972769193351,-21.2224274687469],[55.68974118679762,-21.222417997196317],[55.6897540949285,-21.222412968054414],[55.689762057736516,-21.222412884235382],[55.68979189731181,-21.222393941134214],[55.68983154371381,-21.222396288067102],[55.689852833747864,-21.222377009689808],[55.68987865000963,-21.222370387986302],[55.689930533990264,-21.222352785989642],[55.68995182402432,-21.222345661371946],[55.689962888136506,-21.222337866201997],[55.68996389396489,-21.222339877858758],[55.689924247562885,-21.222366029396653],[55.689850989729166,-21.222419841215014],[55.68982869386673,-21.222425876185298],[55.68980782292783,-21.222466193139553],[55.68982643075287,-21.222484968602657],[55.68984596058726,-21.222451189532876],[55.68987722508609,-21.222442891448736],[55.68988585844636,-21.222437610849738],[55.68989507853985,-21.222438029944897],[55.68989206105471,-21.222441382706165],[55.689869932830334,-21.222495613619685],[55.68986683152616,-21.222500642761588],[55.689882673323154,-21.222502402961254],[55.68988066166639,-21.22254121117294],[55.6899184640497,-21.222516652196646],[55.689937407150865,-21.2224845495075],[55.68998954258859,-21.22244699858129],[55.69000865332782,-21.222439957782626],[55.690046371892095,-21.22241917066276],[55.690062548965216,-21.222352869808674],[55.69006162695587,-21.222350522875786],[55.69006481207907,-21.222367119044065],[55.690074786543846,-21.222377009689808],[55.690106553956866,-21.222355719655752],[55.69016522727907,-21.222369885072112],[55.690212585031986,-21.222347421571612],[55.69022633135319,-21.222338620573282],[55.69026539102197,-21.222335770726204],[55.690339067950845,-21.222327137365937],[55.69034853950143,-21.222315654158592],[55.69036144763231,-21.222282461822033],[55.690395729616284,-21.222304925322533],[55.6903984118253,-21.222286988049746],[55.69042129442096,-21.22227114625275],[55.690433364361525,-21.22221104800701],[55.69044845178723,-21.22219931334257],[55.690474435687065,-21.22218799777329],[55.69047569297254,-21.222154386341572],[55.69048600271344,-21.222136532887816],[55.69052640348673,-21.22211574576795],[55.69056554697454,-21.22210443019867],[55.69058884866536,-21.222093114629388],[55.69064383395016,-21.222070064395666],[55.69070720113814,-21.222063610330224],[55.690733436495066,-21.222055731341243],[55.690747601911426,-21.222048606723547],[55.69077182561159,-21.22199689038098],[55.69081608206034,-21.221997225657105],[55.69084784947336,-21.22201398946345],[55.69087911397219,-21.221986999735236],[55.690901912748814,-21.221976689994335],[55.69092655554414,-21.221966547891498],[55.690963100641966,-21.221956992521882],[55.69095874205232,-21.221969733014703],[55.690947845578194,-21.221974678337574],[55.69096234627068,-21.221972834318876],[55.69100928492844,-21.221983144059777],[55.69102252833545,-21.22199102304876],[55.691026551648974,-21.22199211269617],[55.691028060391545,-21.221980042755604],[55.69106686860323,-21.221927320584655],[55.6910752505064,-21.221911730244756],[55.69109385833144,-21.221887841820717],[55.691118501126766,-21.221866300329566],[55.69115127436817,-21.221859762445092],[55.69115915335715,-21.221875185146928],[55.69116845726967,-21.221884237602353],[55.69117055274546,-21.221890104934573],[55.691183377057314,-21.221894128248096],[55.691188825294375,-21.221891110762954],[55.69123073481023,-21.2218782864511],[55.69125420413911,-21.22188063338399],[55.69130449555814,-21.22188708744943],[55.69131757132709,-21.221875436604023],[55.69132746197283,-21.221865126863122],[55.69134782999754,-21.221849285066128],[55.69137683138251,-21.221849201247096],[55.691424356773496,-21.221861355006695],[55.691482946276665,-21.221904354169965],[55.69149510003626,-21.22190804220736],[55.691521586850286,-21.221893457695842],[55.69153214804828,-21.221895553171635],[55.69157984107733,-21.221917429938912],[55.691631976515055,-21.221925476565957],[55.691686207428575,-21.221928745508194],[55.691731721162796,-21.221919609233737],[55.691740019246936,-21.221926230937243],[55.69170682691038,-21.22193092480302],[55.69173180498183,-21.221950203180313],[55.69178335368633,-21.221939558163285],[55.69178159348667,-21.221904857084155],[55.69181109778583,-21.2219491135329],[55.691805984824896,-21.221986329182982],[55.69180908612907,-21.2219940405339],[55.69182048551738,-21.2220077868551],[55.69183565676212,-21.222022958099842],[55.69186197593808,-21.22202136553824],[55.691924169659615,-21.22206578962505],[55.69191813468933,-21.222080122679472],[55.691909082233906,-21.222074003890157],[55.69190723821521,-21.222071908414364],[55.691881673410535,-21.222100658342242],[55.691859629005194,-21.222173161804676],[55.69184713996947,-21.222203420475125],[55.69187203422189,-21.222258154302835],[55.691888546571136,-21.222294364124537],[55.691913440823555,-21.22234884649515],[55.69195275194943,-21.222404250875115],[55.691954260692,-21.22241615317762],[55.69195065647364,-21.222458062693477],[55.69194747135043,-21.222465271130204],[55.69194872863591,-21.222471054643393],[55.69194872863591,-21.222471054643393],[55.69194730371237,-21.222471054643393],[55.69194478914142,-21.22246845625341],[55.691944286227226,-21.222467366605997],[55.69194780662656,-21.22246451675892],[55.691948644816875,-21.22246451675892],[55.69195141084492,-21.222465354949236],[55.69195132702589,-21.222465187311172],[55.69194260984659,-21.22246309183538],[55.691934982314706,-21.222456637769938],[55.691934982314706,-21.222454626113176],[55.691935485228896,-21.222449094057083],[55.691935485228896,-21.22244599275291],[55.69193238392472,-21.222443813458085],[55.691929534077644,-21.222442723810673],[55.691955015063286,-21.2225051689893],[55.69198837503791,-21.222565518692136],[55.691997930407524,-21.222618743777275],[55.69199876859784,-21.222631568089128],[55.69202366285026,-21.222652858123183],[55.6920353975147,-21.222664173692465],[55.692041935399175,-21.222682362422347],[55.69206775166094,-21.22273030690849],[55.69208946079016,-21.222780514508486],[55.69209557957947,-21.222806330770254],[55.69210320711136,-21.222844468429685],[55.692109409719706,-21.222906494513154],[55.692126005887985,-21.223000874742866],[55.69214235059917,-21.223042448982596],[55.69214670918882,-21.223054938018322],[55.6921633053571,-21.22307580895722],[55.692200269550085,-21.223060889169574],[55.69226212799549,-21.223098104819655],[55.69229272194207,-21.22318234294653],[55.69232859648764,-21.223228611052036],[55.69236329756677,-21.223315447568893],[55.69236950017512,-21.223331540822983],[55.69240319542587,-21.223393818363547],[55.692435801029205,-21.223498424515128],[55.692502269521356,-21.223584674298763],[55.69259547628462,-21.22363488189876],[55.69269061088562,-21.22372129932046],[55.69273746572435,-21.22380578890443],[55.69275515154004,-21.22384099289775],[55.6927640363574,-21.223906707018614],[55.69276487454772,-21.224023131653666],[55.69279647432268,-21.224123295396566],[55.69280703552067,-21.224160846322775],[55.69285665638745,-21.224307529628277],[55.69291449151933,-21.224433844909072],[55.69291893392801,-21.224463181570172],[55.692938044667244,-21.22454507276416],[55.692956233397126,-21.22464196756482],[55.692996298894286,-21.22472343966365],[55.69303426891565,-21.224846905097365],[55.6930544693023,-21.224958803504705],[55.69307332858443,-21.225040527060628],[55.69308095611632,-21.225110767409205],[55.69307894445956,-21.225119149312377],[55.69307911209762,-21.22516332194209],[55.69310434162617,-21.225200118497014],[55.69313493557274,-21.225272035226226],[55.69317030720413,-21.225359961390495],[55.69317374378443,-21.225395584478974],[55.69318321533501,-21.225473703816533],[55.69320224225521,-21.22558308765292],[55.693251276388764,-21.225656094029546],[55.6932563893497,-21.22566648758948],[55.69332176819444,-21.22581459581852],[55.69341036491096,-21.225973265245557],[55.69347540847957,-21.226063538342714],[55.693485299125314,-21.226073345169425],[55.69353366270661,-21.226173928007483],[55.693540619686246,-21.226183399558067],[55.69355101324618,-21.226216927170753],[55.69358957000077,-21.22633553110063],[55.69364530965686,-21.2264287378639],[55.69365939125419,-21.226449441164732],[55.69368587806821,-21.22647190466523],[55.693718902766705,-21.22651389800012],[55.69375469349325,-21.226588999852538],[55.69379425607622,-21.226648343726993],[55.69385510869324,-21.226740377023816],[55.69386868737638,-21.226762337610126],[55.69388729520142,-21.226818915456533],[55.69390925578773,-21.22686367481947],[55.69392543286085,-21.226891418918967],[55.69397505372763,-21.22694623656571],[55.69402802735567,-21.226993091404438],[55.694055519998074,-21.227060649544],[55.694126933813095,-21.22715402394533],[55.69418275728822,-21.227215379476547],[55.69421226158738,-21.227258713915944],[55.694271521642804,-21.227326523512602],[55.694299349561334,-21.227356111630797],[55.69431544281542,-21.22737228870392],[55.69435341283679,-21.227408163249493],[55.69435592740774,-21.227415623143315],[55.69442725740373,-21.227487288415432],[55.69448048248887,-21.227576220408082],[55.69448542781174,-21.22758292593062],[55.69452691823244,-21.22761963866651],[55.694577880203724,-21.227722819894552],[55.694607803598046,-21.227744948118925],[55.69462515413761,-21.227760622277856],[55.694671757519245,-21.227799765765667],[55.69475901313126,-21.227888111025095],[55.69479966536164,-21.227943766862154],[55.69484207779169,-21.22798710130155],[55.69490510970354,-21.228048959746957],[55.69491843692958,-21.228067819029093],[55.69500611163676,-21.22817569412291],[55.69509822875261,-21.22829287312925],[55.69518841803074,-21.22841013595462],[55.69522412493825,-21.228465121239424],[55.69527399726212,-21.228507701307535],[55.69532093591988,-21.228603590279818],[55.69538773968816,-21.228708364069462],[55.69544155150652,-21.228773575276136],[55.69551346823573,-21.228855550289154],[55.69552159868181,-21.22886569239199],[55.69559535942972,-21.22896677814424],[55.695669036358595,-21.229065852239728],[55.6956928409636,-21.2290914170444],[55.695736929774284,-21.229175571352243],[55.695782359689474,-21.22926676645875],[55.695783449336886,-21.229283614084125],[55.695786383002996,-21.229313872754574],[55.69579107686877,-21.22931806370616],[55.69583214819431,-21.229361398145556],[55.69587841629982,-21.22941487468779],[55.69589392282069,-21.22943004593253],[55.69593449123204,-21.229482013732195],[55.69601093418896,-21.22952274978161],[55.696064829826355,-21.229550493881106],[55.696086874231696,-21.229566670954227],[55.69610204547644,-21.22958100400865],[55.69615552201867,-21.229639342054725],[55.696217296645045,-21.229720395058393],[55.69623456336558,-21.229761047288775],[55.69623808376491,-21.229777559638023],[55.69624478928745,-21.22980966232717],[55.696241687983274,-21.229854337871075],[55.69624193944037,-21.22986380942166],[55.6962420232594,-21.229863725602627],[55.6962420232594,-21.229863725602627],[55.69623917341232,-21.229909993708134],[55.69623263552785,-21.23000219464302],[55.696242190897465,-21.230021892115474],[55.696263648569584,-21.23011300340295],[55.69626281037927,-21.230156924575567],[55.69627312012017,-21.23022062703967],[55.69629315286875,-21.230345936492085],[55.69630220532417,-21.23037988319993],[55.69630840793252,-21.230441741645336],[55.6963231600821,-21.23055389150977],[55.69631611928344,-21.23057534918189],[55.69631561636925,-21.230621868744493],[55.69631955586374,-21.23069412074983],[55.69634654559195,-21.230777017772198],[55.696405386552215,-21.230853209272027],[55.69644872099161,-21.230920935049653],[55.69647101685405,-21.230952367186546],[55.69648124277592,-21.230957228690386],[55.69652130827308,-21.230945326387882],[55.69653413258493,-21.230944907292724],[55.69657118059695,-21.23094515874982],[55.69660370238125,-21.230962593108416],[55.69669095799327,-21.23100626282394],[55.696777459234,-21.230998132377863],[55.6968829035759,-21.231028139591217],[55.69692296907306,-21.23108882457018],[55.696973260492086,-21.231151688843966],[55.69701198488474,-21.231235675513744],[55.69704048335552,-21.231281189247966],[55.697051379829645,-21.231286134570837],[55.69709504954517,-21.231320584192872],[55.69710502400994,-21.231325948610902],[55.69716738536954,-21.23136106878519],[55.697242487221956,-21.231387136504054],[55.69728615693748,-21.23143181204796],[55.697287917137146,-21.23143868520856],[55.697290766984224,-21.231472296640277],[55.697290766984224,-21.23148269020021],[55.69731063209474,-21.231517307460308],[55.69732873700559,-21.231528790667653],[55.69737835787237,-21.231548907235265],[55.6973869074136,-21.231559133157134],[55.697408113628626,-21.23158880509436],[55.69742638617754,-21.23160188086331],[55.69743602536619,-21.23160196468234],[55.69749101065099,-21.231632474809885],[55.6975304055959,-21.231659967452288],[55.69754038006067,-21.231661308556795],[55.6975803617388,-21.231673378497362],[55.69764867424965,-21.231702379882336],[55.69769670255482,-21.231741523370147],[55.69774825125933,-21.231804052367806],[55.697800973430276,-21.231854679062963],[55.697803823277354,-21.231863480061293],[55.69782570004463,-21.23188929632306],[55.69786140695214,-21.231929026544094],[55.697895688936114,-21.23195174150169],[55.69791798479855,-21.231970014050603],[55.69794782437384,-21.23201485723257],[55.697986548766494,-21.232029777020216],[55.69798730313778,-21.232035728171468],[55.69798311218619,-21.232035728171468],[55.69798311218619,-21.232035728171468],[55.69798311218619,-21.232035728171468],[55.69795411080122,-21.232042852789164],[55.69796693511307,-21.23208953998983],[55.69796291179955,-21.232160115614533],[55.697983698919415,-21.232186518609524],[55.69802158512175,-21.232206970453262],[55.6980362534523,-21.232204539701343],[55.6980552803725,-21.232211999595165],[55.69804698228836,-21.232221638783813],[55.698043294250965,-21.232226081192493],[55.69804304279387,-21.23222599737346],[55.69808201864362,-21.232219459488988],[55.69811789318919,-21.23220101930201],[55.698185535147786,-21.232227003201842],[55.69818754680455,-21.23223764821887],[55.698190899565816,-21.23223622329533],[55.698198694735765,-21.232241755351424],[55.698201963678,-21.232248041778803],[55.69821487180889,-21.232274528592825],[55.698210429400206,-21.232273187488317],[55.698214368894696,-21.23227327130735],[55.69821537472308,-21.232275115326047],[55.698255775496364,-21.232323981821537],[55.69827061146498,-21.232329681515694],[55.69834856316447,-21.232348792254925],[55.69836993701756,-21.232350803911686],[55.69839525036514,-21.232341499999166],[55.69840354844928,-21.23234225437045],[55.69844520650804,-21.232345942407846],[55.69848317652941,-21.232365304604173],[55.698489379137754,-21.232375111430883],[55.698528438806534,-21.232448117807508],[55.69852433167398,-21.232492122799158],[55.698547046631575,-21.232510479167104],[55.69863103330135,-21.232616510242224],[55.698683923110366,-21.232658587396145],[55.69870613515377,-21.232664790004492],[55.69874418899417,-21.232691947370768],[55.69875382818282,-21.232713405042887],[55.69878241047263,-21.23272287659347],[55.698838820680976,-21.23274148441851],[55.6988565903157,-21.232740143314004],[55.69887419231236,-21.23274282552302],[55.698900846764445,-21.232755482196808],[55.69897293113172,-21.232786159962416],[55.6990413274616,-21.23281038366258],[55.69906957447529,-21.232833936810493],[55.69908474572003,-21.232849610969424],[55.69914626888931,-21.23290518298745],[55.69915750063956,-21.23291431926191],[55.69920536130667,-21.232956228777766],[55.69929152727127,-21.233004592359066],[55.69932413287461,-21.23302537947893],[55.69936688058078,-21.23301607556641],[55.69939797744155,-21.233002245426178],[55.69940241985023,-21.232997132465243],[55.699424128979445,-21.233001658692956],[55.69945556111634,-21.233061673119664],[55.699485735967755,-21.23309620656073],[55.69949671626091,-21.2331133056432],[55.69954524748027,-21.23320324346423],[55.69960408844054,-21.233256049454212],[55.69962462410331,-21.233240123838186],[55.699643986299634,-21.23324414715171],[55.69970492273569,-21.23323299922049],[55.699749514460564,-21.233239201828837],[55.69976803846657,-21.233244985342026],[55.69984808564186,-21.233289912343025],[55.69989142008126,-21.23333165422082],[55.69990927353501,-21.233360236510634],[55.69998915307224,-21.233413545414805],[55.7000707089901,-21.233432153239846],[55.70010515861213,-21.233474733307958],[55.700107254087925,-21.233485713601112],[55.70010591298342,-21.233505913987756],[55.700107254087925,-21.233572466298938],[55.70010733790696,-21.233580177649856],[55.7001222576946,-21.233660141006112],[55.700138099491596,-21.233708672225475],[55.700145810842514,-21.233723675832152],[55.70014941506088,-21.233740942552686],[55.70013877004385,-21.233818642795086],[55.700137093663216,-21.23386382125318],[55.70013910531998,-21.233884440734982],[55.700163412839174,-21.233942359685898],[55.70017296820879,-21.233948227018118],[55.700231809169054,-21.233974378556013],[55.70031990297139,-21.233996925875545],[55.700414115563035,-21.23402902856469],[55.70045988075435,-21.234035985544324],[55.70047681219876,-21.234055934473872],[55.700495252385736,-21.23405392281711],[55.70051930844784,-21.234059538692236],[55.70053179748356,-21.234061466529965],[55.700541101396084,-21.234072614461184],[55.70058938115835,-21.234089378267527],[55.70062500424683,-21.234101951122284],[55.70064092986286,-21.234097592532635],[55.700690634548664,-21.23409499414265],[55.700695076957345,-21.234100023284554],[55.70072751492262,-21.23410999774933],[55.70076682604849,-21.234105471521616],[55.70080513134599,-21.23407831415534],[55.70086229592562,-21.23406263999641],[55.700889620929956,-21.234031543135643],[55.7009063847363,-21.23402014374733],[55.70096891373396,-21.233997428789735],[55.700997496023774,-21.23398787342012],[55.70099489763379,-21.233987035229802],[55.70099498145282,-21.233987202867866],[55.700995149090886,-21.23398787342012],[55.70099531672895,-21.23398787342012],[55.70099540054798,-21.23398787342012],[55.70099548436701,-21.233987538143992],[55.70099548436701,-21.23398745432496],[55.70099548436701,-21.233987119048834],[55.70099540054798,-21.23398695141077],[55.70099422708154,-21.233986783772707],[55.70099296979606,-21.233986783772707],[55.70099011994898,-21.23398695141077],[55.70098349824548,-21.23398259282112],[55.70098467171192,-21.233978234231472],[55.700985342264175,-21.233976557850838],[55.70099447853863,-21.233971444889903],[55.7010099850595,-21.233956860378385],[55.70101015269756,-21.233956525102258],[55.701071340590715,-21.233928445726633],[55.701100593432784,-21.23391168192029],[55.701148957014084,-21.23388578183949],[55.701161278411746,-21.233883686363697],[55.701184244826436,-21.233880752697587],[55.70118742994964,-21.23387019149959],[55.701189022511244,-21.233868096023798],[55.7011981587857,-21.233859295025468],[55.7012792956084,-21.233841525390744],[55.701355235651135,-21.233827443793416],[55.70140242576599,-21.233824929222465],[55.701411897316575,-21.23382610268891],[55.70142530836165,-21.23383247293532],[55.70145866833627,-21.233836160972714],[55.70146721787751,-21.23383448459208],[55.70147316902876,-21.233830796554685],[55.7014901842922,-21.23382274992764],[55.701499907299876,-21.233819732442498],[55.701528154313564,-21.23381881043315],[55.70156151428819,-21.233825096860528],[55.701611218973994,-21.233845129609108],[55.70165690034628,-21.23381730169058],[55.7016646116972,-21.233817469328642],[55.701731918379664,-21.23385208658874],[55.701751532033086,-21.23386139050126],[55.70177759975195,-21.233873292803764],[55.70182495750487,-21.233863988891244],[55.70192554034293,-21.233859043568373],[55.70197650231421,-21.233873795717955],[55.70202880539,-21.233897265046835],[55.70211664773524,-21.233944622799754],[55.70218755863607,-21.23399332165718],[55.7021963596344,-21.23399617150426],[55.702274311333895,-21.234048306941986],[55.70231596939266,-21.234129024669528],[55.702370535582304,-21.234204964712262],[55.70243155583739,-21.234247125685215],[55.70250179618597,-21.234298003837466],[55.70253540761769,-21.234289286658168],[55.702556278556585,-21.23428744263947],[55.70262207649648,-21.234290041029453],[55.70267966017127,-21.234280485659838],[55.702688125893474,-21.234264811500907],[55.70273422636092,-21.234224746003747],[55.70279600098729,-21.23422432690859],[55.70286221802235,-21.234221309423447],[55.702944779768586,-21.234172778204083],[55.703045362606645,-21.23414620757103],[55.703066904097795,-21.23414872214198],[55.70307679474354,-21.234179651364684],[55.7031253259629,-21.234207982197404],[55.703168073669076,-21.234249640256166],[55.703202271834016,-21.234274031594396],[55.7032532338053,-21.234274618327618],[55.703319953754544,-21.234312253072858],[55.703325821086764,-21.234316444024444],[55.703354235738516,-21.23433622531593],[55.70341986604035,-21.23437880538404],[55.703469570726156,-21.2343739438802],[55.703492453321815,-21.23440478928387],[55.70351315662265,-21.234445357695222],[55.703550204634666,-21.23444091528654],[55.70358172059059,-21.23443161137402],[55.70361843332648,-21.2344275880605],[55.70369546301663,-21.23443739488721],[55.70373795926571,-21.23447402380407],[55.70374055765569,-21.23448525555432],[55.70374055765569,-21.234485171735287],[55.70374131202698,-21.234485004097223],[55.703743658959866,-21.23448492027819],[55.70378263480961,-21.234512412920594],[55.70381138473749,-21.23452347703278],[55.70393208414316,-21.234514256939292],[55.70398706942797,-21.23451710678637],[55.70405890233815,-21.234547197818756],[55.7041303999722,-21.23456161469221],[55.704159485176206,-21.2345845811069],[55.704189240932465,-21.234589274972677],[55.70418613962829,-21.23459137044847],[55.70418798364699,-21.234594974666834],[55.70418798364699,-21.234594974666834],[55.7042340002954,-21.23460503295064],[55.704248417168856,-21.23460696078837],[55.70435562171042,-21.23463235795498],[55.70442167110741,-21.234670411795378],[55.70445980876684,-21.23469404876232],[55.70451487787068,-21.234742160886526],[55.70454999804497,-21.23477317392826],[55.704552847892046,-21.234779208898544],[55.70455804467201,-21.234816843643785],[55.70456827059388,-21.234825812280178],[55.70460615679622,-21.234844587743282],[55.704624680802226,-21.234884904697537],[55.7046312186867,-21.23490460216999],[55.704634655267,-21.234913738444448],[55.70465426892042,-21.23494760133326],[55.704666171222925,-21.234974758699536],[55.70468637160957,-21.23498171567917],[55.704693999141455,-21.23497693799436],[55.704694921150804,-21.234973752871156],[55.70469483733177,-21.234973752871156],[55.70469483733177,-21.234973752871156],[55.70469483733177,-21.234973752871156],[55.704708248376846,-21.234953217208385],[55.70475837215781,-21.23494701460004],[55.70483850315213,-21.234933268278837],[55.704908072948456,-21.234943997114897],[55.70492383092642,-21.234950367361307],[55.704952077940106,-21.234959671273828],[55.70498828776181,-21.234963610768318],[55.705015026032925,-21.234970148652792],[55.70501904934645,-21.235013147816062],[55.70504494942725,-21.235024966299534],[55.70506087504327,-21.235019182786345],[55.70510328747332,-21.23501884751022],[55.70514293387532,-21.235028989613056],[55.70518987253308,-21.235048854723573],[55.70523865520954,-21.235021445900202],[55.70530210621655,-21.235016752034426],[55.70536798797548,-21.23501742258668],[55.70539363659918,-21.23501406982541],[55.705430349335074,-21.235023960471153],[55.705370334908366,-21.235009375959635],[55.70528416894376,-21.235018679872155],[55.70522700436413,-21.2350301630795],[55.70522289723158,-21.235031504184008],[55.70521174930036,-21.235028905794024],[55.70520303212106,-21.23503996990621],[55.705186519771814,-21.2350491899997],[55.70515911094844,-21.235037874430418],[55.705158188939095,-21.23503804206848],[55.705155758187175,-21.23503695242107],[55.705154752358794,-21.235036198049784],[55.705154752358794,-21.235036198049784],[55.70515651255846,-21.235036198049784],[55.70515709929168,-21.235035862773657],[55.70515785366297,-21.235034856945276],[55.70526170544326,-21.235023541375995],[55.70537653751671,-21.234999569132924],[55.70542129687965,-21.235004598274827],[55.705493381246924,-21.235016668215394],[55.705525232478976,-21.235033767297864],[55.705538811162114,-21.235051369294524],[55.70554652251303,-21.23509906232357],[55.70558910258114,-21.235140888020396],[55.70560452528298,-21.235149102285504],[55.705648362636566,-21.235160753130913],[55.705692283809185,-21.235207691788673],[55.70570535957813,-21.235230155289173],[55.705731343477964,-21.23524960130453],[55.70574986748397,-21.235274747014046],[55.705777779221535,-21.235298719257116],[55.70580736733973,-21.23533266596496],[55.705841816961765,-21.235354458913207],[55.70586210116744,-21.23538924381137],[55.70588791742921,-21.23541128821671],[55.7059071958065,-21.23540843836963],[55.705934688448906,-21.235422855243087],[55.70590887218714,-21.235459484159946],[55.70590761490166,-21.235461747273803],[55.70593058131635,-21.235488653182983],[55.705989925190806,-21.23550122603774],[55.70602051913738,-21.23551296070218],[55.70607868954539,-21.23553056269884],[55.70611657574773,-21.235563503578305],[55.70610978640616,-21.235576663166285],[55.706106182187796,-21.235614717006683],[55.706106098368764,-21.235643969848752],[55.70610970258713,-21.235658805817366],[55.706128561869264,-21.235677413642406],[55.70613979361951,-21.23568973504007],[55.706193940714,-21.235675234347582],[55.7062285579741,-21.235664002597332],[55.706255631521344,-21.235656375065446],[55.70629988797009,-21.235657380893826],[55.7063477486372,-21.23566383495927],[55.706421844661236,-21.23567129485309],[55.706480937078595,-21.235653776675463],[55.70649920962751,-21.235668193548918],[55.70651253685355,-21.2356829456985],[55.70652083493769,-21.235719239339232],[55.70652385242283,-21.235781516879797],[55.70654070004821,-21.23584220185876],[55.70654371753335,-21.235848488286138],[55.70654522627592,-21.235862150788307],[55.70654480718076,-21.235879166051745],[55.70656760595739,-21.23589450493455],[55.70657020434737,-21.235893918201327],[55.70658730342984,-21.235933396965265],[55.70660096593201,-21.235958375036716],[55.70664010941982,-21.23597522266209],[55.70668721571565,-21.23600891791284],[55.706738010048866,-21.236048312857747],[55.706763407215476,-21.236092317849398],[55.70677053183317,-21.236111763864756],[55.70676960982382,-21.236136574298143],[55.70677639916539,-21.236171275377274],[55.70678134448826,-21.236192397773266],[55.70679349824786,-21.2362337205559],[55.706799030303955,-21.236244030296803],[55.70681638084352,-21.23626389540732],[55.70681822486222,-21.23628493398428],[55.70681889541447,-21.236285688355565],[55.70681889541447,-21.236284263432026],[55.70681881159544,-21.23628350906074],[55.706818057224154,-21.236282670870423],[55.706815710291266,-21.23628158122301],[55.70681537501514,-21.236280743032694],[55.70681537501514,-21.23628007248044],[55.70681537501514,-21.23627965338528],[55.70681537501514,-21.23627613298595],[55.70681478828192,-21.236274372786283],[55.70681034587324,-21.23627227731049],[55.706810262054205,-21.236272109672427],[55.70680674165487,-21.236266661435366],[55.70680699311197,-21.236280826851726],[55.70680774748325,-21.236290549859405],[55.70681453682482,-21.23631276190281],[55.70687488652766,-21.23638861812651],[55.70692232809961,-21.23642809689045],[55.70697672665119,-21.236447542905807],[55.70701134391129,-21.236458020284772],[55.70702408440411,-21.236466066911817],[55.70702785626054,-21.236474448814988],[55.7070486433804,-21.236498169600964],[55.70704688318074,-21.236508479341865],[55.70703883655369,-21.23653362505138],[55.70703808218241,-21.236541336402297],[55.70703472942114,-21.23654929921031],[55.70703053846955,-21.236546030268073],[55.7070348970592,-21.23654443770647],[55.707035064697266,-21.23654443770647],[55.70703531615436,-21.236542761325836],[55.70703539997339,-21.23654142022133],[55.70703531615436,-21.236541084945202],[55.70703523233533,-21.23654091730714],[55.7070351485163,-21.23654058203101],[55.7070351485163,-21.236543264240026],[55.70707303471863,-21.236591460183263],[55.70710580796003,-21.236659605056047],[55.70710865780711,-21.23666614294052],[55.70711016654968,-21.23667737469077],[55.707110334187746,-21.236686259508133],[55.70710429921746,-21.23669338412583],[55.70711477659643,-21.236732862889767],[55.70712408050895,-21.236740490421653],[55.707130786031485,-21.236751219257712],[55.7071387488395,-21.23674769885838],[55.70720027200878,-21.236738646402955],[55.70723698474467,-21.23673881404102],[55.70726011879742,-21.236744429916143],[55.70729280821979,-21.23673596419394],[55.70733522064984,-21.23673001304269],[55.70739137940109,-21.236742669716477],[55.707456171512604,-21.236735712736845],[55.70752792060375,-21.236731689423323],[55.70755164138973,-21.23672464862466],[55.70760704576969,-21.236701430752873],[55.70771978236735,-21.236707968637347],[55.7078137435019,-21.23671442270279],[55.707857832312584,-21.236697491258383],[55.70788197219372,-21.236701933667064],[55.70796268992126,-21.236698077991605],[55.708030415698886,-21.23668994754553],[55.708051873371005,-21.23669640161097],[55.708064027130604,-21.236707884818316],[55.70808003656566,-21.236718194559216],[55.708115827292204,-21.236736299470067],[55.70814742706716,-21.236753817647696],[55.708164693787694,-21.236786590889096],[55.70816318504512,-21.236810479313135],[55.70817860774696,-21.23680930584669],[55.7082299888134,-21.236809892579913],[55.70824692025781,-21.2368019297719],[55.70827441290021,-21.23680477961898],[55.70832621306181,-21.23682154342532],[55.708374409005046,-21.23685322701931],[55.70838228799403,-21.23687325976789],[55.708428639918566,-21.23688113875687],[55.70848655886948,-21.236902764067054],[55.70853617973626,-21.23693771660328],[55.708564510568976,-21.236952636390924],[55.708597619086504,-21.23694903217256],[55.708638271316886,-21.23693478293717],[55.70864539593458,-21.236930759623647],[55.70866048336029,-21.236923215910792],[55.70869551971555,-21.236924724653363],[55.708692921325564,-21.236929753795266],[55.70870264433324,-21.2369348667562],[55.70872996933758,-21.23694266192615],[55.708763748407364,-21.23694257810712],[55.70879149250686,-21.236944338306785],[55.708800964057446,-21.236944757401943],[55.708849830552936,-21.236930089071393],[55.708868438377976,-21.236926820129156],[55.70892627350986,-21.236923383548856],[55.70896625518799,-21.236918019130826],[55.70898343808949,-21.23691625893116],[55.708992993459105,-21.236915169283748],[55.709055019542575,-21.23693386092782],[55.7090830989182,-21.236939392983913],[55.70909986272454,-21.23693914152682],[55.709145963191986,-21.23692941851914],[55.709175718948245,-21.236936962231994],[55.70921930484474,-21.236958587542176],[55.709290970116854,-21.236955150961876],[55.70936028845608,-21.2369435839355],[55.70937721990049,-21.236959090456367],[55.70938023738563,-21.236975602805614],[55.70938719436526,-21.236988427117467],[55.70938853546977,-21.236990857869387],[55.70946925319731,-21.237016590312123],[55.709533374756575,-21.237061098217964],[55.70957159623504,-21.237079119309783],[55.70957972668111,-21.2370799575001],[55.70965491235256,-21.23708783648908],[55.70970662869513,-21.237099738791585],[55.70977904833853,-21.23710493557155],[55.709788016974926,-21.237110383808613],[55.70982933975756,-21.237132428213954],[55.70986982434988,-21.237101079896092],[55.70989212021232,-21.237098900601268],[55.70993176661432,-21.237112479284406],[55.70994031615555,-21.237134356051683],[55.709946267306805,-21.23713955283165],[55.7099880091846,-21.237134775146842],[55.710025476291776,-21.237152544781566],[55.71006671525538,-21.237156316637993],[55.71011893451214,-21.237195376306772],[55.71015908382833,-21.237199315801263],[55.710200825706124,-21.23720551840961],[55.71023971773684,-21.23722119256854],[55.710277017205954,-21.237247344106436],[55.71028238162398,-21.237253043800592],[55.71030719205737,-21.23725773766637],[55.7103487662971,-21.23727005906403],[55.71039889007807,-21.237295540049672],[55.71041414514184,-21.237307358533144],[55.71044448763132,-21.237309621647],[55.71046644821763,-21.237309454008937],[55.710519924759865,-21.237308951094747],[55.710548758506775,-21.237335270270705],[55.71057834662497,-21.237344155088067],[55.710634253919125,-21.237397212535143],[55.71065411902964,-21.23739813454449],[55.71065805852413,-21.237399391829967],[55.71069301106036,-21.23740685172379],[55.71073374710977,-21.237425711005926],[55.71077683009207,-21.23741900548339],[55.71080516092479,-21.237400649115443],[55.71084816008806,-21.237380281090736],[55.7108926679939,-21.23736385256052],[55.71091647259891,-21.237366199493408],[55.71095326915383,-21.23735404573381],[55.7110018003732,-21.237332671880722],[55.7110551930964,-21.23732873238623],[55.71106935851276,-21.237335186451674],[55.71113683283329,-21.237351279705763],[55.711189890280366,-21.23737164773047],[55.711217634379864,-21.237384639680386],[55.71125962771475,-21.237408444285393],[55.71130136959255,-21.237417412921786],[55.71133967489004,-21.23742436990142],[55.71141226217151,-21.237454544752836],[55.71149054914713,-21.23746644705534],[55.71153899654746,-21.237488826736808],[55.71155115030706,-21.237488156184554],[55.71156305260956,-21.23749033547938],[55.71160186082125,-21.237510535866022],[55.711662797257304,-21.237538950517774],[55.71168442256749,-21.237548841163516],[55.71176178753376,-21.237570382654667],[55.7118097320199,-21.237614890560508],[55.711825573816895,-21.237636348232627],[55.71185273118317,-21.237636348232627],[55.71186186745763,-21.237634923309088],[55.71189355105162,-21.237630397081375],[55.711936047300696,-21.23763022944331],[55.71195079945028,-21.237622601911426],[55.71201969869435,-21.23760080896318],[55.71206320077181,-21.23761002905667],[55.71207409724593,-21.237622601911426],[55.712105529382825,-21.237618075683713],[55.71215221658349,-21.237621679902077],[55.71218037977815,-21.23762922361493],[55.7122534699738,-21.2376257032156],[55.71229303255677,-21.237620087340474],[55.71234583854675,-21.237616650760174],[55.7123779412359,-21.237630480900407],[55.71239554323256,-21.237636683508754],[55.71244700811803,-21.237640790641308],[55.71251037530601,-21.237637186422944],[55.71251900866628,-21.23763299547136],[55.712539376690984,-21.237626876682043],[55.712573155760765,-21.237608771771193],[55.712582962587476,-21.23760910704732],[55.71267306804657,-21.23759301379323],[55.712746158242226,-21.237578513100743],[55.71277767419815,-21.23758471570909],[55.71279879659414,-21.237592259421945],[55.712823271751404,-21.237597623839974],[55.71289577521384,-21.23762679286301],[55.71294807828963,-21.237650346010923],[55.712973810732365,-21.23764531686902],[55.712980683892965,-21.237644562497735],[55.71300029754639,-21.237653782591224],[55.71300029754639,-21.237653782591224],[55.7130185700953,-21.23770348727703],[55.71303625591099,-21.23774640262127],[55.71306240744889,-21.23777481727302],[55.7130962703377,-21.237823767587543],[55.7131359167397,-21.237855535000563],[55.71314128115773,-21.237858720123768],[55.71318511851132,-21.237882943823934],[55.71319450624287,-21.237886799499393],[55.713233230635524,-21.237905407324433],[55.71328083984554,-21.237948406487703],[55.71334898471832,-21.237970450893044],[55.71335518732667,-21.23797656968236],[55.713397432118654,-21.237987969070673],[55.71344311349094,-21.237998949363828],[55.71346021257341,-21.238016048446298],[55.713523998856544,-21.238064328208566],[55.71353849954903,-21.238076984882355],[55.71359767578542,-21.238095425069332],[55.71361552923918,-21.23811881057918],[55.713622234761715,-21.238131215795875],[55.713661881163716,-21.238175304606557],[55.71368736214936,-21.23820128850639],[55.71371954865754,-21.238214364275336],[55.7137231528759,-21.238214448094368],[55.71375651285052,-21.238230541348457],[55.713811330497265,-21.23824244365096],[55.713886097073555,-21.23823649249971],[55.71395491249859,-21.23823548667133],[55.71395918726921,-21.238228026777506],[55.713977124542,-21.238213945180178],[55.71399766020477,-21.238198773935437],[55.71408960968256,-21.238212855532765],[55.71418197825551,-21.23823263682425],[55.714209135621786,-21.23822576366365],[55.71424651890993,-21.23820673674345],[55.71427174843848,-21.2381989415735],[55.7142876740545,-21.238206988200545],[55.71434995159507,-21.238246047869325],[55.71442807093263,-21.23827563598752],[55.714437207207084,-21.238279240205884],[55.71444592438638,-21.238283598795533],[55.71450065821409,-21.238294998183846],[55.714564863592386,-21.23831477947533],[55.71463426575065,-21.23830681666732],[55.7146764267236,-21.238347720354795],[55.71469436399639,-21.23837781138718],[55.71471557021141,-21.238398011773825],[55.714779356494546,-21.238409746438265],[55.71486124768853,-21.238422989845276],[55.71491396985948,-21.238400023430586],[55.71492159739137,-21.238399604335427],[55.715005500242114,-21.23842952772975],[55.71508252993226,-21.238461127504706],[55.71510247886181,-21.23846758157015],[55.715126283466816,-21.238454589620233],[55.715134497731924,-21.23844570480287],[55.71517003700137,-21.238446794450283],[55.7151788379997,-21.238450398668647],[55.715193673968315,-21.238454086706042],[55.71523583494127,-21.238462636247277],[55.71530339308083,-21.238471185788512],[55.71532350964844,-21.23848618939519],[55.71535988710821,-21.238494403660297],[55.71537799201906,-21.238499181345105],[55.715403724461794,-21.238485937938094],[55.71542459540069,-21.23847210779786],[55.71542099118233,-21.238475712016225],[55.71542157791555,-21.2384735327214],[55.71542166173458,-21.23846422880888],[55.71542166173458,-21.23846422880888],[55.71542166173458,-21.23846422880888],[55.71542166173458,-21.23846422880888],[55.715426690876484,-21.238460540771484],[55.715428199619055,-21.238458696752787],[55.715430127456784,-21.238455176353455],[55.7154431194067,-21.238445788621902],[55.715492237359285,-21.23843690380454],[55.71554462425411,-21.23842810280621],[55.7156001124531,-21.238410165533423],[55.715639842674136,-21.238415194675326],[55.71566389873624,-21.23840463347733],[55.7156934030354,-21.238399855792522],[55.71569952182472,-21.238398430868983],[55.71576867252588,-21.238399352878332],[55.71582139469683,-21.238391138613224],[55.71586632169783,-21.238392563536763],[55.71588576771319,-21.238395497202873],[55.71593941189349,-21.23840169981122],[55.71599137969315,-21.238392144441605],[55.716045862063766,-21.23839046806097],[55.716085927560925,-21.238392312079668],[55.716150468215346,-21.238403460010886],[55.71619221009314,-21.238423492759466],[55.71620335802436,-21.238423995673656],[55.71623135358095,-21.238407818600535],[55.71626856923103,-21.238436233252287],[55.716275023296475,-21.23844511806965],[55.71631425060332,-21.238446794450283],[55.71633487008512,-21.238453835248947],[55.71634040214121,-21.2384545058012],[55.716365883126855,-21.238457188010216],[55.71638432331383,-21.238456768915057],[55.716445511206985,-21.238438077270985],[55.71649303659797,-21.23842718079686],[55.71657786145806,-21.23841779306531],[55.716658076271415,-21.23840128071606],[55.71667064912617,-21.23840027488768],[55.716713313013315,-21.238408405333757],[55.71675891056657,-21.238433802500367],[55.7167901750654,-21.23843095265329],[55.71680878289044,-21.23842324130237],[55.71681356057525,-21.238435646519065],[55.716816410422325,-21.238443106412888],[55.71684926748276,-21.2384441960603],[55.716850105673075,-21.23844377696514],[55.71689050644636,-21.238446459174156],[55.71698379702866,-21.23847981914878],[55.717031825333834,-21.238498091697693],[55.717050014063716,-21.238516867160797],[55.71708144620061,-21.238534888252616],[55.71711019612849,-21.238542515784502],[55.71716878563166,-21.23854637145996],[55.71724338456988,-21.238559698686004],[55.717292334884405,-21.238583168014884],[55.71733650751412,-21.23858341947198],[55.71735754609108,-21.238584341481328],[55.717431055381894,-21.238571349531412],[55.71752903982997,-21.238590041175485],[55.717559130862355,-21.238583587110043],[55.71761520579457,-21.23858191072941],[55.71767429821193,-21.238575037568808],[55.71768695488572,-21.238574367016554],[55.717711094766855,-21.238584341481328],[55.7177727855742,-21.238589202985168],[55.71781788021326,-21.238607140257955],[55.717824418097734,-21.238607224076986],[55.717889964580536,-21.238613929599524],[55.717912847176194,-21.23862155713141],[55.71793514303863,-21.238619294017553],[55.71794210001826,-21.238623233512044],[55.717981243506074,-21.23864251188934],[55.71800027042627,-21.238653156906366],[55.718028685078025,-21.23867092654109],[55.718073612079024,-21.23868014663458],[55.718153240159154,-21.238697413355112],[55.71819012053311,-21.238693725317717],[55.7182078063488,-21.238717613741755],[55.71825868450105,-21.23872767202556],[55.71826631203294,-21.23874275945127],[55.71826379746199,-21.238739658147097],[55.7182786334306,-21.23873739503324],[55.7183029409498,-21.238749297335744],[55.71836069226265,-21.238787434995174],[55.71841643191874,-21.238780142739415],[55.71843395009637,-21.238788440823555],[55.71848281659186,-21.238808808848262],[55.71852539665997,-21.238855831325054],[55.71860049851239,-21.23887519352138],[55.71868138387799,-21.238914420828223],[55.71870041079819,-21.238975524902344],[55.71873368695378,-21.23897192068398],[55.71877500973642,-21.239000586792827],[55.718816919252276,-21.239033779129386],[55.718834437429905,-21.239038221538067],[55.71888942271471,-21.239047525450587],[55.71894281543791,-21.23907459899783],[55.71896133944392,-21.23911801725626],[55.718984389677644,-21.23915020376444],[55.7189832162112,-21.239178366959095],[55.71899067610502,-21.239182306453586],[55.71901607327163,-21.23919772915542],[55.71903300471604,-21.239232094958425],[55.71903535164893,-21.239245422184467],[55.71903593838215,-21.239254558458924],[55.71903560310602,-21.23926511965692],[55.71903878822923,-21.239272160455585],[55.719035686925054,-21.239302838221192],[55.7190418895334,-21.23934759758413],[55.71905069053173,-21.239402582868934],[55.7190677896142,-21.239424208179116],[55.71907030418515,-21.239454299211502],[55.7191024068743,-21.239490006119013],[55.71912243962288,-21.23953375965357],[55.71912579238415,-21.239551194012165],[55.71913769468665,-21.23956116847694],[55.71914833970368,-21.23956468887627],[55.71919854730368,-21.239593271166086],[55.719243474304676,-21.239600395783782],[55.719254203140736,-21.239630989730358],[55.719266859814525,-21.239646328613162],[55.719287395477295,-21.239664684981108],[55.719295274466276,-21.239678179845214],[55.719307428225875,-21.23968488536775],[55.7193199172616,-21.239696117118],[55.71934137493372,-21.23970542103052],[55.7193561270833,-21.23972780071199],[55.71936232969165,-21.239730063825846],[55.7193648442626,-21.239728974178433],[55.71939066052437,-21.239729141816497],[55.71941647678614,-21.239716820418835],[55.71944547817111,-21.239689998328686],[55.71945880539715,-21.23968723230064],[55.71945981122553,-21.239685136824846],[55.71946559473872,-21.239654626697302],[55.719478419050574,-21.239659655839205],[55.71949568577111,-21.239676754921675],[55.719498032703996,-21.239678682759404],[55.719498032703996,-21.239678682759404],[55.719498032703996,-21.239680526778102],[55.71952116675675,-21.239686980843544],[55.71961504407227,-21.239706426858902],[55.71962920948863,-21.23971656896174],[55.71970582008362,-21.239746492356062],[55.7197292894125,-21.23976744711399],[55.719758961349726,-21.239782450720668],[55.71977731771767,-21.239795358851552],[55.719797518104315,-21.239826707169414],[55.71980028413236,-21.239836430177093],[55.71982408873737,-21.239883117377758],[55.719842445105314,-21.23990365304053],[55.719853257760406,-21.239910945296288],[55.71988946758211,-21.239975737407804],[55.719908410683274,-21.24002108350396],[55.719922073185444,-21.240038936957717],[55.71993565186858,-21.24005955643952],[55.71993665769696,-21.240066848695278],[55.71993548423052,-21.240079253911972],[55.71991997770965,-21.240092581138015],[55.719925090670586,-21.2400933355093],[55.71993908844888,-21.24010305851698],[55.719946548342705,-21.240112613886595],[55.71994738653302,-21.240117056295276],[55.71994579397142,-21.240130802616477],[55.71995669044554,-21.240146392956376],[55.71996817365289,-21.240160893648863],[55.72001754306257,-21.24019492417574],[55.720061883330345,-21.240191655233502],[55.72009599767625,-21.240190649405122],[55.72013346478343,-21.240195343270898],[55.72013581171632,-21.240198779851198],[55.72015877813101,-21.240203473716974],[55.720220720395446,-21.24021990224719],[55.720224659889936,-21.240214789286256],[55.72022717446089,-21.24021789059043],[55.72022717446089,-21.240216130390763],[55.72023639455438,-21.24021311290562],[55.72023815475404,-21.240220153704286],[55.720238825306296,-21.24023071490228],[55.72026330046356,-21.240262649953365],[55.72030344977975,-21.240298356860876],[55.72032046504319,-21.24032534658909],[55.72032406926155,-21.240340853109956],[55.72033379226923,-21.240364825353026],[55.720348209142685,-21.240380834788084],[55.72036740370095,-21.2404318805784],[55.720379473641515,-21.24044319614768],[55.7203976623714,-21.240459624677896],[55.72040646336973,-21.24048720113933],[55.72040176950395,-21.24049600213766],[55.72040470317006,-21.240562554448843],[55.72040470317006,-21.240562554448843],[55.72042414918542,-21.240588203072548],[55.72045457549393,-21.2406234908849],[55.72046270594001,-21.240625334903598],[55.7205044478178,-21.240653162822127],[55.72054199874401,-21.240714015439153],[55.72057485580444,-21.24072466045618],[55.72059723548591,-21.240723403170705],[55.720641911029816,-21.240759026259184],[55.72066412307322,-21.240772353485227],[55.72068030014634,-21.24076765961945],[55.72072715498507,-21.24074377119541],[55.72076680138707,-21.240735556930304],[55.72079228237271,-21.240755757316947],[55.72087140753865,-21.240778220817447],[55.72094935923815,-21.240801187232137],[55.720993699505925,-21.24081744812429],[55.72100560180843,-21.240819543600082],[55.721034770831466,-21.240862207487226],[55.72103493846953,-21.240874445065856],[55.721028316766024,-21.24090000987053],[55.72104524821043,-21.240924149751663],[55.721056731417775,-21.240914510563016],[55.721064526587725,-21.240909146144986],[55.72110735811293,-21.24093856662512],[55.721115404739976,-21.240941332653165],[55.721142226830125,-21.24096354469657],[55.721184303984046,-21.240987181663513],[55.72126124985516,-21.241011573001742],[55.721267284825444,-21.241040490567684],[55.72125840000808,-21.241066977381706],[55.721261417493224,-21.24107016250491],[55.7212679553777,-21.241082483902574],[55.72127843275666,-21.241083657369018],[55.72128061205149,-21.24108566902578],[55.72128186933696,-21.241093380376697],[55.72129754349589,-21.241099080070853],[55.72130089625716,-21.241109892725945],[55.721332831308246,-21.24116445891559],[55.72139075025916,-21.24121709726751],[55.721436431631446,-21.241271076723933],[55.72143852710724,-21.241326984018087],[55.72143944911659,-21.241337964311242],[55.72143626399338,-21.241399236023426],[55.72143215686083,-21.24145028181374],[55.72142452932894,-21.24145857989788],[55.721403155475855,-21.24148439615965],[55.72139594703913,-21.24149478971958],[55.72140650823712,-21.24152848497033],[55.72140474803746,-21.241564946249127],[55.72139753960073,-21.241570562124252],[55.721396366134286,-21.241597970947623],[55.721401143819094,-21.241616578772664],[55.72139653377235,-21.241651950404048],[55.72139703668654,-21.241663014516234],[55.72140047326684,-21.24167114496231],[55.72141614742577,-21.2417234480381],[55.72142452932894,-21.241782624274492],[55.72142696008086,-21.241833167150617],[55.721429055556655,-21.241838615387678],[55.72142260149121,-21.24185387045145],[55.72140784934163,-21.24188371002674],[55.721398796886206,-21.24191589653492],[55.72139158844948,-21.24193358235061],[55.721393348649144,-21.241957806050777],[55.72140650823712,-21.241990830749273],[55.721404077485204,-21.24199854210019],[55.72140256874263,-21.242031315341592],[55.721393851563334,-21.24206501059234],[55.72140055708587,-21.242098370566964],[55.721396282315254,-21.242137430235744],[55.72137113660574,-21.242172215133905],[55.72138303890824,-21.242210688069463],[55.72137306444347,-21.24222418293357],[55.72137440554798,-21.242223931476474],[55.721374321728945,-21.24221697449684],[55.72141421958804,-21.242285622283816],[55.721422769129276,-21.242342200130224],[55.721421763300896,-21.242351504042745],[55.72142578661442,-21.2423831038177],[55.72143458761275,-21.242400454357266],[55.72144749574363,-21.242447812110186],[55.721420757472515,-21.24248712323606],[55.72139762341976,-21.2425057310611],[55.721400221809745,-21.242516124621034],[55.72138890624046,-21.242529954761267],[55.721389492973685,-21.24253406189382],[55.721364514902234,-21.242566080763936],[55.721361581236124,-21.2425696849823],[55.721349930390716,-21.24260053038597],[55.72134590707719,-21.242650067433715],[55.72131439112127,-21.24267336912453],[55.72129553183913,-21.242676386609674],[55.72128622792661,-21.242677811533213],[55.721279606223106,-21.242697341367602],[55.7213007286191,-21.242719050496817],[55.72132654488087,-21.242764061316848],[55.72135420516133,-21.242815107107162],[55.72136250324547,-21.24286380596459],[55.72136024013162,-21.24288677237928],[55.72138136252761,-21.242967657744884],[55.72138966061175,-21.24300353229046],[55.72138672694564,-21.243015937507153],[55.721394354477525,-21.24303345568478],[55.72139318101108,-21.24305726028979],[55.72137717157602,-21.243108054623008],[55.721360659226775,-21.24315558001399],[55.72134833782911,-21.243179887533188],[55.72131883352995,-21.243208553642035],[55.7213179115206,-21.243213331326842],[55.72129167616367,-21.2432155944407],[55.72123912163079,-21.24324358999729],[55.721238953992724,-21.243246607482433],[55.72124079801142,-21.2432465236634],[55.721238953992724,-21.2432465236634],[55.72123375721276,-21.24324643984437],[55.721227722242475,-21.24324685893953],[55.72122747078538,-21.24324685893953],[55.72122068144381,-21.24324602074921],[55.72120785713196,-21.243242751806974],[55.72118111886084,-21.243240823969245],[55.72115572169423,-21.243240404874086],[55.72107014246285,-21.24323520809412],[55.721038207411766,-21.24325322918594],[55.721030831336975,-21.243257923051715],[55.72100761346519,-21.24326949007809],[55.72099395096302,-21.24327485449612],[55.720962854102254,-21.243278374895453],[55.72093863040209,-21.2432932946831],[55.72092588990927,-21.243294049054384],[55.72091809473932,-21.243302263319492],[55.72088163346052,-21.243334114551544],[55.720867635682225,-21.243344340473413],[55.720859253779054,-21.243359008803964],[55.720843160524964,-21.24338708817959],[55.72083913721144,-21.243396811187267],[55.72080393321812,-21.243432015180588],[55.720763113349676,-21.24342380091548],[55.72070905007422,-21.243431009352207],[55.72070963680744,-21.243423717096448],[55.72071575559676,-21.243426650762558],[55.7207222096622,-21.24343109317124],[55.720721958205104,-21.24342774040997],[55.720721958205104,-21.24342774040997],[55.720721958205104,-21.243434278294444],[55.72072044946253,-21.243451293557882],[55.72071818634868,-21.243453305214643],[55.720706870779395,-21.243453389033675],[55.720675606280565,-21.243473337963223],[55.720670744776726,-21.243476690724492],[55.7206497900188,-21.24349026940763],[55.72065515443683,-21.243523126468062],[55.72061073035002,-21.243596132844687],[55.72057125158608,-21.243623793125153],[55.72056161239743,-21.24363100156188],[55.72050889022648,-21.24365891329944],[55.72048483416438,-21.24366570264101],[55.72047150693834,-21.243659500032663],[55.720438063144684,-21.243640976026654],[55.720400009304285,-21.243611136451364],[55.720369750633836,-21.24360074289143],[55.72034854441881,-21.243596049025655],[55.72032222524285,-21.243605855852365],[55.720311580225825,-21.243605436757207],[55.720294984057546,-21.243615159764886],[55.72026799432933,-21.243614153936505],[55.72023413144052,-21.24361147172749],[55.72020479477942,-21.2436178419739],[55.72021736763418,-21.243649693205953],[55.72018786333501,-21.24368816614151],[55.72019490413368,-21.243722615763545],[55.7201973348856,-21.243727141991258],[55.720201190561056,-21.24374683946371],[55.720204124227166,-21.24374927021563],[55.72020613588393,-21.2437629327178],[55.7202076446265,-21.243771817535162],[55.720205968245864,-21.24380157329142],[55.720203621312976,-21.243848679587245],[55.72021409869194,-21.243892265483737],[55.72021569125354,-21.24390014447272],[55.720217786729336,-21.243921518325806],[55.72021552361548,-21.243931660428643],[55.72021049447358,-21.243955297395587],[55.72022926993668,-21.2439925968647],[55.72024192661047,-21.244039284065366],[55.72025475092232,-21.244089575484395],[55.72025852277875,-21.244103657081723],[55.7202610373497,-21.244120001792908],[55.72023664601147,-21.244167778640985],[55.720198675990105,-21.244198456406593],[55.72018526494503,-21.244253190234303],[55.72017076425254,-21.244326531887054],[55.720149306580424,-21.244384786114097],[55.72014478035271,-21.24440792016685],[55.72013044729829,-21.244436837732792],[55.72013480588794,-21.244466761127114],[55.72013623081148,-21.24448411166668],[55.72011242620647,-21.244552927091718],[55.72009105235338,-21.244620820507407],[55.72008426301181,-21.244656443595886],[55.720058949664235,-21.24466683715582],[55.72003757581115,-21.244670525193214],[55.7200588658452,-21.24468737281859],[55.720064816996455,-21.244687037542462],[55.720105888321996,-21.244705393910408],[55.72012751363218,-21.24472936615348],[55.72015165351331,-21.24476063065231],[55.72018199600279,-21.24480413272977],[55.72017436847091,-21.244866577908397],[55.720186522230506,-21.2449355609715],[55.72018710896373,-21.244988618418574],[55.72017294354737,-21.24502264894545],[55.720145367085934,-21.245070341974497],[55.72013975121081,-21.245087860152125],[55.720132794231176,-21.245097164064646],[55.72013296186924,-21.245127758011222],[55.72011888027191,-21.245144521817565],[55.72010127827525,-21.24517939053476],[55.72009675204754,-21.245184503495693],[55.720055513083935,-21.245213756337762],[55.72004746645689,-21.245216773822904],[55.720024248585105,-21.245231442153454],[55.72001310065389,-21.245238734409213],[55.72000966407359,-21.2452429253608],[55.71997596882284,-21.245246613398194],[55.719930371269584,-21.24523068778217],[55.71989701129496,-21.2452307716012],[55.71986113674939,-21.245237309485674],[55.71985057555139,-21.245243260636926],[55.71981101296842,-21.245239907875657],[55.7197551894933,-21.24526589177549],[55.71972048841417,-21.2452722620219],[55.71968872100115,-21.245293468236923],[55.71965544484556,-21.245325738564134],[55.719614792615175,-21.245362032204866],[55.719582522287965,-21.24539941549301],[55.719566848129034,-21.245438307523727],[55.7195392716676,-21.245460603386164],[55.71951588615775,-21.24547854065895],[55.719515047967434,-21.245475187897682],[55.719515047967434,-21.245475187897682],[55.719515634700656,-21.245502764359117],[55.71943718008697,-21.24554551206529],[55.71940700523555,-21.24556546099484],[55.71940574795008,-21.245564371347427],[55.71940574795008,-21.245564371347427],[55.71940574795008,-21.245564371347427],[55.71938253007829,-21.24555037356913],[55.71938185952604,-21.24554794281721],[55.71938236244023,-21.245544087141752],[55.71938236244023,-21.245544841513038],[55.7193735614419,-21.245546266436577],[55.71938990615308,-21.24555322341621],[55.71939267218113,-21.24554894864559],[55.71939133107662,-21.245544673874974],[55.71937850676477,-21.24553268775344],[55.719372890889645,-21.245532101020217],[55.71936777792871,-21.245524138212204],[55.7193666882813,-21.24551265500486],[55.7193666882813,-21.245510894805193],[55.71936727501452,-21.245510559529066],[55.71936744265258,-21.24551030807197],[55.71936794556677,-21.245509972795844],[55.71936869993806,-21.245511481538415],[55.719368951395154,-21.245511900633574],[55.719369957223535,-21.245513493195176],[55.71937054395676,-21.245514079928398],[55.719371465966105,-21.245516929775476],[55.719371465966105,-21.24551760032773],[55.7193717174232,-21.245517767965794],[55.71937180124223,-21.245517935603857],[55.719371885061264,-21.24551810324192],[55.71937205269933,-21.245518270879984],[55.71937205269933,-21.24551902525127],[55.7194805983454,-21.24543788842857],[55.719616217538714,-21.245357589796185],[55.719636334106326,-21.245338562875986],[55.719672963023186,-21.24531098641455],[55.719717890024185,-21.2452756986022],[55.71976801380515,-21.24526991508901],[55.71977681480348,-21.245264634490013],[55.71978326886892,-21.24526396393776],[55.719813108444214,-21.245252061635256],[55.7198640704155,-21.245211325585842],[55.71991737931967,-21.245227167382836],[55.71997521445155,-21.245244769379497],[55.72006196714938,-21.245229095220566],[55.720143439248204,-21.24517855234444],[55.72014511562884,-21.2451202981174],[55.72014134377241,-21.24509339220822],[55.72017369791865,-21.245067408308387],[55.72017663158476,-21.24502549879253],[55.720179900527,-21.24500404112041],[55.72018392384052,-21.24498065561056],[55.720175206661224,-21.24496389180422],[55.72017244063318,-21.244947211816907],[55.720163471996784,-21.244939668104053],[55.72016422636807,-21.244944110512733],[55.72016422636807,-21.244943188503385],[55.720163471996784,-21.2449424341321],[55.72016229853034,-21.244942266494036],[55.72015659883618,-21.244942601770163],[55.720155760645866,-21.244941260665655],[55.720155173912644,-21.244940841570497],[55.72015492245555,-21.244939751923084],[55.72015609592199,-21.244938913732767],[55.72014905512333,-21.24484721571207],[55.72011720389128,-21.244754930958152],[55.720112258568406,-21.244752248749137],[55.72009298019111,-21.24473481439054],[55.72008837014437,-21.244733054190874],[55.7200831733644,-21.24472551047802],[55.720080910250545,-21.244720732793212],[55.720058446750045,-21.244705813005567],[55.72001066990197,-21.244682427495718],[55.72003765963018,-21.244659377261996],[55.720057943835855,-21.24465124681592],[55.72005769237876,-21.24462492763996],[55.72006657719612,-21.24460145831108],[55.72007915005088,-21.244577569887042],[55.72009130381048,-21.24455938115716],[55.720131201669574,-21.244485871866345],[55.72011728771031,-21.244445387274027],[55.720139080658555,-21.24439333565533],[55.72014905512333,-21.24436249025166],[55.720151737332344,-21.2443586345762],[55.720152743160725,-21.244355449452996],[55.72014846839011,-21.24435804784298],[55.72015752084553,-21.24431597068906],[55.720184091478586,-21.244253190234303],[55.720198256894946,-21.244165264070034],[55.7202229835093,-21.244143471121788],[55.720230946317315,-21.244087982922792],[55.72022818028927,-21.2440668605268],[55.72022331878543,-21.24403894878924],[55.720242178067565,-21.244003074243665],[55.720207476988435,-21.24398815445602],[55.72019599378109,-21.24396912753582],[55.72019590996206,-21.243958566337824],[55.72020663879812,-21.243936102837324],[55.72020127438009,-21.243916237726808],[55.7201814930886,-21.243890170007944],[55.720188952982426,-21.24382646754384],[55.720192892476916,-21.24380685389042],[55.72019540704787,-21.24376393854618],[55.72018819861114,-21.243697050958872],[55.72018140926957,-21.243684981018305],[55.720171350985765,-21.24366419389844],[55.72016749531031,-21.24365103431046],[55.7201833371073,-21.243639551103115],[55.72019456885755,-21.243648938834667],[55.72022524662316,-21.243625720962882],[55.72022189386189,-21.24360652640462],[55.720246620476246,-21.24361004680395],[55.72025357745588,-21.24360661022365],[55.72029314003885,-21.24362027272582],[55.72034359909594,-21.243632845580578],[55.720384418964386,-21.243607364594936],[55.72042624466121,-21.243629409000278],[55.720487432554364,-21.243638042360544],[55.720570497214794,-21.243604011833668],[55.72060100734234,-21.243577860295773],[55.7206117361784,-21.243555480614305],[55.720639983192086,-21.243482809513807],[55.72064174339175,-21.243471074849367],[55.720644257962704,-21.243446096777916],[55.720678539946675,-21.243430506438017],[55.720687843859196,-21.24341499991715],[55.72072623297572,-21.243394715711474],[55.72073352523148,-21.243390943855047],[55.72079345583916,-21.243388513103127],[55.720809465274215,-21.24339547008276],[55.72083846665919,-21.24337644316256],[55.7208844833076,-21.24332698993385],[55.72090015746653,-21.243311231955886],[55.720952628180385,-21.243269992992282],[55.72096964344382,-21.24326404184103],[55.72099537588656,-21.243272172287107],[55.721031837165356,-21.24325725249946],[55.72108028456569,-21.24320779927075],[55.7211263012141,-21.243207463994622],[55.72118857875466,-21.243221629410982],[55.72124473750591,-21.24322741292417],[55.72126527316868,-21.243219366297126],[55.72129502892494,-21.24319070018828],[55.72130215354264,-21.243167901411653],[55.72133777663112,-21.243113251402974],[55.72134330868721,-21.243093302473426],[55.7213488407433,-21.24307595193386],[55.721357725560665,-21.243055667728186],[55.721360659226775,-21.24304217286408],[55.7213715557009,-21.2430187035352],[55.72137054987252,-21.24299339018762],[55.721368035301566,-21.242954414337873],[55.721370382234454,-21.242936057969928],[55.721376836299896,-21.24283153563738],[55.721382200717926,-21.242795828729868],[55.72135797701776,-21.242773784324527],[55.72134867310524,-21.242759451270103],[55.72133601643145,-21.24272894114256],[55.721330316737294,-21.242684181779623],[55.721333334222436,-21.24267957173288],[55.72135881520808,-21.242667250335217],[55.721363089978695,-21.242653587833047],[55.721345990896225,-21.242618802934885],[55.72134071029723,-21.242604637518525],[55.721343057230115,-21.24256826005876],[55.721384631469846,-21.242512268945575],[55.721377758309245,-21.24250472523272],[55.721396282315254,-21.24248268082738],[55.72140550240874,-21.24248276464641],[55.721447663381696,-21.24245250597596],[55.72148663923144,-21.24237522482872],[55.72148898616433,-21.242359969764948],[55.72149024344981,-21.24233172275126],[55.721479430794716,-21.242276150733232],[55.72147264145315,-21.24227070249617],[55.721468618139625,-21.24226475134492],[55.72146493010223,-21.242258129641414],[55.721455961465836,-21.242249328643084],[55.72143659926951,-21.24222669750452],[55.721434503793716,-21.242159055545926],[55.72141740471125,-21.242113709449768],[55.72142209857702,-21.242065764963627],[55.721395779401064,-21.241998206824064],[55.72139611467719,-21.24199510551989],[55.72139862924814,-21.241996195167303],[55.72139846161008,-21.241996195167303],[55.72139712050557,-21.241993512958288],[55.72139644995332,-21.241992926225066],[55.721391420811415,-21.241955878213048],[55.7213868945837,-21.2419324927032],[55.72138287127018,-21.241894774138927],[55.72138546966016,-21.241881866008043],[55.721386559307575,-21.241866359487176],[55.72139259427786,-21.241856552660465],[55.721399718895555,-21.2418529484421],[55.72143919765949,-21.241848254576325],[55.72144799865782,-21.241829646751285],[55.721450094133615,-21.24182118102908],[55.72145462036133,-21.241799807175994],[55.72144296951592,-21.241773990914226],[55.72142779827118,-21.241731075569987],[55.72143609635532,-21.241708528250456],[55.7214389462024,-21.241695871576667],[55.721438359469175,-21.241675838828087],[55.72143517434597,-21.241671815514565],[55.721428552642465,-21.24166334979236],[55.72139837779105,-21.24160853214562],[55.72139251045883,-21.241578860208392],[55.72138790041208,-21.24156025238335],[55.7213940192014,-21.241536950692534],[55.721398293972015,-21.241524126380682],[55.72141597978771,-21.241488084197044],[55.72143618017435,-21.241451958194375],[55.721446657553315,-21.241446174681187],[55.721431570127606,-21.241433350369334],[55.72144003584981,-21.241400241851807],[55.7214389462024,-21.241395631805062],[55.72142042219639,-21.24133788049221],[55.72144690901041,-21.2412900198251],[55.72144732810557,-21.24127929098904],[55.7214336656034,-21.241225730627775],[55.72137608192861,-21.241176947951317],[55.721272146329284,-21.241101678460836],[55.72126074694097,-21.24108181335032],[55.721266865730286,-21.24106471426785],[55.721273655071855,-21.241055158898234],[55.72128404863179,-21.24103588052094],[55.72127449326217,-21.24100461602211],[55.72119779884815,-21.240962874144316],[55.7211606670171,-21.240950133651495],[55.721105094999075,-21.24093814752996],[55.72107299230993,-21.240935465320945],[55.72103787213564,-21.240922892466187],[55.72101532481611,-21.24091233126819],[55.72100744582713,-21.240915097296238],[55.72100434452295,-21.24091560021043],[55.72098204866052,-21.240916438400745],[55.72097601369023,-21.240914594382048],[55.720951203256845,-21.24090939760208],[55.7209413126111,-21.240905709564686],[55.720937959849834,-21.240905206650496],[55.7209188491106,-21.24090646393597],[55.720899403095245,-21.24090344645083],[55.720896385610104,-21.240896992385387],[55.720894038677216,-21.240888442844152],[55.72087677195668,-21.240855753421783],[55.72085548192263,-21.24083463102579],[55.720850452780724,-21.240823650732636],[55.720806615427136,-21.240800013765693],[55.72075699456036,-21.240757517516613],[55.72073109447956,-21.240727426484227],[55.72068180888891,-21.24071435071528],[55.72066982276738,-21.24071041122079],[55.72062405757606,-21.240672022104263],[55.72061634622514,-21.24066347256303],[55.72059329599142,-21.240646624937654],[55.720568653196096,-21.240637488663197],[55.72055658325553,-21.240634974092245],[55.720515763387084,-21.240621227771044],[55.72049447335303,-21.240616533905268],[55.72047930210829,-21.240617288276553],[55.720430770888925,-21.240608738735318],[55.72041995823383,-21.240599853917956],[55.72040998376906,-21.24058593995869],[55.72040604427457,-21.240576468408108],[55.72037595324218,-21.24053313396871],[55.720384335145354,-21.240462139248848],[55.72038592770696,-21.240425845608115],[55.72037243284285,-21.24041880480945],[55.720340330153704,-21.240389635786414],[55.720319375395775,-21.2403713632375],[55.72028920054436,-21.240302799269557],[55.72026673704386,-21.24024865217507],[55.72021736763418,-21.24023012816906],[55.7201661542058,-21.24019391834736],[55.72009817697108,-21.240174053236842],[55.72006179951131,-21.24017883092165],[55.72000999934971,-21.24018805101514],[55.71995325386524,-21.240165755152702],[55.719934813678265,-21.240156032145023],[55.71993179619312,-21.24014706350863],[55.719920899719,-21.24011915177107],[55.719905979931355,-21.240072632208467],[55.71990178897977,-21.24005234800279],[55.71986851282418,-21.240026531741023],[55.719847809523344,-21.240004152059555],[55.71981486864388,-21.239948999136686],[55.719813192263246,-21.239934749901295],[55.71981185115874,-21.239897115156054],[55.719815120100975,-21.239885799586773],[55.719791399315,-21.239850763231516],[55.719778994098306,-21.23982855118811],[55.7197205722332,-21.239790664985776],[55.71969022974372,-21.239763591438532],[55.71966550312936,-21.239731488749385],[55.719633400440216,-21.239702571183443],[55.71959048509598,-21.23966476880014],[55.71955603547394,-21.239660074934363],[55.719546815380454,-21.239670803770423],[55.71951387450099,-21.23967214487493],[55.71948881261051,-21.239666612818837],[55.71946274489164,-21.23965839855373],[55.71944396942854,-21.239677844569087],[55.719417817890644,-21.23969460837543],[55.719389989972115,-21.23970240354538],[55.719373896718025,-21.239725034683943],[55.71936861611903,-21.239722603932023],[55.71933064609766,-21.23971950262785],[55.719306422397494,-21.23972252011299],[55.71929485537112,-21.239702822640538],[55.71929552592337,-21.2397029902786],[55.71929644793272,-21.239701230078936],[55.71929510682821,-21.239699721336365],[55.71929410099983,-21.23969561420381],[55.719267362728715,-21.23966912738979],[55.71922495029867,-21.239626463502645],[55.71917315013707,-21.239586314186454],[55.719152111560106,-21.23957726173103],[55.71911724284291,-21.239560414105654],[55.71910726837814,-21.239546835422516],[55.719088576734066,-21.23953392729163],[55.71907944045961,-21.239521354436874],[55.7190331723541,-21.23948355205357],[55.719045493751764,-21.239454383030534],[55.71903887204826,-21.23940786346793],[55.71903049014509,-21.239397386088967],[55.719011798501015,-21.239380119368434],[55.719019677489996,-21.239344496279955],[55.71900668554008,-21.2393144890666],[55.71900090202689,-21.239291857928038],[55.71901833638549,-21.239262940362096],[55.7190040871501,-21.23922153376043],[55.718982964754105,-21.23918943107128],[55.7189813721925,-21.23913469724357],[55.71897340938449,-21.239120699465275],[55.71896863169968,-21.239092787727714],[55.71893619373441,-21.239079125225544],[55.71893091313541,-21.239076275378466],[55.71887928061187,-21.239042580127716],[55.718847094103694,-21.239029252901673],[55.71877903304994,-21.239005867391825],[55.71871650405228,-21.238957084715366],[55.718685910105705,-21.238920874893665],[55.71863712742925,-21.238871589303017],[55.71856747381389,-21.238844683393836],[55.71854744106531,-21.23883856460452],[55.71852522902191,-21.238846108317375],[55.71851802058518,-21.23884686268866],[55.718488935381174,-21.238824483007193],[55.718453731387854,-21.238771844655275],[55.718444092199206,-21.238763378933072],[55.71843512356281,-21.2387671507895],[55.71839849464595,-21.23875005170703],[55.71834987960756,-21.23874560929835],[55.71833906695247,-21.23873647302389],[55.71831417270005,-21.23873110860586],[55.71828877553344,-21.238744519650936],[55.718245608732104,-21.23874720185995],[55.718214344233274,-21.23872465454042],[55.7181956525892,-21.238722475245595],[55.71815650910139,-21.238691210746765],[55.71811845526099,-21.238675704225898],[55.71808601729572,-21.23867536894977],[55.71807738393545,-21.238682325929403],[55.718053579330444,-21.23865634202957],[55.718025248497725,-21.238629268482327],[55.71801477111876,-21.238624658435583],[55.71794939227402,-21.23862449079752],[55.71788367815316,-21.23862155713141],[55.71785878390074,-21.238609235733747],[55.717820478603244,-21.238601775839925],[55.7177659124136,-21.238576294854283],[55.71776205673814,-21.238577719777822],[55.7177276071161,-21.238573361188173],[55.71767379529774,-21.2385858502239],[55.7175946701318,-21.238597417250276],[55.717552257701755,-21.238583084195852],[55.71751277893782,-21.23858836479485],[55.717453099787235,-21.23857076279819],[55.71743323467672,-21.238563219085336],[55.71737430989742,-21.23856439255178],[55.71735955774784,-21.23856984078884],[55.717312367632985,-21.23858149163425],[55.71725939400494,-21.238586017861962],[55.717197032645345,-21.23856388963759],[55.717118410393596,-21.238545030355453],[55.71707549504936,-21.238534301519394],[55.71705806069076,-21.23851653188467],[55.716990837827325,-21.238483088091016],[55.716935601085424,-21.23846766538918],[55.71691816672683,-21.238449895754457],[55.71688195690513,-21.238395078107715],[55.71685287170112,-21.238387366756797],[55.71682596579194,-21.238371022045612],[55.71681138128042,-21.238372949883342],[55.716803753748536,-21.238380409777164],[55.71675463579595,-21.238384349271655],[55.71666260249913,-21.23834210447967],[55.71659278124571,-21.238364735618234],[55.71657920256257,-21.238375045359135],[55.71650787256658,-21.23838753439486],[55.716488594189286,-21.238389797508717],[55.71644383482635,-21.23841284774244],[55.71637451648712,-21.23841871507466],[55.71632062084973,-21.238418044522405],[55.71628466248512,-21.23843346722424],[55.71625960059464,-21.238439083099365],[55.71626706048846,-21.238434556871653],[55.716266138479114,-21.238434808328748],[55.71625968441367,-21.238434556871653],[55.71623420342803,-21.23842852190137],[55.7161252386868,-21.238413266837597],[55.71601836942136,-21.238407902419567],[55.71600646711886,-21.238407902419567],[55.71593371219933,-21.23840991407633],[55.71582617238164,-21.2383889593184],[55.71578811854124,-21.238406393676996],[55.71575693786144,-21.238418631255627],[55.71574394591153,-21.2384182959795],[55.715700862929225,-21.238406309857965],[55.71564671583474,-21.238415613770485],[55.71562928147614,-21.238406226038933],[55.715599274262786,-21.238401532173157],[55.71556817740202,-21.23843288049102],[55.71556038223207,-21.238443357869983],[55.715544540435076,-21.238456768915057],[55.71551185101271,-21.238460037857294],[55.71543247438967,-21.23848468065262],[55.71535561233759,-21.23848862014711],[55.715335411950946,-21.23849448747933],[55.7153101824224,-21.23850035481155],[55.71523793041706,-21.238478645682335],[55.71517095901072,-21.238455679267645],[55.71511127986014,-21.238445788621902],[55.71510239504278,-21.238446794450283],[55.71502964012325,-21.23843681998551],[55.714954202994704,-21.238413518294692],[55.71490458212793,-21.238400945439935],[55.714884884655476,-21.238405304029584],[55.714812045916915,-21.23842022381723],[55.71478790603578,-21.238412763923407],[55.71474960073829,-21.23839725740254],[55.71466628462076,-21.238351156935096],[55.714649353176355,-21.238336320966482],[55.71463585831225,-21.238303212448955],[55.71462110616267,-21.23830296099186],[55.714610293507576,-21.238308995962143],[55.714573664590716,-21.238321233540773],[55.71454793214798,-21.238298267126083],[55.71449722163379,-21.23826968483627],[55.7144517917186,-21.238252837210894],[55.714443661272526,-21.238248562440276],[55.71434525772929,-21.238219225779176],[55.71428314782679,-21.238191314041615],[55.71424534544349,-21.238197684288025],[55.714218858629465,-21.238223081454635],[55.71418633684516,-21.238229116424918],[55.71416127495468,-21.238223584368825],[55.71412615478039,-21.238225931301713],[55.71410142816603,-21.238223500549793],[55.714053148403764,-21.238199109211564],[55.71399497799575,-21.23819642700255],[55.713970670476556,-21.23821495100856],[55.71391409263015,-21.238243198022246],[55.71384904906154,-21.238251077011228],[55.7137767970562,-21.238232888281345],[55.71369130164385,-21.238201623782516],[55.71366531774402,-21.238163067027926],[55.71363631635904,-21.23814177699387],[55.71358342655003,-21.23809584416449],[55.713546462357044,-21.23808218166232],[55.71348720230162,-21.23804018832743],[55.71345233358443,-21.23799459077418],[55.71343598887324,-21.237976402044296],[55.713417464867234,-21.23796542175114],[55.71333087980747,-21.237941533327103],[55.71328578516841,-21.237928457558155],[55.71323934942484,-21.237905155867338],[55.713199116289616,-21.237891409546137],[55.71315159089863,-21.237858217209578],[55.713098365813494,-21.23783877119422],[55.71309333667159,-21.23782846145332],[55.71308017708361,-21.23779585584998],[55.71307095699012,-21.23778412118554],[55.7130254432559,-21.237719664350152],[55.71302058175206,-21.23769032768905],[55.71299862116575,-21.23765604570508],[55.712981689721346,-21.23765897937119],[55.71290432475507,-21.237647999078035],[55.71286752820015,-21.237633917480707],[55.71282302029431,-21.23761212453246],[55.71279971860349,-21.237600138410926],[55.71277323178947,-21.23759401962161],[55.7127405423671,-21.237579016014934],[55.71271447464824,-21.23756811954081],[55.71270684711635,-21.237570885568857],[55.71268446743488,-21.23757541179657],[55.71265219710767,-21.23757298104465],[55.71253728121519,-21.23758563771844],[55.71252454072237,-21.23759200796485],[55.71249604225159,-21.237618746235967],[55.71248849853873,-21.23762763105333],[55.71247240528464,-21.2376428861171],[55.712431417778134,-21.23766828328371],[55.71237307973206,-21.237648585811257],[55.71228951215744,-21.237612795084715],[55.71222295984626,-21.237633917480707],[55.71221466176212,-21.237636683508754],[55.712159760296345,-21.237631822004914],[55.71210276335478,-21.2376394495368],[55.71202715858817,-21.237636348232627],[55.711962869390845,-21.23761103488505],[55.71189749054611,-21.23763165436685],[55.711839739233255,-21.237643556669354],[55.71182272396982,-21.23764229938388],[55.711810402572155,-21.237636348232627],[55.711783496662974,-21.237603407353163],[55.71175592020154,-21.23758270405233],[55.71172272786498,-21.237560911104083],[55.71164318360388,-21.237537525594234],[55.711551904678345,-21.23748689889908],[55.71153271012008,-21.237476086243987],[55.71144863963127,-21.237438786774874],[55.71138644590974,-21.237444235011935],[55.71135769598186,-21.237453036010265],[55.71129508316517,-21.23743526637554],[55.71123699657619,-21.237397212535143],[55.71119802072644,-21.237375419586897],[55.71114362217486,-21.237351363524795],[55.711121410131454,-21.237342478707433],[55.7111051492393,-21.2373408023268],[55.71108587086201,-21.237333761528134],[55.711014457046986,-21.237319260835648],[55.71100439876318,-21.2373217754066],[55.71095989085734,-21.237329738214612],[55.710940193384886,-21.237342562526464],[55.710924938321114,-21.237353794276714],[55.71087305434048,-21.237353878095746],[55.71082687005401,-21.23738287948072],[55.710772052407265,-21.237401068210602],[55.71076308377087,-21.237398637458682],[55.71074045263231,-21.23739846982062],[55.71071011014283,-21.23739654198289],[55.710656214505434,-21.2373804487288],[55.71062914095819,-21.237339042127132],[55.71061606518924,-21.237335857003927],[55.710578598082066,-21.237330744042993],[55.710559068247676,-21.23733166605234],[55.71055194362998,-21.237321021035314],[55.710530234500766,-21.23730417340994],[55.71046343073249,-21.237289421260357],[55.7104576472193,-21.237285481765866],[55.71044482290745,-21.237258492037654],[55.7103833835572,-21.23727190308273],[55.71035656146705,-21.23727492056787],[55.71035002358258,-21.23727349564433],[55.71030853316188,-21.237261006608605],[55.71026268415153,-21.237245332449675],[55.71022152900696,-21.23722798191011],[55.710154473781586,-21.2371991481632],[55.71011373773217,-21.23718649148941],[55.71007610298693,-21.23717132024467],[55.71004173718393,-21.237154556438327],[55.70998013019562,-21.237147683277726],[55.70994618348777,-21.237133014947176],[55.709925815463066,-21.237112898379564],[55.70987284183502,-21.237121196463704],[55.70984493009746,-21.23714156448841],[55.70980293676257,-21.23714542016387],[55.709766475483775,-21.237101163715124],[55.70970503613353,-21.237089931964874],[55.70966295897961,-21.237071827054024],[55.7096026930958,-21.23705363832414],[55.70955852046609,-21.237049782648683],[55.70955558679998,-21.23705070465803],[55.7095218077302,-21.237043915316463],[55.709500685334206,-21.23703394085169],[55.70947931148112,-21.237027486786246],[55.70945165120065,-21.237017763778567],[55.709418123587966,-21.237025810405612],[55.709372190758586,-21.237059170380235],[55.70935484021902,-21.237049447372556],[55.70933765731752,-21.23704827390611],[55.70933422073722,-21.23704919591546],[55.70931611582637,-21.23704567551613],[55.70929222740233,-21.23703310266137],[55.709288120269775,-21.237030252814293],[55.70929809473455,-21.237004855647683],[55.7092937361449,-21.236986415460706],[55.70929038338363,-21.236978955566883],[55.70928208529949,-21.236974010244012],[55.70924176834524,-21.23697350732982],[55.70918980054557,-21.23696462251246],[55.70917437784374,-21.2369573302567],[55.70911344140768,-21.236936124041677],[55.70906633511186,-21.236932687461376],[55.70900640450418,-21.236937046051025],[55.70895996876061,-21.23693528585136],[55.70890607312322,-21.236939392983913],[55.708855614066124,-21.236951546743512],[55.70881043560803,-21.23696018010378],[55.70874555967748,-21.23696210794151],[55.708720497787,-21.23695967718959],[55.708709936589,-21.2369573302567],[55.70865302346647,-21.23695431277156],[55.70860222913325,-21.236965879797935],[55.708528216928244,-21.236943416297436],[55.708460910245776,-21.23689086176455],[55.708416402339935,-21.236869487911463],[55.7083475869149,-21.236860435456038],[55.708342138677835,-21.236855071038008],[55.708333756774664,-21.23683704994619],[55.7082852255553,-21.236800588667393],[55.708276676014066,-21.236800085753202],[55.70822252891958,-21.23682246543467],[55.70819243788719,-21.236804611980915],[55.70818271487951,-21.236753817647696],[55.70812244899571,-21.23674334026873],[55.70803728885949,-21.236730180680752],[55.707990853115916,-21.236718613654375],[55.70796470157802,-21.236739652231336],[55.707888174802065,-21.236723894253373],[55.70782799273729,-21.236718613654375],[55.70777024142444,-21.23673001304269],[55.707734702154994,-21.23671987093985],[55.70769589394331,-21.236706543713808],[55.7076305989176,-21.2366983294487],[55.707596400752664,-21.236695647239685],[55.70755776017904,-21.236712746322155],[55.70747947320342,-21.23673252761364],[55.707460613921285,-21.236726827919483],[55.70742608048022,-21.236703861504793],[55.70741551928222,-21.236695311963558],[55.70737780071795,-21.236699167639017],[55.7073459494859,-21.236703945323825],[55.70724452845752,-21.2367363832891],[55.707228519022465,-21.236741160973907],[55.70717110298574,-21.23673504218459],[55.7071543391794,-21.236727414652705],[55.707144532352686,-21.236723558977246],[55.70712433196604,-21.23671350069344],[55.70711100474,-21.236692713573575],[55.70708988234401,-21.236661784350872],[55.707089798524976,-21.236653486266732],[55.70707873441279,-21.23660311102867],[55.70705786347389,-21.236525243148208],[55.70704537443817,-21.236476125195622],[55.707007739692926,-21.236442597582936],[55.706926519051194,-21.236436059698462],[55.706883100792766,-21.236419463530183],[55.70682853460312,-21.236399933695793],[55.70680062286556,-21.236385852098465],[55.70677639916539,-21.2363547552377],[55.70679400116205,-21.23633136972785],[55.70679425261915,-21.23628878965974],[55.70677178911865,-21.23621167615056],[55.70677296258509,-21.236165575683117],[55.70676265284419,-21.236131712794304],[55.70674639195204,-21.23609784990549],[55.70674697868526,-21.236086366698146],[55.70672786794603,-21.236029621213675],[55.70670481771231,-21.23603238724172],[55.70669626817107,-21.236025849357247],[55.70668939501047,-21.236018473282456],[55.706663746386766,-21.23599668033421],[55.706600630655885,-21.235976815223694],[55.70656073279679,-21.235947478562593],[55.70654824376106,-21.23592426069081],[55.706535167992115,-21.235917219892144],[55.70650373585522,-21.235866593196988],[55.706487223505974,-21.23582711443305],[55.70648839697242,-21.2357727997005],[55.706491749733686,-21.235761316493154],[55.70649568922818,-21.235707169398665],[55.706468196585774,-21.235697278752923],[55.706437015905976,-21.23566148802638],[55.7063908316195,-21.235645646229386],[55.706368535757065,-21.235637264326215],[55.70630173198879,-21.235651345923543],[55.70627415552735,-21.235664756968617],[55.70619863457978,-21.23567129485309],[55.70616074837744,-21.23567221686244],[55.706126214936376,-21.23568587936461],[55.70610601454973,-21.23568353243172],[55.706055806949735,-21.235656877979636],[55.70605815388262,-21.235633324831724],[55.706070475280285,-21.23560876585543],[55.70609528571367,-21.235583536326885],[55.706121269613504,-21.235541962087154],[55.706126634031534,-21.235523521900177],[55.70610794238746,-21.235495945438743],[55.70608455687761,-21.23547876253724],[55.70599587634206,-21.23544003814459],[55.70594013668597,-21.2354429718107],[55.705906860530376,-21.235434925183654],[55.70587878115475,-21.235429644584656],[55.70586905814707,-21.23539854772389],[55.70586746558547,-21.23536820523441],[55.70583611726761,-21.235355380922556],[55.70579454302788,-21.235329480841756],[55.70577006787062,-21.235295701771975],[55.705741150304675,-21.23525446280837],[55.70567057467997,-21.235195538029075],[55.70560360327363,-21.235149269923568],[55.70554216392338,-21.235088920220733],[55.70554593577981,-21.2350698094815],[55.7055205386132,-21.235022535547614],[55.705487513914704,-21.23496377840638],[55.70548483170569,-21.234942488372326],[55.70546102710068,-21.234940392896533],[55.70541542954743,-21.23489823192358],[55.705375699326396,-21.234902506694198],[55.70535591803491,-21.234882893040776],[55.70534368045628,-21.23487182892859],[55.70534527301788,-21.23486545868218],[55.70533915422857,-21.234818687662482],[55.705337645486,-21.234795218333602],[55.705304369330406,-21.234776945784688],[55.70524200797081,-21.23478197492659],[55.705171432346106,-21.234793039038777],[55.705166487023234,-21.23479999601841],[55.70515064522624,-21.234825644642115],[55.705125918611884,-21.234854562208056],[55.705066407099366,-21.234869481995702],[55.70501837879419,-21.234866296872497],[55.70497261360288,-21.234880546107888],[55.70493648760021,-21.234873924404383],[55.704854009673,-21.234881803393364],[55.704804388806224,-21.23491683974862],[55.70476323366165,-21.234926311299205],[55.70471637882292,-21.23495003208518],[55.70468343794346,-21.23495874926448],[55.704662231728435,-21.234943326562643],[55.70464488118887,-21.234929831698537],[55.70462669245899,-21.234917677938938],[55.704618310555816,-21.234906781464815],[55.704595260322094,-21.234835283830762],[55.704574724659324,-21.234809467568994],[55.70455100387335,-21.23480443842709],[55.70454907603562,-21.234764959663153],[55.70455024950206,-21.234761020168662],[55.70452242158353,-21.234750458970666],[55.704457964748144,-21.234756661579013],[55.704428208991885,-21.23470620252192],[55.70439853705466,-21.234664460644126],[55.70439518429339,-21.234661359339952],[55.70434598252177,-21.234635459259152],[55.70429510436952,-21.234613917768],[55.70426283404231,-21.23459581285715],[55.70423726923764,-21.234582904726267],[55.70419636555016,-21.234592208638787],[55.70412998087704,-21.23457385227084],[55.70406745187938,-21.23455918394029],[55.704016238451004,-21.234551975503564],[55.70398673415184,-21.234514256939292],[55.70391967892647,-21.23451752588153],[55.70390643551946,-21.23451408930123],[55.70384792983532,-21.23446631245315],[55.70381515659392,-21.23442138545215],[55.7038005720824,-21.234412835910916],[55.70373561233282,-21.23440520837903],[55.703701078891754,-21.234417529776692],[55.70369202643633,-21.23441928997636],[55.70368557237089,-21.23442079871893],[55.70365187712014,-21.234426582232118],[55.70358423516154,-21.2344275880605],[55.70352153852582,-21.234435215592384],[55.70348591543734,-21.234403112903237],[55.70345406420529,-21.23435885645449],[55.70342690683901,-21.234346786513925],[55.703363958746195,-21.234341086819768],[55.70331324823201,-21.23434075154364],[55.70327284745872,-21.23429909348488],[55.7032151799649,-21.234272439032793],[55.70316815748811,-21.234235474839807],[55.70312683470547,-21.234214855358005],[55.70308635011315,-21.234177807345986],[55.70303832180798,-21.234171856194735],[55.703017031773925,-21.23417252674699],[55.702958442270756,-21.234173448756337],[55.70289943367243,-21.23420102521777],[55.7028681691736,-21.234231954440475],[55.70279642008245,-21.234241593629122],[55.7027748785913,-21.234235055744648],[55.7027193903923,-21.23422935605049],[55.70267605595291,-21.2342634703964],[55.7026279438287,-21.234277300536633],[55.70254412479699,-21.23427771963179],[55.7024915702641,-21.234282162040472],[55.702431220561266,-21.234246790409088],[55.702397022396326,-21.23420395888388],[55.70238654501736,-21.23418719507754],[55.70234698243439,-21.234138077124953],[55.70229853503406,-21.234085019677877],[55.70220130495727,-21.234018299728632],[55.70211639627814,-21.233964320272207],[55.70207909680903,-21.23393565416336],[55.702071972191334,-21.233929535374045],[55.702044731006026,-21.23390380293131],[55.70201262831688,-21.233889302238822],[55.701958732679486,-21.233888966962695],[55.70192654617131,-21.23388770967722],[55.70189444348216,-21.233877316117287],[55.70187013596296,-21.23386717401445],[55.7018234487623,-21.233862061053514],[55.7018025778234,-21.23385644517839],[55.70173569023609,-21.233830964192748],[55.701718758791685,-21.23381889425218],[55.70171314291656,-21.233819061890244],[55.701715825125575,-21.233818139880896],[55.701720770448446,-21.233821157366037],[55.70167852565646,-21.23381394892931],[55.701589258387685,-21.233833814039826],[55.701495967805386,-21.233840100467205],[55.70143561810255,-21.23384286649525],[55.701370323076844,-21.233878824859858],[55.70129471831024,-21.233879663050175],[55.70122154429555,-21.233887625858188],[55.70120729506016,-21.233893493190408],[55.7011135853827,-21.233932469040155],[55.701101180166006,-21.233939174562693],[55.701070837676525,-21.23396096751094],[55.701027335599065,-21.233995081856847],[55.70100227370858,-21.234019389376044],[55.70097084157169,-21.23403145931661],[55.70091409608722,-21.234058616682887],[55.700842095538974,-21.23410169966519],[55.7007784768939,-21.234123157337308],[55.70072617381811,-21.234134808182716],[55.700648641213775,-21.234113769605756],[55.700635984539986,-21.234102454036474],[55.700606564059854,-21.234104298055172],[55.700584100559354,-21.23409641906619],[55.70052618160844,-21.23407630249858],[55.700518134981394,-21.234074626117945],[55.70051000453532,-21.234067166224122],[55.70047547109425,-21.234048893675208],[55.70040347054601,-21.234021484851837],[55.70039249025285,-21.23402366414666],[55.70033038035035,-21.234007151797414],[55.700323674827814,-21.234008744359016],[55.70025980472565,-21.23400203883648],[55.70020875893533,-21.2339561060071],[55.70013332180679,-21.23390237800777],[55.70008168928325,-21.233798190951347],[55.700077414512634,-21.233785785734653],[55.70004967041314,-21.23368696309626],[55.6999842915684,-21.233515720814466],[55.69990776479244,-21.233403738588095],[55.6998719740659,-21.233298210427165],[55.69979025050998,-21.233258144930005],[55.69972009398043,-21.23324372805655],[55.69964876398444,-21.233272226527333],[55.69962026551366,-21.23325009830296],[55.699551617726684,-21.23325051739812],[55.699518425390124,-21.233191844075918],[55.69950023666024,-21.233168710023165],[55.699496045708656,-21.23315085656941],[55.69949235767126,-21.233121184632182],[55.69943477399647,-21.233068546280265],[55.69942572154105,-21.2330287322402],[55.69941859692335,-21.23302378691733],[55.699415327981114,-21.233022529631853],[55.69938154891133,-21.233042143285275],[55.69935447536409,-21.233027894049883],[55.69926202297211,-21.232971819117665],[55.69922028109431,-21.232913313433528],[55.69918708875775,-21.23288607224822],[55.699095726013184,-21.23285128735006],[55.69898843765259,-21.23280107975006],[55.698947282508016,-21.232761349529028],[55.69891073741019,-21.232737293466926],[55.698798671364784,-21.23272581025958],[55.69874804466963,-21.232690857723355],[55.69874293170869,-21.23268524184823],[55.6987096555531,-21.23266621492803],[55.698688784614205,-21.232660934329033],[55.69863388314843,-21.23263578861952],[55.69857269525528,-21.232568649575114],[55.69854176603258,-21.23251710087061],[55.698508908972144,-21.232469575479627],[55.698515363037586,-21.232453817501664],[55.69849407300353,-21.23241987079382],[55.69848719984293,-21.23241350054741],[55.698456689715385,-21.232354072853923],[55.69843062199652,-21.2323534861207],[55.69839550182223,-21.232349798083305],[55.698329200968146,-21.23236413113773],[55.69830598309636,-21.232358179986477],[55.69823322817683,-21.232341416180134],[55.69820858538151,-21.232295986264944],[55.69819416850805,-21.232254412025213],[55.69813591428101,-21.232210658490658],[55.698083359748125,-21.23221124522388],[55.69801521487534,-21.232145614922047],[55.697929970920086,-21.232098257169127],[55.69789158180356,-21.232039416208863],[55.69789200089872,-21.232021478936076],[55.69789384491742,-21.231988118961453],[55.69788780994713,-21.231978815048933],[55.69785160012543,-21.23192542232573],[55.69778907112777,-21.2318648211658],[55.69773810915649,-21.231821989640594],[55.69768186658621,-21.231787707656622],[55.697644567117095,-21.231764825060964],[55.697632329538465,-21.231760382652283],[55.69757558405399,-21.23174211010337],[55.69754666648805,-21.231720400974154],[55.69752621464431,-21.23170983977616],[55.69749830290675,-21.23167773708701],[55.697485227137804,-21.231673378497362],[55.697441305965185,-21.23165133409202],[55.69743175059557,-21.23164404183626],[55.69742412306368,-21.23163800686598],[55.697374837473035,-21.23159416951239],[55.69731733761728,-21.231529377400875],[55.697287833318114,-21.231449833139777],[55.697274673730135,-21.231420747935772],[55.697215497493744,-21.231382694095373],[55.69710477255285,-21.231337431818247],[55.697025898844004,-21.23129015788436],[55.69695440120995,-21.231213128194213],[55.69694509729743,-21.231181025505066],[55.696927243843675,-21.231154538691044],[55.69689807482064,-21.231091506779194],[55.69689882919192,-21.231083208695054],[55.69688734598458,-21.23106485232711],[55.69686605595052,-21.231026714667678],[55.6968570034951,-21.231012549251318],[55.69682984612882,-21.230995785444975],[55.696733789518476,-21.23100282624364],[55.69667151197791,-21.231017662212253],[55.696657514199615,-21.231014812365174],[55.69655114784837,-21.23095588758588],[55.69653321057558,-21.230949349701405],[55.69652197882533,-21.230943650007248],[55.69647302851081,-21.230915235355496],[55.69646246731281,-21.230908194556832],[55.696440590545535,-21.230885311961174],[55.6963820848614,-21.230828566476703],[55.69633707404137,-21.230780705809593],[55.69631963968277,-21.230765786021948],[55.69631670601666,-21.23075463809073],[55.69632257334888,-21.230699568986893],[55.696320896968246,-21.230687415227294],[55.696318969130516,-21.23062463477254],[55.69631570018828,-21.230598986148834],[55.69630304351449,-21.230481807142496],[55.696281837299466,-21.230376111343503],[55.69627923890948,-21.23025817796588],[55.696274880319834,-21.230174275115132],[55.6962454598397,-21.230046870186925],[55.69622911512852,-21.229949137195945],[55.696212351322174,-21.22986976057291],[55.69620866328478,-21.229778481647372],[55.696175806224346,-21.229676641523838],[55.69612031802535,-21.22963422909379],[55.696052592247725,-21.2295473087579],[55.69599366746843,-21.229504980146885],[55.69592728279531,-21.229463489726186],[55.69589836522937,-21.229459131136537],[55.69588243961334,-21.229442367330194],[55.69588528946042,-21.22942065820098],[55.69583835080266,-21.229349747300148],[55.69579920731485,-21.229315297678113],[55.69577565416694,-21.229297192767262],[55.695750592276454,-21.229210859164596],[55.69571094587445,-21.22913148254156],[55.69570348598063,-21.229123352095485],[55.69569502025843,-21.22910407371819],[55.69567121565342,-21.229067277163267],[55.695626959204674,-21.228981614112854],[55.69562477990985,-21.228969292715192],[55.69560575298965,-21.22894330881536],[55.69558706134558,-21.22892864048481],[55.69556409493089,-21.22891154140234],[55.69549678824842,-21.228829063475132],[55.69544750265777,-21.228750692680478],[55.695436019450426,-21.228710459545255],[55.69537231698632,-21.228642985224724],[55.695280032232404,-21.22854365967214],[55.695222867652774,-21.228453889489174],[55.69514533504844,-21.22833302244544],[55.69510359317064,-21.228273594751954],[55.69503167644143,-21.228191033005714],[55.69497727788985,-21.228124229237437],[55.69491642527282,-21.22804812155664],[55.694844676181674,-21.227969750761986],[55.69476974196732,-21.22787520289421],[55.69471014663577,-21.22780823148787],[55.69462649524212,-21.227747043594718],[55.694567738100886,-21.227674121037126],[55.694554494693875,-21.227658111602068],[55.694517781957984,-21.227611675858498],[55.69447520188987,-21.227561803534627],[55.69444729015231,-21.227511931210756],[55.69442197680473,-21.227444456890225],[55.694376630708575,-21.227394249290228],[55.694363471120596,-21.22738989070058],[55.69433975033462,-21.227388130500913],[55.69430555216968,-21.22737916186452],[55.69424947723746,-21.227319482713938],[55.69424252025783,-21.22731076553464],[55.69421217776835,-21.2272453866899],[55.694152330979705,-21.227169195190072],[55.69409483112395,-21.22710172086954],[55.69403758272529,-21.227021422237158],[55.69400011561811,-21.226946990936995],[55.693928534165025,-21.226878678426147],[55.69387882947922,-21.226817909628153],[55.69383113645017,-21.226735515519977],[55.69377053529024,-21.226628813892603],[55.69372812286019,-21.226569889113307],[55.693684788420796,-21.226490009576082],[55.69361203350127,-21.226409878581762],[55.69354439154267,-21.226269733160734],[55.69350818172097,-21.226167138665915],[55.69347289390862,-21.226099748164415],[55.69346669130027,-21.226086588576436],[55.69341262802482,-21.225987011566758],[55.69338295608759,-21.22590788640082],[55.693379854783416,-21.22589916922152],[55.69331221282482,-21.22578584589064],[55.69325806573033,-21.22569146566093],[55.69322160445154,-21.22562457807362],[55.69320911541581,-21.225595911964774],[55.69318807683885,-21.225483594462276],[55.69315907545388,-21.22536121867597],[55.69311900995672,-21.22523750178516],[55.69311020895839,-21.225140020251274],[55.69308673962951,-21.225070115178823],[55.69306259974837,-21.225001635029912],[55.693056816235185,-21.224973890930414],[55.693064192309976,-21.22494136914611],[55.69306343793869,-21.22492343187332],[55.69302479736507,-21.224857633933425],[55.693010380491614,-21.224819496273994],[55.69298238493502,-21.224735928699374],[55.6929680518806,-21.22470743022859],[55.69294969551265,-21.22466149739921],[55.69294575601816,-21.224559070542455],[55.69293192587793,-21.224523782730103],[55.69292807020247,-21.224502827972174],[55.69291482679546,-21.224457565695047],[55.6929128151387,-21.224437365308404],[55.692900409922004,-21.224357904866338],[55.6928972247988,-21.2242890894413],[55.692877024412155,-21.224274840205908],[55.69282162003219,-21.224200911819935],[55.692801838740706,-21.224073255434632],[55.69277350790799,-21.22398817911744],[55.692748446017504,-21.2239402346313],[55.69275079295039,-21.22390704229474],[55.69273461587727,-21.22384057380259],[55.692717265337706,-21.22380637563765],[55.69270234555006,-21.223780056461692],[55.69265331141651,-21.223726579919457],[55.69264761172235,-21.22369489632547],[55.692645432427526,-21.223681485280395],[55.692642917856574,-21.223671594634652],[55.69262120872736,-21.223616860806942],[55.69256940856576,-21.223575035110116],[55.69252163171768,-21.223540334030986],[55.69245214574039,-21.223486019298434],[55.69240084849298,-21.223445031791925],[55.692377630621195,-21.223384849727154],[55.69237939082086,-21.223375294357538],[55.69236413575709,-21.223323745653033],[55.69235927425325,-21.22331963852048],[55.692339073866606,-21.22327135875821],[55.692327758297324,-21.223244201391935],[55.69232800975442,-21.223236741498113],[55.692311665043235,-21.223177313804626],[55.69228693842888,-21.223169015720487],[55.6922684982419,-21.223142528906465],[55.6922684982419,-21.223134733736515],[55.692259948700666,-21.22310757637024],[55.69223874248564,-21.223083939403296],[55.692207561805844,-21.223065918311477],[55.69215936586261,-21.223027193918824],[55.69215148687363,-21.223025182262063],[55.69213497452438,-21.223014537245035],[55.69213304668665,-21.223003389313817],[55.692126424983144,-21.222986625507474],[55.69211712107062,-21.22292920947075],[55.692093316465616,-21.222844887524843],[55.69209239445627,-21.22283306904137],[55.69205987267196,-21.22273868881166],[55.69204704836011,-21.222732234746218],[55.69204310886562,-21.222723433747888],[55.69204277358949,-21.222714381292462],[55.692040426656604,-21.222703317180276],[55.692042019218206,-21.222683200612664],[55.69204352796078,-21.22266350314021],[55.69203229621053,-21.222651517018676],[55.69201779551804,-21.222623605281115],[55.69201888516545,-21.22259938158095],[55.69200547412038,-21.222568871453404],[55.691991560161114,-21.22253836132586],[55.6919888779521,-21.22251447290182],[55.691975466907024,-21.222471809014678],[55.691973036155105,-21.2224499322474],[55.69192727096379,-21.22235261835158],[55.69189952686429,-21.222295286133885],[55.69188452325761,-21.222286485135555],[55.69186910055578,-21.222262177616358],[55.691867005079985,-21.222250945866108],[55.69187739863992,-21.22218942269683],[55.69187421351671,-21.2221719045192],[55.69187035784125,-21.22212253510952],[55.691894413903356,-21.222071321681142],[55.69190053269267,-21.222061179578304],[55.69190841168165,-21.22204818762839],[55.69189793430269,-21.222056737169623],[55.69187019020319,-21.2220614310354],[55.69185325875878,-21.222057659178972],[55.69183054380119,-21.222042655572295],[55.6918385066092,-21.22199068777263],[55.6918316334486,-21.221972331404686],[55.69181554019451,-21.221971157938242],[55.69181051105261,-21.221967469900846],[55.691805901005864,-21.221972163766623],[55.69179508835077,-21.22197836637497],[55.691777570173144,-21.221992447972298],[55.69177388213575,-21.221983479335904],[55.69177011027932,-21.221982054412365],[55.69176809862256,-21.221966883167624],[55.691752173006535,-21.22194559313357],[55.69175192154944,-21.221929332241416],[55.69173926487565,-21.221898486837745],[55.69173742085695,-21.221900414675474],[55.691739516332746,-21.22191189788282],[55.69174211472273,-21.221907874569297],[55.69174664095044,-21.22189538553357],[55.69176432676613,-21.22188750654459],[55.691768350079656,-21.22188759036362],[55.69177187047899,-21.221922291442752],[55.691765416413546,-21.22192606329918],[55.69174647331238,-21.2219094671309],[55.69170791655779,-21.22192069888115],[55.691687716171145,-21.221937630325556],[55.691666677594185,-21.221956657245755],[55.69164672866464,-21.221955064684153],[55.69162745028734,-21.221954561769962],[55.6916194036603,-21.221936708316207],[55.691589983180165,-21.221877029165626],[55.69155989214778,-21.221876526251435],[55.69150960072875,-21.221855655312538],[55.691496189683676,-21.221841322258115],[55.69148998707533,-21.22184107080102],[55.69147942587733,-21.221858840435743],[55.69146919995546,-21.221865629777312],[55.69146115332842,-21.221864204853773],[55.69143332540989,-21.22187183238566],[55.69140465930104,-21.221856577321887],[55.69138211198151,-21.221852134913206],[55.691374903544784,-21.22185179963708],[55.691378926858306,-21.221845597028732],[55.691351098939776,-21.221845177933574],[55.69132880307734,-21.221848530694842],[55.69130449555814,-21.221859259530902],[55.69129167124629,-21.221868731081486],[55.69125705398619,-21.221887674182653],[55.69123241119087,-21.22190309688449],[55.69122260436416,-21.22190125286579],[55.691210366785526,-21.221926901489496],[55.691178012639284,-21.221964955329895],[55.691155046224594,-21.22196478769183],[55.69114373065531,-21.22196772135794],[55.69113568402827,-21.221972666680813],[55.69110316224396,-21.222005104646087],[55.69108597934246,-21.22200627811253],[55.69105236791074,-21.221993705257773],[55.69103158079088,-21.221951376646757],[55.69100668653846,-21.221910640597343],[55.69099268876016,-21.221847273409367],[55.69098430685699,-21.221805280074477],[55.69098137319088,-21.221679467707872],[55.69097517058253,-21.221701595932245],[55.6909647770226,-21.221716348081827],[55.69096100516617,-21.221719533205032],[55.69094407372177,-21.22173118405044],[55.69092990830541,-21.221663877367973],[55.690900068730116,-21.22171006165445],[55.69089596159756,-21.22170813381672],[55.69087886251509,-21.221767896786332],[55.69086109288037,-21.22181324288249],[55.690834019333124,-21.2218523863703],[55.69078724831343,-21.221923548728228],[55.690785236656666,-21.221988843753934],[55.69073301739991,-21.22205707244575],[55.690688425675035,-21.222138544544578],[55.69067778065801,-21.222116835415363],[55.69066277705133,-21.22212102636695],[55.69065690971911,-21.222108956426382],[55.69064517505467,-21.222087498754263],[55.69060368463397,-21.222067717462778],[55.69059882313013,-21.222075261175632],[55.69058164022863,-21.22209277935326],[55.690573593601584,-21.222104849293828],[55.69056353531778,-21.222121948376298],[55.690558422356844,-21.2221201043576],[55.69056202657521,-21.222171233966947],[55.69055146537721,-21.222201492637396],[55.69052556529641,-21.222214149311185],[55.69052439182997,-21.22221590951085],[55.690495977178216,-21.222265530377626],[55.69047854281962,-21.222292939200997],[55.6904692389071,-21.222304925322533],[55.6904554925859,-21.222313893958926],[55.69042716175318,-21.222307523712516],[55.690388856455684,-21.222324203699827],[55.690365470945835,-21.22235370799899],[55.69035893306136,-21.222340296953917],[55.69032674655318,-21.2223394587636],[55.69030378013849,-21.22232294641435],[55.690276036038995,-21.222354965284467],[55.69025952368975,-21.222370052710176],[55.690214429050684,-21.222369046881795],[55.69017922505736,-21.22241816483438],[55.69016992114484,-21.222429648041725],[55.69016447290778,-21.222430234774947],[55.690157348290086,-21.222431156784296],[55.690149050205946,-21.222463930025697],[55.6901497207582,-21.22247331775725],[55.69014385342598,-21.222462505102158],[55.69012809544802,-21.222457140684128],[55.69009507074952,-21.22249544598162],[55.69008031859994,-21.222511874511838],[55.690058106556535,-21.222481029108167],[55.69002424366772,-21.222514808177948],[55.689980909228325,-21.222518077120185],[55.68995190784335,-21.222511623054743],[55.68994302302599,-21.22250810265541],[55.68993321619928,-21.22252863831818],[55.689916955307126,-21.222556633874774],[55.68989859893918,-21.222561579197645],[55.6899026222527,-21.22256090864539],[55.68990312516689,-21.222554370760918],[55.68989516235888,-21.222564093768597],[55.6899010296911,-21.222569458186626],[55.689868088811636,-21.222562417387962],[55.68986146710813,-21.22253442183137],[55.68987227976322,-21.222489662468433],[55.6898941565305,-21.222524782642722],[55.68989809602499,-21.222503827884793],[55.68988476879895,-21.22250952757895],[55.689845038577914,-21.22250466607511],[55.689829448238015,-21.222504414618015],[55.689829867333174,-21.222503911703825],[55.6898442003876,-21.222463008016348],[55.68987018428743,-21.22240601107478],[55.68988309241831,-21.222416572272778],[55.689887031912804,-21.222418500110507],[55.68991226144135,-21.22241271659732],[55.689916368573904,-21.222426295280457],[55.68992407992482,-21.222418248653412],[55.68991729058325,-21.222417326644063],[55.68991628475487,-21.222417913377285],[55.68989901803434,-21.222432162612677],[55.68985023535788,-21.222444735467434],[55.68979340605438,-21.222455883398652],[55.689787454903126,-21.22246501967311],[55.68977169692516,-21.22246988117695],[55.68976339884102,-21.22247491031885],[55.68975300528109,-21.22247625142336],[55.689736073836684,-21.222505755722523],[55.689684776589274,-21.222514556720853],[55.68966197781265,-21.222511287778616],[55.689638927578926,-21.222535762935877],[55.68962652236223,-21.22251195833087],[55.689600203186274,-21.222510114312172],[55.6895762309432,-21.22252218425274],[55.68956566974521,-21.22254967689514],[55.689532393589616,-21.222546324133873],[55.68950967863202,-21.222549509257078],[55.68947749212384,-21.2225588131696],[55.68946994841099,-21.222567530348897],[55.68945620208979,-21.222596615552902],[55.68946475163102,-21.222617318853736],[55.689467852935195,-21.22266685590148],[55.68945821374655,-21.222689570859075],[55.689444886520505,-21.222690157592297],[55.689444886520505,-21.222690157592297],[55.689358469098806,-21.222561663016677],[55.68933340720832,-21.22249385342002],[55.68933273665607,-21.222492260858417],[55.689330976456404,-21.22250801883638],[55.689358385279775,-21.222473988309503],[55.689371544867754,-21.222418416291475],[55.68940130062401,-21.222396371886134],[55.689405826851726,-21.22238690033555],[55.68942904472351,-21.222430234774947],[55.68941043689847,-21.22249737381935],[55.68939962424338,-21.222499134019017],[55.689383279532194,-21.222471138462424],[55.68937179632485,-21.222463930025697],[55.68933944217861,-21.222455631941557],[55.68931111134589,-21.22244892641902],[55.68928085267544,-21.222438449040055],[55.68927699699998,-21.222441466525197],[55.68924271501601,-21.2224464956671],[55.689227459952235,-21.222452698275447],[55.689219161868095,-21.22245915234089],[55.68922863341868,-21.222458817064762],[55.68922863341868,-21.222458817064762],[55.68922863341868,-21.222458397969604],[55.68923567421734,-21.222458397969604],[55.6892363447696,-21.2224586494267],[55.68923684768379,-21.222460074350238],[55.68924078717828,-21.22250223532319],[55.68924631923437,-21.22255990281701],[55.68922125734389,-21.22256769798696],[55.68921924568713,-21.222547497600317],[55.689220586791635,-21.222541881725192],[55.68922125734389,-21.22254129499197],[55.68921849131584,-21.222540708258748],[55.68918328732252,-21.22249737381935],[55.68917389959097,-21.222470300272107],[55.68917230702937,-21.222458900883794],[55.68916903808713,-21.22243626974523],[55.689179599285126,-21.22241866774857],[55.6892154738307,-21.222381871193647],[55.689222011715174,-21.22237608768046],[55.689203487709165,-21.222344152629375],[55.68919560872018,-21.222300650551915],[55.68917247466743,-21.222290508449078],[55.689146826043725,-21.222296291962266],[55.68908630870283,-21.22230584733188],[55.68903861567378,-21.22231464833021],[55.688984552398324,-21.22231062501669],[55.68891732953489,-21.222313977777958],[55.68882605060935,-21.22232294641435],[55.68879679776728,-21.222323700785637],[55.68872873671353,-21.222324958071113],[55.688719768077135,-21.222323700785637],[55.688678277656436,-21.222323952242732],[55.68864860571921,-21.22232244350016],[55.68862781859934,-21.222306517884135],[55.68862371146679,-21.222302746027708],[55.688609378412366,-21.22229360975325],[55.688599068671465,-21.222291262820363],[55.68857082165778,-21.222278522327542],[55.688554644584656,-21.222281455993652],[55.688558584079146,-21.222305595874786],[55.68852178752422,-21.222347924485803],[55.688452553004026,-21.222422188147902],[55.688443249091506,-21.222431240603328],[55.68840812891722,-21.222456805408],[55.68839790299535,-21.22247340157628],[55.68840779364109,-21.22249435633421],[55.68841449916363,-21.222508940845728],[55.68841164931655,-21.222509779036045],[55.68841164931655,-21.222508857026696],[55.68841164931655,-21.222508857026696],[55.688357334584,-21.222523357719183],[55.68824702873826,-21.222560992464423],[55.68820687942207,-21.222589323297143],[55.68819086998701,-21.222590496763587],[55.68812247365713,-21.22258622199297],[55.688045443966985,-21.22260290198028],[55.68800915032625,-21.22261849232018],[55.68798132240772,-21.222623521462083],[55.68789708428085,-21.222624946385622],[55.68784888833761,-21.22264045290649],[55.68780857138336,-21.22265906073153],[55.68777060136199,-21.22268051840365],[55.68770505487919,-21.222731983289123],[55.687691727653146,-21.222752602770925],[55.68764294497669,-21.222784789279103],[55.68762266077101,-21.222798200324178],[55.68754294887185,-21.22281932272017],[55.687523586675525,-21.222822088748217],[55.68750464357436,-21.222843965515494],[55.68750279955566,-21.22285259887576],[55.68746566772461,-21.222923677414656],[55.68741428665817,-21.222990565001965],[55.68737933412194,-21.223020991310477],[55.68737204186618,-21.223023841157556],[55.687347231432796,-21.22305477038026],[55.68729484453797,-21.223111264407635],[55.68725452758372,-21.22319022193551],[55.68720624782145,-21.223245039582253],[55.68712351843715,-21.223276974633336],[55.687119076028466,-21.223286194726825],[55.687064342200756,-21.22333774343133],[55.68700483068824,-21.22340278699994],[55.68693467415869,-21.22344436123967],[55.68692335858941,-21.223472775891423],[55.68691019900143,-21.223487444221973],[55.686893770471215,-21.223506471142173],[55.68688916042447,-21.223515272140503],[55.68683149293065,-21.223561288788915],[55.68680743686855,-21.223591044545174],[55.68680081516504,-21.223608646541834],[55.68677315488458,-21.223631612956524],[55.68675831891596,-21.22364368289709],[55.68673862144351,-21.223653573542833],[55.686670476570725,-21.223699254915118],[55.68660358898342,-21.22372373007238],[55.68653083406389,-21.223763711750507],[55.68647023290396,-21.223805537447333],[55.68643779493868,-21.22383378446102],[55.68637710995972,-21.22389924712479],[55.686342157423496,-21.22394903562963],[55.68632178939879,-21.223965883255005],[55.686254566535354,-21.224038302898407],[55.686203269287944,-21.224126983433962],[55.686141243204474,-21.224206695333123],[55.68607343360782,-21.224304176867008],[55.68601090461016,-21.22442009858787],[55.68598567508161,-21.224454045295715],[55.68593563511968,-21.22451632283628],[55.6858706753701,-21.224598297849298],[55.685808481648564,-21.224676836282015],[55.68569884635508,-21.22480600140989],[55.68561033345759,-21.224877666682005],[55.685539338737726,-21.22495612129569],[55.68545292131603,-21.225054105743766],[55.68536591716111,-21.225147899240255],[55.68532249890268,-21.225177152082324],[55.68523281253874,-21.225245716050267],[55.68521755747497,-21.22526340186596],[55.685134241357446,-21.225344371050596],[55.68510130047798,-21.225398099049926],[55.685089230537415,-21.225417125970125],[55.68506022915244,-21.225422155112028],[55.6849673576653,-21.22539876960218],[55.68488169461489,-21.2254046369344],[55.684870295226574,-21.225400865077972],[55.68477717228234,-21.22536113485694],[55.6847411300987,-21.22536608017981],[55.68470290862024,-21.225399021059275],[55.68468874320388,-21.22541444376111],[55.684649012982845,-21.225445792078972],[55.684636272490025,-21.22545149177313],[55.68460249342024,-21.22545995749533],[55.68459151312709,-21.225461047142744],[55.68458279594779,-21.225468339398503],[55.684574665501714,-21.22547009959817],[55.68438766524196,-21.225393740460277],[55.684535102918744,-21.225441014394164],[55.68448942154646,-21.225455598905683],[55.6844387948513,-21.225402792915702],[55.68437450565398,-21.22530933469534],[55.68438188172877,-21.225293995812535],[55.68440199829638,-21.22524638660252],[55.684434520080686,-21.2252043094486],[55.68444742821157,-21.225187797099352],[55.68450786173344,-21.225113784894347],[55.68453250452876,-21.225093668326735],[55.68455966189504,-21.225042454898357],[55.684581119567156,-21.225007250905037],[55.68457684479654,-21.224993504583836],[55.68460584618151,-21.225006161257625],[55.684608947485685,-21.225005323067307],[55.68459017202258,-21.224997276440263],[55.68459251895547,-21.224989229813218],[55.68459687754512,-21.22499518096447],[55.68461364135146,-21.224990990012884],[55.68461732938886,-21.22499174438417],[55.68462001159787,-21.224994091317058],[55.6846391223371,-21.224992834031582],[55.68463811650872,-21.224993336945772],[55.68463794887066,-21.22499375604093],[55.6846359372139,-21.224994342774153],[55.6846359372139,-21.224994342774153],[55.68463451229036,-21.22499476186931],[55.68463426083326,-21.224994594231248],[55.68463417701423,-21.22499425895512],[55.68463426083326,-21.22499425895512],[55.6846340931952,-21.224994342774153],[55.68463375791907,-21.22499425895512]]]}}]}},{id:"hike-2",title:"Coul\xe9e de lave 2007",difficulty:"moyen",distance:"7.9km",positiveElevation:"550m",duration:"4h",description:"<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolorem fugiat hic quam? Ad corporis dolore dolorem dolores doloribus enim, error excepturi libero molestias nesciunt quam recusandae sit tenetur unde voluptatem.</p>\n<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fugiat minus veritatis voluptatem! A corporis cum neque perspiciatis provident quod recusandae velit? Beatae esse excepturi itaque nam nisi omnis soluta voluptatem.</p>,<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. At necessitatibus perspiciatis quas qui quia. Asperiores consequuntur ducimus officia optio quam, recusandae similique! Explicabo facere fugiat nam neque perspiciatis. Dolor, illo!</p>\n",position:{longitude:55.79584501683712,latitude:-21.28205037675798},photos:[{src:"/reunion/images/hikes/2_saint_philippe_coulee_2007/1-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/2_saint_philippe_coulee_2007/2-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/2_saint_philippe_coulee_2007/3-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/2_saint_philippe_coulee_2007/4-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/2_saint_philippe_coulee_2007/5-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/2_saint_philippe_coulee_2007/6-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/2_saint_philippe_coulee_2007/7-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/2_saint_philippe_coulee_2007/8-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/2_saint_philippe_coulee_2007/9-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/2_saint_philippe_coulee_2007/10-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/2_saint_philippe_coulee_2007/11-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/2_saint_philippe_coulee_2007/12-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/2_saint_philippe_coulee_2007/13-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/2_saint_philippe_coulee_2007/14-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/2_saint_philippe_coulee_2007/15-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/2_saint_philippe_coulee_2007/16-min.jpg",width:3,height:2}],data:{type:"FeatureCollection",name:"tracks",crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:[{type:"Feature",properties:{name:"Coul\xe9e de lave 2007",type:"walking"},geometry:{type:"MultiLineString",coordinates:[[[55.79586949199438,-21.280708517879248],[55.795815428718925,-21.280698459595442],[55.79580201767385,-21.280712289735675],[55.79579749144614,-21.2805347610265],[55.79576874151826,-21.280407942831516],[55.7957630418241,-21.28034507855773],[55.79575893469155,-21.280294368043542],[55.79571174457669,-21.28022831864655],[55.79568089917302,-21.28012672998011],[55.7956715952605,-21.280081970617175],[55.795662542805076,-21.280063949525356],[55.795623399317265,-21.27997267059982],[55.79559280537069,-21.279879296198487],[55.79558375291526,-21.279832692816854],[55.79555718228221,-21.279686596244574],[55.795528683811426,-21.2795936409384],[55.79550110734999,-21.279472690075636],[55.79549272544682,-21.279433546587825],[55.795471519231796,-21.279315277934074],[55.795435728505254,-21.279193656519055],[55.79541007988155,-21.27908636815846],[55.7953814137727,-21.27894915640354],[55.795351322740316,-21.278809094801545],[55.7953245844692,-21.278677582740784],[55.79530522227287,-21.278531402349472],[55.795296002179384,-21.278397291898727],[55.79529231414199,-21.27837298437953],[55.79526289366186,-21.278213476762176],[55.79526046290994,-21.278204256668687],[55.79523992724717,-21.27809294499457],[55.79520522616804,-21.27801138907671],[55.79520153813064,-21.278000827878714],[55.795176057145,-21.27795179374516],[55.79515057615936,-21.277935532853007],[55.79513196833432,-21.277923295274377],[55.79509207047522,-21.277880631387234],[55.79505770467222,-21.2778530549258],[55.79503616318107,-21.277843667194247],[55.79497673548758,-21.27780184149742],[55.79491722397506,-21.277770241722465],[55.79489819705486,-21.277763955295086],[55.79484329558909,-21.277711987495422],[55.79474229365587,-21.277647698298097],[55.79463659785688,-21.27760243602097],[55.79464070498943,-21.277586678043008],[55.79464145936072,-21.277589024975896],[55.79464397393167,-21.277590449899435],[55.794635927304626,-21.27757854759693],[55.794635927304626,-21.27757854759693],[55.79463458620012,-21.27757854759693],[55.794631568714976,-21.277577709406614],[55.79463601112366,-21.2775750271976],[55.79464824870229,-21.27757946960628],[55.79471622593701,-21.277614338323474],[55.79483826644719,-21.277676867321134],[55.79490113072097,-21.2777166813612],[55.794879253953695,-21.277720872312784],[55.79482661560178,-21.277732104063034],[55.79477531835437,-21.27774216234684],[55.79474170692265,-21.277761608362198],[55.79469535499811,-21.27779739908874],[55.79468755982816,-21.27780175767839],[55.79463525675237,-21.277813659980893],[55.79461597837508,-21.277825562283397],[55.79461363144219,-21.277834363281727],[55.79461304470897,-21.277842074632645],[55.79461413435638,-21.277850037440658],[55.79461354762316,-21.27785800024867],[55.794606087729335,-21.277865879237652],[55.79460474662483,-21.27786629833281],[55.79460541717708,-21.277863699942827],[55.79460533335805,-21.277864621952176],[55.79460089094937,-21.277870992198586],[55.79459720291197,-21.27787652425468],[55.794596280902624,-21.277878871187568],[55.794558729976416,-21.27793276682496],[55.79447776079178,-21.27801524475217],[55.7944249548018,-21.27803343348205],[55.79434733837843,-21.278043491765857],[55.794342728331685,-21.278047263622284],[55.794324623420835,-21.27805145457387],[55.79429570585489,-21.27805195748806],[55.79425337724388,-21.278076516464353],[55.79421297647059,-21.27810870297253],[55.79414860345423,-21.27816779538989],[55.7940932828933,-21.278200400993228],[55.79404391348362,-21.27821766771376],[55.79400921240449,-21.27823082730174],[55.7940071169287,-21.278230156749487],[55.794010469689965,-21.278225295245647],[55.79400971531868,-21.278225295245647],[55.79400636255741,-21.27822537906468],[55.79400443471968,-21.27822537906468],[55.79400443471968,-21.27822537906468],[55.79400443471968,-21.278225127607584],[55.794006530195475,-21.27822303213179],[55.7940068654716,-21.27822303213179],[55.794007033109665,-21.27822303213179],[55.7940071169287,-21.27822303213179],[55.79400418326259,-21.27822982147336],[55.79398339614272,-21.278236946091056],[55.79394970089197,-21.278257565572858],[55.7939135748893,-21.27827575430274],[55.79378449358046,-21.278336187824607],[55.7936995010823,-21.27837055362761],[55.7936807256192,-21.278377007693052],[55.79365750774741,-21.27840131521225],[55.793651137501,-21.278419168666005],[55.79362842254341,-21.27843065187335],[55.79358911141753,-21.278460239991546],[55.793572682887316,-21.278472980484366],[55.79356295987964,-21.278485050424933],[55.79354343004525,-21.278495276346803],[55.7935353834182,-21.278497790917754],[55.793487271294,-21.278505083173513],[55.79341853968799,-21.278528468683362],[55.79333430156112,-21.278544394299388],[55.793267246335745,-21.278547244146466],[55.79321335069835,-21.278549255803227],[55.79320195131004,-21.278559314087033],[55.793157275766134,-21.278573982417583],[55.793138248845935,-21.27858119085431],[55.79310287721455,-21.27860407344997],[55.79307513311505,-21.278623938560486],[55.79304864630103,-21.27861589193344],[55.79299542121589,-21.278628800064325],[55.792948734015226,-21.278655789792538],[55.79294261522591,-21.278661070391536],[55.79294269904494,-21.278660483658314],[55.79294102266431,-21.278661657124758],[55.79294060356915,-21.278661908581853],[55.7928897254169,-21.278704488649964],[55.79274270683527,-21.278762659057975],[55.79263726249337,-21.27878780476749],[55.792520586401224,-21.278816554695368],[55.79245721921325,-21.27882929518819],[55.792449759319425,-21.278829462826252],[55.79242997802794,-21.27884211950004],[55.7924076821655,-21.278856452554464],[55.79236602410674,-21.2788874655962],[55.79230827279389,-21.27890607342124],[55.79224817454815,-21.278884783387184],[55.792185897007585,-21.278888722881675],[55.79218338243663,-21.2788909021765],[55.79213401302695,-21.278887297958136],[55.79208950512111,-21.278887884691358],[55.7920606713742,-21.278889561071992],[55.79201113432646,-21.278901379555464],[55.791965117678046,-21.27892225049436],[55.7918915245682,-21.278947228565812],[55.79185288399458,-21.278987461701035],[55.79181390814483,-21.279043704271317],[55.79175037331879,-21.27909475006163],[55.79169840551913,-21.279124254360795],[55.791623052209616,-21.279168343171477],[55.79160410910845,-21.279170271009207],[55.791576113551855,-21.279172031208873],[55.79157150350511,-21.27917722798884],[55.79157049767673,-21.27917530015111],[55.79157150350511,-21.279175551608205],[55.791576113551855,-21.279175635427237],[55.79157686792314,-21.279175635427237],[55.791580053046346,-21.279175970703363],[55.79158131033182,-21.279175635427237],[55.791578125208616,-21.27917488105595],[55.791578125208616,-21.279173959046602],[55.79157871194184,-21.27917337231338],[55.79157929867506,-21.27917186357081],[55.79151920042932,-21.27920899540186],[55.791467148810625,-21.27923204563558],[55.79143580049276,-21.27923984080553],[55.79141073860228,-21.279246462509036],[55.791389029473066,-21.279254844412208],[55.79136933200061,-21.279263393953443],[55.791364051401615,-21.27927051857114],[55.79132130369544,-21.279301699250937],[55.7913011033088,-21.27930924296379],[55.79124796204269,-21.279340675100684],[55.79123807139695,-21.27934293821454],[55.79117713496089,-21.279353331774473],[55.791144613176584,-21.27936439588666],[55.79113715328276,-21.279365653172135],[55.79106632620096,-21.279407562687993],[55.7909934874624,-21.279432037845254],[55.790941938757896,-21.279437569901347],[55.790912099182606,-21.279446789994836],[55.79087236896157,-21.27945332787931],[55.79082442447543,-21.279458105564117],[55.79079517163336,-21.279461877420545],[55.79077145084739,-21.279466738924384],[55.7907101791352,-21.279501440003514],[55.79064438119531,-21.27951786853373],[55.790575901046395,-21.279563969001174],[55.79054304398596,-21.279582576826215],[55.79049509949982,-21.279612751677632],[55.79045109450817,-21.27963999286294],[55.790445897728205,-21.2796438485384],[55.79038999043405,-21.2796454411],[55.79037465155125,-21.27964594401419],[55.79033316113055,-21.279656840488315],[55.79032628796995,-21.27965474501252],[55.79023601487279,-21.27966740168631],[55.79016434960067,-21.27966044470668],[55.790128307417035,-21.27966731786728],[55.79009151086211,-21.279659271240234],[55.790085308253765,-21.279658433049917],[55.790069131180644,-21.279669664800167],[55.790053540840745,-21.27967461012304],[55.79003049060702,-21.279673939570785],[55.790018839761615,-21.279672011733055],[55.79000702127814,-21.279675783589482],[55.79000107012689,-21.279666479676962],[55.789978271350265,-21.279668994247913],[55.789959663525224,-21.279660779982805],[55.789957735687494,-21.279659690335393],[55.78992295078933,-21.279668575152755],[55.78987685032189,-21.279678801074624],[55.789872324094176,-21.279680393636227],[55.78983837738633,-21.279708221554756],[55.78981641680002,-21.279719872400165],[55.78980468213558,-21.279725320637226],[55.78977324999869,-21.27979204058647],[55.78973871655762,-21.27982414327562],[55.789688508957624,-21.27985507249832],[55.78967224806547,-21.279875608161092],[55.78965657390654,-21.279887091368437],[55.78963503241539,-21.279890863224864],[55.789618603885174,-21.279888516291976],[55.78958281315863,-21.279914919286966],[55.789534198120236,-21.279913997277617],[55.7894688192755,-21.27989505417645],[55.789409978315234,-21.279908968135715],[55.789355328306556,-21.279880302026868],[55.789308808743954,-21.27988482825458],[55.78927595168352,-21.279911063611507],[55.789236975833774,-21.279927492141724],[55.78921635635197,-21.27992975525558],[55.789198502898216,-21.279925731942058],[55.78920193947852,-21.27992682158947],[55.7892029453069,-21.279927156865597],[55.789201352745295,-21.279927156865597],[55.78920227475464,-21.279926653951406],[55.78920244239271,-21.27992589958012],[55.789202358573675,-21.27992397174239],[55.789123736321926,-21.27992640249431],[55.78908727504313,-21.279938807711005],[55.78906917013228,-21.27994693815708],[55.788999013602734,-21.279951380565763],[55.78897696919739,-21.279950374737382],[55.78893975354731,-21.279950458556414],[55.788917038589716,-21.279951129108667],[55.78891569748521,-21.27995179966092],[55.788914524018764,-21.27995263785124],[55.78891393728554,-21.27995314076543],[55.78891335055232,-21.27995364367962],[55.78882005997002,-21.27998013049364],[55.788722997531295,-21.280002929270267],[55.78871536999941,-21.2800030130893],[55.78867748379707,-21.27998943440616],[55.78865443356335,-21.279991446062922],[55.788604309782386,-21.280011730268598],[55.78858779743314,-21.28001826815307],[55.78855158761144,-21.280026230961084],[55.78848218545318,-21.28003972582519],[55.78841974027455,-21.28004115074873],[55.788365425542,-21.28002799116075],[55.788282696157694,-21.280038049444556],[55.788199128583074,-21.280052550137043],[55.7881339173764,-21.280064955353737],[55.78809008002281,-21.280073588714004],[55.788056049495935,-21.280068894848228],[55.787974409759045,-21.280079120770097],[55.78792906366289,-21.280080042779446],[55.78792378306389,-21.28007920458913],[55.78784666955471,-21.28007828257978],[55.787781961262226,-21.28009001724422],[55.78772873617709,-21.28013745881617],[55.78769135288894,-21.280168052762747],[55.78764391131699,-21.280206106603146],[55.78757593408227,-21.2802292406559],[55.78750133514404,-21.280241310596466],[55.787423802539706,-21.28027324564755],[55.78737175092101,-21.280310796573758],[55.78729891218245,-21.28034013323486],[55.787270246073604,-21.2803465873003],[55.787200508639216,-21.28035052679479],[55.78719883225858,-21.28034809604287],[55.78719916753471,-21.280347760766745],[55.78719916753471,-21.280347760766745],[55.78719916753471,-21.28034809604287],[55.78719916753471,-21.28034809604287],[55.78719916753471,-21.28034809604287],[55.78719908371568,-21.28034549765289],[55.78715080395341,-21.280327895656228],[55.787053909152746,-21.28033585846424],[55.787044102326035,-21.28033820539713],[55.7869509793818,-21.28034801222384],[55.78688266687095,-21.280373325571418],[55.78684310428798,-21.280380953103304],[55.78684017062187,-21.28038413822651],[55.786835895851254,-21.280396208167076],[55.78683715313673,-21.280412720516324],[55.78680790029466,-21.280460162088275],[55.78678786754608,-21.2804744951427],[55.786748891696334,-21.280471896752715],[55.7867160346359,-21.28046385012567],[55.786712346598506,-21.2804657779634],[55.78666222281754,-21.280476339161396],[55.78660162165761,-21.280485978350043],[55.786572620272636,-21.280486397445202],[55.78652744181454,-21.280483547598124],[55.78643834218383,-21.28047851845622],[55.786365335807204,-21.280501652508974],[55.78633239492774,-21.280514309182763],[55.786282774060965,-21.28052495419979],[55.78621697612107,-21.280549513176084],[55.786159224808216,-21.28054683096707],[55.786089319735765,-21.280562421306968],[55.786081440746784,-21.280566779896617],[55.78601103276014,-21.28058345988393],[55.78597775660455,-21.280580358579755],[55.785967614501715,-21.2805815320462],[55.78593668527901,-21.280587650835514],[55.78587440773845,-21.280619837343693],[55.78585613518953,-21.28063727170229],[55.78585848212242,-21.280644815415144],[55.78586191870272,-21.280657975003123],[55.785855716094375,-21.280664848163724],[55.78581841662526,-21.280667195096612],[55.7858076877892,-21.28067205660045],[55.7857920974493,-21.28068035468459],[55.78574297949672,-21.28068949095905],[55.78567869029939,-21.280709272250533],[55.7856298238039,-21.280727880075574],[55.785589003935456,-21.280739614740014],[55.785506358370185,-21.280737183988094],[55.78545925207436,-21.2807385250926],[55.78541021794081,-21.28073550760746],[55.78534961678088,-21.280727460980415],[55.78529748134315,-21.280716061592102],[55.785298151895404,-21.280717067420483],[55.78529857099056,-21.28071689978242],[55.78529697842896,-21.280716061592102],[55.78529664315283,-21.28071597777307],[55.78529647551477,-21.28071597777307],[55.785295721143484,-21.28071589395404],[55.78529438003898,-21.28071597777307],[55.78529002144933,-21.280714804306626],[55.785289853811264,-21.280712792649865],[55.7852896861732,-21.280712373554707],[55.78528960235417,-21.280712373554707],[55.78528960235417,-21.280712373554707],[55.78528926707804,-21.280712289735675],[55.78528901562095,-21.280710278078914],[55.78528541140258,-21.2807075958699],[55.78527602367103,-21.280714804306626],[55.785279124975204,-21.280714636668563],[55.78527971170843,-21.280714385211468],[55.78528138808906,-21.280712205916643],[55.785281555727124,-21.28071153536439],[55.785281052812934,-21.28070960752666],[55.7852793764323,-21.280708853155375],[55.78526127152145,-21.280706841498613],[55.78522992320359,-21.28071296028793],[55.78521969728172,-21.28071455284953],[55.78518960624933,-21.28072578459978],[55.785189773887396,-21.280736094340682],[55.78514451161027,-21.280743973329663],[55.785121880471706,-21.280750343576074],[55.78511098399758,-21.28075218759477],[55.785091035068035,-21.28075654618442],[55.785031858831644,-21.28077171742916],[55.78497352078557,-21.280786218121648],[55.784919457510114,-21.28079862333834],[55.78487494960427,-21.280799126252532],[55.78478895127773,-21.280802311375737],[55.784731367602944,-21.280816895887256],[55.78470781445503,-21.280820835381746],[55.78465199097991,-21.280832905322313],[55.78460354357958,-21.280837012454867],[55.784570686519146,-21.280846232548356],[55.78453850001097,-21.28084891475737],[55.784498853608966,-21.280863918364048],[55.78449164517224,-21.280862409621477],[55.78445845283568,-21.28087774850428],[55.78445065766573,-21.280877832323313],[55.784391816705465,-21.28088411875069],[55.78434085473418,-21.280878921970725],[55.78429810702801,-21.280898451805115],[55.78425091691315,-21.280898116528988],[55.78424706123769,-21.280897613614798],[55.78417816199362,-21.280890991911292],[55.78412611037493,-21.280877916142344],[55.784069281071424,-21.280866097658873],[55.784014631062746,-21.280875569209456],[55.783994598314166,-21.280882945284247],[55.783974565565586,-21.280886130407453],[55.78390155918896,-21.280876407399774],[55.78384095802903,-21.28088261000812],[55.7838099449873,-21.280881855636835],[55.7837684545666,-21.280898535624146],[55.78373517841101,-21.28090851008892],[55.78368798829615,-21.280928123742342],[55.783643648028374,-21.280946396291256],[55.783608108758926,-21.28095678985119],[55.78357717953622,-21.280965255573392],[55.78354080207646,-21.28096609376371],[55.78348422423005,-21.2809837795794],[55.78342890366912,-21.280973302200437],[55.78336847014725,-21.281004063785076],[55.78330870717764,-21.28102275542915],[55.783277694135904,-21.28101889975369],[55.78324441798031,-21.28102191723883],[55.78322228975594,-21.281027616932988],[55.78318758867681,-21.281052427366376],[55.78316520899534,-21.281078830361366],[55.78315523453057,-21.281083188951015],[55.783137883991,-21.281084530055523],[55.78308943659067,-21.28110791556537],[55.78305087983608,-21.281122751533985],[55.78298717737198,-21.281165834516287],[55.782927414402366,-21.28120950423181],[55.78289237804711,-21.281225513666868],[55.78284694813192,-21.28121092915535],[55.78278643079102,-21.281192153692245],[55.78273203223944,-21.2811893876642],[55.782654248178005,-21.281203469261527],[55.78260621987283,-21.28120799548924],[55.78260026872158,-21.281208666041493],[55.78254880383611,-21.28119232133031],[55.78248443081975,-21.281174467876554],[55.78246783465147,-21.28117136657238],[55.78244587406516,-21.281158793717623],[55.782392816618085,-21.28115183673799],[55.78235333785415,-21.281138258054852],[55.78234462067485,-21.281138844788074],[55.78229743055999,-21.281138509511948],[55.78227429650724,-21.281141443178058],[55.78223775140941,-21.281164661049843],[55.78222065232694,-21.281170612201095],[55.782222328707576,-21.281170779839158],[55.78222258016467,-21.281172204762697],[55.78222258016467,-21.281172204762697],[55.7822226639837,-21.28117237240076],[55.7822226639837,-21.28117237240076],[55.7822226639837,-21.281172204762697],[55.7822226639837,-21.281172204762697],[55.78222258016467,-21.281172204762697],[55.7822210714221,-21.281171701848507],[55.78221872448921,-21.281171198934317],[55.78221713192761,-21.281166337430477],[55.78222417272627,-21.281159296631813],[55.7822245080024,-21.281158961355686],[55.7822245080024,-21.281158877536654],[55.7822245080024,-21.281158877536654],[55.7822245080024,-21.281158793717623],[55.78221780247986,-21.281159799546003],[55.782217383384705,-21.281160470098257],[55.78221721574664,-21.28116055391729],[55.78221721574664,-21.28116063773632],[55.78221721574664,-21.28116063773632],[55.78221713192761,-21.281160805374384],[55.78221713192761,-21.281161308288574],[55.782213024795055,-21.28116248175502],[55.7822126056999,-21.28116248175502],[55.782211516052485,-21.281162397935987],[55.78221134841442,-21.281161978840828],[55.782210594043136,-21.281159883365035],[55.78221134841442,-21.281159464269876],[55.78221277333796,-21.281158877536654],[55.78222023323178,-21.281158877536654],[55.78222014941275,-21.281158877536654],[55.782220317050815,-21.281159548088908],[55.78222048468888,-21.281159799546003],[55.78222048468888,-21.28116013482213],[55.782221322879195,-21.28116214647889],[55.782221322879195,-21.281162230297923],[55.78222157433629,-21.281162314116955],[55.78222165815532,-21.28116256557405],[55.78222207725048,-21.281163906678557],[55.782222244888544,-21.28116407431662],[55.782221322879195,-21.281164661049843],[55.78222098760307,-21.281164828687906],[55.78222073614597,-21.28116499632597],[55.78222023323178,-21.281165080145],[55.78221755102277,-21.281165750697255],[55.782210007309914,-21.281167091801763],[55.78220824711025,-21.281167594715953],[55.78220590017736,-21.281168181449175],[55.78218888491392,-21.281172037124634],[55.782174887135625,-21.28117530606687],[55.78217220492661,-21.281175976619124],[55.78217061236501,-21.28117631189525],[55.78216793015599,-21.281176982447505],[55.78215753659606,-21.281179497018456],[55.78215125016868,-21.281181005761027],[55.782064413651824,-21.281202044337988],[55.78184195794165,-21.281254598870873],[55.78169125132263,-21.281282929703593],[55.78140115365386,-21.281346632167697],[55.781389167532325,-21.281348057091236],[55.781354466453195,-21.281346380710602],[55.78130828216672,-21.28134042955935],[55.781282633543015,-21.281346464529634],[55.781247932463884,-21.281339842826128],[55.781241143122315,-21.281335232779384],[55.78124047257006,-21.281335651874542],[55.78122479841113,-21.28134042955935],[55.781182553619146,-21.281339591369033],[55.781176183372736,-21.28133649006486],[55.78114659525454,-21.281344117596745],[55.78111273236573,-21.28135409206152],[55.78107610344887,-21.28137420862913],[55.7810587529093,-21.28139809705317],[55.7810434140265,-21.281411591917276],[55.781043665483594,-21.2814121786505],[55.781043665483594,-21.281412430107594],[55.78100795857608,-21.281450483947992],[55.7809932064265,-21.28145433962345],[55.780947525054216,-21.28146842122078],[55.78093461692333,-21.281473701819777],[55.78089354559779,-21.281487280502915],[55.780884409323335,-21.281493064016104],[55.780872758477926,-21.281494656577706],[55.78084803186357,-21.281489627435803],[55.78082154504955,-21.281495997682214],[55.78081785701215,-21.28149541094899],[55.78080167993903,-21.2814967520535],[55.78079095110297,-21.281503541395068],[55.78074879013002,-21.281514605507255],[55.780708473175764,-21.281521897763014],[55.78066715039313,-21.281540924683213],[55.780651895329356,-21.281550647690892],[55.78064854256809,-21.28155450336635],[55.78061535023153,-21.28157109953463],[55.78059917315841,-21.28157495521009],[55.780573608353734,-21.281600771471858],[55.780550139024854,-21.281612422317266],[55.7805354706943,-21.281611332669854],[55.78049808740616,-21.28163019195199],[55.78047721646726,-21.281635807827115],[55.78047034330666,-21.28163706511259],[55.78042449429631,-21.281644189730287],[55.780378142371774,-21.28166195936501],[55.78033137135208,-21.281687021255493],[55.78027890063822,-21.28170831128955],[55.780220394954085,-21.281735133379698],[55.780171025544405,-21.281721722334623],[55.78013967722654,-21.281730607151985],[55.78009307384491,-21.28174116834998],[55.78004186041653,-21.281734630465508],[55.78001981601119,-21.281746197491884],[55.78000699169934,-21.281752148643136],[55.77999140135944,-21.28178550861776],[55.77995619736612,-21.281812833622098],[55.779918394982815,-21.28180705010891],[55.779890986159444,-21.281807385385036],[55.779877910390496,-21.281819455325603],[55.77985167503357,-21.28186379559338],[55.779829965904355,-21.281874105334282],[55.77982719987631,-21.281875865533948],[55.779784033074975,-21.28190821968019],[55.77976416796446,-21.281912997364998],[55.77974908053875,-21.281920708715916],[55.77974908053875,-21.281920708715916],[55.779751343652606,-21.281916769221425],[55.77975260093808,-21.281914422288537],[55.77975100837648,-21.281913751736283],[55.77975100837648,-21.28191266208887],[55.77975067310035,-21.28191157244146],[55.779750337824225,-21.281911237165332],[55.77975017018616,-21.281910818070173],[55.779749834910035,-21.281910482794046],[55.77973701059818,-21.28190821968019],[55.77971781603992,-21.281906627118587],[55.779675990343094,-21.281905956566334],[55.779652101919055,-21.281908303499222],[55.779645731672645,-21.281910398975015],[55.77963517047465,-21.281919702887535],[55.7796033192426,-21.281971335411072],[55.77956308610737,-21.282023135572672],[55.779544562101364,-21.28205431625247],[55.77952318824828,-21.282066218554974],[55.77948178164661,-21.28209153190255],[55.779479602351785,-21.282092118635774],[55.77946661040187,-21.28209731541574],[55.77945537865162,-21.282096477225423],[55.77935831621289,-21.28208465874195],[55.7793044205755,-21.28207585774362],[55.779281202703714,-21.282072253525257],[55.779255889356136,-21.282084994018078],[55.77923216857016,-21.282097483053803],[55.779228899627924,-21.28209823742509],[55.77918330207467,-21.282100081443787],[55.779167879372835,-21.282096141949296],[55.779123874381185,-21.282095974311233],[55.779117001220584,-21.282096141949296],[55.779034439474344,-21.282102847471833],[55.77895078808069,-21.2821286637336],[55.778914242982864,-21.28214525990188],[55.77885674312711,-21.282149869948626],[55.77881139703095,-21.28213729709387],[55.778784826397896,-21.282155234366655],[55.77875657938421,-21.282168310135603],[55.7787224650383,-21.28218322992325],[55.77872347086668,-21.282182475551963],[55.77872347086668,-21.282182643190026],[55.778582068160176,-21.282179206609726],[55.7784772105515,-21.28219060599804],[55.77845617197454,-21.282209465280175],[55.778422728180885,-21.282220110297203],[55.778398839756846,-21.28221357241273],[55.77838140539825,-21.282210471108556],[55.77837344259024,-21.282209297642112],[55.77832164242864,-21.282195635139942],[55.778316613286734,-21.282195216044784],[55.77824058942497,-21.282179625704885],[55.778200356289744,-21.282177111133933],[55.77815844677389,-21.282149367034435],[55.77810924500227,-21.28214819356799],[55.77805308625102,-21.282143918797374],[55.77802383340895,-21.282148277387023],[55.77799692749977,-21.2821408174932],[55.77798720449209,-21.28212028183043],[55.7779504917562,-21.282100584357977],[55.777903301641345,-21.282081976532936],[55.777850998565555,-21.282075522467494],[55.77783121727407,-21.282073678448796],[55.777809424325824,-21.282089268788695],[55.77777011319995,-21.28208457492292],[55.77770909294486,-21.28205976448953],[55.77763373963535,-21.282052053138614],[55.77756299637258,-21.282062279060483],[55.77751278877258,-21.282063201069832],[55.777458138763905,-21.28206890076399],[55.777421006932855,-21.2820544000715],[55.7773857191205,-21.282048281282187],[55.77736811712384,-21.282048784196377],[55.777366273105145,-21.282047275453806],[55.77733341604471,-21.282041743397713],[55.777318412438035,-21.282041491940618],[55.777303325012326,-21.282037803903222],[55.77729117125273,-21.282039815559983],[55.77722570858896,-21.282067308202386],[55.77719612047076,-21.282075522467494],[55.777181116864085,-21.282103266566992],[55.77717256732285,-21.282109804451466],[55.77716954983771,-21.28211005590856],[55.77711749821901,-21.28212170675397],[55.77708321623504,-21.282121790573],[55.77704876661301,-21.28211684525013],[55.77702940441668,-21.282122544944286],[55.77698062174022,-21.28211005590856],[55.776963690295815,-21.282105529680848],[55.776879200711846,-21.282109217718244],[55.776806278154254,-21.282109888270497],[55.776762776076794,-21.282126316800714],[55.776745760813355,-21.282125813886523],[55.77670653350651,-21.282105445861816],[55.776693876832724,-21.282099997624755],[55.776657331734896,-21.28207719884813],[55.77659698203206,-21.282046101987362],[55.77656798064709,-21.28204652108252],[55.77654610387981,-21.282043252140284],[55.77653621323407,-21.282041324302554],[55.77649765647948,-21.282035373151302],[55.77645775862038,-21.282002180814743],[55.776440827175975,-21.281995559111238],[55.776435462757945,-21.281991954892874],[55.776389027014375,-21.28198390826583],[55.776370419189334,-21.281977789476514],[55.776353906840086,-21.281977957114577],[55.77634770423174,-21.281989021226764],[55.77634770423174,-21.281989021226764],[55.77634778805077,-21.281989021226764],[55.776348039507866,-21.281991116702557],[55.77634778805077,-21.281993463635445],[55.776347033679485,-21.28200209699571],[55.77634686604142,-21.282003605738282],[55.77634083107114,-21.282009975984693],[55.77633990906179,-21.282010059803724],[55.776339741423726,-21.282010059803724],[55.776339657604694,-21.282010059803724],[55.77629799954593,-21.28200293518603],[55.77626564539969,-21.281995307654142],[55.77619465067983,-21.281990613788366],[55.77614016830921,-21.28197954967618],[55.776116866618395,-21.281923642382026],[55.776088032871485,-21.281912494450808],[55.77608233317733,-21.28190964460373],[55.77603799290955,-21.281891288235784],[55.776035226881504,-21.28188969567418],[55.77601360157132,-21.281882990151644],[55.77597085386515,-21.281865471974015],[55.77596959657967,-21.281852312386036],[55.775942439213395,-21.281848289072514],[55.775915114209056,-21.28182850778103],[55.77591679058969,-21.281826328486204],[55.77591679058969,-21.281826328486204],[55.77591679058969,-21.281826496124268],[55.775831043720245,-21.28185600042343],[55.77576826326549,-21.28186429850757],[55.77574102208018,-21.281863544136286],[55.7756710331887,-21.281853402033448],[55.775631135329604,-21.281858263537288],[55.775619400665164,-21.281860107555985],[55.77560414560139,-21.281867902725935],[55.775579335168004,-21.281848959624767],[55.77556835487485,-21.28185206092894],[55.77554245479405,-21.28183890134096],[55.77552342787385,-21.281853150576353],[55.77552300877869,-21.281851641833782],[55.77552300877869,-21.281851641833782],[55.77552300877869,-21.281852647662163],[55.77552284114063,-21.281853150576353],[55.77549937181175,-21.281871674582362],[55.775462156161666,-21.281889025121927],[55.77543826773763,-21.281901262700558],[55.77531932853162,-21.281949374824762],[55.775264175608754,-21.281948452815413],[55.775100477039814,-21.281936299055815],[55.775051107630134,-21.281960774213076],[55.77505060471594,-21.281961193308234],[55.77505026943982,-21.281961612403393],[55.77504934743047,-21.28196236677468],[55.77504767104983,-21.281963204964995],[55.77504540793598,-21.28196496516466],[55.775043396279216,-21.281965719535947],[55.77504306100309,-21.28196580335498],[55.775042390450835,-21.2819663900882],[55.7750423066318,-21.281966473907232],[55.77504197135568,-21.28196680918336],[55.77504121698439,-21.28196731209755],[55.775037445127964,-21.281968904659152],[55.77503618784249,-21.28196923993528],[55.77503526583314,-21.281969575211406],[55.775034511461854,-21.281969910487533],[55.77503149397671,-21.281970916315913],[55.77502646483481,-21.281971838325262],[55.77502017840743,-21.281973849982023],[55.775016406551,-21.28197519108653],[55.775003833696246,-21.281978292390704],[55.774998888373375,-21.28197954967618],[55.77498799189925,-21.28198256716132],[55.77498639933765,-21.281983153894544],[55.77498556114733,-21.28198348917067],[55.77498463913798,-21.281983740627766],[55.774983717128634,-21.28198399208486],[55.77498287893832,-21.281984243541956],[55.77498170547187,-21.281984662637115],[55.7749770116061,-21.28198583610356],[55.774971479550004,-21.281987093389034],[55.77496058307588,-21.28198985941708],[55.7749579846859,-21.281990446150303],[55.77495706267655,-21.281990697607398],[55.77495404519141,-21.28199136815965],[55.77494096942246,-21.281993463635445],[55.77493845485151,-21.28199371509254],[55.77493409626186,-21.2819941341877],[55.77493007294834,-21.28199522383511],[55.774925127625465,-21.28199614584446],[55.77492403797805,-21.28199622966349],[55.7749164942652,-21.28199715167284],[55.774914398789406,-21.28199765458703],[55.7749128062278,-21.28199815750122],[55.7749112136662,-21.28199857659638],[55.77490769326687,-21.281999414786696],[55.77490685507655,-21.281999498605728],[55.77486435882747,-21.28201710060239],[55.7747264765203,-21.282112235203385],[55.77461315318942,-21.282187085598707],[55.77462044544518,-21.282203178852797],[55.77462522312999,-21.282211393117905],[55.774625642225146,-21.282211476936936],[55.774625139310956,-21.282211476936936],[55.774624049663544,-21.28221063874662],[55.77462061308324,-21.282208459451795],[55.77462061308324,-21.282208459451795],[55.77462061308324,-21.282208459451795],[55.77462044544518,-21.282208459451795],[55.77462011016905,-21.282208627089858],[55.77462011016905,-21.28220921382308],[55.77461960725486,-21.282209968194366],[55.77461491338909,-21.282209968194366],[55.77461491338909,-21.282209968194366],[55.77461491338909,-21.28220913000405],[55.77461491338909,-21.282208375632763],[55.77462622895837,-21.282201586291194],[55.774637293070555,-21.282189851626754],[55.77464324422181,-21.282185576856136],[55.77464383095503,-21.28217753022909],[55.77464726753533,-21.282175099477172],[55.77464894391596,-21.282173842191696],[55.774649027734995,-21.282172333449125],[55.77464844100177,-21.28217208199203],[55.77464617788792,-21.282171327620745],[55.77464483678341,-21.282170405611396],[55.774643747136,-21.2821701541543],[55.774644166231155,-21.2821701541543],[55.774643747136,-21.282173842191696],[55.774649530649185,-21.28217937424779],[55.774649530649185,-21.28217937424779],[55.774649530649185,-21.28217937424779],[55.774649027734995,-21.282179541885853],[55.77464869245887,-21.282179541885853],[55.77464827336371,-21.282179290428758],[55.774648021906614,-21.282179206609726],[55.77460275962949,-21.282138470560312],[55.77454316429794,-21.282091364264488],[55.77452220954001,-21.28206462599337],[55.774503685534,-21.2820528075099],[55.77450276352465,-21.282054064795375],[55.77450016513467,-21.28205674700439],[55.774499494582415,-21.282057417556643],[55.774499494582415,-21.282057417556643],[55.774499494582415,-21.282054148614407],[55.77450016513467,-21.282044677063823],[55.77450016513467,-21.2820440903306],[55.77450016513467,-21.28204308450222],[55.77453721314669,-21.28203914500773],[55.77455649152398,-21.282037887722254],[55.774559676647186,-21.282037887722254],[55.77457543462515,-21.282038306817412],[55.77462044544518,-21.282034451141953],[55.77463218010962,-21.282034032046795],[55.77468255534768,-21.282038390636444],[55.77468255534768,-21.282038390636444],[55.77468255534768,-21.28203621134162],[55.77468439936638,-21.282035121694207],[55.77469269745052,-21.282022465020418],[55.774725303053856,-21.28202053718269],[55.77472999691963,-21.28202053718269],[55.77474273741245,-21.28202053718269],[55.774776013568044,-21.2820216268301],[55.77477626502514,-21.282021794468164],[55.77477634884417,-21.28202984109521],[55.77477634884417,-21.28202984109521],[55.774773666635156,-21.282002432271838],[55.77479881234467,-21.282002180814743],[55.7748007401824,-21.282002180814743],[55.77480610460043,-21.282002683728933],[55.7748110499233,-21.282002683728933],[55.77484440989792,-21.28200058825314],[55.77488137409091,-21.28199220634997],[55.77489319257438,-21.281981728971004],[55.774903586134315,-21.28197267651558],[55.77493007294834,-21.281969072297215],[55.77496477402747,-21.28196781501174],[55.77505253255367,-21.281960606575012],[55.775112211704254,-21.28193562850356],[55.77512956224382,-21.2819198705256],[55.775135178118944,-21.281922133639455],[55.77513978816569,-21.281927498057485],[55.77516283839941,-21.28194342367351],[55.775195779278874,-21.28193696960807],[55.7752048317343,-21.281935460865498],[55.77521623112261,-21.28193411976099],[55.77525143511593,-21.281938897445798],[55.77528513036668,-21.28192624077201],[55.77528705820441,-21.28192816860974],[55.77528856694698,-21.281928922981024],[55.77530507929623,-21.281928084790707],[55.77531706541777,-21.281928839161992],[55.77535578981042,-21.28194040618837],[55.77536358498037,-21.281940657645464],[55.77536568045616,-21.281941747292876],[55.77536576427519,-21.2819423340261],[55.77536593191326,-21.281943172216415],[55.77536601573229,-21.28194333985448],[55.77536609955132,-21.28194333985448],[55.77536769211292,-21.281941663473845],[55.77537431381643,-21.281938729807734],[55.775381522253156,-21.281940070912242],[55.77537599019706,-21.281931269913912],[55.775376074016094,-21.281932359561324],[55.77537599019706,-21.281932359561324],[55.77537590637803,-21.281932443380356],[55.775376074016094,-21.28193210810423],[55.77537599019706,-21.281931940466166],[55.77537632547319,-21.281931772828102],[55.775376576930285,-21.281931521371007],[55.77537867240608,-21.28193076699972],[55.775379594415426,-21.281930347904563],[55.77538076788187,-21.281929844990373],[55.775384455919266,-21.28192825242877],[55.775439189746976,-21.281918194144964],[55.77554773539305,-21.28189262934029],[55.775648737326264,-21.281860610470176],[55.775649240240455,-21.281857006251812],[55.775651754811406,-21.281853234395385],[55.77569282613695,-21.281843427568674],[55.77573984861374,-21.281843595206738],[55.775763066485524,-21.281840074807405],[55.77580631710589,-21.281847953796387],[55.775862727314234,-21.28182465210557],[55.77589952386916,-21.281826747581363],[55.775906816124916,-21.28182414919138],[55.77590455301106,-21.28182373009622],[55.77590455301106,-21.28182373009622],[55.77590648084879,-21.28182515501976],[55.775919472798705,-21.281838482245803],[55.77596599236131,-21.28189698792994],[55.77602223493159,-21.28192816860974],[55.776052912697196,-21.281927917152643],[55.776069005951285,-21.281926156952977],[55.77610244974494,-21.281891372054815],[55.77614360488951,-21.28189598210156],[55.776177467778325,-21.28193269483745],[55.7762133423239,-21.281952057033777],[55.77626028098166,-21.281959768384695],[55.776273775845766,-21.28196530044079],[55.77628131955862,-21.281968150287867],[55.776333874091506,-21.281975526362658],[55.776413502171636,-21.281984830275178],[55.77644996345043,-21.282002264633775],[55.77648164704442,-21.28199765458703],[55.7765222992748,-21.282009724527597],[55.776565382257104,-21.282025733962655],[55.77658164314926,-21.282029589638114],[55.776645513251424,-21.282039983198047],[55.776694379746914,-21.282062530517578],[55.77671223320067,-21.28206647001207],[55.7767625246197,-21.282102428376675],[55.77683578245342,-21.282128244638443],[55.776859167963266,-21.282117599621415],[55.77688196673989,-21.282108211889863],[55.77694399282336,-21.282090190798044],[55.776976346969604,-21.28208516165614],[55.777030577883124,-21.282101003453135],[55.77707441523671,-21.28209882415831],[55.77709821984172,-21.28210075199604],[55.777104254812,-21.282101925462484],[55.7771235331893,-21.282106451690197],[55.77716276049614,-21.282106367871165],[55.77718069776893,-21.28210175782442],[55.77718815766275,-21.28209186717868],[55.77722076326609,-21.282067811116576],[55.777241634204984,-21.28206110559404],[55.7772493455559,-21.28204501233995],[55.777261666953564,-21.28203872591257],[55.777261666953564,-21.28203872591257],[55.777261666953564,-21.28203872591257],[55.77727415598929,-21.282036462798715],[55.77730382792652,-21.282024141401052],[55.77739032916725,-21.282026655972004],[55.777439614757895,-21.282019782811403],[55.77744958922267,-21.28200980834663],[55.777448834851384,-21.28200989216566],[55.77745973132551,-21.282017435878515],[55.77748093754053,-21.28204601816833],[55.77748923562467,-21.28205037675798],[55.77753282152116,-21.282056076452136],[55.77759535051882,-21.282054567709565],[55.777611527591944,-21.28204987384379],[55.77766760252416,-21.282053645700216],[55.777694173157215,-21.28204794600606],[55.777727449312806,-21.282051634043455],[55.77779106795788,-21.282061776146293],[55.77783867716789,-21.2820631172508],[55.77790682204068,-21.282079042866826],[55.77795057557523,-21.28208599984646],[55.77800321392715,-21.28210905008018],[55.77802944928408,-21.28212321549654],[55.778055684641004,-21.282138135284185],[55.778056271374226,-21.282137129455805],[55.77805543318391,-21.282134698703885],[55.778058199211955,-21.282134614884853],[55.77806046232581,-21.282132770866156],[55.778059205040336,-21.28213243559003],[55.778059205040336,-21.28213243559003],[55.778124667704105,-21.282137716189027],[55.77819339931011,-21.282160012051463],[55.778232123702765,-21.28216336481273],[55.778241008520126,-21.28216336481273],[55.77827311120927,-21.282176859676838],[55.77829197049141,-21.282188091427088],[55.77831502072513,-21.28218322992325],[55.778333712369204,-21.282175183296204],[55.77839917503297,-21.282184654846787],[55.77840571291745,-21.282184487208724],[55.778451478108764,-21.28219454549253],[55.778472097590566,-21.28219890408218],[55.77847427688539,-21.282198149710894],[55.77847670763731,-21.28219747915864],[55.778496488928795,-21.282185660675168],[55.77858324162662,-21.282187588512897],[55.77867896296084,-21.282173926010728],[55.778730511665344,-21.282178703695536],[55.778756998479366,-21.282156072556973],[55.77878759242594,-21.28214861266315],[55.778820952400565,-21.282118689268827],[55.778861436992884,-21.28211642615497],[55.77886797487736,-21.282117599621415],[55.77894098125398,-21.282119527459145],[55.77897232957184,-21.282107876613736],[55.778993451967835,-21.282103518024087],[55.779002755880356,-21.28210024908185],[55.77907090075314,-21.282080886885524],[55.77917559072375,-21.28209345974028],[55.77921171672642,-21.28210863098502],[55.779243567958474,-21.282107206061482],[55.779252871870995,-21.28211156465113],[55.7792579010129,-21.28211433067918],[55.779259745031595,-21.2821114808321],[55.779269468039274,-21.28210762515664],[55.77932043001056,-21.282089604064822],[55.779360411688685,-21.282078120857477],[55.77937105670571,-21.282075438648462],[55.77946241945028,-21.282082814723253],[55.77950533479452,-21.28206504508853],[55.779528049752116,-21.282046856358647],[55.77952813357115,-21.28204895183444],[55.77952813357115,-21.28204895183444],[55.779528049752116,-21.28204895183444],[55.7796033192426,-21.28204165957868],[55.77965905889869,-21.282041994854808],[55.779728796333075,-21.28205087967217],[55.77977171167731,-21.282048700377345],[55.779847986996174,-21.282035540789366],[55.77989073470235,-21.28203629516065],[55.77992694452405,-21.282030679285526],[55.779934069141746,-21.282030092552304],[55.779949659481645,-21.28202883526683],[55.78001302666962,-21.282026236876845],[55.78004672192037,-21.28201173618436],[55.780068431049585,-21.28200838342309],[55.780105981975794,-21.28199027851224],[55.78013213351369,-21.28197619691491],[55.780143197625875,-21.281975861638784],[55.780152501538396,-21.281973011791706],[55.780154345557094,-21.281976280733943],[55.78015945851803,-21.281976029276848],[55.78015945851803,-21.281976029276848],[55.78019860200584,-21.28195323050022],[55.78024277463555,-21.281915763393044],[55.78027747571468,-21.281902436167],[55.78034847043455,-21.28189690411091],[55.78038384206593,-21.281875362619758],[55.780415777117014,-21.281865471974015],[55.780467158183455,-21.281869327649474],[55.78048987314105,-21.281867567449808],[55.78051518648863,-21.2818559166044],[55.7805700879544,-21.281844098120928],[55.78061434440315,-21.28182515501976],[55.78065541572869,-21.28181777894497],[55.78070838935673,-21.28182322718203],[55.7807289250195,-21.281816689297557],[55.78076597303152,-21.281792297959328],[55.78080436214805,-21.281785676255822],[55.78084375709295,-21.281768577173352],[55.78086169436574,-21.28176748752594],[55.78089069575071,-21.28174737095833],[55.7809361256659,-21.28172591328621],[55.78098029829562,-21.28173278644681],[55.78102455474436,-21.2817161064595],[55.7810296677053,-21.281711999326944],[55.78103419393301,-21.28170487470925],[55.78104534186423,-21.28169909119606],[55.78105858527124,-21.28169816918671],[55.78113234601915,-21.281683333218098],[55.78119629994035,-21.281671430915594],[55.78124097548425,-21.28166447393596],[55.78128883615136,-21.281663216650486],[55.78133820556104,-21.281647542491555],[55.78137684613466,-21.281624492257833],[55.78140852972865,-21.281596329063177],[55.78146234154701,-21.28159741871059],[55.78149343840778,-21.2815969157964],[55.78150911256671,-21.28159213811159],[55.78156049363315,-21.281585935503244],[55.78156761825085,-21.28158526495099],[55.78160248696804,-21.28158275038004],[55.78163132071495,-21.281579062342644],[55.78167784027755,-21.2815726082772],[55.78173978254199,-21.28153832629323],[55.78177255578339,-21.28150655888021],[55.78182435594499,-21.281512174755335],[55.78186886385083,-21.28150563687086],[55.78190532512963,-21.281509660184383],[55.781950084492564,-21.281494153663516],[55.78198151662946,-21.28148107789457],[55.782030299305916,-21.28146942704916],[55.78209601342678,-21.281417962163687],[55.782133396714926,-21.281404048204422],[55.78212887048721,-21.281396336853504],[55.78213364817202,-21.281391140073538],[55.78216969035566,-21.28138636238873],[55.782221741974354,-21.281375214457512],[55.78227094374597,-21.281386110931635],[55.78232844360173,-21.28138644620776],[55.7823489792645,-21.281394492834806],[55.78236029483378,-21.28139181062579],[55.78236339613795,-21.28138979896903],[55.782394325360656,-21.281387116760015],[55.78244671225548,-21.28137504681945],[55.78247428871691,-21.281366413459182],[55.78251292929053,-21.28135467879474],[55.78252307139337,-21.281352415680885],[55.78255827538669,-21.281337328255177],[55.78258794732392,-21.281332718208432],[55.78261342830956,-21.281342776492238],[55.78261426649988,-21.28134436905384],[55.782666401937604,-21.28134386613965],[55.78271510079503,-21.281341183930635],[55.78271593898535,-21.28134034574032],[55.78272775746882,-21.281344201415777],[55.78272909857333,-21.28134386613965],[55.78273613937199,-21.281339339911938],[55.78276162035763,-21.281331796199083],[55.7827686611563,-21.28133213147521],[55.78280855901539,-21.281342692673206],[55.78282071277499,-21.28134344704449],[55.782836973667145,-21.28134143538773],[55.782844349741936,-21.281341267749667],[55.7828754466027,-21.281326850876212],[55.78289648517966,-21.28133255057037],[55.782940573990345,-21.28134587779641],[55.78294116072357,-21.281348392367363],[55.78294225037098,-21.28134621307254],[55.783048616722226,-21.281306901946664],[55.783082228153944,-21.28129156306386],[55.783082731068134,-21.28129156306386],[55.783178033307195,-21.28127253614366],[55.783218601718545,-21.28126172348857],[55.78321868553758,-21.281257951632142],[55.783222960308194,-21.281232554465532],[55.78321885317564,-21.281148735433817],[55.783228911459446,-21.28110246732831],[55.783231342211366,-21.281071286648512],[55.783223044127226,-21.281052511185408],[55.783227821812034,-21.28103842958808],[55.78323251567781,-21.281022084876895],[55.78326143324375,-21.281002135947347],[55.78332035802305,-21.280992412939668],[55.78336654230952,-21.280987048521638],[55.78344399109483,-21.280960980802774],[55.783513309434056,-21.28097154200077],[55.78352143988013,-21.28097305074334],[55.783550860360265,-21.280963495373726],[55.783579275012016,-21.28095201216638],[55.783584052696824,-21.280950251966715],[55.78364255838096,-21.280945306643844],[55.78365077264607,-21.280940026044846],[55.78365923836827,-21.280933571979403],[55.783663764595985,-21.28092468716204],[55.78367415815592,-21.28091672435403],[55.783706679940224,-21.28091588616371],[55.78374716453254,-21.280920496210456],[55.78377490863204,-21.280905660241842],[55.78378161415458,-21.280905660241842],[55.78382126055658,-21.280905408784747],[55.78383450396359,-21.280909683555365],[55.78385587781668,-21.280905827879906],[55.783903235569596,-21.280893674120307],[55.78392653726041,-21.28087816759944],[55.78394824638963,-21.280890153720975],[55.78395537100732,-21.280892165377736],[55.783977499231696,-21.28089291974902],[55.78400029800832,-21.280890237540007],[55.784012200310826,-21.28089476376772],[55.784025276079774,-21.280893171206117],[55.78406844288111,-21.280877077952027],[55.784140191972256,-21.280880263075233],[55.78418972902,-21.280891746282578],[55.78424739651382,-21.280895601958036],[55.784302800893784,-21.280893087387085],[55.78434429131448,-21.28089426085353],[55.78435971401632,-21.28088696859777],[55.78441193327308,-21.28087766468525],[55.78442148864269,-21.280880011618137],[55.78448770567775,-21.280871545895934],[55.784556437283754,-21.280845645815134],[55.78456557355821,-21.280840197578073],[55.78461821191013,-21.2808283790946],[55.78467948362231,-21.28082393668592],[55.78473815694451,-21.28081765025854],[55.78476598486304,-21.2808127887547],[55.78482935205102,-21.2807990424335],[55.78489053994417,-21.280792588368058],[55.784935131669044,-21.280791582539678],[55.78498676419258,-21.280776830390096],[55.78505306504667,-21.280773980543017],[55.78509388491511,-21.280767358839512],[55.78509757295251,-21.280764928087592],[55.7851152587682,-21.280756881460547],[55.78512246720493,-21.280754199251533],[55.78514585271478,-21.280752941966057],[55.785217601805925,-21.2807350885123],[55.785223469138145,-21.28073559142649],[55.78526772558689,-21.280731232836843],[55.785287925973535,-21.28073257394135],[55.78529597260058,-21.28073743544519],[55.78532153740525,-21.280751936137676],[55.78538012690842,-21.28074238076806],[55.78542027622461,-21.2807282153517],[55.785456486046314,-21.280727377161384],[55.78547199256718,-21.280733747407794],[55.785514153540134,-21.280734250321984],[55.78557450324297,-21.28073500469327],[55.7856144849211,-21.280742548406124],[55.78562571667135,-21.280747074633837],[55.78565555624664,-21.280737183988094],[55.78567408025265,-21.280725533142686],[55.78568430617452,-21.2807213421911],[55.785690089687705,-21.280716648325324],[55.78573761507869,-21.28069938160479],[55.78579771332443,-21.28069795668125],[55.78580182045698,-21.280699968338013],[55.78583828173578,-21.280706506222486],[55.78587985597551,-21.280697034671903],[55.78590634278953,-21.28068915568292],[55.78590827062726,-21.28068622201681],[55.78591262921691,-21.28068035468459],[55.78592059202492,-21.280677169561386],[55.78595973551273,-21.280651604756713],[55.78598152846098,-21.280591255053878],[55.786032574251294,-21.280588824301958],[55.786103485152125,-21.280584800988436],[55.78614958561957,-21.280560325831175],[55.78618001192808,-21.28055320121348],[55.78620532527566,-21.2805521953851],[55.786245223134756,-21.280558733269572],[55.78629777766764,-21.280541215091944],[55.78633574768901,-21.280521852895617],[55.78636282123625,-21.28051715902984],[55.786387799307704,-21.28051556646824],[55.786391822621226,-21.280512465164065],[55.786433313041925,-21.280497796833515],[55.78644236549735,-21.280496204271913],[55.78649894334376,-21.280489582568407],[55.78655510209501,-21.280485475435853],[55.78660614788532,-21.280485978350043],[55.786642860621214,-21.28047256730497],[55.78668552450836,-21.28048430196941],[55.78669248148799,-21.280482206493616],[55.786726009100676,-21.280468124896288],[55.78673045150936,-21.280468376353383],[55.78673363663256,-21.280469382181764],[55.786732295528054,-21.280470052734017],[55.78673405572772,-21.280472818762064],[55.78673405572772,-21.280472818762064],[55.78673405572772,-21.280472818762064],[55.78673564828932,-21.280471812933683],[55.786736235022545,-21.28047013655305],[55.78674101270735,-21.280470052734017],[55.78674101270735,-21.280470304191113],[55.78673933632672,-21.280470555648208],[55.78674495220184,-21.280470807105303],[55.786797339096665,-21.28046334721148],[55.78687093220651,-21.28045169636607],[55.786919044330716,-21.280424538999796],[55.78692206181586,-21.280415654182434],[55.78692130744457,-21.280402410775423],[55.786947291344404,-21.280363267287612],[55.7870146818459,-21.280358908697963],[55.78709707595408,-21.280357148498297],[55.78716019168496,-21.280345749109983],[55.78720034100115,-21.280359663069248],[55.787205789238214,-21.280363518744707],[55.78721350058913,-21.28036603331566],[55.78722012229264,-21.28036553040147],[55.78724359162152,-21.280359495431185],[55.78726630657911,-21.280359495431185],[55.78727778978646,-21.28035924397409],[55.78728281892836,-21.28035924397409],[55.78733302652836,-21.280337870121002],[55.78738398849964,-21.280322447419167],[55.78745674341917,-21.280283723026514],[55.7875501178205,-21.280240137130022],[55.78757559880614,-21.280231419950724],[55.787607952952385,-21.280224295333028],[55.78767416998744,-21.280201161280274],[55.78774466179311,-21.280162101611495],[55.787797970697284,-21.28011591732502],[55.787865025922656,-21.280078114941716],[55.78794423490763,-21.280079958960414],[55.78800357878208,-21.28007300198078],[55.78806795179844,-21.280068643391132],[55.78813509084284,-21.280057914555073],[55.788222178816795,-21.280046347528696],[55.78831387683749,-21.280035618692636],[55.78836022876203,-21.280032768845558],[55.78838646411896,-21.280026314780116],[55.78844714909792,-21.280039306730032],[55.788521664217114,-21.280039558187127],[55.78854111023247,-21.280039474368095],[55.78855745494366,-21.28002740442753],[55.78859617933631,-21.280015166848898],[55.78860070556402,-21.280013993382454],[55.7886294554919,-21.280006617307663],[55.78865971416235,-21.279996894299984],[55.78867748379707,-21.27999572083354],[55.788721488788724,-21.279977364465594],[55.788754764944315,-21.279961690306664],[55.78880237415433,-21.279937801882625],[55.78887194395065,-21.279959343373775],[55.78891837969422,-21.27996009774506],[55.78892617486417,-21.27996110357344],[55.78895098529756,-21.27995523624122],[55.78895341604948,-21.279954062774777],[55.78896766528487,-21.279960684478283],[55.78899926505983,-21.279961355030537],[55.7890301104635,-21.279949704185128],[55.78906246460974,-21.279957331717014],[55.78906590119004,-21.279958840459585],[55.789100686088204,-21.27995020709932],[55.789150558412075,-21.279928917065263],[55.78921526670456,-21.27992581576109],[55.78929900191724,-21.279923217371106],[55.78934200108051,-21.279900670051575],[55.789386089891195,-21.27987066283822],[55.78941131941974,-21.279897233471274],[55.789449624717236,-21.279910393059254],[55.78946990892291,-21.279903519898653],[55.78951575793326,-21.279886001721025],[55.78954693861306,-21.27988876774907],[55.789581472054124,-21.279906118288636],[55.78963025473058,-21.279900670051575],[55.78965204767883,-21.2798975687474],[55.78967719338834,-21.279890276491642],[55.78968549147248,-21.279875356703997],[55.789694460108876,-21.27986420877278],[55.78970183618367,-21.27985498867929],[55.78970778733492,-21.279849037528038],[55.78973175957799,-21.279833195731044],[55.789735447615385,-21.279831854626536],[55.7897415664047,-21.27982716076076],[55.789752965793014,-21.279822131618857],[55.789766712114215,-21.279820119962096],[55.78982396051288,-21.2798095587641],[55.78984432853758,-21.27982120960951],[55.78987500630319,-21.27983101643622],[55.789893278852105,-21.27981794066727],[55.78991557471454,-21.279816683381796],[55.789928901940584,-21.27980997785926],[55.78994298353791,-21.27980126067996],[55.789970057085156,-21.279784832149744],[55.790003668516874,-21.279779467731714],[55.79005287028849,-21.279788268730044],[55.790077513083816,-21.27981341443956],[55.790133252739906,-21.27984526567161],[55.790200140327215,-21.27982565201819],[55.7902561314404,-21.279809810221195],[55.79027432017028,-21.279803942888975],[55.79034950584173,-21.279787849634886],[55.790413711220026,-21.279764296486974],[55.790453189983964,-21.279763961210847],[55.79047339037061,-21.27975767478347],[55.790520161390305,-21.27974694594741],[55.79055787995458,-21.279736971482635],[55.790572967380285,-21.279732696712017],[55.79064639285207,-21.279715094715357],[55.79070573672652,-21.279708724468946],[55.79075887799263,-21.279721464961767],[55.79077555797994,-21.2797249853611],[55.79084588214755,-21.279711071401834],[55.79092123545706,-21.27970981411636],[55.79097420908511,-21.279695397242904],[55.79103539697826,-21.27968056127429],[55.791077641770244,-21.27965424209833],[55.7911369856447,-21.279640328139067],[55.791198341175914,-21.279615852981806],[55.79124201089144,-21.279593305662274],[55.7912749517709,-21.27955256961286],[55.79130311496556,-21.279514264315367],[55.79131065867841,-21.27950755879283],[55.791363129392266,-21.27946900203824],[55.79144200310111,-21.279433546587825],[55.7914943061769,-21.279392056167126],[55.79156479798257,-21.2793364841491],[55.791627410799265,-21.279298849403858],[55.79165322706103,-21.279292395338416],[55.79165649600327,-21.27929063513875],[55.79167661257088,-21.279274374246597],[55.791680719703436,-21.279277559369802],[55.79168097116053,-21.27927697263658],[55.791719276458025,-21.279257526621222],[55.79183871857822,-21.279226848855615],[55.79189697280526,-21.27921444363892],[55.791929326951504,-21.279196087270975],[55.791946426033974,-21.27919097431004],[55.79198774881661,-21.2791636493057],[55.79199939966202,-21.279156357049942],[55.792060839012265,-21.279147304594517],[55.79216896556318,-21.27914940007031],[55.792214227840304,-21.279154429212213],[55.79222956672311,-21.279152249917388],[55.792240714654326,-21.279150070622563],[55.79230986535549,-21.27912836149335],[55.79233601689339,-21.279127607122064],[55.7923717238009,-21.279129115864635],[55.79243483953178,-21.279111681506038],[55.79252385534346,-21.279095001518726],[55.79259644262493,-21.279082763940096],[55.79262795858085,-21.27907857298851],[55.79265679232776,-21.279086116701365],[55.79266861081123,-21.27908888272941],[55.79270029440522,-21.27910011447966],[55.79270959831774,-21.279102126136422],[55.79274186864495,-21.27910112030804],[55.7928017154336,-21.279076812788844],[55.79283717088401,-21.279081171378493],[55.79287136904895,-21.279086200520396],[55.792922331020236,-21.27907664515078],[55.79298553057015,-21.27905066125095],[55.79299399629235,-21.27904479391873],[55.793036157265306,-21.279022162780166],[55.79306314699352,-21.278989892452955],[55.79306976869702,-21.278982181102037],[55.79312399961054,-21.27896273508668],[55.79312911257148,-21.278960974887013],[55.79315509647131,-21.278929207473993],[55.79315769486129,-21.278918981552124],[55.79318979755044,-21.278901379555464],[55.793221816420555,-21.27890213392675],[55.793237490579486,-21.27889970317483],[55.793282333761454,-21.278880340978503],[55.793330781161785,-21.278869779780507],[55.79335927963257,-21.278840946033597],[55.79340546391904,-21.278812950477004],[55.79340789467096,-21.27881127409637],[55.79342725686729,-21.278795767575502],[55.79347520135343,-21.27876433543861],[55.79354200512171,-21.278732735663652],[55.79356715083122,-21.278703650459647],[55.793604953214526,-21.278685377910733],[55.7936408277601,-21.278661657124758],[55.793685587123036,-21.27862762659788],[55.79375364817679,-21.278630644083023],[55.793801341205835,-21.27864464186132],[55.793806705623865,-21.278650425374508],[55.79381416551769,-21.27864707261324],[55.79384006559849,-21.27865402959287],[55.79384325072169,-21.278655622154474],[55.79386848025024,-21.27866559661925],[55.79387493431568,-21.278667356818914],[55.79393796622753,-21.278683366253972],[55.79397602006793,-21.278696358203888],[55.79398616217077,-21.278699124231935],[55.794009966775775,-21.278704656288028],[55.79405816271901,-21.278712870553136],[55.79407308250666,-21.278717732056975],[55.79412882216275,-21.27871555276215],[55.79417450353503,-21.278710775077343],[55.79420819878578,-21.278692837804556],[55.794226890429854,-21.278677498921752],[55.79423543997109,-21.278647240251303],[55.794247426092625,-21.278642378747463],[55.79431573860347,-21.278632152825594],[55.794395450502634,-21.27862955443561],[55.79446870833635,-21.278647743165493],[55.79452679492533,-21.27867104485631],[55.79458429478109,-21.278692921623588],[55.794613882899284,-21.278692334890366],[55.79464296810329,-21.278693424537778],[55.794685799628496,-21.278690490871668],[55.794693008065224,-21.278689317405224],[55.79472804442048,-21.278692837804556],[55.79475746490061,-21.27868571318686],[55.79478898085654,-21.278680013492703],[55.79479199834168,-21.278680600225925],[55.79481144435704,-21.27868135459721],[55.794828962534666,-21.278681941330433],[55.79483633860946,-21.278682444244623],[55.7948705367744,-21.27868378534913],[55.79489509575069,-21.278700213879347],[55.79491797834635,-21.27871312201023],[55.794941782951355,-21.278713792562485],[55.79501495696604,-21.27872041426599],[55.79509165138006,-21.27872535958886],[55.79510070383549,-21.278732903301716],[55.79512903466821,-21.278751092031598],[55.79514680430293,-21.278745979070663],[55.79518846236169,-21.2787370942533],[55.79519701190293,-21.278744637966156],[55.79520581290126,-21.278799874708056],[55.795217799022794,-21.27881378866732],[55.79523707740009,-21.278818733990192],[55.795234479010105,-21.278812866657972],[55.79526658169925,-21.278831139206886],[55.79532952979207,-21.278880005702376],[55.79533338546753,-21.27888947725296],[55.795345203951,-21.278898362070322],[55.79537286423147,-21.27894521690905],[55.795417204499245,-21.27902191132307],[55.79542885534465,-21.27906289882958],[55.79544645734131,-21.279093911871314],[55.79546154476702,-21.279169348999858],[55.79548048786819,-21.279253335669637],[55.79548677429557,-21.279328605160117],[55.79550236463547,-21.279431199654937],[55.79551518894732,-21.279468247666955],[55.795515440404415,-21.279507474973798],[55.79553237184882,-21.279573775827885],[55.795536981895566,-21.279581654816866],[55.79556145705283,-21.279697492718697],[55.79559791833162,-21.279791872948408],[55.79560998827219,-21.2798095587641],[55.795621890574694,-21.27984962426126],[55.795629769563675,-21.279877200722694],[55.79564125277102,-21.27991902641952],[55.795653238892555,-21.279969234019518],[55.79569162800908,-21.28005833365023],[55.795766562223434,-21.28016428090632],[55.795803777873516,-21.28026494756341],[55.79580998048186,-21.280310042202473],[55.795812495052814,-21.28034222871065],[55.79582364298403,-21.280408361926675],[55.795830097049475,-21.28053903579712],[55.795811992138624,-21.280654622241855],[55.79580000601709,-21.2807662691921],[55.795777877792716,-21.280896356329322],[55.79576480202377,-21.280970871448517],[55.79572666436434,-21.281090062111616],[55.795722054317594,-21.281185196712613],[55.79571761190891,-21.281219394877553],[55.795711325481534,-21.28134428523481],[55.79572238959372,-21.281447550281882],[55.795720126479864,-21.28147185780108],[55.7957440149039,-21.281570345163345],[55.79576211981475,-21.281683584675193],[55.79579355195165,-21.281769750639796],[55.79579673707485,-21.281884415075183],[55.79580729827285,-21.28198156133294],[55.79583579674363,-21.28206060267985],[55.7958407420665,-21.282058004289865],[55.79585054889321,-21.28204559907317],[55.795851554721594,-21.2820493709296],[55.79584501683712,-21.28205037675798]]]}}]}},{id:"hike-3",title:"Plage du Tremblet",difficulty:"tr\xe8s facile",distance:"2.5km",positiveElevation:"115m",duration:"1h",description:"<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolorem fugiat hic quam? Ad corporis dolore dolorem dolores doloribus enim, error excepturi libero molestias nesciunt quam recusandae sit tenetur unde voluptatem.</p>\n<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fugiat minus veritatis voluptatem! A corporis cum neque perspiciatis provident quod recusandae velit? Beatae esse excepturi itaque nam nisi omnis soluta voluptatem.</p>\n<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. At necessitatibus perspiciatis quas qui quia. Asperiores consequuntur ducimus officia optio quam, recusandae similique! Explicabo facere fugiat nam neque perspiciatis. Dolor, illo!</p>\n",position:{longitude:55.800376776605844,latitude:-21.29991950467229},photos:[{src:"/reunion/images/hikes/3_saint_philippe_plage_tremblet/1-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/3_saint_philippe_plage_tremblet/2-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/3_saint_philippe_plage_tremblet/3-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/3_saint_philippe_plage_tremblet/4-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/3_saint_philippe_plage_tremblet/5-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/3_saint_philippe_plage_tremblet/6-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/3_saint_philippe_plage_tremblet/7-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/3_saint_philippe_plage_tremblet/8-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/3_saint_philippe_plage_tremblet/9-min.jpg",width:4,height:5}],data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"MultiLineString",coordinates:[[[55.80607144162059,-21.294387951493263,3.200000047683716],[55.8052765019238,-21.29381421022117,8.199999809265137],[55.80520014278591,-21.293697617948055,9.199999809265137],[55.805113138630986,-21.293551018461585,9.800000190734863],[55.80512596294284,-21.293587647378445,9.600000381469727],[55.80511188134551,-21.293609524145722,10],[55.80509075894952,-21.29362352192402,10.199999809265137],[55.80510249361396,-21.293677166104317,10.199999809265137],[55.805094027891755,-21.2937091011554,10.399999618530273],[55.80507290549576,-21.293738605454564,11.399999618530273],[55.8050589915365,-21.293750759214163,12.199999809265137],[55.80507902428508,-21.293790573254228,11.199999809265137],[55.80508749000728,-21.293792836368084,10.800000190734863],[55.80507667735219,-21.293786885216832,11.399999618530273],[55.80502487719059,-21.29377900622785,14.199999809265137],[55.80500786192715,-21.293772719800472,15.199999809265137],[55.80500199459493,-21.293772719800472,15.600000381469727],[55.80500174313784,-21.293772719800472,15.600000381469727],[55.804985482245684,-21.29377163015306,16.399999618530273],[55.8049828838557,-21.29376769065857,16.600000381469727],[55.80498321913183,-21.293767858296633,16.600000381469727],[55.80498422496021,-21.29376819357276,16.600000381469727],[55.80498481169343,-21.29376919940114,16.600000381469727],[55.804980201646686,-21.29377800039947,16.799999237060547],[55.80497693270445,-21.293781101703644,17],[55.804974250495434,-21.293784203007817,17.200000762939453],[55.80497173592448,-21.293785544112325,17.399999618530273],[55.80496218055487,-21.293787471950054,17.799999237060547],[55.8049778547138,-21.29384539090097,17.200000762939453],[55.805006604641676,-21.2939007114619,15.800000190734863],[55.80501498654485,-21.293915044516325,15.399999618530273],[55.805045161396265,-21.293990314006805,15.199999809265137],[55.805055471137166,-21.294012693688273,15],[55.80506301485002,-21.29406340420246,15.399999618530273],[55.80502881668508,-21.294081592932343,17.200000762939453],[55.80501548945904,-21.2941200658679,18.200000762939453],[55.805005095899105,-21.294149234890938,18.799999237060547],[55.80500626936555,-21.294163400307298,18.600000381469727],[55.80500199459493,-21.294181253761053,18.799999237060547],[55.80500928685069,-21.29421620629728,18.399999618530273],[55.80500492826104,-21.294226348400116,18.399999618530273],[55.80500434152782,-21.29423540085554,18.399999618530273],[55.804988499730825,-21.294254511594772,19.200000762939453],[55.80498430877924,-21.294275717809796,19.200000762939453],[55.804983135312796,-21.29429055377841,19.200000762939453],[55.80498372204602,-21.29431360401213,19],[55.80498866736889,-21.29433397203684,18.600000381469727],[55.80499545671046,-21.29435903392732,18],[55.80499352887273,-21.294381748884916,18],[55.804987074807286,-21.294410079717636,18.200000762939453],[55.80499604344368,-21.29441963508725,17.600000381469727],[55.805009035393596,-21.29443128593266,16.799999237060547],[55.80500920303166,-21.294453497976065,16.600000381469727],[55.804991936311126,-21.29449632950127,17.200000762939453],[55.80500978976488,-21.294545028358698,15.600000381469727],[55.8050138130784,-21.294552739709616,15.199999809265137],[55.80502294935286,-21.294594146311283,14.399999618530273],[55.8050262182951,-21.29460277967155,14],[55.80503032542765,-21.294622728601098,13.600000381469727],[55.80504692159593,-21.294644940644503,12.399999618530273],[55.80505505204201,-21.294669080525637,11.600000381469727],[55.805070055648685,-21.294728592038155,10.800000190734863],[55.80507969483733,-21.294752564281225,10.199999809265137],[55.80508455634117,-21.294756503775716,10],[55.80508212558925,-21.294765304774046,10.199999809265137],[55.805081790313125,-21.29477729089558,10.199999809265137],[55.80506837926805,-21.294798413291574,10.800000190734863],[55.80504725687206,-21.294805370271206,11.800000190734863],[55.80503745004535,-21.29480704665184,12.399999618530273],[55.80503518693149,-21.29480855539441,12.399999618530273],[55.80503568984568,-21.294812243431807,12.399999618530273],[55.80503711476922,-21.29481576383114,12.399999618530273],[55.80502990633249,-21.29483001306653,12.800000190734863],[55.805017752572894,-21.294833784922957,13.399999618530273],[55.80500769428909,-21.294860104098916,13.800000190734863],[55.80500383861363,-21.29493897780776,14],[55.80501029267907,-21.294954484328628,13.600000381469727],[55.805025631561875,-21.294993376359344,12.600000381469727],[55.80502973869443,-21.2950025126338,12.399999618530273],[55.80503208562732,-21.2950128223747,12.199999809265137],[55.80502454191446,-21.295067807659507,12.199999809265137],[55.805014399811625,-21.295115752145648,12.399999618530273],[55.80503853969276,-21.295211976394057,10.399999618530273],[55.8050452452153,-21.29522815346718,10.199999809265137],[55.80505572259426,-21.295229913666844,9.600000381469727],[55.805059829726815,-21.29523695446551,9.600000381469727],[55.805043233558536,-21.29526930861175,11.199999809265137],[55.80501154996455,-21.295266626402736,12.800000190734863],[55.80499269068241,-21.295274002477527,14],[55.80499763600528,-21.295294789597392,14.199999809265137],[55.80499470233917,-21.29530937410891,14.800000190734863],[55.80500434152782,-21.295341392979026,14.399999618530273],[55.80502789467573,-21.295370394364,13],[55.80503367818892,-21.295385314151645,12.600000381469727],[55.80503954552114,-21.295404508709908,12.399999618530273],[55.8050362765789,-21.2954256311059,12.800000190734863],[55.805034935474396,-21.295433090999722,13],[55.8050278108567,-21.295446502044797,13.600000381469727],[55.80503409728408,-21.295458152890205,13.199999809265137],[55.805051531642675,-21.295466534793377,12],[55.805047173053026,-21.295484891161323,12.399999618530273],[55.80503661185503,-21.295524956658483,13.800000190734863],[55.80500232987106,-21.295547084882855,16.600000381469727],[55.80498380586505,-21.29557667300105,18.399999618530273],[55.8049622643739,-21.29560248926282,20.200000762939453],[55.8049501106143,-21.2956138048321,21.200000762939453],[55.80495254136622,-21.295614894479513,21.200000762939453],[55.80494617111981,-21.29562444984913,21.799999237060547],[55.80494516529143,-21.295633669942617,22],[55.80494709312916,-21.295639369636774,22],[55.80496427603066,-21.29566694609821,21],[55.80496511422098,-21.295719500631094,21.399999618530273],[55.80498087219894,-21.29575931467116,20.600000381469727],[55.804994367063046,-21.295777838677168,19.799999237060547],[55.804980201646686,-21.295793345198035,21],[55.804973831400275,-21.29580139182508,21.600000381469727],[55.80496788024902,-21.295809438452125,22],[55.80495807342231,-21.29581463523209,22.799999237060547],[55.804931335151196,-21.29582578316331,25],[55.804935190826654,-21.2958453129977,24.799999237060547],[55.80495220609009,-21.29587314091623,23.799999237060547],[55.80494625493884,-21.295898035168648,24.399999618530273],[55.804925970733166,-21.29591622389853,26],[55.804913733154535,-21.295918906107545,27],[55.804879534989595,-21.29593240097165,29.600000381469727],[55.804873583838344,-21.295941872522235,30.200000762939453],[55.80485614947975,-21.295960983261466,31.600000381469727],[55.80485254526138,-21.29594991914928,31.799999237060547],[55.80486134625971,-21.295943297445774,31],[55.80486134625971,-21.295939777046442,31],[55.80485975369811,-21.295933574438095,31.200000762939453],[55.804831590503454,-21.295918319374323,33.20000076293945],[55.80480493605137,-21.295901387929916,35],[55.804796889424324,-21.295893928036094,35.400001525878906],[55.804770570248365,-21.29590842872858,37],[55.804764702916145,-21.29593139514327,37.599998474121094],[55.80476554110646,-21.295934412628412,37.599998474121094],[55.80478532239795,-21.29596944898367,36.599998474121094],[55.804790602996945,-21.295995516702533,36.599998474121094],[55.804807702079415,-21.296038012951612,35.79999923706055],[55.804808121174574,-21.29608436487615,36.20000076293945],[55.80481122247875,-21.29610573872924,36],[55.80480049364269,-21.296108588576317,36.79999923706055],[55.80478725023568,-21.29613859578967,37.599998474121094],[55.8047809638083,-21.296169189736247,38.20000076293945],[55.80475330352783,-21.29621420055628,40],[55.804720195010304,-21.29623716697097,42],[55.804715333506465,-21.29625929519534,42.400001525878906],[55.80473276786506,-21.29630330018699,41.79999923706055],[55.80473327077925,-21.29632333293557,42],[55.80473545007408,-21.296340096741915,41.79999923706055],[55.80474626272917,-21.296375636011362,41.20000076293945],[55.8047600928694,-21.29641704261303,40.79999923706055],[55.80477903597057,-21.296465825289488,40.599998474121094],[55.804753890261054,-21.29648694768548,41.79999923706055],[55.804768558591604,-21.29652064293623,41.599998474121094],[55.80478532239795,-21.296578645706177,41.599998474121094],[55.80478196963668,-21.29663849249482,42],[55.80475372262299,-21.2966638058424,43],[55.80474358052015,-21.29666623659432,43.400001525878906],[55.80470393411815,-21.29669859074056,44.79999923706055],[55.80469504930079,-21.296715857461095,45],[55.80467216670513,-21.296770926564932,46.20000076293945],[55.804653307422996,-21.296771680936217,46.599998474121094],[55.80463461577892,-21.296768663451076,47.20000076293945],[55.80458641983569,-21.296780901029706,49.20000076293945],[55.804584827274084,-21.296799425035715,49.20000076293945],[55.80456605181098,-21.29687352105975,50],[55.80457150004804,-21.296902019530535,49.79999923706055],[55.80457443371415,-21.296914843842387,49.599998474121094],[55.80458306707442,-21.296929428353906,49.20000076293945],[55.804578540846705,-21.29699463956058,48.599998474121094],[55.80453277565539,-21.297136545181274,48.20000076293945],[55.80451559275389,-21.297168731689453,48.20000076293945],[55.804494051262736,-21.297231512144208,48.20000076293945],[55.80449145287275,-21.297317007556558,47.79999923706055],[55.804485166445374,-21.297326646745205,47.79999923706055],[55.80445566214621,-21.29739864729345,48],[55.80443269573152,-21.29744122736156,48],[55.804415848106146,-21.297455057501793,48.599998474121094],[55.804401682689786,-21.297471737489104,49],[55.80439170822501,-21.297476263716817,49.400001525878906],[55.80436882562935,-21.29748087376356,49.79999923706055],[55.804321048781276,-21.297481041401625,50.79999923706055],[55.804252065718174,-21.29746964201331,52.20000076293945],[55.80421476624906,-21.297460421919823,53],[55.804212586954236,-21.297437455505133,52.79999923706055],[55.804214011877775,-21.297419937327504,52.79999923706055],[55.80422214232385,-21.297396970912814,52.599998474121094],[55.80421669408679,-21.297374591231346,52.79999923706055],[55.80422004684806,-21.297349194064736,52.599998474121094],[55.804214933887124,-21.297336956486106,52.79999923706055],[55.80422893166542,-21.297324132174253,52.400001525878906],[55.8042336255312,-21.2973044347018,52.400001525878906],[55.804216023534536,-21.29728188738227,52.79999923706055],[55.80419858917594,-21.29725506529212,53.20000076293945],[55.80418987199664,-21.29724282771349,53.400001525878906],[55.80418827943504,-21.297227907925844,53.400001525878906],[55.80418165773153,-21.297202426940203,53.599998474121094],[55.8041765447706,-21.297155153006315,53.79999923706055],[55.804161205887794,-21.297118440270424,54.599998474121094],[55.804140754044056,-21.29705674946308,56],[55.804134886711836,-21.29703705199063,56.400001525878906],[55.8040951564908,-21.296954825520515,57.400001525878906],[55.804100604727864,-21.29694434814155,57.400001525878906],[55.804113345220685,-21.29691786132753,57.400001525878906],[55.80411812290549,-21.29688081331551,57.400001525878906],[55.804131450131536,-21.29683781415224,57.599998474121094],[55.804143184795976,-21.29681962542236,57.599998474121094],[55.804151399061084,-21.296801520511508,57.599998474121094],[55.804125582799315,-21.296738488599658,58.400001525878906],[55.80411401577294,-21.296723568812013,58.599998474121094],[55.80411711707711,-21.296672020107508,59],[55.8041020296514,-21.29665743559599,59.20000076293945],[55.804041093215346,-21.29661636427045,60.20000076293945],[55.804020557552576,-21.296587865799665,60.599998474121094],[55.80402173101902,-21.296577472239733,60.599998474121094],[55.80401871353388,-21.29655140452087,60.79999923706055],[55.803991137072444,-21.296521900221705,61.400001525878906],[55.80398946069181,-21.296497089788318,61.599998474121094],[55.80399029888213,-21.296448726207018,62],[55.80400018952787,-21.29642936401069,62],[55.80400379374623,-21.29637748003006,62.20000076293945],[55.80400161445141,-21.296364571899176,62.400001525878906],[55.8040037099272,-21.296338504180312,62.599998474121094],[55.80400966107845,-21.29631587304175,62.400001525878906],[55.8040332980454,-21.296280920505524,62.20000076293945],[55.80401921644807,-21.296271365135908,62.400001525878906],[55.80395417287946,-21.296220486983657,64.19999694824219],[55.803919387981296,-21.29618939012289,65.19999694824219],[55.80390044488013,-21.2961370870471,66],[55.803901283070445,-21.296110348775983,66.19999694824219],[55.80389214679599,-21.296090902760625,66.4000015258789],[55.80389223061502,-21.296069780364633,66.5999984741211],[55.80389315262437,-21.296057710424066,66.80000305175781],[55.803892062976956,-21.296032397076488,67],[55.803896337747574,-21.29601001739502,67],[55.80389038659632,-21.295999120920897,67.19999694824219],[55.80385325476527,-21.29593374207616,68.4000015258789],[55.803865157067776,-21.29591178148985,68.4000015258789],[55.80386524088681,-21.29590197466314,68.4000015258789],[55.803862139582634,-21.295880181714892,68.5999984741211],[55.80385937355459,-21.295857215300202,68.5999984741211],[55.80386884510517,-21.29581748507917,68.5999984741211],[55.80386473797262,-21.295806085690856,68.5999984741211],[55.803864654153585,-21.295794686302543,68.5999984741211],[55.80386674962938,-21.295721596106887,68.5999984741211],[55.803842190653086,-21.295661246404052,68.80000305175781],[55.80381545238197,-21.295592095702887,69.19999694824219],[55.80380346626043,-21.295564770698547,69.4000015258789],[55.803792821243405,-21.295539122074842,69.5999984741211],[55.80378100275993,-21.29551062360406,69.80000305175781],[55.80375937744975,-21.295468043535948,70.19999694824219],[55.80374076962471,-21.295435102656484,70.5999984741211],[55.80371788702905,-21.295415069907904,71.19999694824219],[55.80368804745376,-21.295389840379357,72],[55.80363733693957,-21.295335525646806,73.4000015258789],[55.80363465473056,-21.29532010294497,73.5999984741211],[55.80362585373223,-21.295280205085874,74],[55.803597355261445,-21.29523703828454,74.80000305175781],[55.803557792678475,-21.29519261419773,75.5999984741211],[55.803551003336906,-21.29518372938037,75.80000305175781],[55.80352921038866,-21.295133186504245,76.4000015258789],[55.80344363115728,-21.295071160420775,77.5999984741211],[55.803429214283824,-21.295066131278872,77.80000305175781],[55.803338857367635,-21.29503721371293,79.19999694824219],[55.803253781050444,-21.295009972527623,80.4000015258789],[55.80317784100771,-21.294974433258176,81.4000015258789],[55.803118497133255,-21.294947527348995,82.4000015258789],[55.803086226806045,-21.294946018606424,82.80000305175781],[55.80297223292291,-21.294882902875543,84.4000015258789],[55.80294532701373,-21.294865803793073,84.80000305175781],[55.80290802754462,-21.294843507930636,85.19999694824219],[55.80284818075597,-21.294818446040154,85.5999984741211],[55.802793027833104,-21.29482163116336,86.4000015258789],[55.80275572836399,-21.29483001306653,86.80000305175781],[55.80273670144379,-21.29486412741244,87],[55.802742233499885,-21.294867312535644,87],[55.80274893902242,-21.294903689995408,87],[55.80274097621441,-21.29493596032262,87.19999694824219],[55.80269328318536,-21.295022377744317,87.80000305175781],[55.80264684744179,-21.295123798772693,88.4000015258789],[55.80263536423445,-21.29515984095633,88.4000015258789],[55.802620612084866,-21.29518372938037,88.5999984741211],[55.80255917273462,-21.29528841935098,89.5999984741211],[55.802574595436454,-21.295310128480196,89.4000015258789],[55.80258230678737,-21.295336866751313,89.4000015258789],[55.80256990157068,-21.295364778488874,89.5999984741211],[55.80256210640073,-21.29538112320006,89.80000305175781],[55.8024822268635,-21.29550232551992,91.19999694824219],[55.80242162570357,-21.295581785961986,92],[55.80238348804414,-21.295615984126925,92.5999984741211],[55.802365550771356,-21.295632999390364,92.80000305175781],[55.802319617941976,-21.295690583065152,93.5999984741211],[55.80231442116201,-21.295702904462814,93.5999984741211],[55.80221777781844,-21.295796614140272,95.19999694824219],[55.80216011032462,-21.295882361009717,96.19999694824219],[55.80208324827254,-21.29595620557666,97.19999694824219],[55.802058689296246,-21.295970287173986,97.5999984741211],[55.80203010700643,-21.295980513095856,98],[55.80200990661979,-21.295990403741598,98.19999694824219],[55.80193924717605,-21.29604329355061,99],[55.80191049724817,-21.29606232047081,99.19999694824219],[55.801882250234485,-21.296099117025733,99.4000015258789],[55.80186557024717,-21.296122251078486,99.5999984741211],[55.80178929492831,-21.29617421887815,100.19999694824219],[55.80177487805486,-21.296185785904527,100.19999694824219],[55.801708325743675,-21.296232724562287,100.5999984741211],[55.8016930706799,-21.296242279931903,100.5999984741211],[55.801660884171724,-21.29625577479601,100.5999984741211],[55.80163666047156,-21.296277986839414,100.5999984741211],[55.80156398937106,-21.29632417112589,100.80000305175781],[55.80155552364886,-21.296333223581314,100.80000305175781],[55.80153649672866,-21.296348981559277,100.80000305175781],[55.80151495523751,-21.296344539150596,100.80000305175781],[55.80150104127824,-21.296341521665454,100.80000305175781],[55.80147447064519,-21.296340683475137,101],[55.80146147869527,-21.29634420387447,101.19999694824219],[55.80139400437474,-21.29635258577764,102.4000015258789],[55.80132686533034,-21.29635702818632,103.80000305175781],[55.801270538941026,-21.296361135318875,105],[55.801239190623164,-21.29635937511921,105.80000305175781],[55.80120641738176,-21.296369852498174,106.4000015258789],[55.80111924558878,-21.29637169651687,107.5999984741211],[55.80109091475606,-21.296374881640077,107.80000305175781],[55.80105436965823,-21.29637748003006,108.19999694824219],[55.80104162916541,-21.29637655802071,108.4000015258789],[55.80101950094104,-21.2963789049536,108.5999984741211],[55.800984716042876,-21.29636817611754,109],[55.800938280299306,-21.296357195824385,109.5999984741211],[55.8009179122746,-21.296369517222047,109.80000305175781],[55.80088212154806,-21.296391393989325,109.80000305175781],[55.800863513723016,-21.29640187136829,109.80000305175781],[55.80075815320015,-21.296462807804346,110.5999984741211],[55.80074641853571,-21.296469932422042,110.5999984741211],[55.80071473494172,-21.296516871079803,110.4000015258789],[55.80064575187862,-21.296554505825043,110.80000305175781],[55.800624042749405,-21.29657629877329,110.80000305175781],[55.80060099251568,-21.296594822779298,110.80000305175781],[55.800587832927704,-21.29660127684474,110.80000305175781],[55.800530668348074,-21.29658325575292,112],[55.80050644464791,-21.296542435884476,113.19999694824219],[55.80049789510667,-21.29649616777897,114],[55.80049219541252,-21.296486780047417,114.4000015258789],[55.80047518014908,-21.296403212472796,115.80000305175781],[55.80046252347529,-21.296382676810026,116.19999694824219],[55.800458835437894,-21.296370020136237,116.4000015258789],[55.8004395570606,-21.296343449503183,117],[55.800413992255926,-21.296253511682153,118],[55.80040058121085,-21.296242950484157,118.19999694824219],[55.80039328895509,-21.296229120343924,118.5999984741211],[55.80040058121085,-21.296218559145927,118.5999984741211],[55.80038725398481,-21.29618695937097,119.19999694824219],[55.80037124454975,-21.296167597174644,119.5999984741211],[55.80037317238748,-21.29615376703441,119.80000305175781],[55.80041776411235,-21.296069445088506,119.80000305175781],[55.80042874440551,-21.296022087335587,120],[55.8004844840616,-21.295984033495188,119],[55.80053343437612,-21.295938855037093,118.4000015258789],[55.80052815377712,-21.295910105109215,118.5999984741211],[55.800531757995486,-21.29589275456965,118.5999984741211],[55.80053226090968,-21.29587666131556,118.5999984741211],[55.80054801888764,-21.295827878639102,118.4000015258789],[55.8005431573838,-21.295787394046783,118.4000015258789],[55.8005518745631,-21.295753279700875,118.4000015258789],[55.80055983737111,-21.295723104849458,118.4000015258789],[55.80055573023856,-21.295689828693867,118.5999984741211],[55.80060753040016,-21.295557897537947,118.19999694824219],[55.800645081326365,-21.295472318306565,117.80000305175781],[55.800646590068936,-21.295458991080523,117.80000305175781],[55.80065002664924,-21.2954446580261,117.5999984741211],[55.80062781460583,-21.295401910319924,117.80000305175781],[55.800591856241226,-21.29535673186183,118.5999984741211],[55.800534607842565,-21.295354552567005,119.80000305175781],[55.80048247240484,-21.295346338301897,120.80000305175781],[55.800444250926375,-21.295371986925602,121.80000305175781],[55.80039429478347,-21.295419679954648,123],[55.80037107691169,-21.295452620834112,123.5999984741211],[55.80036629922688,-21.29547005519271,123.80000305175781],[55.80032589845359,-21.29553660750389,124.4000015258789],[55.8003100566566,-21.295641465112567,123.80000305175781],[55.800276612862945,-21.295670717954636,124.19999694824219],[55.800218610093,-21.295702988281846,125.4000015258789],[55.80016303807497,-21.295763505622745,126.19999694824219],[55.80010377801955,-21.295841289684176,127],[55.80003060400486,-21.295854533091187,128],[55.79998274333775,-21.295857885852456,128.8000030517578],[55.79990219324827,-21.295879762619734,130],[55.79983941279352,-21.29591178148985,130.8000030517578],[55.79970966093242,-21.295953020453453,132.1999969482422],[55.79964051023126,-21.295984033495188,132.60000610351562],[55.79958334565163,-21.296011107042432,133],[55.799573455005884,-21.29603055305779,132.8000030517578],[55.79955912195146,-21.29605745896697,132.60000610351562],[55.799539759755135,-21.29608143121004,132.8000030517578],[55.79951427876949,-21.296122167259455,133],[55.799511931836605,-21.29614882171154,133],[55.7995018735528,-21.29619031213224,133],[55.79948368482292,-21.29621914587915,133.1999969482422],[55.799452755600214,-21.296318722888827,133.39999389648438],[55.7994519174099,-21.29632911644876,133.39999389648438],[55.79944001510739,-21.296429531648755,133.1999969482422],[55.79943406395614,-21.296467753127217,133.1999969482422],[55.79943213611841,-21.296511674299836,133],[55.799429286271334,-21.296519553288817,133],[55.7994516659528,-21.296614604070783,132.39999389648438],[55.79946717247367,-21.296657603234053,132],[55.79947169870138,-21.296676630154252,131.8000030517578],[55.79946440644562,-21.29668878391385,131.8000030517578],[55.79942970536649,-21.296739829704165,132.1999969482422],[55.799433309584856,-21.2967536598444,132],[55.79944881610572,-21.29681970924139,131.1999969482422],[55.799449402838945,-21.296850806102157,131],[55.79945552162826,-21.29686807282269,130.8000030517578],[55.799465999007225,-21.296946443617344,130.39999389648438],[55.79946365207434,-21.296960189938545,130.39999389648438],[55.79948737286031,-21.297062449157238,131.39999389648438],[55.799531461670995,-21.297193877398968,132.1999969482422],[55.79954604618251,-21.297209300100803,132],[55.79955484718084,-21.29730292595923,132.60000610351562],[55.79953263513744,-21.29741976968944,133.8000030517578],[55.79951620660722,-21.297447346150875,134.1999969482422],[55.799524085596204,-21.297485819086432,134],[55.799547638744116,-21.297560753300786,133.8000030517578],[55.79957974143326,-21.29766896367073,133.1999969482422],[55.79958753660321,-21.29771104082465,133.39999389648438],[55.79958929680288,-21.297753117978573,133.39999389648438],[55.79960564151406,-21.297797709703445,133.39999389648438],[55.7996245007962,-21.297809528186917,133.1999969482422],[55.79963237978518,-21.297815646976233,133.1999969482422],[55.79968895763159,-21.297855461016297,132.8000030517578],[55.79970697872341,-21.297871470451355,132.60000610351562],[55.79971209168434,-21.29788203164935,132.60000610351562],[55.799747882410884,-21.297911200672388,132.39999389648438],[55.79975601285696,-21.297921175137162,132.1999969482422],[55.79976766370237,-21.297969203442335,132.1999969482422],[55.799766071140766,-21.29798697307706,132.39999389648438],[55.79976816661656,-21.298050340265036,132.60000610351562],[55.79977503977716,-21.298059979453683,132.60000610351562],[55.79983086325228,-21.298144720494747,132.1999969482422],[55.79984653741121,-21.298153437674046,132.1999969482422],[55.79985718242824,-21.298165507614613,132],[55.79986170865595,-21.2981712911278,132],[55.79986531287432,-21.298177996650338,132],[55.79988467507064,-21.298207165673375,131.8000030517578],[55.79989766702056,-21.298227785155177,131.60000610351562],[55.799910658970475,-21.298242202028632,131.39999389648438],[55.799969248473644,-21.298290314152837,130.8000030517578],[55.799987353384495,-21.298314034938812,130.60000610351562],[55.799983916804194,-21.298317471519113,130.8000030517578],[55.799996657297015,-21.29834471270442,130.8000030517578],[55.80002440139651,-21.29838176071644,130.1999969482422],[55.800049966201186,-21.298401122912765,129.8000030517578],[55.8000560849905,-21.298414450138807,129.60000610351562],[55.80009078606963,-21.298461388796568,128.8000030517578],[55.80013856291771,-21.298537412658334,127.80000305175781],[55.80015046522021,-21.298559876158834,127.5999984741211],[55.80018407665193,-21.29859927110374,127.19999694824219],[55.800213664770126,-21.298663895577192,127],[55.800219448283315,-21.298684515058994,127],[55.80022514797747,-21.29869608208537,126.80000305175781],[55.80025783739984,-21.298755006864667,125.5999984741211],[55.800289353355765,-21.298821810632944,124.4000015258789],[55.800309302285314,-21.298904372379184,124],[55.8003222104162,-21.29893496632576,123.5999984741211],[55.80038448795676,-21.299040326848626,122.4000015258789],[55.800385158509016,-21.299055498093367,122.4000015258789],[55.80039253458381,-21.299107717350125,122.4000015258789],[55.80040896311402,-21.299177957698703,122.4000015258789],[55.80040929839015,-21.299293292686343,122.80000305175781],[55.80041700974107,-21.29935221746564,123],[55.800371915102005,-21.29939664155245,123.80000305175781],[55.80037962645292,-21.299459422007203,123.80000305175781],[55.800386080518365,-21.299564111977816,123.5999984741211],[55.80038180574775,-21.299607111141086,123.80000305175781],[55.80038675107062,-21.2996547203511,123.5999984741211],[55.80037459731102,-21.29976611584425,124.5999984741211],[55.80037250183523,-21.299813305959105,125],[55.80037258565426,-21.299833925440907,125],[55.800376776605844,-21.29991950467229,125.5999984741211]]]},properties:{name:"Plage du tremblet",type:"walking"}}]}},{id:"hike-4",title:"Cilaos - La chapelle",difficulty:"moyen",distance:"8km",positiveElevation:"700m",duration:"4h30",description:"<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolorem fugiat hic quam? Ad corporis dolore dolorem dolores doloribus enim, error excepturi libero molestias nesciunt quam recusandae sit tenetur unde voluptatem.</p>\n<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fugiat minus veritatis voluptatem! A corporis cum neque perspiciatis provident quod recusandae velit? Beatae esse excepturi itaque nam nisi omnis soluta voluptatem.</p>\n<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. At necessitatibus perspiciatis quas qui quia. Asperiores consequuntur ducimus officia optio quam, recusandae similique! Explicabo facere fugiat nam neque perspiciatis. Dolor, illo!</p>\n",position:{longitude:55.46320466324687,latitude:-21.137478053569794},photos:[{src:"/reunion/images/hikes/4_cilaos_chapelle/1-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/4_cilaos_chapelle/2-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/4_cilaos_chapelle/3-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/4_cilaos_chapelle/4-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/4_cilaos_chapelle/5-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/4_cilaos_chapelle/6-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/4_cilaos_chapelle/7-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/4_cilaos_chapelle/8-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/4_cilaos_chapelle/9-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/4_cilaos_chapelle/10-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/4_cilaos_chapelle/11-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/4_cilaos_chapelle/12-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/4_cilaos_chapelle/13-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/4_cilaos_chapelle/14-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/4_cilaos_chapelle/15-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/4_cilaos_chapelle/16-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/4_cilaos_chapelle/17-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/4_cilaos_chapelle/18-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/4_cilaos_chapelle/19-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/4_cilaos_chapelle/20-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/4_cilaos_chapelle/21-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/4_cilaos_chapelle/22-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/4_cilaos_chapelle/23-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/4_cilaos_chapelle/24-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/4_cilaos_chapelle/25-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/4_cilaos_chapelle/26-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/4_cilaos_chapelle/27-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/4_cilaos_chapelle/28-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/4_cilaos_chapelle/29-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/4_cilaos_chapelle/30-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/4_cilaos_chapelle/31-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/4_cilaos_chapelle/32-min.jpg",width:4,height:5}],data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"MultiLineString",coordinates:[[[55.463046077638865,-21.137311002239585,1100.4000244140625],[55.46303518116474,-21.13734746351838,1100.199951171875],[55.463002659380436,-21.13732198253274,1098.5999755859375],[55.46299360692501,-21.137334471568465,1098.4000244140625],[55.46295546926558,-21.137332543730736,1096.5999755859375],[55.46294960193336,-21.137343356385827,1096.4000244140625],[55.462857484817505,-21.137402532622218,1092.800048828125],[55.46283829025924,-21.137413010001183,1092],[55.46286209486425,-21.13743195310235,1092.800048828125],[55.46287642791867,-21.13746807910502,1093.199951171875],[55.46289646066725,-21.137490794062614,1094],[55.462861843407154,-21.1375243216753,1092.199951171875],[55.46282588504255,-21.13752725534141,1090.5999755859375],[55.462772492319345,-21.137563968077302,1088],[55.4626973066479,-21.13759364001453,1084],[55.46264600940049,-21.137570505961776,1081.5999755859375],[55.46263184398413,-21.137561118230224,1081],[55.4626211989671,-21.137557681649923,1080.4000244140625],[55.46254115179181,-21.1375364754349,1077.5999755859375],[55.46250686980784,-21.137535804882646,1076.199951171875],[55.4624745156616,-21.1375364754349,1074.5999755859375],[55.462442161515355,-21.1375536583364,1072.4000244140625],[55.462473928928375,-21.137554412707686,1074.199951171875],[55.462477784603834,-21.137553239241242,1074.5999755859375],[55.46243445016444,-21.137570422142744,1071.5999755859375],[55.462383991107345,-21.1375795584172,1068.199951171875],[55.462352307513356,-21.137595986947417,1066],[55.46234141103923,-21.13761425949633,1065],[55.46233990229666,-21.13764099776745,1064.4000244140625],[55.46237552538514,-21.137645272538066,1066.5999755859375],[55.462377117946744,-21.137664718553424,1066.4000244140625],[55.46237493865192,-21.137696402147412,1065.800048828125],[55.462364042177796,-21.137705454602838,1065.199951171875],[55.46234744600952,-21.13771492615342,1064],[55.46230914071202,-21.13771827891469,1061.5999755859375],[55.46227326616645,-21.137682488188148,1059.800048828125],[55.4622620344162,-21.137683745473623,1059],[55.46228030696511,-21.137691205367446,1060],[55.46232464723289,-21.137714507058263,1062.5999755859375],[55.462374771013856,-21.137718614190817,1065.5999755859375],[55.46239589340985,-21.13770654425025,1067],[55.46234652400017,-21.137726241722703,1063.800048828125],[55.46231626532972,-21.137732611969113,1062],[55.462293131276965,-21.137746777385473,1060.4000244140625],[55.46228248625994,-21.137783406302333,1059.5999755859375],[55.46226446516812,-21.137823639437556,1058.199951171875],[55.462241834029555,-21.137835877016187,1056.5999755859375],[55.462226159870625,-21.137849120423198,1055.5999755859375],[55.46218743547797,-21.137817185372114,1054],[55.462141586467624,-21.137768318876624,1052.4000244140625],[55.46213077381253,-21.137718530371785,1052.5999755859375],[55.46209464780986,-21.137666394934058,1052.5999755859375],[55.46210437081754,-21.137634040787816,1053.800048828125],[55.462093725800514,-21.137594562023878,1054.5999755859375],[55.46209297142923,-21.137561285868287,1055.4000244140625],[55.46208509244025,-21.137568997219205,1055],[55.46207059174776,-21.137580648064613,1054.199951171875],[55.46203178353608,-21.137601602822542,1052.4000244140625],[55.46200445853174,-21.137617779895663,1051],[55.462000854313374,-21.137606715783477,1051.199951171875],[55.46194922178984,-21.137601854279637,1049.199951171875],[55.46193337999284,-21.13760394975543,1048.5999755859375],[55.461879232898355,-21.137608475983143,1046.199951171875],[55.46184930950403,-21.137615935876966,1044.5999755859375],[55.461839670315385,-21.137629514560103,1044],[55.461786864325404,-21.137656923383474,1041],[55.46177487820387,-21.137672681361437,1040.199951171875],[55.4617421887815,-21.137694725766778,1038.4000244140625],[55.46172743663192,-21.137700593098998,1037.5999755859375],[55.46170312911272,-21.13771392032504,1036.4000244140625],[55.461691562086344,-21.137704364955425,1036],[55.46168603003025,-21.137699587270617,1035.800048828125],[55.46167035587132,-21.137704784050584,1035.199951171875],[55.461652586236596,-21.13769539631903,1034.5999755859375],[55.46163582243025,-21.137701012194157,1033.800048828125],[55.46162735670805,-21.137701347470284,1033.5999755859375],[55.4616335593164,-21.13771232776344,1033.5999755859375],[55.46157664619386,-21.1377280857414,1031.4000244140625],[55.46155845746398,-21.13773831166327,1030.5999755859375],[55.46152073889971,-21.137790447100997,1028.199951171875],[55.461490312591195,-21.13779354840517,1027.199951171875],[55.46149207279086,-21.137786088511348,1027.5999755859375],[55.461488803848624,-21.13778474740684,1027.4000244140625],[55.46147698536515,-21.137794302776456,1026.800048828125],[55.46147572807968,-21.137801092118025,1026.5999755859375],[55.46146768145263,-21.137817688286304,1026],[55.46146625652909,-21.13784970715642,1025.199951171875],[55.461463909596205,-21.137868566438556,1024.5999755859375],[55.46150322072208,-21.137892371043563,1025.5999755859375],[55.46151881106198,-21.13790536299348,1026],[55.46149207279086,-21.137935873121023,1024.4000244140625],[55.461472291499376,-21.137978034093976,1023],[55.46147237531841,-21.1380061134696,1022.4000244140625],[55.46148704364896,-21.13803788088262,1022.4000244140625],[55.4614850319922,-21.13805145956576,1022.2000122070312],[55.46146860346198,-21.138083897531033,1021],[55.461490731686354,-21.13812035880983,1021],[55.46148402616382,-21.13814676180482,1020.5999755859375],[55.46148033812642,-21.138172326609492,1020],[55.46148695982993,-21.138224881142378,1019.7999877929688],[55.46146525070071,-21.138272155076265,1019.4000244140625],[55.46145628206432,-21.13829738460481,1019.4000244140625],[55.461425269022584,-21.138325296342373,1018.4000244140625],[55.461303144693375,-21.13834323361516,1013.4000244140625],[55.461245980113745,-21.138326302170753,1011.4000244140625],[55.46123399399221,-21.138341389596462,1011.2000122070312],[55.4612500872463,-21.138385059311986,1011.5999755859375],[55.461248410865664,-21.1383895855397,1011.5999755859375],[55.46124757267535,-21.138375755399466,1011.4000244140625],[55.461238184943795,-21.13836620002985,1011],[55.4612067528069,-21.138341473415494,1010.5999755859375],[55.46118906699121,-21.138325380161405,1010.2000122070312],[55.46117967925966,-21.138318087905645,1010.2000122070312],[55.46115101315081,-21.138300066813827,1009.5999755859375],[55.461130226030946,-21.13829185254872,1009.2000122070312],[55.46105168759823,-21.13827525638044,1007.2000122070312],[55.46095931902528,-21.138290343806148,1005.7999877929688],[55.46094900928438,-21.138302329927683,1005.4000244140625],[55.46094414778054,-21.138331331312656,1004.4000244140625],[55.460946494713426,-21.138377347961068,1003.2000122070312],[55.46095412224531,-21.138394363224506,1003.2000122070312],[55.460961582139134,-21.13841263577342,1003.2000122070312],[55.46097013168037,-21.138426968827844,1003.4000244140625],[55.46098329126835,-21.138429986312985,1003.7999877929688],[55.460986979305744,-21.138420179486275,1004],[55.46099502593279,-21.138422777876258,1004.2000122070312],[55.46099552884698,-21.138440715149045,1004.2000122070312],[55.46099670231342,-21.138444151729345,1004.2000122070312],[55.46101271174848,-21.138496370986104,1004.2000122070312],[55.460946494713426,-21.13852738402784,1001.7999877929688],[55.46090131625533,-21.138471979647875,1000.7999877929688],[55.460840379819274,-21.138492599129677,998.7999877929688],[55.46081431210041,-21.13850198686123,998.2000122070312],[55.46081372536719,-21.138465190306306,999.4000244140625],[55.4607941955328,-21.138471560552716,999.2000122070312],[55.460761254653335,-21.138482876121998,999],[55.46074549667537,-21.138478349894285,999.2000122070312],[55.460750525817275,-21.13849620334804,998.5999755859375],[55.460749603807926,-21.138500813394785,998.5999755859375],[55.46076821163297,-21.138519421219826,998.2000122070312],[55.46078254468739,-21.13852118141949,998],[55.46080349944532,-21.138532999902964,997.7999877929688],[55.460799811407924,-21.138530988246202,997.7999877929688],[55.46081439591944,-21.13853040151298,997.7999877929688],[55.4608354344964,-21.138564348220825,997.7999877929688],[55.460832584649324,-21.138577088713646,997.5999755859375],[55.460854629054666,-21.13855387084186,998.5999755859375],[55.46086912974715,-21.138534927740693,999.2000122070312],[55.46088807284832,-21.138536352664232,999.7999877929688],[55.46089838258922,-21.138562504202127,1e3],[55.460896622389555,-21.13858899101615,999.5999755859375],[55.4608874861151,-21.13862813450396,998.7999877929688],[55.46086451970041,-21.138643892481923,998],[55.460795033723116,-21.138669792562723,996.4000244140625],[55.46078103594482,-21.13866568543017,996.4000244140625],[55.46077039092779,-21.13866283558309,996.5999755859375],[55.4607458319515,-21.138681191951036,996.4000244140625],[55.460722614079714,-21.138675240799785,996.5999755859375],[55.46071657910943,-21.138655291870236,996.7999877929688],[55.46072387136519,-21.13863584585488,997],[55.4607527051121,-21.138645820319653,996.7999877929688],[55.460752956569195,-21.1386501789093,996.7999877929688],[55.46077315695584,-21.138727627694607,995.7999877929688],[55.46073107980192,-21.138779763132334,995.4000244140625],[55.46072697266936,-21.138812536373734,995.2000122070312],[55.460694283246994,-21.13884556107223,995.2000122070312],[55.46070635318756,-21.13885335624218,995.2000122070312],[55.46072621829808,-21.13890524022281,995],[55.46067450195551,-21.13899551331997,994.7999877929688],[55.46065304428339,-21.13900825381279,994.7999877929688],[55.460485154762864,-21.139094922691584,993.7999877929688],[55.460415752604604,-21.139130797237158,992.2000122070312],[55.46040686778724,-21.139126857742667,992.5999755859375],[55.46037937514484,-21.139112943783402,994.2000122070312],[55.46037484891713,-21.13912551663816,993.4000244140625],[55.460371831431985,-21.139134066179395,992.7999877929688],[55.460412902757525,-21.139130378142,992.4000244140625],[55.460425643250346,-21.139126690104604,992.4000244140625],[55.460457410663366,-21.139121912419796,992.2000122070312],[55.4604765214026,-21.13911285996437,992.5999755859375],[55.46052069403231,-21.13908687606454,993.7999877929688],[55.460537038743496,-21.13907765597105,994.5999755859375],[55.46054542064667,-21.13908159546554,995.2000122070312],[55.46057442203164,-21.13905326463282,995],[55.460586827248335,-21.139072878286242,995],[55.460561849176884,-21.139113027602434,995.4000244140625],[55.460538966581225,-21.139134569093585,995.4000244140625],[55.46052505262196,-21.13915049470961,994.5999755859375],[55.460485154762864,-21.139178406447172,992],[55.460457829758525,-21.139184944331646,990],[55.46044768765569,-21.13917924463749,989.2000122070312],[55.46041860245168,-21.139188213273883,987.5999755859375],[55.46040100045502,-21.13920422270894,986.5999755859375],[55.460321959108114,-21.13923942670226,985.4000244140625],[55.46028030104935,-21.139277731999755,983],[55.46027820557356,-21.139271361753345,983.5999755859375],[55.46026077121496,-21.13925551995635,984.7999877929688],[55.460248198360205,-21.13925401121378,984.2000122070312],[55.46023336239159,-21.13925166428089,983.5999755859375],[55.46022841706872,-21.13925250247121,983.2000122070312],[55.460206121206284,-21.139264069497585,981],[55.46019564382732,-21.139269350096583,980],[55.46016672626138,-21.13930002786219,976.2000122070312],[55.46016555279493,-21.139304134994745,975.7999877929688],[55.460168989375234,-21.139299524948,976.2000122070312],[55.4601760301739,-21.13929944112897,976.5999755859375],[55.4601760301739,-21.13929944112897,976.5999755859375],[55.460153399035335,-21.139308074489236,974.7999877929688],[55.4601239785552,-21.139313941821456,972.5999755859375],[55.4600861761719,-21.139316372573376,970.4000244140625],[55.46005197800696,-21.139324083924294,968],[55.460003949701786,-21.139359874650836,963.7999877929688],[55.45999783091247,-21.139364317059517,963.4000244140625],[55.459966231137514,-21.139411004260182,962.5999755859375],[55.45994846150279,-21.139414608478546,962.4000244140625],[55.459925662726164,-21.13942307420075,962.2000122070312],[55.45987227000296,-21.139424918219447,962],[55.45979641377926,-21.13944746553898,961.5999755859375],[55.45977587811649,-21.13944553770125,961.5999755859375],[55.45975333079696,-21.13943438977003,961.5999755859375],[55.459740087389946,-21.13942123018205,961.5999755859375],[55.459717120975256,-21.139442352578044,961.4000244140625],[55.45967278070748,-21.139435898512602,961.4000244140625],[55.459657441824675,-21.139428690075874,961.4000244140625],[55.45964855700731,-21.13942114636302,961.4000244140625],[55.45963581651449,-21.139404382556677,961.4000244140625],[55.459623327478766,-21.139393905177712,961.4000244140625],[55.459616370499134,-21.13938845694065,961.4000244140625],[55.45959801413119,-21.139372028410435,961.2000122070312],[55.45956691727042,-21.139369597658515,961],[55.45956012792885,-21.139337830245495,961.2000122070312],[55.459548979997635,-21.139326095581055,961.4000244140625],[55.4595301207155,-21.13932483829558,961.4000244140625],[55.45949977822602,-21.13931369036436,961.5999755859375],[55.45949307270348,-21.13931025378406,961.5999755859375],[55.45945208519697,-21.139288628473878,961.4000244140625],[55.459415121003985,-21.139278570190072,961],[55.45939911156893,-21.139273708686233,961],[55.459389723837376,-21.13927161321044,960.7999877929688],[55.45937907882035,-21.139272954314947,960.5999755859375],[55.45933926478028,-21.13927111029625,960.4000244140625],[55.459304731339216,-21.139267841354012,960],[55.45929408632219,-21.139268511906266,959.7999877929688],[55.45927547849715,-21.13928133621812,959.4000244140625],[55.45927547849715,-21.139280330389738,959.4000244140625],[55.459273466840386,-21.13930245861411,959],[55.45926860533655,-21.13931310363114,958.7999877929688],[55.459282686933875,-21.139327604323626,958.5999755859375],[55.45928771607578,-21.139320144429803,958.7999877929688],[55.459277238696814,-21.139319390058517,958.7999877929688],[55.459270030260086,-21.13935761153698,958.2000122070312],[55.459257792681456,-21.139381248503923,957.7999877929688],[55.45919350348413,-21.139431791380048,956.7999877929688],[55.459128292277455,-21.139447381719947,956],[55.459088729694486,-21.13944654352963,955.7999877929688],[55.459096943959594,-21.139459367841482,955.7999877929688],[55.459098033607006,-21.13946464844048,955.7999877929688],[55.45911345630884,-21.13945735618472,955.7999877929688],[55.45911488123238,-21.139457523822784,955.7999877929688],[55.45907414518297,-21.139428606256843,955.7999877929688],[55.458981189876795,-21.139356354251504,954.4000244140625],[55.458973394706845,-21.13934051245451,954.4000244140625],[55.45897054485977,-21.139339841902256,954.4000244140625],[55.458969958126545,-21.139340428635478,954.4000244140625],[55.45896979048848,-21.13934109918773,954.4000244140625],[55.45897280797362,-21.13934109918773,954.4000244140625],[55.45895713381469,-21.139295333996415,954.4000244140625],[55.45892419293523,-21.139214951545,954.4000244140625],[55.45891363173723,-21.139209335669875,954.2000122070312],[55.45889602974057,-21.139183016493917,954],[55.45887817628682,-21.139156110584736,953.5999755859375],[55.45884448103607,-21.139139430597425,953.2000122070312],[55.45878211967647,-21.139152757823467,952],[55.45872017741203,-21.139153260737658,951.2000122070312],[55.45868581160903,-21.139175724238157,950.4000244140625],[55.45860283076763,-21.139165833592415,949.4000244140625],[55.45859302394092,-21.139161558821797,949.2000122070312],[55.45857793651521,-21.139157619327307,948.5999755859375],[55.45856234617531,-21.13915435038507,948.2000122070312],[55.45854834839702,-21.139163905754685,947.5999755859375],[55.45851347967982,-21.13917287439108,946.4000244140625],[55.45848213136196,-21.139196678996086,945.2000122070312],[55.45847073197365,-21.139208413660526,944.7999877929688],[55.45843158848584,-21.13922819495201,943.4000244140625],[55.45842572115362,-21.139237079769373,943.2000122070312],[55.458410969004035,-21.13924621604383,942.7999877929688],[55.458362102508545,-21.139275720342994,941.2000122070312],[55.4582694824785,-21.139290891587734,938],[55.45824006199837,-21.139301788061857,936.5999755859375],[55.45818775892258,-21.139326095581055,934],[55.458191614598036,-21.13932978361845,934.2000122070312],[55.45820686966181,-21.139331124722958,934.7999877929688],[55.458235535770655,-21.13934436812997,935.5999755859375],[55.45825179666281,-21.139345290139318,936.2000122070312],[55.45826034620404,-21.13935559988022,936.5999755859375],[55.458268728107214,-21.139372447505593,937],[55.458312230184674,-21.139362305402756,938.4000244140625],[55.45833511278033,-21.13937278278172,939],[55.458358246833086,-21.139368172734976,939.7999877929688],[55.45838196761906,-21.13934051245451,941],[55.45838791877031,-21.139371609315276,940.5999755859375],[55.458400156348944,-21.13938736729324,940.7999877929688],[55.45841750688851,-21.13941335119307,940.7999877929688],[55.45841172337532,-21.139440592378378,940.2000122070312],[55.458404682576656,-21.139437071979046,940],[55.458391942083836,-21.139431623741984,939.7999877929688],[55.45838280580938,-21.139463307335973,938.7999877929688],[55.45835103839636,-21.139487363398075,937.4000244140625],[55.458329916000366,-21.139478478580713,936.7999877929688],[55.458305357024074,-21.13951443694532,935.5999755859375],[55.45828658156097,-21.13952466286719,935],[55.45826671645045,-21.13951737061143,934.5999755859375],[55.45823662541807,-21.13953740336001,933.5999755859375],[55.458255149424076,-21.139547377824783,934],[55.45829094015062,-21.139555759727955,934.5999755859375],[55.45829236507416,-21.139561124145985,934.4000244140625],[55.458281971514225,-21.139547796919942,934.4000244140625],[55.45826797373593,-21.13955207169056,934],[55.45825481414795,-21.13957118242979,933.4000244140625],[55.45826814137399,-21.13958727568388,933.4000244140625],[55.45827836729586,-21.13959272392094,933.5999755859375],[55.45828750357032,-21.139606218785048,933.5999755859375],[55.45828616246581,-21.1396103259176,933.4000244140625],[55.45829890295863,-21.139608900994062,933.7999877929688],[55.45831801369786,-21.139605548232794,934.2000122070312],[55.45828758738935,-21.139603452757,933.5999755859375],[55.45826889574528,-21.13963656127453,934],[55.45824986882508,-21.139642763882875,934],[55.45821977779269,-21.139641338959336,933.4000244140625],[55.45821525156498,-21.13964645192027,933.5999755859375],[55.45822941698134,-21.1396380700171,933.2000122070312],[55.45822883024812,-21.13964343443513,933.5999755859375],[55.45819773338735,-21.139627508819103,931.7999877929688],[55.458169654011726,-21.13963128067553,931.4000244140625],[55.45811056159437,-21.139654833823442,932],[55.45807938091457,-21.13965625874698,931.4000244140625],[55.45807150192559,-21.139648715034127,930.5999755859375],[55.45810980722308,-21.13965039141476,931.5999755859375],[55.458084577694535,-21.13966246135533,932],[55.45807460322976,-21.13966304808855,932],[55.45806135982275,-21.139666652306914,932],[55.45806035399437,-21.13967034034431,932.2000122070312],[55.45808910392225,-21.139673190191388,933],[55.45809958130121,-21.13966254517436,932.4000244140625],[55.45807703398168,-21.13968802616,934],[55.45807896181941,-21.13969045691192,934.2000122070312],[55.4580810572952,-21.139689283445477,934.2000122070312],[55.458085080608726,-21.139687355607748,934],[55.458083152770996,-21.13969867117703,935],[55.45808189548552,-21.139698587357998,934.7999877929688],[55.45807711780071,-21.139694144949317,934.4000244140625],[55.458080722019076,-21.139686768874526,934],[55.45806999318302,-21.139701353386045,934.7999877929688],[55.4580641258508,-21.13970797508955,935.2000122070312],[55.45805733650923,-21.139715686440468,935.5999755859375],[55.45805783942342,-21.139715686440468,935.7999877929688],[55.458065466955304,-21.139715686440468,935.7999877929688],[55.458051804453135,-21.139761619269848,939.2000122070312],[55.45805532485247,-21.139763295650482,939.4000244140625],[55.458067981526256,-21.13977109082043,940.4000244140625],[55.45804711058736,-21.139762457460165,939.2000122070312],[55.45801794156432,-21.13974996842444,937.7999877929688],[55.4580363817513,-21.13977301865816,939.7999877929688],[55.458028838038445,-21.139780646190047,940.4000244140625],[55.45802456326783,-21.13978425040841,940.5999755859375],[55.45798332430422,-21.1397622898221,938.4000244140625],[55.45798894017935,-21.13973345607519,936.2000122070312],[55.45797251164913,-21.139714010059834,934.5999755859375],[55.457942336797714,-21.139677381142974,930.2000122070312],[55.45791199430823,-21.13966405391693,927.5999755859375],[55.45789908617735,-21.139661874622107,927],[55.45788039453328,-21.139671597629786,927.2000122070312],[55.457807052880526,-21.139672603458166,924.7999877929688],[55.45779942534864,-21.139679979532957,925.2000122070312],[55.45776757411659,-21.139695905148983,925.7999877929688],[55.45770873315632,-21.139700263738632,923],[55.45767587609589,-21.139660365879536,918.4000244140625],[55.45761711895466,-21.13963614217937,914.7999877929688],[55.45753958635032,-21.13960579968989,911.5999755859375],[55.45747362077236,-21.13961166702211,910.2000122070312],[55.45742819085717,-21.139631867408752,910.2000122070312],[55.45739793218672,-21.139643685892224,910.5999755859375],[55.457338001579046,-21.139652654528618,910.7999877929688],[55.457312520593405,-21.139665143564343,911.2000122070312],[55.4571883007884,-21.139696491882205,911],[55.45708109624684,-21.139764050021768,908.2000122070312],[55.45702015981078,-21.139817275106907,907.2000122070312],[55.45702150091529,-21.139829512685537,907.7999877929688],[55.45706835575402,-21.139893047511578,913],[55.45706634409726,-21.13993470557034,912.4000244140625],[55.457032984122634,-21.13994685932994,910.2000122070312],[55.45702342875302,-21.13995222374797,909.5999755859375],[55.45699040405452,-21.139967646449804,907.4000244140625],[55.45697112567723,-21.139989104121923,905.7999877929688],[55.456985123455524,-21.140011064708233,906],[55.456991996616125,-21.140020787715912,906.2000122070312],[55.45700507238507,-21.14003486931324,906.5999755859375],[55.45701378956437,-21.140074264258146,906],[55.456992918625474,-21.140099493786693,904.2000122070312],[55.45699224807322,-21.1401198618114,903.7999877929688],[55.45700314454734,-21.14013494923711,904.2000122070312],[55.457006581127644,-21.1401613522321,904],[55.45703088864684,-21.14022497087717,907.5999755859375],[55.4569914098829,-21.14020351320505,904],[55.45697967521846,-21.140170572325587,902.2000122070312],[55.456955870613456,-21.140127824619412,901.5999755859375],[55.45693902298808,-21.14011843688786,900.7999877929688],[55.45691957697272,-21.140121622011065,900.5999755859375],[55.45680298469961,-21.140111228451133,902],[55.45679594390094,-21.14009697921574,902.5999755859375],[55.45681279152632,-21.14003243856132,904],[55.456842044368386,-21.139990696683526,904.5999755859375],[55.45683885924518,-21.13997175358236,905],[55.456804325804114,-21.139943171292543,905.4000244140625],[55.45678270049393,-21.1399298440665,905.5999755859375],[55.456777503713965,-21.139931017532945,905.5999755859375],[55.456738946959376,-21.139915008097887,905.7999877929688],[55.45673618093133,-21.13995281048119,905.2000122070312],[55.45670089311898,-21.139976615086198,904.7999877929688],[55.45668337494135,-21.14000025205314,904.5999755859375],[55.45664423145354,-21.140020117163658,904.2000122070312],[55.4566531162709,-21.140027828514576,904.2000122070312],[55.45665361918509,-21.14002606831491,904.2000122070312],[55.456645069643855,-21.14005339331925,903.5999755859375],[55.45660676434636,-21.140052806586027,903.2000122070312],[55.4565891623497,-21.140025230124593,903.4000244140625],[55.45660777017474,-21.140033109113574,903.5999755859375],[55.45657088980079,-21.14002212882042,903.4000244140625],[55.45655244961381,-21.14002464339137,903.2000122070312],[55.456528309732676,-21.14006864838302,902.2000122070312],[55.45648296363652,-21.140081556513906,901.5999755859375],[55.45646687038243,-21.140092369168997,901.2000122070312],[55.456464271992445,-21.140095135197043,901.2000122070312],[55.45646251179278,-21.140090860426426,901.2000122070312],[55.456480868160725,-21.140110725536942,901],[55.45649327337742,-21.140125058591366,901],[55.45648640021682,-21.140149366110563,900.5999755859375],[55.456482795998454,-21.140146851539612,900.5999755859375],[55.456492183730006,-21.140178702771664,900.2000122070312],[55.45648078434169,-21.140221785753965,899],[55.45642202720046,-21.140264365822077,897.4000244140625],[55.456413896754384,-21.140256905928254,897.4000244140625],[55.45640895143151,-21.14026201888919,897.2000122070312],[55.45630778186023,-21.140297893434763,893.2000122070312],[55.45630191452801,-21.140292696654797,893.2000122070312],[55.45628992840648,-21.14031583070755,892],[55.45628959313035,-21.140359919518232,891],[55.456282468512654,-21.14037257619202,890.4000244140625],[55.456253634765744,-21.1403960455209,888.5999755859375],[55.45624935999513,-21.140394872054458,888.4000244140625],[55.45624257065356,-21.140386573970318,888.4000244140625],[55.45622597448528,-21.140384562313557,887.7999877929688],[55.45620451681316,-21.140383891761303,887],[55.45617727562785,-21.140381880104542,886],[55.456147184595466,-21.140382885932922,884.7999877929688],[55.45611013658345,-21.140343490988016,884.2000122070312],[55.45610032975674,-21.140347849577665,883.7999877929688],[55.45608867891133,-21.140357237309217,883.2000122070312],[55.45609027147293,-21.140363859012723,883],[55.45609513297677,-21.140379533171654,882.7999877929688],[55.45606101863086,-21.140406439080834,881.2000122070312],[55.45603788457811,-21.140399063006043,880.5999755859375],[55.45602170750499,-21.140410713851452,880],[55.45599245466292,-21.140408869832754,879.2000122070312],[55.45595481991768,-21.14042731001973,877.5999755859375],[55.4559435043484,-21.14041993394494,877.4000244140625],[55.455898996442556,-21.140405852347612,876.4000244140625],[55.45588365755975,-21.140412390232086,875.7999877929688],[55.455877957865596,-21.14041884429753,875.5999755859375],[55.45584686100483,-21.140430830419064,874.4000244140625],[55.45580277219415,-21.14044189453125,872.7999877929688],[55.45574141666293,-21.14051121287048,874.4000244140625],[55.45568517409265,-21.140556810423732,875.7999877929688],[55.45567033812404,-21.140556475147605,875.4000244140625],[55.45566673390567,-21.14054842852056,874.7999877929688],[55.45563722960651,-21.14053074270487,873],[55.45561577193439,-21.140525545924902,872.2000122070312],[55.455594565719366,-21.140531999990344,872],[55.455582747235894,-21.140529736876488,871.5999755859375],[55.4555721860379,-21.140514817088842,870.4000244140625],[55.45555424876511,-21.140511380508542,869.5999755859375],[55.45552667230368,-21.140516828745604,869.2000122070312],[55.455483170226216,-21.14049025811255,866.7999877929688],[55.45547252520919,-21.1404824629426,866.5999755859375],[55.45545257627964,-21.14048874936998,866.7999877929688],[55.455435728654265,-21.140481373295188,866.5999755859375],[55.45541586354375,-21.140503836795688,867.2000122070312],[55.45540228486061,-21.14050693809986,867.2000122070312],[55.45539641752839,-21.14053518511355,868],[55.45538417994976,-21.140538454055786,868],[55.45534352771938,-21.140573490411043,869],[55.4553250875324,-21.140612298622727,870],[55.455313101410866,-21.140617998316884,870],[55.45530706644058,-21.14061481319368,870],[55.45530438423157,-21.140616238117218,870],[55.45530119910836,-21.140615483745933,870],[55.45527705922723,-21.140583297237754,869.2000122070312],[55.455271527171135,-21.140576843172312,869],[55.455255350098014,-21.14055387675762,868.2000122070312],[55.45521955937147,-21.140495538711548,866.2000122070312],[55.45521109364927,-21.140512553974986,866.4000244140625],[55.455235401168466,-21.140495035797358,866.4000244140625],[55.45523464679718,-21.140477349981666,866],[55.45520531013608,-21.140455976128578,865],[55.45519156381488,-21.14045798778534,864.7999877929688],[55.45516775920987,-21.14048925228417,865],[55.45515451580286,-21.140542812645435,866.2000122070312],[55.45515141449869,-21.140549601987004,866.4000244140625],[55.45515694655478,-21.14057131111622,867],[55.45515300706029,-21.140570053830743,866.7999877929688],[55.4551472235471,-21.14056653343141,866.5999755859375],[55.455146888270974,-21.140584303066134,867.2000122070312],[55.45510824769735,-21.140586147084832,866.4000244140625],[55.4551094211638,-21.140544153749943,865.4000244140625],[55.45510606840253,-21.140539962798357,865.2000122070312],[55.45510372146964,-21.14058061502874,866.2000122070312],[55.45507740229368,-21.140589080750942,866],[55.45507044531405,-21.140585895627737,865.7999877929688],[55.455035073682666,-21.14059142768383,865.2000122070312],[55.455015543848276,-21.14056167192757,864.2000122070312],[55.45500800013542,-21.140560833737254,864],[55.45495611615479,-21.14056502468884,862.7999877929688],[55.454932479187846,-21.1405723169446,862.4000244140625],[55.45490976423025,-21.140569215640426,861.5999755859375],[55.454882606863976,-21.140578016638756,861],[55.4548432957381,-21.140583967790008,860.4000244140625],[55.45484530739486,-21.140584470704198,860.4000244140625],[55.45483935624361,-21.140592182055116,860.4000244140625],[55.45487615279853,-21.14055924117565,860.5999755859375],[55.45482359826565,-21.14058807492256,860],[55.45479157939553,-21.140608610585332,859.7999877929688],[55.454797027632594,-21.140599055215716,859.7999877929688],[55.45482158660889,-21.140587236732244,860],[55.45481353998184,-21.140571059659123,859.7999877929688],[55.45479015447199,-21.140529653057456,859],[55.454776575788856,-21.14053074270487,858.7999877929688],[55.454760482534766,-21.14052244462073,858.4000244140625],[55.454766768962145,-21.14052504301071,858.5999755859375],[55.45471438206732,-21.140548763796687,858],[55.45467616058886,-21.14057097584009,857.5999755859375],[55.454642632976174,-21.140611544251442,857.2000122070312],[55.45459711924195,-21.140603246167302,856.2000122070312],[55.45459443703294,-21.14059578627348,856],[55.454589324072,-21.14058170467615,855.7999877929688],[55.45456049032509,-21.140562258660793,855.4000244140625],[55.45451749116182,-21.140551529824734,855],[55.454461332410574,-21.140545578673482,854.4000244140625],[55.454417830333114,-21.140547590330243,853.7999877929688],[55.45438840985298,-21.14054406993091,853.4000244140625],[55.45432034879923,-21.140545746311545,852.4000244140625],[55.454302076250315,-21.14055387675762,852.2000122070312],[55.45430039986968,-21.140570305287838,852.2000122070312],[55.45428128913045,-21.140575166791677,852],[55.45428422279656,-21.140585644170642,852],[55.45424466021359,-21.14060550928116,851.4000244140625],[55.45422563329339,-21.14059193059802,851.2000122070312],[55.45424113981426,-21.140583464875817,851.4000244140625],[55.45426041819155,-21.14058807492256,851.5999755859375],[55.45427651144564,-21.14058363251388,851.7999877929688],[55.45431096106768,-21.1405913438648,852.2000122070312],[55.45427936129272,-21.14060944877565,851.7999877929688],[55.45427014119923,-21.140610286965966,851.5999755859375],[55.454242983832955,-21.14059335552156,851.4000244140625],[55.45421188697219,-21.140595534816384,851.2000122070312],[55.454201493412256,-21.14057290367782,851],[55.454204343259335,-21.140565359964967,851.2000122070312],[55.45420518144965,-21.14054834470153,851.2000122070312],[55.45420073904097,-21.14054163917899,851.2000122070312],[55.454216077923775,-21.140561755746603,851.2000122070312],[55.45417827554047,-21.14059042185545,850.7999877929688],[55.454194536432624,-21.140595199540257,851],[55.454200906679034,-21.140626380220056,850.7999877929688],[55.45422605238855,-21.140621099621058,851.2000122070312],[55.45421406626701,-21.140578854829073,851.2000122070312],[55.45416360720992,-21.140518253669143,850.7999877929688],[55.454176515340805,-21.140508027747273,851],[55.45411365106702,-21.140533927828074,850],[55.45410577207804,-21.140519678592682,850],[55.45408791862428,-21.140498388558626,849.5999755859375],[55.45411029830575,-21.14050542935729,850],[55.45411423780024,-21.140509033575654,850],[55.454058749601245,-21.14054842852056,849],[55.45402228832245,-21.140597965568304,848.2000122070312],[55.454013822600245,-21.140608275309205,848],[55.453996723517776,-21.140638450160623,847.5999755859375],[55.453960597515106,-21.14063736051321,846.7999877929688],[55.4539040196687,-21.140689244493842,845.5999755859375],[55.453891195356846,-21.140694692730904,845.4000244140625],[55.45389153063297,-21.14068723283708,845.4000244140625],[55.45388742350042,-21.14067491143942,845.4000244140625],[55.45384199358523,-21.140665020793676,844.7999877929688],[55.45377845875919,-21.140664434060454,843.7999877929688],[55.4537502117455,-21.140673821792006,843.4000244140625],[55.45373202301562,-21.140669714659452,843.2000122070312],[55.453731436282396,-21.14068714901805,843],[55.453696148470044,-21.140699135139585,842.5999755859375],[55.453687431290746,-21.140687065199018,842.4000244140625],[55.45367871411145,-21.14067197777331,842.4000244140625],[55.45364577323198,-21.14069301635027,841.7999877929688],[55.45363990589976,-21.140721682459116,841.5999755859375],[55.45363521203399,-21.14074573852122,841.4000244140625],[55.45357134193182,-21.140787228941917,840.5999755859375],[55.45355684123933,-21.140790078788996,840.4000244140625],[55.45352146960795,-21.140756383538246,840.7999877929688],[55.45347025617957,-21.140765016898513,840.7999877929688],[55.453471932560205,-21.140778679400682,840.5999755859375],[55.45338165946305,-21.140865851193666,839.4000244140625],[55.45332667417824,-21.14088269881904,839.2000122070312],[55.45332265086472,-21.140871215611696,839.5999755859375],[55.45330060645938,-21.14086559973657,839.4000244140625],[55.45329038053751,-21.140871718525887,839.2000122070312],[55.45327093452215,-21.140889571979642,838.5999755859375],[55.453246627002954,-21.14091983065009,837.7999877929688],[55.45321460813284,-21.14095344208181,837],[55.453214440494776,-21.14095252007246,837],[55.45320748351514,-21.140966434031725,836.5999755859375],[55.45320111326873,-21.140984371304512,836.2000122070312],[55.453195413574576,-21.140993926674128,836],[55.45319323427975,-21.140990322455764,836],[55.4531632270664,-21.14101597107947,835],[55.45315761119127,-21.141013288870454,835.2000122070312],[55.453165490180254,-21.14100088365376,835.5999755859375],[55.453159203752875,-21.140993339940906,835.5999755859375],[55.45314981602132,-21.140939611941576,836.4000244140625],[55.45312022790313,-21.140922345221043,836.7999877929688],[55.45311838388443,-21.14089678041637,837.7999877929688],[55.45312726870179,-21.140843303874135,840],[55.453134225681424,-21.140821846202016,840.7999877929688],[55.45315660536289,-21.140780355781317,842.4000244140625],[55.45316389761865,-21.14075026474893,843.5999755859375],[55.45315937139094,-21.140734422951937,844.2000122070312],[55.45316423289478,-21.14077121950686,842.5999755859375],[55.453146044164896,-21.140792844817042,842],[55.453072199597955,-21.140834921970963,841.2000122070312],[55.45306256040931,-21.14083668217063,841.2000122070312],[55.45306792482734,-21.140828216448426,841.5999755859375],[55.45311687514186,-21.140783289447427,842.7999877929688],[55.453128861263394,-21.140765268355608,843.4000244140625],[55.45312265865505,-21.1407708004117,843.2000122070312],[55.45311159454286,-21.140766106545925,843.5999755859375],[55.45310363173485,-21.140761831775308,843.7999877929688],[55.45311779715121,-21.14073065109551,845],[55.45308745466173,-21.140668457373977,847.2000122070312],[55.45307773165405,-21.14064322784543,847.7999877929688],[55.45307085849345,-21.140632666647434,848.2000122070312],[55.45305870473385,-21.140593523159623,849.4000244140625],[55.45306406915188,-21.1405982170254,849.2000122070312],[55.45306163839996,-21.14063342101872,848.4000244140625],[55.453022914007306,-21.140627721324563,848.7999877929688],[55.45295476913452,-21.140610119327903,849.4000244140625],[55.45292870141566,-21.140572484582663,850.4000244140625],[55.45289349742234,-21.140531413257122,852.5999755859375],[55.45286810025573,-21.14049034193158,854.7999877929688],[55.452827867120504,-21.14045455120504,857],[55.45281495898962,-21.140451785176992,857.4000244140625],[55.452802553772926,-21.14044181071222,858],[55.4527916572988,-21.140440637245774,858.4000244140625],[55.45276818796992,-21.14043401554227,859],[55.452736085280776,-21.14044239744544,859.2000122070312],[55.452729715034366,-21.14044340327382,859.4000244140625],[55.452717980369925,-21.140436865389347,860],[55.45268747024238,-21.140436781570315,860.5999755859375],[55.45267405919731,-21.140466537326574,859.4000244140625],[55.45267665758729,-21.14047114737332,859],[55.4526502545923,-21.140471817925572,859.5999755859375],[55.45260105282068,-21.14044826477766,862],[55.45255369506776,-21.14047911018133,861.2000122070312],[55.45252561569214,-21.140527306124568,859.2000122070312],[55.452503906562924,-21.140584386885166,856.5999755859375],[55.45248010195792,-21.140612298622727,855.5999755859375],[55.45244297012687,-21.140571981668472,857.7999877929688],[55.452415477484465,-21.140540800988674,859.5999755859375],[55.452383710071445,-21.140507105737925,862.7999877929688],[55.45236133038998,-21.14046636968851,866.4000244140625],[55.452379854395986,-21.1404721532017,865.4000244140625],[55.45238186605275,-21.14047659561038,865],[55.452379770576954,-21.14046586677432,866],[55.452375411987305,-21.140464525669813,866.2000122070312],[55.452375495806336,-21.140464525669813,866.2000122070312],[55.45240022242069,-21.140474919229746,864.7999877929688],[55.452422183007,-21.140462514013052,865.2000122070312],[55.45242846943438,-21.140464274212718,864.7999877929688],[55.45240449719131,-21.140440804883838,866.7999877929688],[55.452405754476786,-21.14043745212257,867],[55.4524240270257,-21.140424208715558,867.2000122070312],[55.45243576169014,-21.140412474051118,867.5999755859375],[55.452456967905164,-21.14039646461606,868],[55.45248119160533,-21.140390764921904,867.5999755859375],[55.4524982906878,-21.14037550985813,868],[55.45252142474055,-21.140356985852122,868.4000244140625],[55.452528297901154,-21.140352291986346,868.5999755859375],[55.45253198593855,-21.140349861234426,868.5999755859375],[55.45253198593855,-21.14035095088184,868.5999755859375],[55.452505834400654,-21.14034910686314,869.2000122070312],[55.45245227403939,-21.140306945890188,873],[55.45244732871652,-21.140303425490856,873.2000122070312],[55.452435594052076,-21.14029571413994,874],[55.452422350645065,-21.1402699816972,875.5999755859375],[55.45242008753121,-21.140237795189023,877.4000244140625],[55.452419919893146,-21.140231424942613,877.7999877929688],[55.45248202979565,-21.14017073996365,879.5999755859375],[55.45248253270984,-21.14017073996365,879.5999755859375],[55.452482951804996,-21.14017073996365,879.4000244140625],[55.452483957633376,-21.14017065614462,879.4000244140625],[55.45249577611685,-21.140124555677176,882],[55.45249971561134,-21.14008474163711,884.2000122070312],[55.4525033198297,-21.140067810192704,885],[55.4525070078671,-21.140053644776344,885.7999877929688],[55.45251723378897,-21.140032606199384,887],[55.45249158516526,-21.14001584239304,888.2000122070312],[55.45247783884406,-21.139988685026765,890],[55.45249384827912,-21.13997041247785,890.7999877929688],[55.45252284966409,-21.139952642843127,891.4000244140625],[55.452527459710836,-21.139922300353646,893.2000122070312],[55.45245571061969,-21.139906458556652,895.2000122070312],[55.452451184391975,-21.139867566525936,897.7999877929688],[55.452459901571274,-21.139863207936287,898],[55.45247088186443,-21.139842923730612,899.2000122070312],[55.45250969007611,-21.13980076275766,901.5999755859375],[55.45252486132085,-21.139793638139963,901.7999877929688],[55.45251295901835,-21.139771342277527,903.5999755859375],[55.45245286077261,-21.13976270891726,905],[55.45241438783705,-21.139747370034456,906.7999877929688],[55.45243836008012,-21.139737647026777,907],[55.45247892849147,-21.13972214050591,907.4000244140625],[55.45254380442202,-21.139707220718265,907.5999755859375],[55.45256392098963,-21.13969372585416,908.2000122070312],[55.45254833064973,-21.139666736125946,910.2000122070312],[55.4525070078671,-21.13966883160174,910.5999755859375],[55.45246643945575,-21.139618204906583,914.4000244140625],[55.45245906338096,-21.139569589868188,916.5999755859375],[55.45252704061568,-21.139510748907924,918],[55.45255830511451,-21.139464396983385,919.2000122070312],[55.45254120603204,-21.139426426962018,921.2000122070312],[55.45255218632519,-21.139386696740985,922.7999877929688],[55.452570375055075,-21.13937471061945,922.7999877929688],[55.45261915773153,-21.139369262382388,922],[55.45265721157193,-21.13934302702546,922.4000244140625],[55.45274505391717,-21.139358449727297,919.7999877929688],[55.452777994796634,-21.139369094744325,919],[55.45283398590982,-21.1393238324672,919],[55.45284144580364,-21.139321736991405,918.7999877929688],[55.45290875248611,-21.139305476099253,917.7999877929688],[55.45296583324671,-21.13926725462079,917.2000122070312],[55.4530197288841,-21.13921889103949,916.7999877929688],[55.45304847881198,-21.139216125011444,916.4000244140625],[55.45307597145438,-21.13921394571662,916.2000122070312],[55.45309164561331,-21.139212856069207,916],[55.45309701003134,-21.13920606672764,916.2000122070312],[55.453125005587935,-21.139186704531312,916.2000122070312],[55.453130789101124,-21.139188800007105,916],[55.453136740252376,-21.139188297092915,916],[55.45317026786506,-21.139179579913616,915.7999877929688],[55.45318669639528,-21.139179999008775,915.7999877929688],[55.4532615467906,-21.13916859962046,914.7999877929688],[55.45327118597925,-21.139168264344335,914.5999755859375],[55.453288620337844,-21.139161558821797,914.5999755859375],[55.453288201242685,-21.13916323520243,914.4000244140625],[55.453288201242685,-21.13916323520243,914.4000244140625],[55.45328996144235,-21.139164324849844,914.4000244140625],[55.453361039981246,-21.139157535508275,914],[55.4534219764173,-21.13911973312497,914.7999877929688],[55.45344779267907,-21.139111937955022,915],[55.45351753011346,-21.139099029824138,915.2000122070312],[55.45358542352915,-21.139068687334657,916],[55.453638983890414,-21.13903666846454,917.5999755859375],[55.453648455441,-21.139021161943674,918.4000244140625],[55.45367301441729,-21.138990567997098,919.7999877929688],[55.4536865092814,-21.13898729905486,920],[55.45373613014817,-21.138979587703943,920.7999877929688],[55.45374392531812,-21.138969864696264,921.2000122070312],[55.45376907102764,-21.138924853876233,923.4000244140625],[55.45384744182229,-21.138860397040844,926.5999755859375],[55.45394408516586,-21.13879610784352,931.4000244140625],[55.45397727750242,-21.13878001458943,932.2000122070312],[55.45398415066302,-21.138773811981082,932.2000122070312],[55.453994795680046,-21.138767525553703,932.2000122070312],[55.45403050258756,-21.138719832524657,931.4000244140625],[55.45404592528939,-21.13868085667491,930.4000244140625],[55.45405883342028,-21.138675743713975,930.5999755859375],[55.45407526195049,-21.13867205567658,930.7999877929688],[55.45408154837787,-21.138657722622156,930.4000244140625],[55.454088505357504,-21.138617573305964,929.2000122070312],[55.45411599799991,-21.138544818386436,927.2000122070312],[55.4541165009141,-21.138513972982764,926.4000244140625],[55.45408984646201,-21.13848304376006,924.4000244140625],[55.45408884063363,-21.138470387086272,923.7999877929688],[55.45409169048071,-21.138458400964737,923.2000122070312],[55.454108538106084,-21.138413390144706,921.2000122070312],[55.454107616096735,-21.138406852260232,921],[55.45410694554448,-21.13840081728995,920.5999755859375],[55.454107616096735,-21.138401655480266,920.5999755859375],[55.45410795137286,-21.13840081728995,920.5999755859375],[55.45410929247737,-21.138397129252553,920.4000244140625],[55.45411457307637,-21.138393692672253,920.4000244140625],[55.4541199374944,-21.13838187418878,919.7999877929688],[55.4541199374944,-21.13837986253202,919.7999877929688],[55.454093450680375,-21.138346921652555,917.5999755859375],[55.454086577519774,-21.138326469808817,916.5999755859375],[55.45408138073981,-21.1383153218776,915.7999877929688],[55.454076351597905,-21.13829738460481,914.7999877929688],[55.45407618395984,-21.1382962949574,914.5999755859375],[55.45408817008138,-21.13828162662685,914.2000122070312],[55.45408146455884,-21.138272238895297,913.4000244140625],[55.45402279123664,-21.138280956074595,912.4000244140625],[55.45399873517454,-21.138284308835864,912],[55.4539539758116,-21.138286907225847,911],[55.45392514206469,-21.138303503394127,911.4000244140625],[55.45392799191177,-21.138263521716,909],[55.45393000356853,-21.13825731910765,908.7999877929688],[55.45394752174616,-21.138237370178103,908],[55.453916508704424,-21.138205099850893,906],[55.45392262749374,-21.13817811012268,905.2000122070312],[55.453941989690065,-21.13811742514372,904],[55.45394852757454,-21.13811071962118,903.7999877929688],[55.4539455100894,-21.13811013288796,903.7999877929688],[55.45393050648272,-21.13808431662619,903.2000122070312],[55.45392790809274,-21.13807392306626,903],[55.45391575433314,-21.138023380190134,901.7999877929688],[55.45390318147838,-21.137965377420187,900.4000244140625],[55.45389572158456,-21.13794794306159,899.5999755859375],[55.45387510210276,-21.137916510924697,898.2000122070312],[55.45389907434583,-21.137878708541393,895.7999877929688],[55.453911731019616,-21.137863621115685,894.5999755859375],[55.453896978870034,-21.137816347181797,893],[55.453888261690736,-21.137812491506338,893],[55.45386202633381,-21.137756165117025,890.5999755859375],[55.45389295555651,-21.13776035606861,890.4000244140625],[55.45393209904432,-21.13775197416544,888.7999877929688],[55.454002590849996,-21.13775448873639,887],[55.454032849520445,-21.137743005529046,885.5999755859375],[55.453997226431966,-21.13772557117045,885.7999877929688],[55.45395674183965,-21.13767477683723,884.5999755859375],[55.45398968271911,-21.137679386883974,883.7999877929688],[55.45406453311443,-21.137682236731052,881.7999877929688],[55.45403754338622,-21.137676956132054,882.4000244140625],[55.45401843264699,-21.137665640562773,882.2000122070312],[55.45400166884065,-21.137648122385144,881.5999755859375],[55.4539711587131,-21.137637393549085,881.7999877929688],[55.45394794084132,-21.1375917121768,879.5999755859375],[55.453956574201584,-21.13757712766528,878.4000244140625],[55.45398901216686,-21.137578301131725,877.5999755859375],[55.453994711861014,-21.137577798217535,877.5999755859375],[55.454041231423616,-21.137562124058604,875.2000122070312],[55.454066125676036,-21.137562291696668,874.5999755859375],[55.45405372045934,-21.1375555023551,874.4000244140625],[55.454036705195904,-21.137510742992163,872.2000122070312],[55.45407953672111,-21.137447208166122,867],[55.45411222614348,-21.137380907312036,862.5999755859375],[55.45410476624966,-21.137377386912704,862.5999755859375],[55.4540351126343,-21.137409657239914,865.5999755859375],[55.45399504713714,-21.137393563985825,865.7999877929688],[55.454026479274035,-21.137373615056276,864.5999755859375],[55.454036789014935,-21.13736397586763,864],[55.45406327582896,-21.137331454083323,862.5999755859375],[55.45407995581627,-21.13729415461421,861.2000122070312],[55.454126140102744,-21.137271774932742,859.4000244140625],[55.454137371852994,-21.13726439885795,859],[55.45413049869239,-21.137238834053278,858.5999755859375],[55.454137958586216,-21.1372032109648,857.4000244140625],[55.454144328832626,-21.137194829061627,857],[55.45414122752845,-21.13717194646597,856.5999755859375],[55.454135946929455,-21.137130204588175,855.5999755859375],[55.45412044040859,-21.137109668925405,855.2000122070312],[55.454065036028624,-21.137134144082665,856.7999877929688],[55.4540229588747,-21.137130623683333,857.2000122070312],[55.454009883105755,-21.137129785493016,857.4000244140625],[55.453970320522785,-21.137132383883,858],[55.45394517481327,-21.13712752237916,858.2000122070312],[55.453932182863355,-21.13713347353041,858.5999755859375],[55.45390594750643,-21.13713246770203,859],[55.45390259474516,-21.137131294235587,859],[55.45387736521661,-21.13714755512774,860],[55.45383168384433,-21.137140011414886,860],[55.45379228889942,-21.137112015858293,859],[55.45375356450677,-21.137119391933084,859.4000244140625],[55.45368215069175,-21.1370961740613,858.7999877929688],[55.453636134043336,-21.137113524600863,859.5999755859375],[55.453627249225974,-21.137115200981498,859.5999755859375],[55.453576957806945,-21.137112770229578,858.5999755859375],[55.4535863455385,-21.13709533587098,858],[55.45359908603132,-21.137086618691683,858.2000122070312],[55.45361735858023,-21.137076392769814,857.7999877929688],[55.45364267192781,-21.137052923440933,857],[55.4536915384233,-21.137003554031253,855],[55.45371643267572,-21.136961141601205,853],[55.45371199026704,-21.136954687535763,852.5999755859375],[55.45365767553449,-21.136952843517065,851.7999877929688],[55.453654238954186,-21.136950915679336,851.5999755859375],[55.45364795252681,-21.136949071660638,851.4000244140625],[55.45364795252681,-21.136949071660638,851.4000244140625],[55.45357142575085,-21.13695167005062,849.5999755859375],[55.45350688509643,-21.13693155348301,845.4000244140625],[55.45352867804468,-21.136888889595866,844.4000244140625],[55.45356681570411,-21.13682409748435,843.2000122070312],[55.45356974937022,-21.136788055300713,842],[55.45355281792581,-21.136781349778175,841.2000122070312],[55.4535342939198,-21.136783529073,840.5999755859375],[55.45349615626037,-21.136791659519076,839.2000122070312],[55.45349020510912,-21.136796101927757,839.2000122070312],[55.4534116666764,-21.136840023100376,837.4000244140625],[55.45338870026171,-21.13684211857617,836.5999755859375],[55.45338459312916,-21.136839604005218,836.4000244140625],[55.453385934233665,-21.13683734089136,836.4000244140625],[55.453385934233665,-21.13683734089136,836.4000244140625],[55.45338509604335,-21.13683725707233,836.4000244140625],[55.45337771996856,-21.136820409446955,835.5999755859375],[55.453367410227656,-21.13677229732275,833.5999755859375],[55.45335927978158,-21.136722089722753,831.5999755859375],[55.45333497226238,-21.13666048273444,828.5999755859375],[55.453293984755874,-21.136628547683358,826],[55.45328501611948,-21.13662661984563,825.5999755859375],[55.45322894118726,-21.136608012020588,823.5999755859375],[55.453174794092774,-21.136610945686698,822.4000244140625],[55.45312718488276,-21.13660709001124,821],[55.453150905668736,-21.136568700894713,820.7999877929688],[55.453137662261724,-21.136566437780857,820.4000244140625],[55.45312131755054,-21.136556547135115,820.2000122070312],[55.45310287736356,-21.136547829955816,819.7999877929688],[55.45307161286473,-21.1364933475852,819.7999877929688],[55.45302266255021,-21.136453617364168,819.2000122070312],[55.452961223199964,-21.136406594887376,818.5999755859375],[55.452921241521835,-21.136369546875358,818.4000244140625],[55.452914368361235,-21.136357225477695,818.5999755859375],[55.452902130782604,-21.136351693421602,818.5999755859375],[55.45285561122,-21.136310705915093,818.7999877929688],[55.45282753184438,-21.136291259899735,818.7999877929688],[55.4528022184968,-21.136289164423943,818.5999755859375],[55.45278897508979,-21.136275082826614,818.2000122070312],[55.45277598313987,-21.13627483136952,818],[55.45276357792318,-21.13623971119523,817.5999755859375],[55.452765757218,-21.136215068399906,817.4000244140625],[55.452815126627684,-21.13614046946168,817.4000244140625],[55.452815210446715,-21.136132422834635,817.2000122070312],[55.452827867120504,-21.136107444763184,817.2000122070312],[55.45284035615623,-21.13604919053614,816.7999877929688],[55.45286047272384,-21.135999150574207,816],[55.452862568199635,-21.13595623522997,813.2000122070312],[55.452873297035694,-21.135938465595245,812.2000122070312],[55.45290296897292,-21.135857915505767,807.4000244140625],[55.452905651181936,-21.135854311287403,807.2000122070312],[55.45294336974621,-21.135779712349176,803.4000244140625],[55.45297086238861,-21.13568608649075,798.7999877929688],[55.45296113938093,-21.135642919689417,797],[55.45295217074454,-21.135609559714794,795.5999755859375],[55.45303146354854,-21.135536888614297,791],[55.45306675136089,-21.135530350729823,790.4000244140625],[55.453091729432344,-21.13550780341029,789.4000244140625],[55.45313254930079,-21.135478131473064,787.7999877929688],[55.45315585099161,-21.13545985892415,786.7999877929688],[55.45317303389311,-21.135441418737173,786],[55.45321376994252,-21.135448710992932,786.2000122070312],[55.45317403972149,-21.135442592203617,786],[55.45311687514186,-21.135446280241013,786.4000244140625],[55.45306675136089,-21.135417111217976,786],[55.453055100515485,-21.135380901396275,786.5999755859375],[55.45314000919461,-21.135370507836342,783.4000244140625],[55.45315308496356,-21.135363802313805,783],[55.453221732750535,-21.135331448167562,781.4000244140625],[55.45323413796723,-21.13532591611147,781.2000122070312],[55.4532789811492,-21.13532063551247,780.7999877929688],[55.45328208245337,-21.13531854003668,780.7999877929688],[55.453270599246025,-21.13529465161264,779.7999877929688],[55.453260373324156,-21.13529364578426,779.7999877929688],[55.45319398865104,-21.13526338711381,780.5999755859375],[55.45320890843868,-21.13521452061832,780],[55.453211925923824,-21.135203540325165,780],[55.453206142410636,-21.135201444849372,780.2000122070312],[55.45320203527808,-21.135187447071075,780.4000244140625],[55.45318032614887,-21.135126342996955,785.5999755859375],[55.45314612798393,-21.135079571977258,790.7999877929688],[55.45312081463635,-21.135063813999295,791],[55.45310824178159,-21.135031627491117,791.2000122070312],[55.45308167114854,-21.135033387690783,790.7999877929688],[55.453070690855384,-21.13503565080464,790.5999755859375],[55.45301880687475,-21.13504990004003,790],[55.452984273433685,-21.13506993278861,789.7999877929688],[55.45293917879462,-21.135079991072416,789.7999877929688],[55.45294093899429,-21.13509532995522,789.5999755859375],[55.45294353738427,-21.13508267328143,789.7999877929688],[55.4529473092407,-21.135081918910146,789.7999877929688],[55.45288343913853,-21.135093737393618,789.7999877929688],[55.45288444496691,-21.135078985244036,790],[55.452860891819,-21.135066747665405,790.5999755859375],[55.452872375026345,-21.135057359933853,790.5999755859375],[55.45287556014955,-21.135062389075756,790.4000244140625],[55.452903639525175,-21.13504495471716,790.4000244140625],[55.45291118323803,-21.135033052414656,790.5999755859375],[55.45292895287275,-21.135041350498796,790.4000244140625],[55.45294789597392,-21.135010672733188,790.7999877929688],[55.453004222363234,-21.134980330243707,791],[55.45305107720196,-21.134952753782272,791.4000244140625],[55.453064404428005,-21.134948143735528,791.5999755859375],[55.453073121607304,-21.134947557002306,791.7999877929688],[55.453113773837686,-21.134956441819668,792.4000244140625],[55.45315710827708,-21.13497362472117,793],[55.4531666636467,-21.134980833157897,793],[55.453175297006965,-21.134981587529182,793.2000122070312],[55.453179655596614,-21.134976809844375,793.4000244140625],[55.453214943408966,-21.134957866743207,794.2000122070312],[55.453265737742186,-21.134975217282772,793.4000244140625],[55.45337738469243,-21.13501226529479,787.4000244140625],[55.45338610187173,-21.13501167856157,787.4000244140625],[55.4534721840173,-21.13507479429245,782.2000122070312],[55.45352289453149,-21.135105304419994,780.4000244140625],[55.45355969108641,-21.135054510086775,783.7999877929688],[55.4536069650203,-21.135099856182933,781.2000122070312],[55.453625321388245,-21.135134305804968,779.2000122070312],[55.45364283956587,-21.135189374908805,778],[55.453629260882735,-21.13530152477324,780.4000244140625],[55.45364074409008,-21.135442508384585,783],[55.453653149306774,-21.13547402434051,783.2000122070312],[55.45370520092547,-21.135526159778237,784],[55.45372632332146,-21.135536385700107,784.2000122070312],[55.45372179709375,-21.135563291609287,784.7999877929688],[55.45376932248473,-21.135626155883074,784.5999755859375],[55.45379790477455,-21.135655576363206,784],[55.453842328861356,-21.135677956044674,782.7999877929688],[55.45392514206469,-21.135719111189246,782.2000122070312],[55.453931763768196,-21.135725313797593,782.2000122070312],[55.45395632274449,-21.13575247116387,783.5999755859375],[55.45398456975818,-21.135762110352516,784.2000122070312],[55.45399144291878,-21.135753309354186,783.7999877929688],[55.45401801355183,-21.135757584124804,784],[55.45405154116452,-21.13574903458357,783.5999755859375],[55.45406176708639,-21.13574132323265,783.2000122070312],[55.454065538942814,-21.135744424536824,783.4000244140625],[55.454065538942814,-21.135744424536824,783.4000244140625],[55.454065538942814,-21.135744424536824,783.4000244140625],[55.454065538942814,-21.135743921622634,783.4000244140625],[55.45406989753246,-21.13574123941362,783.2000122070312],[55.45409068465233,-21.135739646852016,783.2000122070312],[55.45414147898555,-21.13573243841529,783],[55.45416494831443,-21.135744089260697,783.4000244140625],[55.454165786504745,-21.135743334889412,783.4000244140625],[55.454166457057,-21.13574660383165,783.4000244140625],[55.45415857806802,-21.1357543990016,783.5999755859375],[55.4541387129575,-21.13575498573482,784],[55.454135444015265,-21.135765463113785,784.4000244140625],[55.454135444015265,-21.135765463113785,784.4000244140625],[55.45414064079523,-21.13576135598123,784.2000122070312],[55.45414114370942,-21.13575833849609,784],[55.45415136963129,-21.135755069553852,783.5999755859375],[55.45415229164064,-21.135755069553852,783.5999755859375],[55.45417643152177,-21.135804941877723,784.7999877929688],[55.45417819172144,-21.135851880535483,785.7999877929688],[55.45418757945299,-21.135847941040993,785.7999877929688],[55.454214653000236,-21.135876942425966,786.5999755859375],[55.454243402928114,-21.13589135929942,787],[55.45426812954247,-21.135914912447333,787.4000244140625],[55.45428782701492,-21.13592932932079,787],[55.45428832992911,-21.13593092188239,787],[55.454331832006574,-21.13594642840326,786.4000244140625],[55.45436728745699,-21.135941985994577,786],[55.45438011176884,-21.135943830013275,785.7999877929688],[55.45439628884196,-21.135934609919786,785.5999755859375],[55.4543977137655,-21.135959504172206,785.4000244140625],[55.454409616068006,-21.13596310839057,785.4000244140625],[55.45441120862961,-21.135965287685394,785.2000122070312],[55.454417914152145,-21.135954642668366,785.2000122070312],[55.45442562550306,-21.13595380447805,785],[55.454461416229606,-21.13595439121127,785],[55.45448170043528,-21.13597291521728,785],[55.45451288111508,-21.135949194431305,785],[55.454536182805896,-21.13593234680593,785],[55.454544899985194,-21.135916337370872,785],[55.454560238868,-21.13590493798256,785],[55.45458035543561,-21.135892448946834,785.2000122070312],[55.45459636487067,-21.13583855330944,785],[55.45459007844329,-21.135792285203934,785],[55.45458521693945,-21.135749705135822,785],[55.45457549393177,-21.135734617710114,785],[55.454583540558815,-21.13569723442197,784.7999877929688],[55.45458898879588,-21.135659348219633,784.7999877929688],[55.45459359884262,-21.135607045143843,784.5999755859375],[55.45459737069905,-21.135584078729153,784.4000244140625],[55.45459703542292,-21.13556823693216,784.4000244140625],[55.45457708649337,-21.135561782866716,784.5999755859375],[55.45455185696483,-21.135526997968554,785.2000122070312],[55.4545050021261,-21.135512497276068,785.7999877929688],[55.45448932796717,-21.13550780341029,786],[55.45447432436049,-21.13550193607807,786.2000122070312],[55.4544772580266,-21.135487435385585,786.2000122070312],[55.45446158386767,-21.135452901944518,786.5999755859375],[55.45447189360857,-21.13539917394519,787],[55.454487316310406,-21.135349301621318,787.4000244140625],[55.454495530575514,-21.135348547250032,787.2000122070312],[55.45450005680323,-21.13533580675721,787.2000122070312],[55.45450760051608,-21.13532641902566,787.2000122070312],[55.45448513701558,-21.135305631905794,788],[55.454504834488034,-21.135288700461388,787.7999877929688],[55.45451648533344,-21.13526724278927,787.7999877929688],[55.454502906650305,-21.1352482996881,788.4000244140625],[55.45451933518052,-21.135240839794278,788.2000122070312],[55.45453676953912,-21.135236732661724,787.7999877929688],[55.45453542843461,-21.135227093473077,788],[55.45455730520189,-21.13522969186306,787.5999755859375],[55.45456635765731,-21.135218208655715,787.4000244140625],[55.454587899148464,-21.13517152145505,787.7999877929688],[55.4546049144119,-21.135121062397957,789],[55.45462788082659,-21.13507144153118,790.2000122070312],[55.45463358052075,-21.135044200345874,791],[55.45466476120055,-21.135040847584605,790.4000244140625],[55.454668113961816,-21.135034561157227,790.4000244140625],[55.45466601848602,-21.135018216446042,791],[55.4546619951725,-21.13497312180698,792.5999755859375],[55.45467029325664,-21.135005643591285,791.4000244140625],[55.454690074548125,-21.135032381862402,790],[55.45464447699487,-21.135046798735857,790.5999755859375],[55.454644560813904,-21.13505467772484,790.4000244140625],[55.454641710966825,-21.135044284164906,790.7999877929688],[55.454651433974504,-21.135051492601633,790.4000244140625],[55.45468018390238,-21.135060964152217,789.4000244140625],[55.454686218872666,-21.13506448455155,789.2000122070312],[55.45468579977751,-21.135064316913486,789.2000122070312],[55.45468579977751,-21.13506398163736,789.2000122070312],[55.45468579977751,-21.135063730180264,789.2000122070312],[55.45468638651073,-21.135063730180264,789.2000122070312],[55.45469652861357,-21.13506448455155,789],[55.454701809212565,-21.135061802342534,788.7999877929688],[55.454704659059644,-21.13506104797125,788.7999877929688],[55.454714549705386,-21.13506641238928,788.2000122070312],[55.45471664518118,-21.135071692988276,788],[55.45472393743694,-21.135058281943202,788],[55.45472745783627,-21.135059371590614,787.7999877929688],[55.45475008897483,-21.13504202105105,787.2000122070312],[55.45473801903427,-21.135039841756225,787.7999877929688],[55.45473961159587,-21.13503917120397,787.7999877929688],[55.4547811858356,-21.1350273527205,786],[55.454799458384514,-21.13502349704504,785.2000122070312],[55.454805409535766,-21.13502148538828,784.7999877929688],[55.454787723720074,-21.135000782087445,786.4000244140625],[55.45478856191039,-21.134998854249716,786.4000244140625],[55.4547933395952,-21.13499751314521,786.2000122070312],[55.4547880589962,-21.134990975260735,786.7999877929688],[55.454820496961474,-21.13498737104237,785.2000122070312],[55.45483776368201,-21.134974379092455,784.5999755859375],[55.45481731183827,-21.134983683004975,785.4000244140625],[55.45482577756047,-21.13499172963202,784.7999877929688],[55.45482602901757,-21.134991981089115,784.5999755859375],[55.45482720248401,-21.135000195354223,784.4000244140625],[55.45483441092074,-21.13501469604671,783.5999755859375],[55.45484472066164,-21.135019222274423,782.7999877929688],[55.454860562458634,-21.135024167597294,781.7999877929688],[55.45486777089536,-21.13502098247409,781.5999755859375],[55.45485251583159,-21.13501955755055,782.4000244140625],[55.4548604786396,-21.13501771353185,782],[55.45485896989703,-21.135031040757895,781.7999877929688],[55.45486877672374,-21.135026095435023,781.5999755859375],[55.45490188524127,-21.135009583085775,780.7999877929688],[55.45490867458284,-21.13501084037125,780.5999755859375],[55.454938178882,-21.134999440982938,779.7999877929688],[55.45494982972741,-21.134993489831686,779.5999755859375],[55.45494790188968,-21.134992567822337,779.5999755859375],[55.454938178882,-21.134997848421335,779.7999877929688],[55.454942621290684,-21.134994830936193,779.7999877929688],[55.454942705109715,-21.134999189525843,779.7999877929688],[55.45494060963392,-21.134999273344874,779.7999877929688],[55.45493013225496,-21.13501477986574,780],[55.45492719858885,-21.135016875341535,780],[55.454949075356126,-21.134986113756895,779.5999755859375],[55.454959804192185,-21.134968930855393,779.4000244140625],[55.4549590498209,-21.134962812066078,779.4000244140625],[55.45497908256948,-21.134964656084776,779],[55.45500833541155,-21.134937582537532,778.2000122070312],[55.4550142865628,-21.134924506768584,778],[55.455037923529744,-21.1349219083786,777.2000122070312],[55.45506751164794,-21.134963650256395,776.2000122070312],[55.45509584248066,-21.134964069351554,775.2000122070312],[55.45512258075178,-21.134941773489118,774.4000244140625],[55.455166501924396,-21.134901456534863,773.2000122070312],[55.455159628763795,-21.13483934663236,777.5999755859375],[55.45516046695411,-21.134817134588957,779.2000122070312],[55.455139093101025,-21.13482266664505,779.5999755859375],[55.45513674616814,-21.134814452379942,780.2000122070312],[55.45512534677982,-21.134808249771595,781],[55.45509969815612,-21.13481721840799,781.2000122070312],[55.45509282499552,-21.134815542027354,781.5999755859375],[55.455088801681995,-21.134823840111494,781.2000122070312],[55.45501026324928,-21.13476407714188,787.2000122070312],[55.454964162781835,-21.13472795113921,791.4000244140625],[55.45498989522457,-21.13471118733287,791],[55.45499383471906,-21.134712360799313,791],[55.45499618165195,-21.134709510952234,791],[55.45499601401389,-21.134708588942885,791],[55.45499601401389,-21.134708588942885,791],[55.45495762489736,-21.134727029129863,791.7999877929688],[55.454927533864975,-21.134757958352566,791.4000244140625],[55.45491588301957,-21.134746810421348,792.7999877929688],[55.45487162657082,-21.134752929210663,794.5999755859375],[55.45489207841456,-21.13473365083337,794.7999877929688],[55.454887971282005,-21.13472887314856,795.4000244140625],[55.454886965453625,-21.134723844006658,795.7999877929688],[55.45487053692341,-21.134729124605656,796.2000122070312],[55.45487053692341,-21.134729124605656,796.2000122070312],[55.454901633784175,-21.134713450446725,795.5999755859375],[55.45489107258618,-21.13467405550182,797.7999877929688],[55.45491328462958,-21.134653687477112,798],[55.45489124022424,-21.134670870378613,798],[55.45488755218685,-21.134700626134872,796.7999877929688],[55.45488051138818,-21.134704649448395,796.7999877929688],[55.454848827794194,-21.13470640964806,797.7999877929688],[55.45483357273042,-21.134718395769596,797.7999877929688],[55.45482703484595,-21.134709930047393,798.4000244140625],[55.454824855551124,-21.1347268614918,797.5999755859375],[55.45483742840588,-21.13472292199731,797.4000244140625],[55.454863999038935,-21.134755946695805,795],[55.45489266514778,-21.134745636954904,794],[55.45490498654544,-21.134760472923517,792.4000244140625],[55.45490926131606,-21.13476642407477,791.7999877929688],[55.45490926131606,-21.13476642407477,791.7999877929688],[55.45491655357182,-21.13474253565073,793],[55.45491655357182,-21.13474253565073,793],[55.45495335012674,-21.134735830128193,791.4000244140625],[55.45498101040721,-21.134720826521516,790.7999877929688],[55.454991487786174,-21.13474253565073,789],[55.45499274507165,-21.13474546931684,788.7999877929688],[55.45499274507165,-21.13474546931684,788.7999877929688],[55.45499358326197,-21.134745217859745,788.7999877929688],[55.45500062406063,-21.134744882583618,788.5999755859375],[55.454963156953454,-21.134755527600646,789.5999755859375],[55.45490775257349,-21.1347527615726,792.7999877929688],[55.45490004122257,-21.134731387719512,794.5999755859375],[55.45489844866097,-21.13473281264305,794.5999755859375],[55.45488730072975,-21.134726526215672,795.5999755859375],[55.45488612726331,-21.134723676368594,795.7999877929688],[55.454882606863976,-21.13471906632185,796.2000122070312],[55.45487590134144,-21.13472837023437,796],[55.45486022718251,-21.134741781279445,795.7999877929688],[55.45480993576348,-21.13472401164472,798.2000122070312],[55.45476735569537,-21.13471219316125,800.2000122070312],[55.45475880615413,-21.13467648625374,802],[55.454771211370826,-21.134657710790634,802.4000244140625],[55.45476417057216,-21.13465318456292,802.7999877929688],[55.45474321581423,-21.134649077430367,803.5999755859375],[55.454731062054634,-21.13464530557394,804.2000122070312],[55.45474556274712,-21.13463893532753,804],[55.45473860576749,-21.13463642075658,804.4000244140625],[55.454706670716405,-21.1346266977489,805.7999877929688],[55.4546863026917,-21.134613286703825,805.5999755859375],[55.45472712256014,-21.134601132944226,808.4000244140625],[55.45470239594579,-21.134576657786965,802.5999755859375],[55.454650009050965,-21.134574729949236,802.7999877929688],[55.4547153878957,-21.134563414379954,803],[55.45479937456548,-21.134553691372275,815.4000244140625],[55.45482074841857,-21.13455578684807,814.4000244140625],[55.45478428713977,-21.134538939222693,816.7999877929688],[55.45477137900889,-21.134516056627035,812],[55.45469828881323,-21.134522343054414,798.5999755859375],[55.454674400389194,-21.134577663615346,802.7999877929688],[55.45470197685063,-21.134624099358916,806],[55.454668030142784,-21.13462175242603,806.2000122070312],[55.4546585585922,-21.134629882872105,806],[55.454671550542116,-21.134638600051403,805.7999877929688],[55.45469728298485,-21.134634157642722,805.7999877929688],[55.45477858744562,-21.13462091423571,803.7999877929688],[55.454791244119406,-21.134613202884793,804.7999877929688],[55.454811695963144,-21.134597612544894,807],[55.45476978644729,-21.134581184014678,811.4000244140625],[55.45478671789169,-21.134535670280457,817],[55.45477867126465,-21.13458462059498,810.4000244140625],[55.45467766933143,-21.134599121287465,804.4000244140625],[55.45465646311641,-21.134602893143892,804.7999877929688],[55.454685632139444,-21.13460431806743,804.7999877929688],[55.454697366803885,-21.13459886983037,804.4000244140625],[55.454712538048625,-21.134595768526196,804.7999877929688],[55.454747658222914,-21.1346214171499,804.7999877929688],[55.45478168874979,-21.13459015265107,809.2000122070312],[55.45480624772608,-21.134593337774277,808],[55.45478797517717,-21.134573221206665,812.2000122070312],[55.454825945198536,-21.134569952264428,811.5999755859375],[55.45482896268368,-21.13454162143171,816.5999755859375],[55.45486969873309,-21.134515637531877,820.2000122070312],[55.454968605190516,-21.1345127876848,817.4000244140625],[55.45497413724661,-21.1345178168267,816.4000244140625],[55.45496474951506,-21.13449870608747,820.2000122070312],[55.45494396239519,-21.134503232315183,820],[55.45491931959987,-21.134475991129875,825.7999877929688],[55.454939268529415,-21.134468698874116,826.4000244140625],[55.45494781807065,-21.134459897875786,827.7999877929688],[55.4549244325608,-21.134454952552915,829.4000244140625],[55.45490984804928,-21.134484792128205,824.4000244140625],[55.45494630932808,-21.13448353484273,823.5999755859375],[55.45492057688534,-21.134482864290476,824.4000244140625],[55.45485779643059,-21.134470710530877,828.2000122070312],[55.45486316084862,-21.134485295042396,825.7999877929688],[55.45481940731406,-21.134489821270108,821],[55.45475478284061,-21.134466184303164,804.5999755859375],[55.454687140882015,-21.134434416890144,792],[55.45465998351574,-21.134421844035387,791.2000122070312],[55.45465897768736,-21.134421844035387,791.2000122070312],[55.4546670243144,-21.134417820721865,790.7999877929688],[55.45469233766198,-21.134409019723535,790],[55.45471086166799,-21.134390830993652,788.7999877929688],[55.45463073067367,-21.134361242875457,794.5999755859375],[55.45464833267033,-21.134335342794657,794.4000244140625],[55.45463458634913,-21.13433752208948,796],[55.454592760652304,-21.13432712852955,803.4000244140625],[55.454595778137445,-21.134317321702838,804.5999755859375],[55.45458119362593,-21.134304078295827,809],[55.45455286279321,-21.13428706303239,815.7999877929688],[55.45456769876182,-21.134261414408684,818.2000122070312],[55.45456241816282,-21.13425688818097,819.7999877929688],[55.45456468127668,-21.134257474914193,819.4000244140625],[55.45458764769137,-21.134264850988984,815],[55.454614302143455,-21.13425931893289,812.4000244140625],[55.454590916633606,-21.13422553986311,821.5999755859375],[55.454633329063654,-21.134215900674462,817.5999755859375],[55.45469409786165,-21.13419628702104,813],[55.454721339046955,-21.134189162403345,815.5999755859375],[55.45471999794245,-21.134188659489155,815.2000122070312],[55.45469711534679,-21.134193940088153,813],[55.454678842797875,-21.13418212160468,817.4000244140625],[55.454688565805554,-21.134193101897836,814.2000122070312],[55.45469996519387,-21.134201819077134,811.2000122070312],[55.4547209199518,-21.13422218710184,809.5999755859375],[55.45472050085664,-21.134220845997334,809.7999877929688],[55.45472946949303,-21.134226880967617,811.4000244140625],[55.45474053360522,-21.13422939553857,814.2000122070312],[55.454731564968824,-21.13422017544508,813.2000122070312],[55.45473525300622,-21.134220845997334,814.2000122070312],[55.45474262908101,-21.134210536256433,818.2000122070312],[55.45473416335881,-21.13420994952321,815.7999877929688],[55.454737516120076,-21.134201986715198,818.2000122070312],[55.45474271290004,-21.134211206808686,818.2000122070312],[55.454753609374166,-21.134211625903845,821.2000122070312],[55.454784370958805,-21.134216655045748,829.5999755859375],[55.45481337234378,-21.134237106889486,834.5999755859375],[55.45477498322725,-21.13424649462104,821.5999755859375],[55.45478378422558,-21.134244399145246,824.5999755859375],[55.45477867126465,-21.13424515351653,822.7999877929688],[55.45476852916181,-21.134236520156264,821.4000244140625],[55.45476651750505,-21.134242387488484,819.7999877929688],[55.45480675064027,-21.134248841553926,830.4000244140625],[55.45487112365663,-21.134227635338902,850.2000122070312],[55.45487732626498,-21.13423484377563,849.7999877929688],[55.45492392964661,-21.13423685543239,860],[55.454888893291354,-21.134248422458768,849.2000122070312],[55.45488193631172,-21.134247248992324,847.7999877929688],[55.45491294935346,-21.134264767169952,850.4000244140625],[55.45497321523726,-21.134246829897165,868.5999755859375],[55.4550039768219,-21.13423735834658,874.5999755859375],[55.45499266125262,-21.1341967061162,884.4000244140625],[55.45496215112507,-21.134175835177302,883.7999877929688],[55.4549574572593,-21.134151108562946,888.7999877929688],[55.45494890771806,-21.134115485474467,895.7999877929688],[55.4549228399992,-21.13410735502839,890.2000122070312],[55.45496391132474,-21.13411422818899,899.4000244140625],[55.45498168095946,-21.134124286472797,901],[55.45502761378884,-21.13408681936562,912.5999755859375],[55.455128448084,-21.134033175185323,920.7999877929688],[55.455097518861294,-21.13401590846479,920.2000122070312],[55.4550832696259,-21.1340325884521,919.5999755859375],[55.455119144171476,-21.13405010662973,920.4000244140625],[55.45514605008066,-21.134028397500515,921.2000122070312],[55.455095591023564,-21.134007861837745,920.2000122070312],[55.45507002621889,-21.133969807997346,919],[55.45495410449803,-21.133984895423055,902.5999755859375],[55.454898197203875,-21.13397005945444,885.2000122070312],[55.454921247437596,-21.133976094424725,892.4000244140625],[55.454825861379504,-21.133975004777312,863.7999877929688],[55.45475838705897,-21.13394214771688,867.5999755859375],[55.45475285500288,-21.133936028927565,869.5999755859375],[55.454753106459975,-21.133924210444093,873],[55.45472980476916,-21.133897053077817,882],[55.45474455691874,-21.13389956764877,880.5999755859375],[55.454741874709725,-21.13391130231321,877.4000244140625],[55.45474212616682,-21.133912224322557,877],[55.45477716252208,-21.133959079161286,861.7999877929688],[55.45479015447199,-21.133962012827396,860.2000122070312],[55.454791747033596,-21.133978944271803,855.2000122070312],[55.45482871122658,-21.13397777080536,864.7999877929688],[55.45487833209336,-21.13399059511721,880.4000244140625],[55.45487875118852,-21.13399202004075,880.5999755859375],[55.454889396205544,-21.133990176022053,883.5999755859375],[55.45490372925997,-21.133998055011034,888.4000244140625],[55.454865423962474,-21.134001994505525,877.2000122070312],[55.45480574481189,-21.134035857394338,861.2000122070312],[55.454818569123745,-21.1340394616127,865.2000122070312],[55.4548242688179,-21.13402185961604,866],[55.45479845255613,-21.134020015597343,858],[55.45474246144295,-21.134025128558278,844.2000122070312],[55.4547069221735,-21.134027559310198,845.4000244140625],[55.454706251621246,-21.134041473269463,841.4000244140625],[55.45466534793377,-21.134036108851433,850.4000244140625],[55.454616313800216,-21.134003419429064,868.7999877929688],[55.45446937903762,-21.134066535159945,877],[55.454454040154815,-21.134072737768292,878.2000122070312],[55.45449963770807,-21.13408086821437,868.2000122070312],[55.45453291386366,-21.134095788002014,859],[55.454536685720086,-21.13410919904709,855.2000122070312],[55.454538613557816,-21.134117748588324,853],[55.454555628821254,-21.134113389998674,851],[55.45455688610673,-21.134107522666454,852],[55.4545687045902,-21.1341034155339,850.7999877929688],[55.454606506973505,-21.134081203490496,849],[55.45461899600923,-21.134066870436072,850],[55.454634837806225,-21.134050777181983,851.5999755859375],[55.45462335459888,-21.13399352878332,870.4000244140625],[55.45461983419955,-21.133990930393338,871.7999877929688],[55.45462427660823,-21.13397642970085,875.2000122070312],[55.45463802292943,-21.13399436697364,867.4000244140625],[55.45465319417417,-21.134007861837745,860.7999877929688],[55.45462930575013,-21.134017752483487,862.2000122070312],[55.45463006012142,-21.134006017819047,865.5999755859375],[55.45463802292943,-21.133976178243756,872.7999877929688],[55.45463651418686,-21.13397978246212,872],[55.454639783129096,-21.133984560146928,870],[55.454670041799545,-21.133944746106863,876.2000122070312],[55.454672472551465,-21.133919097483158,883.2000122070312],[55.45469602569938,-21.13391289487481,880.7999877929688],[55.454675406217575,-21.133905686438084,886.5999755859375],[55.454640705138445,-21.133876433596015,901.4000244140625],[55.45466593466699,-21.13383762538433,908.2000122070312],[55.45462545007467,-21.133825136348605,911.4000244140625],[55.4545858874917,-21.133823040872812,912.2000122070312],[55.45455344952643,-21.13380677998066,914.7999877929688],[55.45460089109838,-21.133780796080828,916.7999877929688],[55.454653864726424,-21.13378280773759,915.7999877929688],[55.45468336902559,-21.13381222821772,912.2000122070312],[55.45507404953241,-21.133644003421068,916.7999877929688],[55.45514998957515,-21.133641907945275,922.4000244140625],[55.45516541227698,-21.13361030817032,925],[55.455155186355114,-21.133608296513557,924.4000244140625],[55.45514806173742,-21.1336113139987,923.7999877929688],[55.45511436648667,-21.133649367839098,919.2000122070312],[55.45507228933275,-21.133715752512217,912.4000244140625],[55.45496013946831,-21.13372757099569,907.2000122070312],[55.454924097284675,-21.133704353123903,910.4000244140625],[55.45495452359319,-21.133678620681167,910.5999755859375],[55.45496508479118,-21.133661353960633,911.2000122070312],[55.45499819330871,-21.13365196622908,911.4000244140625],[55.45495645143092,-21.133653223514557,912.2000122070312],[55.4548763204366,-21.133667808026075,915],[55.45486818999052,-21.133677195757627,914.7999877929688],[55.454872380942106,-21.133689684793353,913.7999877929688],[55.45487984083593,-21.13370418548584,912.4000244140625],[55.45488880947232,-21.133717764168978,911.2000122070312],[55.45490448363125,-21.133735701441765,909.2000122070312],[55.45491688884795,-21.133738132193685,908.4000244140625],[55.45494211837649,-21.133759673684835,906],[55.45494295656681,-21.133775850757957,904.7999877929688],[55.454946141690016,-21.1337701510638,905],[55.45493616722524,-21.13377987407148,904.7999877929688],[55.454888390377164,-21.13377115689218,907.5999755859375],[55.45491504482925,-21.133780712261796,905.7999877929688],[55.45489149168134,-21.133809378370643,900],[55.454888977110386,-21.133832009509206,893.5999755859375],[55.45489928685129,-21.133873499929905,881],[55.45488688163459,-21.133878445252776,880.2000122070312],[55.45485687442124,-21.133846007287502,891],[55.45486123301089,-21.13379797898233,904.7999877929688],[55.45483876951039,-21.133757075294852,911],[55.45483147725463,-21.13377551548183,910],[55.45483290217817,-21.13377559930086,910],[55.45482116751373,-21.133787417784333,909.7999877929688],[55.45482284389436,-21.133803762495518,904.7999877929688],[55.454811695963144,-21.133801331743598,906.2000122070312],[55.45479048974812,-21.133810048922896,904.5999755859375],[55.454783365130424,-21.13380434922874,906.5999755859375],[55.45477565377951,-21.133812395855784,904.5999755859375],[55.4547864664346,-21.13388841971755,881.7999877929688],[55.454779928550124,-21.13389864563942,879.2000122070312],[55.45477967709303,-21.13393141888082,869.5999755859375],[55.45478428713977,-21.13392747938633,870.5999755859375],[55.45478126965463,-21.13392697647214,870.7999877929688],[55.45477548614144,-21.13393133506179,869.7999877929688],[55.45477733016014,-21.133931167423725,869.7999877929688],[55.45480012893677,-21.13392756320536,869.7999877929688],[55.45478520914912,-21.133940052241087,867],[55.45473416335881,-21.133934687823057,870.7999877929688],[55.454728631302714,-21.133964527398348,862.4000244140625],[55.45472125522792,-21.133979195728898,858.4000244140625],[55.45469074510038,-21.13395933061838,868.2000122070312],[55.454677334055305,-21.133936448022723,877.4000244140625],[55.454618744552135,-21.133905854076147,896.7999877929688],[55.45461354777217,-21.133885569870472,903.5999755859375],[55.454592844471335,-21.1338927783072,903.4000244140625],[55.45460617169738,-21.13390895538032,898.2000122070312],[55.45456652529538,-21.133876014500856,905.7999877929688],[55.45456476509571,-21.133866626769304,907],[55.45457063242793,-21.133876517415047,905.7999877929688],[55.454580187797546,-21.133868722245097,906.5999755859375],[55.45457691885531,-21.133872913196683,906.2000122070312],[55.45460047200322,-21.13387567922473,905.4000244140625],[55.45464154332876,-21.133877355605364,901],[55.45465017668903,-21.133903926238418,891.5999755859375],[55.45464925467968,-21.13390593789518,891.2000122070312],[55.45464447699487,-21.133904429152608,892.5999755859375],[55.45464917086065,-21.133910715579987,889.7999877929688],[55.454642130061984,-21.133902249857783,893.5999755859375],[55.4546376876533,-21.1338893417269,898.2000122070312],[55.454626036807895,-21.13386101089418,907],[55.45463257469237,-21.13386536948383,906],[55.45462679117918,-21.133836954832077,910],[55.45463601127267,-21.13384340889752,909],[55.45465319417417,-21.133867213502526,901.7999877929688],[55.454641208052635,-21.133875343948603,901.5999755859375],[55.45466937124729,-21.133886659517884,893.2000122070312],[55.45467909425497,-21.13388800062239,891.2000122070312],[55.4546741489321,-21.13387475721538,895.7999877929688],[55.45467012561858,-21.133888671174645,892.5999755859375],[55.454673478379846,-21.133888503536582,892],[55.45467213727534,-21.133871655911207,897.2000122070312],[55.45468454249203,-21.133886827155948,890.4000244140625],[55.45466844923794,-21.133860759437084,901],[55.45464883558452,-21.133789848536253,915.5999755859375],[55.45465210452676,-21.133758751675487,916.4000244140625],[55.45463550835848,-21.133751459419727,916.7999877929688],[55.454642213881016,-21.13374676555395,916.7999877929688],[55.45463886111975,-21.133681470528245,918.4000244140625],[55.454651433974504,-21.133688343688846,918],[55.45465528964996,-21.13369295373559,917.7999877929688],[55.45467280782759,-21.133732432499528,916.7999877929688],[55.45466375537217,-21.133727990090847,917],[55.454676831141114,-21.133686248213053,917.5999755859375],[55.45475436374545,-21.133659007027745,917.5999755859375],[55.45476894825697,-21.13364123739302,918],[55.454770205542445,-21.133664874359965,917.4000244140625],[55.454748664051294,-21.1336768604815,917.2000122070312],[55.454721339046955,-21.133635202422738,918.2000122070312],[55.45463307760656,-21.13344954326749,921.7999877929688],[55.45455529354513,-21.133447280153632,922],[55.4545430559665,-21.133450968191028,922],[55.45452159829438,-21.133461948484182,922],[55.45447331853211,-21.13346085883677,921.7999877929688],[55.454411963000894,-21.133452393114567,917.4000244140625],[55.454394444823265,-21.133451303467155,915.2000122070312],[55.454332921653986,-21.133446358144283,907.7999877929688],[55.45430090278387,-21.13344669342041,904],[55.45449058525264,-21.133516263216734,921.7999877929688],[55.45453626662493,-21.133481645956635,921.7999877929688],[55.453971242532134,-21.13315391354263,930.5999755859375],[55.4539677221328,-21.133107896894217,927.5999755859375],[55.454109124839306,-21.133025335147977,922],[55.45417433604598,-21.133068250492215,923],[55.454215575009584,-21.133050983771682,923],[55.45496013946831,-21.135141011327505,778.7999877929688],[55.45487942174077,-21.1348769813776,786.2000122070312],[55.454894257709384,-21.135035399347544,780.7999877929688],[55.45491655357182,-21.135020731016994,780.4000244140625],[55.45495477505028,-21.135141514241695,779],[55.45504420995712,-21.13529230467975,778],[55.45505527406931,-21.135221729055047,777],[55.455068266019225,-21.135237319394946,777],[55.454776072874665,-21.134305503219366,809.4000244140625],[55.45465470291674,-21.13422755151987,812.5999755859375],[55.454535679891706,-21.134172482416034,841.4000244140625],[55.45466333627701,-21.13402563147247,853.7999877929688],[55.45473801903427,-21.134042646735907,841.2000122070312],[55.45473139733076,-21.134036192670465,841.4000244140625],[55.45463165268302,-21.13387810997665,902.5999755859375],[55.45466207899153,-21.13389520905912,892],[55.45460935682058,-21.133901327848434,899.7999877929688],[55.45460047200322,-21.133886743336916,904],[55.454485388472676,-21.133767971768975,918.5999755859375],[55.45448999851942,-21.133732348680496,919.4000244140625],[55.4544738214463,-21.133640985935926,920.4000244140625],[55.45449092052877,-21.133661353960633,920.2000122070312],[55.45461664907634,-21.13380493596196,914.2000122070312],[55.454626120626926,-21.133791022002697,915.7999877929688],[55.454716896638274,-21.13386210054159,892.7999877929688],[55.454755118116736,-21.134141217917204,834.2000122070312],[55.45477883890271,-21.134297708049417,812],[55.45479878783226,-21.134545309469104,817],[55.45481379143894,-21.13463642075658,802],[55.45480742119253,-21.134407594799995,812],[55.45478110201657,-21.134281950071454,816.4000244140625],[55.45477439649403,-21.134196370840073,830.2000122070312],[55.45477724634111,-21.134201735258102,830],[55.45492518693209,-21.134778074920177,790.2000122070312],[55.45492191798985,-21.134769273921847,791],[55.45490322634578,-21.134756365790963,792.7999877929688],[55.4549072496593,-21.134727699682117,794.4000244140625],[55.454907082021236,-21.13472736440599,794.4000244140625],[55.45490498654544,-21.134729962795973,794.4000244140625],[55.454903813079,-21.13473172299564,794.4000244140625],[55.45490875840187,-21.13473122008145,794],[55.454940777271986,-21.134753180667758,791],[55.45495075173676,-21.13476206548512,789.7999877929688],[55.454931473359466,-21.134782349690795,789.5999755859375],[55.454969024285674,-21.134833227843046,784.2000122070312],[55.45496391132474,-21.13483968190849,784],[55.454983273521066,-21.134854182600975,782.2000122070312],[55.45497874729335,-21.134874550625682,781],[55.4550161305815,-21.13488620147109,779],[55.455045802518725,-21.134873209521174,779],[55.455046724528074,-21.13486818037927,779.2000122070312],[55.45505401678383,-21.134850913658738,780.2000122070312],[55.45506843365729,-21.13483339548111,781],[55.45506298542023,-21.134828282520175,781.5999755859375],[55.455063907429576,-21.134803220629692,783.2000122070312],[55.45507036149502,-21.134783187881112,784.4000244140625],[55.45513481833041,-21.134786792099476,782.2000122070312],[55.45514320023358,-21.13478008657694,782.4000244140625],[55.45514672063291,-21.134776566177607,782.5999755859375],[55.4551577847451,-21.134772207587957,782.5999755859375],[55.45516239479184,-21.134771956130862,782.4000244140625],[55.4551559407264,-21.134798862040043,780.7999877929688],[55.45516524463892,-21.13481638021767,779.2000122070312],[55.455159628763795,-21.134842950850725,777.4000244140625],[55.455165496096015,-21.134850326925516,776.7999877929688],[55.45517932623625,-21.134864492341876,775.2000122070312],[55.455192318186164,-21.134907491505146,772.4000244140625],[55.45518661849201,-21.1349219083786,772.4000244140625],[55.455144960433245,-21.134916124865413,773.7999877929688],[55.45514764264226,-21.13492090255022,773.7999877929688],[55.45516432262957,-21.13500924780965,773],[55.45516088604927,-21.13500002771616,773],[55.45513557270169,-21.13500011153519,773.7999877929688],[55.45513481833041,-21.13499709405005,773.7999877929688],[55.45513775199652,-21.1349980160594,773.7999877929688],[55.45514412224293,-21.13497463054955,773.5999755859375],[55.45515049248934,-21.1349496524781,773.5999755859375],[55.45515459962189,-21.13493364304304,773.4000244140625],[55.45513825491071,-21.134932385757565,774],[55.45514085330069,-21.134928530082107,774],[55.455137584358454,-21.134930038824677,774],[55.45513481833041,-21.134939175099134,774],[55.45513582415879,-21.134939091280103,774],[55.45513582415879,-21.134939091280103,774],[55.45513582415879,-21.134939091280103,774],[55.45513481833041,-21.13495208323002,774],[55.45513456687331,-21.134956358000636,774],[55.455134231597185,-21.134957615286112,774],[55.455116629600525,-21.134970942512155,774.5999755859375],[55.455098105594516,-21.134977899491787,775.2000122070312],[55.45507715083659,-21.13495660945773,775.7999877929688],[55.45503817498684,-21.13495954312384,777.2000122070312],[55.45499467290938,-21.135019222274423,778.4000244140625],[55.454980339854956,-21.13501804880798,778.7999877929688],[55.45494932681322,-21.135000698268414,779.5999755859375],[55.45490079559386,-21.135005727410316,780.7999877929688],[55.454874224960804,-21.135015366598964,781.4000244140625],[55.4548504203558,-21.13501226529479,782.7999877929688],[55.454824939370155,-21.135024167597294,783.7999877929688],[55.4548155516386,-21.135042859241366,783.5999755859375],[55.4548121150583,-21.135044116526842,783.7999877929688],[55.45480230823159,-21.1350463796407,784.2000122070312],[55.45478085055947,-21.135052498430014,785.2000122070312],[55.454777078703046,-21.135052414610982,785.4000244140625],[55.45477665960789,-21.135048307478428,785.5999755859375],[55.45477439649403,-21.135048558935523,785.5999755859375],[55.45477397739887,-21.135044284164906,785.7999877929688],[55.45477397739887,-21.135044284164906,785.7999877929688],[55.45477397739887,-21.135044284164906,785.7999877929688],[55.45477397739887,-21.135044284164906,785.7999877929688],[55.45477397739887,-21.135044284164906,785.7999877929688],[55.45477330684662,-21.135043278336525,785.7999877929688],[55.454771211370826,-21.135043278336525,786],[55.45475612394512,-21.135045122355223,786.7999877929688],[55.4547119513154,-21.13507487811148,788.2000122070312],[55.45468504540622,-21.135101364925504,788],[55.454684458673,-21.135101364925504,788],[55.45467406511307,-21.135102957487106,788.2000122070312],[55.45466928742826,-21.135104717686772,788.2000122070312],[55.45463752001524,-21.13513933494687,787.7999877929688],[55.45460633933544,-21.135186860337853,787],[55.45460122637451,-21.13521795719862,786.7999877929688],[55.45457943342626,-21.135276211425662,786.4000244140625],[55.45458664186299,-21.13531032577157,785.7999877929688],[55.454590329900384,-21.13532197661698,785.7999877929688],[55.45457155443728,-21.135369753465056,785.7999877929688],[55.45456828549504,-21.135405711829662,785.7999877929688],[55.454586977139115,-21.135418117046356,785.4000244140625],[55.454604579135776,-21.135424990206957,785.2000122070312],[55.45460290275514,-21.135449716821313,785.2000122070312],[55.454602567479014,-21.13544619642198,785.2000122070312],[55.45460759662092,-21.135453656315804,785.2000122070312],[55.45460072346032,-21.135458098724484,785.2000122070312],[55.45460072346032,-21.135458098724484,785.2000122070312],[55.4545739851892,-21.13548961468041,785.2000122070312],[55.45456292107701,-21.135554742068052,784.7999877929688],[55.45456409454346,-21.135563207790256,784.7999877929688],[55.4545652680099,-21.135566476732492,784.7999877929688],[55.454572727903724,-21.135579720139503,784.5999755859375],[55.454575745388865,-21.135598495602608,784.5999755859375],[55.45457348227501,-21.135599752888083,784.5999755859375],[55.45456903986633,-21.135626742616296,784.5999755859375],[55.45458043925464,-21.135646356269717,784.5999755859375],[55.45459158718586,-21.135659348219633,784.7999877929688],[55.4545739851892,-21.135679129511118,784.7999877929688],[55.45456577092409,-21.135682482272387,784.7999877929688],[55.45455755665898,-21.135708717629313,785],[55.45454422943294,-21.13574316725135,785],[55.454517155885696,-21.13578323274851,785],[55.45450600795448,-21.13579303957522,785],[55.45451011508703,-21.135809384286404,785],[55.45451397076249,-21.135823717340827,785],[55.45452084392309,-21.135837379842997,785],[55.45451229438186,-21.135855820029974,785],[55.45451740734279,-21.135876355692744,785],[55.45447985641658,-21.135889012366533,785],[55.454491255804896,-21.135906698182225,785],[55.45450039207935,-21.135906698182225,785],[55.45449938625097,-21.13590787164867,785],[55.45446904376149,-21.135911392048,785],[55.45444096438587,-21.135928155854344,785],[55.45444909483194,-21.135919354856014,785],[55.454448172822595,-21.135919019579887,785],[55.454448172822595,-21.135919019579887,785],[55.454448172822595,-21.135919019579887,785],[55.454448172822595,-21.135919019579887,785],[55.45444859191775,-21.13592061214149,785],[55.45445169322193,-21.135958414524794,785],[55.45445512980223,-21.13598615862429,785],[55.45443467795849,-21.13597635179758,785],[55.45441607013345,-21.135992528870702,785.2000122070312],[55.45440089888871,-21.13598171621561,785.4000244140625],[55.45443442650139,-21.135955145582557,785],[55.454439874738455,-21.135945841670036,785],[55.45441715978086,-21.135930586606264,785.2000122070312],[55.454408191144466,-21.13592111505568,785.4000244140625],[55.45442646369338,-21.135919438675046,785],[55.454437443986535,-21.135893957689404,785],[55.45441313646734,-21.135887587442994,785.2000122070312],[55.45441037043929,-21.13588792271912,785.4000244140625],[55.45440291054547,-21.135899322107434,785.4000244140625],[55.45440249145031,-21.135899322107434,785.4000244140625],[55.45442059636116,-21.135888760909438,785.2000122070312],[55.45445328578353,-21.135883228853345,785],[55.454477006569505,-21.135864621028304,785],[55.454479521140456,-21.135866967961192,785],[55.45447692275047,-21.135883228853345,785],[55.45447298325598,-21.135897897183895,785],[55.45447633601725,-21.135932430624962,785],[55.4544944409281,-21.13596696406603,785],[55.45449888333678,-21.135991606861353,785.2000122070312],[55.45445915311575,-21.135977944359183,785],[55.454450184479356,-21.135968137532473,785],[55.45443090610206,-21.135999150574207,785],[55.454392014071345,-21.136020524427295,786.2000122070312],[55.454385811463,-21.13602379336953,786.4000244140625],[55.454374831169844,-21.136025469750166,786.7999877929688],[55.45437105931342,-21.136019686236978,786.4000244140625],[55.45436820946634,-21.13601884804666,786.4000244140625],[55.45436728745699,-21.13601935096085,786.4000244140625],[55.454349434003234,-21.136016501113772,786.5999755859375],[55.45431707985699,-21.135998563840985,786.5999755859375],[55.454315738752484,-21.135999402031302,786.5999755859375],[55.45431590639055,-21.136001581326127,786.5999755859375],[55.45431557111442,-21.136001832783222,786.5999755859375],[55.45431850478053,-21.135996636003256,786.5999755859375],[55.454324623569846,-21.135996636003256,786.5999755859375],[55.45430677011609,-21.135976519435644,786.7999877929688],[55.454282965511084,-21.13597241230309,787.2000122070312],[55.454271817579865,-21.135952211916447,787.4000244140625],[55.45423602685332,-21.1359407287091,787.7999877929688],[55.45421130023897,-21.1359201092273,787.4000244140625],[55.45420568436384,-21.135906279087067,787.2000122070312],[55.45420316979289,-21.135903345420957,787],[55.45418950729072,-21.135897310450673,786.7999877929688],[55.454163858667016,-21.135873505845666,786.2000122070312],[55.454141395166516,-21.135844001546502,785.7999877929688],[55.45407920144498,-21.135855317115784,788.4000244140625],[55.45404575765133,-21.135854478925467,789.5999755859375],[55.454011308029294,-21.135854395106435,790],[55.454005440697074,-21.135850958526134,789.7999877929688],[55.45397702604532,-21.13584442064166,789.2000122070312],[55.45393033884466,-21.135799661278725,786.4000244140625],[55.45392891392112,-21.13578616641462,785.4000244140625],[55.45392321422696,-21.135777197778225,785],[55.45391810126603,-21.135776108130813,784.7999877929688],[55.45390443876386,-21.135777197778225,784.7999877929688],[55.45390955172479,-21.135780047625303,785],[55.45390686951578,-21.13577887415886,785],[55.45390737242997,-21.135775689035654,784.7999877929688],[55.45391097664833,-21.13577552139759,784.7999877929688],[55.45391030609608,-21.135773761197925,784.5999755859375],[55.45391030609608,-21.135773761197925,784.5999755859375],[55.45391030609608,-21.135772923007607,784.5999755859375],[55.45390955172479,-21.135757500305772,783.5999755859375],[55.45391399413347,-21.135762026533484,784],[55.4539227951318,-21.135762697085738,784],[55.453922878950834,-21.135762697085738,784],[55.45392111875117,-21.135768061503768,784.4000244140625],[55.45391525141895,-21.13576529547572,784.2000122070312],[55.45391424559057,-21.135759176686406,783.7999877929688],[55.453919526189566,-21.135764960199594,784.2000122070312],[55.453919526189566,-21.135764960199594,784.2000122070312],[55.45392162166536,-21.135770995169878,784.5999755859375],[55.45392162166536,-21.13577250391245,784.5999755859375],[55.45392078347504,-21.135772839188576,784.5999755859375],[55.45392086729407,-21.135764457285404,784.2000122070312],[55.45393687672913,-21.135759176686406,783.7999877929688],[55.45393779873848,-21.13575984723866,784],[55.45392447151244,-21.135763954371214,784.2000122070312],[55.45391541905701,-21.135764541104436,784.2000122070312],[55.45390955172479,-21.135768312960863,784.4000244140625],[55.45391676016152,-21.135763367637992,784],[55.453917514532804,-21.135759679600596,783.7999877929688],[55.45391885563731,-21.135759679600596,783.7999877929688],[55.453923381865025,-21.13576521165669,784.2000122070312],[55.45392547734082,-21.135766552761197,784.2000122070312],[55.45392614789307,-21.135766552761197,784.2000122070312],[55.45392698608339,-21.13576420582831,784.2000122070312],[55.453934697434306,-21.13576621748507,784.2000122070312],[55.453914161771536,-21.135759092867374,783.7999877929688],[55.453912736848,-21.135759176686406,783.7999877929688],[55.45391491614282,-21.135758003219962,783.7999877929688],[55.45391483232379,-21.135756075382233,783.5999755859375],[55.45386563055217,-21.135765044018626,784.5999755859375],[55.45380377210677,-21.135773761197925,787.5999755859375],[55.45378633774817,-21.13576764240861,787.5999755859375],[55.4537552408874,-21.13574710674584,786.7999877929688],[55.45373101718724,-21.13568994216621,786],[55.453687431290746,-21.13567426800728,787.2000122070312],[55.4536896944046,-21.135648116469383,787],[55.45363546349108,-21.135633448138833,787.2000122070312],[55.45363152399659,-21.13563235849142,787.2000122070312],[55.453607216477394,-21.13562154583633,787.2000122070312],[55.4535913746804,-21.135557675734162,785.7999877929688],[55.45354410074651,-21.135492883622646,785],[55.45350638218224,-21.13546136766672,784.2000122070312],[55.45349741354585,-21.135463127866387,784.4000244140625],[55.4534859303385,-21.135424319654703,783.4000244140625],[55.453480230644345,-21.135396910831332,782.7999877929688],[55.45347763225436,-21.13540663383901,783.2000122070312],[55.45346614904702,-21.13538509234786,782.5999755859375],[55.45344837941229,-21.135365646332502,782.4000244140625],[55.45340898446739,-21.1353503074497,782.2000122070312],[55.45337839052081,-21.135331112891436,781.4000244140625],[55.45334846712649,-21.13531719893217,780.5999755859375],[55.453328769654036,-21.13528786227107,779.4000244140625],[55.45330370776355,-21.135244946926832,777.7999877929688],[55.45327587984502,-21.135224914178252,777],[55.45325802639127,-21.135195242241025,777.7999877929688],[55.453234976157546,-21.135174287483096,779.2000122070312],[55.453227097168565,-21.135174622759223,779.5999755859375],[55.4532184638083,-21.13516858778894,780.4000244140625],[55.453199772164226,-21.135134808719158,784],[55.453196838498116,-21.135164396837354,781.7999877929688],[55.453201700001955,-21.135161882266402,781.7999877929688],[55.453205555677414,-21.135164899751544,781.2000122070312],[55.4532079026103,-21.135187279433012,780.2000122070312],[55.45320035889745,-21.135203624144197,780.5999755859375],[55.45316280797124,-21.13521259278059,782.2000122070312],[55.45310187153518,-21.135176047682762,785.2000122070312],[55.45308452099562,-21.135164899751544,787],[55.45300120487809,-21.135120391845703,789],[55.4529922362417,-21.135126259177923,789],[55.45294689014554,-21.135123996064067,789],[55.45291529037058,-21.135108741000295,789.4000244140625],[55.45290254987776,-21.13510362803936,789.5999755859375],[55.452898275107145,-21.135093066841364,789.7999877929688],[55.452899280935526,-21.13509038463235,789.7999877929688],[55.45287732034922,-21.13507035188377,790.2000122070312],[55.452859718352556,-21.135063897818327,790.5999755859375],[55.45282367616892,-21.135095497593284,790.4000244140625],[55.45282174833119,-21.13509331829846,790.5999755859375],[55.452818647027016,-21.13510262221098,790.2000122070312],[55.45281353406608,-21.13516464829445,789],[55.45281697064638,-21.135189961642027,788.4000244140625],[55.4528175573796,-21.135177304968238,788.7999877929688],[55.45284429565072,-21.135156014934182,789],[55.45286072418094,-21.13515886478126,789],[55.4529042262584,-21.135151153430343,788.7999877929688],[55.452945716679096,-21.13512173295021,789.2000122070312],[55.452965162694454,-21.135127432644367,789],[55.45297798700631,-21.1351275164634,789],[55.4530059825629,-21.13510220311582,789.2000122070312],[55.45301436446607,-21.135100442916155,789.2000122070312],[55.45304713770747,-21.135127181187272,788.7999877929688],[55.45307446271181,-21.135128270834684,789.2000122070312],[55.453090723603964,-21.13516473211348,786.5999755859375],[55.453099105507135,-21.135194655507803,785.2000122070312],[55.4531111754477,-21.13521158695221,784.5999755859375],[55.453111762180924,-21.135216616094112,784.5999755859375],[55.453105391934514,-21.135214772075415,785],[55.45310036279261,-21.135208485648036,785.2000122070312],[55.4530923999846,-21.135209491476417,785.5999755859375],[55.45310413464904,-21.135231535881758,785],[55.45314344577491,-21.13524721004069,783],[55.453183092176914,-21.13527906127274,781],[55.453200191259384,-21.135295070707798,780.2000122070312],[55.45323422178626,-21.135343266651034,782],[55.453197760507464,-21.135360868647695,782.7999877929688],[55.45314386487007,-21.135326670482755,782.7999877929688],[55.453133219853044,-21.1353587731719,783.2000122070312],[55.453109331429005,-21.13537285476923,784.2000122070312],[55.45306985266507,-21.135409316048026,785.7999877929688],[55.453047808259726,-21.135429851710796,786.7999877929688],[55.45304118655622,-21.13547067157924,787.7999877929688],[55.45307815074921,-21.135486513376236,788.4000244140625],[55.45312232337892,-21.13550093024969,788.7999877929688],[55.453154258430004,-21.135498750954866,788.5999755859375],[55.45315744355321,-21.13548517227173,788],[55.45316959731281,-21.135481568053365,787.7999877929688],[55.45318334363401,-21.13550134934485,788.5999755859375],[55.45323556289077,-21.135504702106118,788.5999755859375],[55.45320731587708,-21.13550579175353,788.7999877929688],[55.45314026065171,-21.135553820058703,791.4000244140625],[55.45309600420296,-21.13559120334685,793.2000122070312],[55.453051747754216,-21.13559707067907,793.5999755859375],[55.452989637851715,-21.135650798678398,797],[55.453000366687775,-21.135665215551853,797.4000244140625],[55.45299089513719,-21.135740401223302,801],[55.45296155847609,-21.135797146707773,804],[55.45295770280063,-21.135865207761526,808],[55.45292836613953,-21.135903764516115,810.2000122070312],[55.45290615409613,-21.135918013751507,811],[55.45290380716324,-21.135933017358184,812],[55.45289768837392,-21.135968388989568,814.2000122070312],[55.45288486406207,-21.13600032404065,816.2000122070312],[55.45287405140698,-21.136050950735807,817],[55.45287891291082,-21.136083640158176,817.4000244140625],[55.452831387519836,-21.136105097830296,817.2000122070312],[55.45282677747309,-21.136144660413265,817.4000244140625],[55.452822083607316,-21.13620350137353,817.7999877929688],[55.45282753184438,-21.136264437809587,818.5999755859375],[55.45286030508578,-21.136329313740134,818.4000244140625],[55.4528643283993,-21.13633543252945,818.4000244140625],[55.4529142845422,-21.13635596819222,818.5999755859375],[55.4529367480427,-21.136367032304406,818.7999877929688],[55.452945632860065,-21.136378180235624,818.5999755859375],[55.45301830396056,-21.136446744203568,819.2000122070312],[55.45302542857826,-21.136455880478024,819.2000122070312],[55.45305040664971,-21.136489156633615,819.4000244140625],[55.45307689346373,-21.136501813307405,819.7999877929688],[55.453105978667736,-21.136544225737453,820],[55.45314277522266,-21.136563755571842,820.5999755859375],[55.453148474916816,-21.136614214628935,821.7999877929688],[55.453178314492106,-21.136623853817582,822.5999755859375],[55.45319465920329,-21.136612202972174,822.7999877929688],[55.45324461534619,-21.136610945686698,824],[55.45328686013818,-21.136628380045295,825.7999877929688],[55.45329708606005,-21.136625446379185,826],[55.45331829227507,-21.136623434722424,826.7999877929688],[55.4533323738724,-21.13663248717785,827.5999755859375],[55.45336724258959,-21.13668386824429,830.5999755859375],[55.45338652096689,-21.13670683465898,832.2000122070312],[55.453380485996604,-21.13674304448068,833.2000122070312],[55.45336137525737,-21.136834071949124,835.4000244140625],[55.4533601179719,-21.13684169948101,835.5999755859375],[55.453371265903115,-21.136852763593197,836.4000244140625],[55.45338777825236,-21.13686458207667,837.5999755859375],[55.45339398086071,-21.136861816048622,837.7999877929688],[55.45347696170211,-21.136810518801212,839.2000122070312],[55.45356463640928,-21.136813201010227,842.5999755859375],[55.45354208908975,-21.13686407916248,843.7999877929688],[55.45351258479059,-21.136923423036933,845.4000244140625],[55.45350939966738,-21.136940689757466,846],[55.45350453816354,-21.13695016130805,846.4000244140625],[55.453496826812625,-21.136981174349785,847.5999755859375],[55.45351568609476,-21.13698477856815,848.7999877929688],[55.453584752976894,-21.136972289532423,851.4000244140625],[55.45365247875452,-21.136959716677666,852],[55.45373210683465,-21.13697648048401,854.2000122070312],[55.453693382442,-21.137025514617562,856.2000122070312],[55.45362984761596,-21.13707421347499,858],[55.45358047820628,-21.137125175446272,859.4000244140625],[55.45361442491412,-21.13713674247265,860.7999877929688],[55.453653736039996,-21.13712358288467,860],[55.45372582040727,-21.137119056656957,859.4000244140625],[55.45378684066236,-21.137106819078326,858.7999877929688],[55.45384241268039,-21.13714604638517,860.4000244140625],[55.45388641767204,-21.13717060536146,860.5999755859375],[55.4539436660707,-21.137151829898357,859.2000122070312],[55.45399270020425,-21.137166330590844,859],[55.45405036769807,-21.13716666586697,858.2000122070312],[55.454108035191894,-21.137146381661296,856.5999755859375],[55.45413536019623,-21.13715979270637,856.4000244140625],[55.45414156280458,-21.137209916487336,857.5999755859375],[55.45413309708238,-21.137283174321055,859.5999755859375],[55.45408087782562,-21.137319384142756,861.7999877929688],[55.454065036028624,-21.137350983917713,863],[55.45403712429106,-21.13740211352706,865.2000122070312],[55.454015750437975,-21.137443771585822,868.4000244140625],[55.45406034216285,-21.137435054406524,866.5999755859375],[55.45411230996251,-21.13743589259684,865.4000244140625],[55.45408548787236,-21.13749448210001,869.7999877929688],[55.45407995581627,-21.137530356645584,872.2000122070312],[55.454046595841646,-21.13757712766528,876],[55.45404969714582,-21.13758919760585,876.5999755859375],[55.45405330136418,-21.137619288638234,878.4000244140625],[55.45403016731143,-21.13761803135276,879],[55.45401616953313,-21.137611493468285,879],[55.45401616953313,-21.137611493468285,879],[55.45401742681861,-21.137609900906682,878.7999877929688],[55.45397576875985,-21.137616019695997,880.4000244140625],[55.45393913984299,-21.137621384114027,881.7999877929688],[55.45394266024232,-21.137622306123376,881.7999877929688],[55.45393964275718,-21.13764552399516,883.2000122070312],[55.4539954662323,-21.137670250609517,883.2000122070312],[55.45405028387904,-21.137685421854258,882.4000244140625],[55.454051960259676,-21.137687601149082,882.4000244140625],[55.45405263081193,-21.137686846777797,882.4000244140625],[55.4540522955358,-21.13768600858748,882.4000244140625],[55.4540129005909,-21.137691792100668,883.7999877929688],[55.45400091446936,-21.13769573159516,884.2000122070312],[55.45395942404866,-21.137725906446576,886.7999877929688],[55.45401642099023,-21.137765552848577,887],[55.453973254188895,-21.137786423787475,889.4000244140625],[55.4539056122303,-21.137787932530046,891.4000244140625],[55.45385967940092,-21.13778717815876,892],[55.45390913262963,-21.137817353010178,892.5999755859375],[55.45393193140626,-21.13786244764924,894],[55.453914664685726,-21.13788449205458,895.5999755859375],[55.453879963606596,-21.1379318498075,898.7999877929688],[55.453883400186896,-21.137947775423527,899.4000244140625],[55.453888764604926,-21.137946769595146,899.4000244140625],[55.453895553946495,-21.137962862849236,900.4000244140625],[55.453901421278715,-21.137999491766095,901.2000122070312],[55.45388692058623,-21.138004437088966,901.2000122070312],[55.45386152341962,-21.13801784813404,901],[55.45386898331344,-21.138019943609834,901.2000122070312],[55.45386831276119,-21.138021452352405,901.2000122070312],[55.45386747457087,-21.13801885396242,901.2000122070312],[55.45386747457087,-21.13801625557244,901.2000122070312],[55.45386998914182,-21.138021033257246,901.4000244140625],[55.453885830938816,-21.138043329119682,902],[55.45390846207738,-21.138079538941383,903],[55.45393930748105,-21.13813955336809,904.4000244140625],[55.453941905871034,-21.138142235577106,904.5999755859375],[55.45394819229841,-21.138178696855903,905.5999755859375],[55.45395774766803,-21.13818934187293,906.4000244140625],[55.45394844375551,-21.138220271095634,907.4000244140625],[55.45395355671644,-21.138268215581775,910],[55.45395498163998,-21.138272657990456,910.2000122070312],[55.45393670909107,-21.13828556612134,910.5999755859375],[55.45392137020826,-21.138298558071256,911],[55.45390913262963,-21.13834281452,913.2000122070312],[55.45392556115985,-21.13836921751499,915],[55.45395623892546,-21.138347005471587,914.5999755859375],[55.45402681455016,-21.138316076248884,914.5999755859375],[55.454044584184885,-21.138317165896297,915],[55.45408179983497,-21.13830702379346,915.4000244140625],[55.45409764163196,-21.138303754851222,915.5999755859375],[55.454098815098405,-21.138302581384778,915.5999755859375],[55.454098815098405,-21.138302581384778,915.5999755859375],[55.45409873127937,-21.138303000479937,915.5999755859375],[55.45407903380692,-21.138323033228517,916.2000122070312],[55.454163774847984,-21.138544650748372,928.5999755859375],[55.45413536019623,-21.138628469780087,930.7999877929688],[55.45411943458021,-21.13871891051531,933.5999755859375],[55.45411759056151,-21.13872687332332,933.7999877929688],[55.454071406275034,-21.138757886365056,933.7999877929688],[55.454032849520445,-21.13883877173066,931.7999877929688],[55.45395825058222,-21.138862408697605,928.7999877929688],[55.45388440601528,-21.13888520747423,926],[55.45387476682663,-21.13889786414802,925.2000122070312],[55.453870659694076,-21.13891781307757,924.4000244140625],[55.45385238714516,-21.138935750350356,923.4000244140625],[55.45381030999124,-21.138946395367384,922.7999877929688],[55.45378692448139,-21.138947820290923,922.4000244140625],[55.453770412132144,-21.138948742300272,922.4000244140625],[55.453747948631644,-21.13897992298007,920.7999877929688],[55.453741662204266,-21.139001045376062,919.7999877929688],[55.45369648374617,-21.139035411179066,918],[55.45364166609943,-21.13906634040177,916.4000244140625],[55.45356446877122,-21.139109507203102,915],[55.453463131561875,-21.13912601955235,914.7999877929688],[55.45345558784902,-21.13912551663816,914.7999877929688],[55.45340177603066,-21.139141023159027,914.4000244140625],[55.45339507050812,-21.139153093099594,914.2000122070312],[55.45339020900428,-21.13916030153632,914],[55.45332558453083,-21.139186704531312,913.4000244140625],[55.45331485569477,-21.139186453074217,913.5999755859375],[55.453256433829665,-21.139199193567038,914.2000122070312],[55.45321175828576,-21.139206485822797,915],[55.453176302835345,-21.139215705916286,915.4000244140625],[55.45313397422433,-21.139233391731977,915.5999755859375],[55.4531270172447,-21.13923498429358,915.5999755859375],[55.453035989776254,-21.139249820262194,916.2000122070312],[55.45297773554921,-21.139268092811108,917],[55.45295828953385,-21.139284186065197,917.2000122070312],[55.4528730455786,-21.139332549646497,918.2000122070312],[55.45281588099897,-21.139341183006763,919.2000122070312],[55.45279425568879,-21.139344284310937,919.4000244140625],[55.45278428122401,-21.139342356473207,919.5999755859375],[55.45276659540832,-21.139341853559017,920],[55.452755112200975,-21.139356018975377,919.7999877929688],[55.452709095552564,-21.13933313637972,921.4000244140625],[55.45269342139363,-21.139324251562357,921.7999877929688],[55.45265612192452,-21.139329448342323,922.5999755859375],[55.45262334868312,-21.139348978176713,922.7999877929688],[55.45258546248078,-21.13936255685985,923],[55.452562998980284,-21.139366328716278,923.4000244140625],[55.452535757794976,-21.139387199655175,923],[55.45252243056893,-21.13941142335534,922.4000244140625],[55.452523436397314,-21.1394446156919,920.7999877929688],[55.4525276273489,-21.139459535479546,920.2000122070312],[55.45251748524606,-21.139501864090562,918.5999755859375],[55.45251262374222,-21.139505552127957,918.4000244140625],[55.452484460547566,-21.13957503810525,916],[55.45247188769281,-21.139639327302575,913],[55.452512037009,-21.13966698758304,910.5999755859375],[55.45256710611284,-21.13965374417603,911],[55.45256534591317,-21.13967863842845,909.2000122070312],[55.45250918716192,-21.13972993567586,906.4000244140625],[55.45249007642269,-21.13974560983479,905.5999755859375],[55.45249393209815,-21.13975835032761,904.5999755859375],[55.452457973733544,-21.139745358377695,906],[55.4524549562484,-21.139747872948647,906],[55.452428134158254,-21.139752315357327,906.2000122070312],[55.452451687306166,-21.139758015051484,905.4000244140625],[55.45253098011017,-21.139792883768678,901.7999877929688],[55.45249736867845,-21.139816269278526,900.5999755859375],[55.45246987603605,-21.13984778523445,898.7999877929688],[55.452451100572944,-21.13985407166183,898.7999877929688],[55.45243919827044,-21.139857843518257,898.7999877929688],[55.45244473032653,-21.139860274270177,898.4000244140625],[55.452506840229034,-21.13984082825482,898.7999877929688],[55.45252243056893,-21.1398539878428,897.7999877929688],[55.45249032787979,-21.13992682658136,893.4000244140625],[55.45246006920934,-21.139957420527935,892.2000122070312],[55.452454537153244,-21.139988601207733,890.5999755859375],[55.45246618799865,-21.140004945918918,889.4000244140625],[55.452477503567934,-21.14001290872693,888.5999755859375],[55.45248211361468,-21.14002263173461,888],[55.45248211361468,-21.14002263173461,888],[55.45248077251017,-21.14002263173461,888],[55.45247959904373,-21.14002263173461,888],[55.4524758271873,-21.14003235474229,887.5999755859375],[55.45247549191117,-21.14003285765648,887.5999755859375],[55.452463924884796,-21.140041071921587,887.4000244140625],[55.452445317059755,-21.140094129368663,884.7999877929688],[55.45245478861034,-21.140115754678845,883.2000122070312],[55.452455040067434,-21.140141654759645,881.7999877929688],[55.45245252549648,-21.14015213213861,881.2000122070312],[55.452447747811675,-21.1401613522321,880.7999877929688],[55.45244028791785,-21.14018146879971,879.7999877929688],[55.45242050662637,-21.140205524861813,879],[55.452418494969606,-21.140208039432764,879],[55.45241673476994,-21.140204770490527,879.2000122070312],[55.45241656713188,-21.140204519033432,879.2000122070312],[55.45241313055158,-21.140204519033432,879.2000122070312],[55.45238647609949,-21.140251122415066,877.4000244140625],[55.45239477418363,-21.140297641977668,874.7999877929688],[55.45242981053889,-21.140334270894527,872],[55.45241438783705,-21.140361092984676,871],[55.452379267662764,-21.14036955870688,871.4000244140625],[55.452388152480125,-21.14038037136197,870.5999755859375],[55.45245252549648,-21.140403589233756,867.5999755859375],[55.452442383393645,-21.140434769913554,866.2000122070312],[55.452398881316185,-21.14043904468417,867.2000122070312],[55.452399384230375,-21.140449438244104,866.5999755859375],[55.45239225961268,-21.14048095420003,864.4000244140625],[55.45239896513522,-21.140486067160964,864],[55.45240391045809,-21.140487240627408,863.7999877929688],[55.45233526267111,-21.14047324284911,866.4000244140625],[55.452321683987975,-21.140475338324904,866.5999755859375],[55.45236828736961,-21.140522360801697,862],[55.45240650884807,-21.14058463834226,857.4000244140625],[55.45242763124406,-21.140595450997353,856.5999755859375],[55.452436013147235,-21.140575585886836,857.7999877929688],[55.45246124267578,-21.14055421203375,858.7999877929688],[55.45247431844473,-21.140533089637756,859.7999877929688],[55.45248186215758,-21.14052596502006,860.2000122070312],[55.452485885471106,-21.140515487641096,860.7999877929688],[55.45249653048813,-21.140506267547607,861],[55.452508348971605,-21.14050249569118,861],[55.45251580886543,-21.14048975519836,861.5999755859375],[55.452535757794976,-21.140480367466807,861.5999755859375],[55.452553275972605,-21.14047651179135,861.4000244140625],[55.45262158848345,-21.140460167080164,860.7999877929688],[55.452653439715505,-21.14044189453125,861],[55.452696522697806,-21.140446923673153,860],[55.452739438042045,-21.14045798778534,858.4000244140625],[55.45277003198862,-21.140459580346942,857.7999877929688],[55.45283348299563,-21.140498975291848,855],[55.452846977859735,-21.140513475984335,854.2000122070312],[55.452862568199635,-21.140532586723566,853.2000122070312],[55.452893413603306,-21.140577346086502,850.7999877929688],[55.45289508998394,-21.140589248389006,850.4000244140625],[55.45291218906641,-21.140628894791007,849.2000122070312],[55.45300489291549,-21.14064029417932,848.4000244140625],[55.45302945189178,-21.140606934204698,849.2000122070312],[55.453048814088106,-21.1405791901052,849.7999877929688],[55.45306767337024,-21.14057818427682,849.5999755859375],[55.45311687514186,-21.140562677755952,849.5999755859375],[55.45314269140363,-21.140532502904534,850],[55.45318141579628,-21.140507021918893,850.2000122070312],[55.4532322101295,-21.140524288639426,849.2000122070312],[55.4532115906477,-21.14053912460804,849],[55.45320538803935,-21.140594109892845,847.5999755859375],[55.45323874801397,-21.140654208138585,845.4000244140625],[55.453203711658716,-21.1406793538481,845.2000122070312],[55.45319365337491,-21.1407380271703,843.5999755859375],[55.45320480130613,-21.14076434634626,842.4000244140625],[55.4531891271472,-21.140786726027727,841.5999755859375],[55.45320136472583,-21.14076099358499,842.5999755859375],[55.45321946963668,-21.140777673572302,841.5999755859375],[55.4532306175679,-21.14077901467681,841.4000244140625],[55.453276969492435,-21.14076543599367,841.2000122070312],[55.453296499326825,-21.14076384343207,841.2000122070312],[55.45332265086472,-21.140746911987662,841.7999877929688],[55.45334318652749,-21.140745067968965,841.7999877929688],[55.45335131697357,-21.14075554534793,841.4000244140625],[55.453351233154535,-21.140754288062453,841.5999755859375],[55.45339347794652,-21.140744565054774,841.5999755859375],[55.45343404635787,-21.140713887289166,842],[55.45348475687206,-21.14070139825344,842.2000122070312],[55.453491881489754,-21.140697207301855,842.2000122070312],[55.453512920066714,-21.140682203695178,842.4000244140625],[55.45352918095887,-21.14065596833825,843],[55.4535845015198,-21.140629649162292,843.2000122070312],[55.45361861586571,-21.140630319714546,843.2000122070312],[55.45365549623966,-21.140635181218386,843],[55.45367142185569,-21.14061431027949,843.4000244140625],[55.45374669134617,-21.140617076307535,843.5999755859375],[55.45377259142697,-21.14062017761171,844],[55.453820284456015,-21.14063241519034,844.5999755859375],[55.453844759613276,-21.140629649162292,845],[55.453937044367194,-21.14060408435762,846.5999755859375],[55.45397677458823,-21.140597630292177,847.4000244140625],[55.453984988853335,-21.140590673312545,847.4000244140625],[55.45399580150843,-21.14057432860136,847.7999877929688],[55.45402530580759,-21.140526132658124,848.4000244140625],[55.454101245850325,-21.14050484262407,849.7999877929688],[55.45416402630508,-21.140515403822064,850.7999877929688],[55.454181460663676,-21.140527222305536,851],[55.4542182572186,-21.14054792560637,851.4000244140625],[55.45423552393913,-21.14054448902607,851.5999755859375],[55.45427106320858,-21.140538956969976,852],[55.45430425554514,-21.140533424913883,852.4000244140625],[55.45433711260557,-21.14054155535996,852.5999755859375],[55.454338705167174,-21.14054214209318,852.5999755859375],[55.45437650755048,-21.14052889868617,853.2000122070312],[55.454387068748474,-21.14052747376263,853.4000244140625],[55.45444926247001,-21.140541471540928,854.2000122070312],[55.45453391969204,-21.140499813482165,855.2000122070312],[55.454547330737114,-21.14049025811255,855.2000122070312],[55.45458387583494,-21.14048925228417,855.5999755859375],[55.45466258190572,-21.14052504301071,856.7999877929688],[55.45471421442926,-21.140554463490844,858.2000122070312],[55.45473433099687,-21.140552032738924,858.4000244140625],[55.45476123690605,-21.140548512339592,858.7999877929688],[55.45482527464628,-21.14054742269218,859.5999755859375],[55.454840110614896,-21.140543147921562,859.7999877929688],[55.454831309616566,-21.1405739095062,860],[55.45482854358852,-21.140579944476485,860],[55.45487456023693,-21.14059184677899,861.2000122070312],[55.454900208860636,-21.140595953911543,862],[55.45493038371205,-21.140586901456118,862.5999755859375],[55.45493122190237,-21.14058405160904,862.5999755859375],[55.45498545281589,-21.14056502468884,863.5999755859375],[55.455022333189845,-21.140545746311545,863.7999877929688],[55.45508276671171,-21.140513392165303,864.2000122070312],[55.45507522299886,-21.140496376901865,863.5999755859375],[55.455150324851274,-21.14047852344811,864.5999755859375],[55.455209417268634,-21.140486570075154,865.7999877929688],[55.45522299595177,-21.14049067720771,866.2000122070312],[55.45526993460953,-21.140477266162634,866.5999755859375],[55.455299355089664,-21.14045170135796,866.2000122070312],[55.45533615164459,-21.14041012711823,868],[55.45539801008999,-21.140382634475827,869.2000122070312],[55.455417623743415,-21.140373582020402,869.5999755859375],[55.4554389975965,-21.140357237309217,870.2000122070312],[55.455474369227886,-21.140373330563307,869.5999755859375],[55.455496329814196,-21.140345502644777,870.7999877929688],[55.45557294040918,-21.14035539329052,870.4000244140625],[55.45565156266093,-21.140373330563307,870.2000122070312],[55.455666314810514,-21.14038372412324,870.4000244140625],[55.45573496259749,-21.140383472666144,872.2000122070312],[55.455823140218854,-21.14039688371122,874.2000122070312],[55.455876030027866,-21.140392357483506,876.2000122070312],[55.45588583685458,-21.14038724452257,876.5999755859375],[55.455889189615846,-21.140393195673823,876.5999755859375],[55.45592883601785,-21.140375761315227,878.2000122070312],[55.45596077106893,-21.140387076884508,878.7999877929688],[55.455990778282285,-21.140394201502204,879.4000244140625],[55.45603201724589,-21.140405349433422,880.4000244140625],[55.45608742162585,-21.140419095754623,881.5999755859375],[55.456093959510326,-21.140407444909215,882],[55.45607719570398,-21.140394872054458,882],[55.456091444939375,-21.140378275886178,882.7999877929688],[55.45611960813403,-21.14036712795496,884],[55.45614559203386,-21.14038431085646,884.5999755859375],[55.45615875162184,-21.140392441302538,885],[55.45618582516909,-21.140411719679832,885.5999755859375],[55.456242989748716,-21.140430411323905,887.4000244140625],[55.45624986290932,-21.14042479544878,887.7999877929688],[55.456280037760735,-21.140397805720568,889.5999755859375],[55.4563370347023,-21.14040333777666,891.7999877929688],[55.45640501193702,-21.140409540385008,893.4000244140625],[55.45642102137208,-21.140407528728247,893.5999755859375],[55.456439796835184,-21.14040182903409,894.2000122070312],[55.45645195059478,-21.140402918681502,894.4000244140625],[55.45646737329662,-21.14034173078835,895.7999877929688],[55.45647533610463,-21.140342820435762,896],[55.456497464329004,-21.140340976417065,896.2000122070312],[55.45650266110897,-21.14033301360905,896.4000244140625],[55.4565011523664,-21.14031046628952,897],[55.456507774069905,-21.140270652249455,898],[55.45650450512767,-21.140224635601044,899.2000122070312],[55.45650467276573,-21.14020979963243,899.5999755859375],[55.45650165528059,-21.140140146017075,900.7999877929688],[55.45649318955839,-21.14010812714696,901.2000122070312],[55.45649042353034,-21.140044424682856,902.7999877929688],[55.456518586725,-21.139996647834778,904.5999755859375],[55.456560077145696,-21.139946775510907,906],[55.456593269482255,-21.139964293688536,904.4000244140625],[55.45661657117307,-21.140020536258817,903.7999877929688],[55.45663685537875,-21.140038892626762,903.7999877929688],[55.456665102392435,-21.140042161569,904],[55.456709023565054,-21.140039144083858,904],[55.45670382678509,-21.14003386348486,904],[55.456680692732334,-21.14000461064279,904.4000244140625],[55.45673316344619,-21.139954403042793,905.2000122070312],[55.45671757310629,-21.139935040846467,905.4000244140625],[55.45672645792365,-21.139943758025765,905.4000244140625],[55.45677926391363,-21.13994392566383,905.4000244140625],[55.45678161084652,-21.139951637014747,905.2000122070312],[55.456779934465885,-21.140008214861155,904.4000244140625],[55.45677809044719,-21.140020033344626,904.2000122070312],[55.45678362250328,-21.140080047771335,903],[55.45680793002248,-21.140119694173336,901.7999877929688],[55.456849336624146,-21.14012623205781,901.2000122070312],[55.45690851286054,-21.140126902610064,900.5999755859375],[55.456935754045844,-21.140151461586356,899.7999877929688],[55.456957295536995,-21.140182306990027,900.7999877929688],[55.45698403380811,-21.140255397185683,906],[55.456989482045174,-21.14025472663343,906.2000122070312],[55.45698495581746,-21.14021122455597,904],[55.456962659955025,-21.14016730338335,901.2000122070312],[55.45695905573666,-21.140093291178346,902.5999755859375],[55.456946482881904,-21.140071833506227,902.4000244140625],[55.4569380171597,-21.14005733281374,902.4000244140625],[55.45691940933466,-21.140003018081188,903.5999755859375],[55.45693407766521,-21.13998399116099,904],[55.45692963525653,-21.13997912965715,904],[55.456956792622805,-21.139952056109905,906],[55.45699023641646,-21.139923222362995,908.5999755859375],[55.45695947483182,-21.139899166300893,907.4000244140625],[55.45699182897806,-21.13983646966517,906.5999755859375],[55.45714764855802,-21.13974074833095,910.7999877929688],[55.45715971849859,-21.139720464125276,910.5999755859375],[55.45722618699074,-21.139676123857498,911.4000244140625],[55.4573127720505,-21.139667741954327,911.4000244140625],[55.45739642344415,-21.139656007289886,911.2000122070312],[55.45741084031761,-21.139647206291556,910.7999877929688],[55.45745735988021,-21.13963664509356,910.5999755859375],[55.457527516409755,-21.139622731134295,911.2000122070312],[55.45758493244648,-21.139629017561674,913.4000244140625],[55.45763832516968,-21.13963522017002,915.4000244140625],[55.45766640454531,-21.139649469405413,917.2000122070312],[55.4577203001827,-21.139659443870187,919.5999755859375],[55.45780437067151,-21.139617450535297,919.4000244140625],[55.4578119982034,-21.13961895927787,919.5999755859375],[55.45781694352627,-21.139629017561674,920.5999755859375],[55.457838820293546,-21.139636812731624,922.2000122070312],[55.457854410633445,-21.13963035866618,922],[55.45786480419338,-21.139636477455497,923],[55.45791316777468,-21.139629017561674,924],[55.457942923530936,-21.13964444026351,926.5999755859375],[55.45798944309354,-21.139644104987383,928.4000244140625],[55.457988269627094,-21.13966782577336,930.7999877929688],[55.45799690298736,-21.139689283445477,932.7999877929688],[55.458029843866825,-21.139700515195727,934],[55.45804333873093,-21.139719793573022,935.7999877929688],[55.45806538313627,-21.139723733067513,936.5999755859375],[55.45806781388819,-21.139731612056494,937.2000122070312],[55.4580744355917,-21.13974066451192,938],[55.45808918774128,-21.139741335064173,938.4000244140625],[55.45814777724445,-21.13976857624948,941.7999877929688],[55.45816345140338,-21.139756254851818,941.2000122070312],[55.45818013139069,-21.13977679051459,943],[55.4582263994962,-21.139779137447476,943.4000244140625],[55.45822304673493,-21.139770839363337,943],[55.4582607652992,-21.13978911191225,944.4000244140625],[55.45826319605112,-21.139815179631114,946],[55.458288341760635,-21.1398072168231,945.7999877929688],[55.45831843279302,-21.139776622876525,944],[55.45839420519769,-21.139760110527277,945.7999877929688],[55.45843427069485,-21.139756003394723,947.2000122070312],[55.45845522545278,-21.139753656461835,947.7999877929688],[55.45848581939936,-21.13972465507686,947.2000122070312],[55.45849428512156,-21.13976078107953,948.7999877929688],[55.45849906280637,-21.13974066451192,948.2000122070312],[55.45850208029151,-21.139716440811753,947.2000122070312],[55.45850400812924,-21.139702275395393,946.4000244140625],[55.45851004309952,-21.139713590964675,947.4000244140625],[55.45848892070353,-21.13973094150424,947.5999755859375],[55.45847366563976,-21.139743262901902,947.7999877929688],[55.45847291126847,-21.13973965868354,947.5999755859375],[55.458476515486836,-21.13973974250257,947.7999877929688],[55.458468636497855,-21.139733120799065,947],[55.45847039669752,-21.13973052240908,947],[55.458455476909876,-21.139736892655492,946.7999877929688],[55.458455896005034,-21.13974309526384,947.2000122070312],[55.45844818465412,-21.139736473560333,946.4000244140625],[55.45843158848584,-21.139743346720934,946.2000122070312],[55.45843410305679,-21.139753656461835,947],[55.458464277908206,-21.139787267893553,949.4000244140625],[55.45846385881305,-21.139802020043135,950],[55.45844139531255,-21.139800678938627,949.7999877929688],[55.45844986103475,-21.13979254849255,949.5999755859375],[55.45842882245779,-21.139787770807743,949],[55.458391858264804,-21.13983688876033,950.4000244140625],[55.45835556462407,-21.139857172966003,950.5999755859375],[55.458302507176995,-21.139855161309242,949],[55.45828917995095,-21.139871003106236,949.7999877929688],[55.45832572504878,-21.139902267605066,952.2000122070312],[55.45828993432224,-21.1398814804852,950.5999755859375],[55.45827778056264,-21.139858765527606,949],[55.458249785006046,-21.139829512685537,947],[55.45826428569853,-21.13982087932527,946.4000244140625],[55.45821776613593,-21.139803025871515,945],[55.458232099190354,-21.13979112356901,944.4000244140625],[55.4582279920578,-21.139787351712584,944],[55.45824081636965,-21.13978810608387,944.2000122070312],[55.45827685855329,-21.13978123292327,944],[55.458257496356964,-21.1397538240999,942],[55.458257077261806,-21.1397363897413,941],[55.45824408531189,-21.1397260800004,940.2000122070312],[55.45823335647583,-21.139725325629115,940],[55.4582295846194,-21.139729851856828,940.4000244140625],[55.45820242725313,-21.139729265123606,940],[55.45816043391824,-21.139734964817762,939.4000244140625],[55.458149621263146,-21.1396845895797,935.2000122070312],[55.45815087854862,-21.139674363657832,934.4000244140625],[55.45817024074495,-21.13963949494064,932.2000122070312],[55.4581418260932,-21.13961074501276,930.4000244140625],[55.458194548264146,-21.13962197676301,931.2000122070312],[55.45820955187082,-21.139622814953327,931.5999755859375],[55.45820938423276,-21.1396224796772,931.5999755859375],[55.45822908170521,-21.13962541334331,932.2000122070312],[55.45823712833226,-21.139619881287217,932.2000122070312],[55.458257580175996,-21.139612505212426,932.7999877929688],[55.458265291526914,-21.139601608738303,933.2000122070312],[55.458277612924576,-21.139595909044147,933.5999755859375],[55.458296639844775,-21.13959020934999,934],[55.458319103345275,-21.13959356211126,934.4000244140625],[55.45832212083042,-21.139569003134966,935],[55.45830334536731,-21.139546874910593,935],[55.45827241614461,-21.13953212276101,934.5999755859375],[55.45821592211723,-21.13949339836836,934],[55.45819479972124,-21.139471186324954,934],[55.45819630846381,-21.139470264315605,934],[55.45821961015463,-21.139459619298577,934.7999877929688],[55.45826856046915,-21.13944713026285,936],[55.458318181335926,-21.139404382556677,937.7999877929688],[55.45836771838367,-21.139374962076545,940],[55.45843284577131,-21.139348559081554,942.5999755859375],[55.45842848718166,-21.13933472894132,942.5999755859375],[55.45840225182474,-21.139323078095913,941.7999877929688],[55.45832488685846,-21.13930782303214,939.7999877929688],[55.458272751420736,-21.13931410945952,937.7999877929688],[55.458251629024744,-21.139311594888568,937],[55.45821676030755,-21.139300614595413,935.7999877929688],[55.45819295570254,-21.13927219994366,935.4000244140625],[55.458219442516565,-21.139247808605433,937],[55.45824894681573,-21.13924127072096,938.4000244140625],[55.4582885093987,-21.139255268499255,939.5999755859375],[55.45832865871489,-21.13924076780677,941.4000244140625],[55.45837216079235,-21.13922417163849,942.5999755859375],[55.45843033120036,-21.13920472562313,944],[55.45848757959902,-21.139205899089575,945.4000244140625],[55.458518927916884,-21.139197265729308,946.4000244140625],[55.45855061151087,-21.139181004837155,947.5999755859375],[55.4585578199476,-21.13918276503682,947.7999877929688],[55.45861842110753,-21.139206737279892,949.2000122070312],[55.45866435393691,-21.139215538278222,949.7999877929688],[55.458673322573304,-21.139212688431144,950],[55.458738869056106,-21.139182010665536,951.2000122070312],[55.45885277912021,-21.139171784743667,953.2000122070312],[55.45887725427747,-21.139230206608772,953.4000244140625],[55.45890918932855,-21.13932240754366,953.5999755859375],[55.458927880972624,-21.13935425877571,953.7999877929688],[55.45898479409516,-21.139382757246494,954.5999755859375],[55.459057968109846,-21.139421397820115,955.5999755859375],[55.45907171443105,-21.13943003118038,955.7999877929688],[55.4590602312237,-21.139431791380048,955.5999755859375],[55.459061823785305,-21.13943330012262,955.5999755859375],[55.459066266193986,-21.13943380303681,955.7999877929688],[55.459066266193986,-21.13943380303681,955.7999877929688],[55.45906492508948,-21.139429695904255,955.5999755859375],[55.459068194031715,-21.13942307420075,955.7999877929688],[55.459070121869445,-21.139422738924623,955.7999877929688],[55.45912661589682,-21.139402287080884,956.4000244140625],[55.45915888622403,-21.13937479443848,956.7999877929688],[55.459188390523195,-21.13936247304082,957.2000122070312],[55.459218733012676,-21.139351911842823,957.5999755859375],[55.45924823731184,-21.13932978361845,958.2000122070312],[55.4592674318701,-21.139301201328635,959],[55.45928101055324,-21.13926482386887,959.7999877929688],[55.45928838662803,-21.139257699251175,960],[55.4593401029706,-21.139248311519623,960.7999877929688],[55.459403889253736,-21.139237163588405,961.5999755859375],[55.45942559838295,-21.13923783414066,961.7999877929688],[55.45947597362101,-21.139230960980058,963.2000122070312],[55.459490809589624,-21.139222662895918,963.5999755859375],[55.4594867862761,-21.139219561591744,963.5999755859375],[55.45954436995089,-21.139222998172045,965],[55.4596128500998,-21.13922911696136,965.4000244140625],[55.45962056145072,-21.139250490814447,964.7999877929688],[55.45962994918227,-21.139267841354012,964.2000122070312],[55.45966741628945,-21.139288460835814,963.5999755859375],[55.45971293002367,-21.139292903244495,964],[55.45974427834153,-21.139321150258183,964.4000244140625],[55.459748385474086,-21.139344787225127,962.2000122070312],[55.45980764552951,-21.139370184391737,962.2000122070312],[55.45981200411916,-21.13937328569591,962.2000122070312],[55.45980907045305,-21.139381835237145,962],[55.45980907045305,-21.139381835237145,962],[55.45985860750079,-21.139369010925293,962.4000244140625],[55.4598736949265,-21.13936741836369,962.4000244140625],[55.459935553371906,-21.139336237683892,963.5999755859375],[55.45998609624803,-21.139299776405096,967.4000244140625],[55.460021551698446,-21.139261722564697,972.4000244140625],[55.46005063690245,-21.139253340661526,974.2000122070312],[55.46008466742933,-21.1392633151263,974.5999755859375],[55.46012858860195,-21.13925308920443,977.7999877929688],[55.46019966714084,-21.139221657067537,984],[55.460254987701774,-21.139205899089575,988.4000244140625],[55.46030234545469,-21.13918603397906,989.7999877929688],[55.460345009341836,-21.139170024544,990.4000244140625],[55.460407957434654,-21.139145297929645,991.2000122070312],[55.46045657247305,-21.13913775421679,991],[55.460513569414616,-21.139089139178395,993.7999877929688],[55.460592275485396,-21.13906835205853,994.7999877929688],[55.46061683446169,-21.13903666846454,994.7999877929688],[55.460574086755514,-21.139069693163037,995],[55.46053326688707,-21.13906399346888,995.2000122070312],[55.460464367643,-21.139088049530983,994.7999877929688],[55.460422122851014,-21.139059718698263,997.2000122070312],[55.46039613895118,-21.13904982805252,997.7999877929688],[55.460410388186574,-21.139022335410118,997.5999755859375],[55.460448525846004,-21.139011941850185,997],[55.46049730852246,-21.139021664857864,996],[55.460593616589904,-21.138989394530654,995.2000122070312],[55.46065731905401,-21.138933319598436,995],[55.46071364544332,-21.138909766450524,995],[55.46071599237621,-21.138909347355366,995],[55.46071372926235,-21.138903312385082,995],[55.46071523800492,-21.13886710256338,995.2000122070312],[55.46071356162429,-21.138845225796103,995.2000122070312],[55.46071356162429,-21.13880356773734,995.4000244140625],[55.46076016500592,-21.13878546282649,995.2000122070312],[55.460761757567525,-21.138728549703956,995.7999877929688],[55.460750944912434,-21.13870390690863,996.2000122070312],[55.46076653525233,-21.13869602791965,996.2000122070312],[55.460780281573534,-21.13869594410062,996.2000122070312],[55.46081875450909,-21.138696363195777,996],[55.460852868855,-21.138689322397113,997],[55.46085546724498,-21.13868278451264,997.2000122070312],[55.460816491395235,-21.13866141065955,996.4000244140625],[55.46080685220659,-21.138655710965395,996.4000244140625],[55.460795452818274,-21.13863157108426,996.7999877929688],[55.46078539453447,-21.138630397617817,996.7999877929688],[55.46075521968305,-21.138615980744362,997.2000122070312],[55.46072454191744,-21.138576921075583,997.5999755859375],[55.460722194984555,-21.13851028494537,998.4000244140625],[55.460746167227626,-21.138497460633516,998.5999755859375],[55.46079528518021,-21.13851766102016,998],[55.46082302927971,-21.138534592464566,997.7999877929688],[55.4608803614974,-21.13853434100747,999.5999755859375],[55.460903411731124,-21.138539370149374,1000.4000244140625],[55.46092419885099,-21.13855236209929,1000.7999877929688],[55.46095906756818,-21.138558983802795,1002],[55.46092076227069,-21.138522271066904,1001],[55.4609149787575,-21.138493102043867,1001.2000122070312],[55.46091212891042,-21.138478266075253,1001.2000122070312],[55.46090601012111,-21.138450941070914,1001.2000122070312],[55.46086468733847,-21.138413893058896,1001.2000122070312],[55.46084079891443,-21.13834281452,1003],[55.46084222383797,-21.138340048491955,1003.2000122070312],[55.460927886888385,-21.13827626220882,1005.7999877929688],[55.46104137785733,-21.13827777095139,1007],[55.46114313416183,-21.13830517977476,1009.4000244140625],[55.46117775142193,-21.13830652087927,1010.2000122070312],[55.46121790073812,-21.138332337141037,1010.7999877929688],[55.461271461099386,-21.138371899724007,1012.4000244140625],[55.461309095844626,-21.138372821733356,1014],[55.461369194090366,-21.1383412219584,1016.2000122070312],[55.46142359264195,-21.138349184766412,1018.5999755859375],[55.46145343221724,-21.138345832005143,1019.7999877929688],[55.46146659180522,-21.13831833936274,1020],[55.461461981758475,-21.138307442888618,1019.5999755859375],[55.461455611512065,-21.138265701010823,1018.7999877929688],[55.46147346496582,-21.138225132599473,1019.2000122070312],[55.46145259402692,-21.13815899938345,1019],[55.46144161373377,-21.13815028220415,1018.7999877929688],[55.46142560429871,-21.13809688948095,1019.2000122070312],[55.46141529455781,-21.1380476038903,1019.5999755859375],[55.46142308972776,-21.13803586922586,1020.2000122070312],[55.46142937615514,-21.138023380190134,1020.5999755859375],[55.46144555322826,-21.13799437880516,1021.7999877929688],[55.46143842861056,-21.13798214122653,1021.5999755859375],[55.461417557671666,-21.13794115372002,1021.5999755859375],[55.46140272170305,-21.137928497046232,1021.4000244140625],[55.46140590682626,-21.137920450419188,1021.5999755859375],[55.46142225153744,-21.137909470126033,1022.4000244140625],[55.46143474057317,-21.137905614450574,1023],[55.46147799119353,-21.137849874794483,1025.5999755859375],[55.46149408444762,-21.13783646374941,1026.4000244140625],[55.46149726957083,-21.137843085452914,1026.4000244140625],[55.4615297075361,-21.137820202857256,1027.800048828125],[55.461566084995866,-21.13778281956911,1029.800048828125],[55.46157320961356,-21.137791452929378,1030],[55.46158041805029,-21.137792374938726,1030.199951171875],[55.46160648576915,-21.137768989428878,1031.5999755859375],[55.46163037419319,-21.137700090184808,1033.5999755859375],[55.46164738945663,-21.137675112113357,1034.800048828125],[55.46167949214578,-21.137665808200836,1036.199951171875],[55.46171721071005,-21.13765181042254,1038.199951171875],[55.461758030578494,-21.13761669024825,1040.800048828125],[55.461783427745104,-21.137607470154762,1042],[55.46181561425328,-21.137609481811523,1043.4000244140625],[55.46189155429602,-21.137605709955096,1046.800048828125],[55.461938912048936,-21.137613337486982,1048.5999755859375],[55.46194058842957,-21.137594813480973,1049],[55.461978474631906,-21.1375555023551,1051.4000244140625],[55.4619927238673,-21.137529769912362,1052.5999755859375],[55.462021389976144,-21.137531278654933,1053.5999755859375],[55.46203966252506,-21.137527003884315,1054.4000244140625],[55.46205307357013,-21.137516861781478,1055.199951171875],[55.46204812824726,-21.137522729113698,1054.800048828125],[55.46204661950469,-21.137574445456266,1053.5999755859375],[55.462049301713705,-21.13765574991703,1051.4000244140625],[55.462099090218544,-21.13770998083055,1051.800048828125],[55.46212180517614,-21.137776784598827,1051.4000244140625],[55.46214720234275,-21.1378023494035,1052.4000244140625],[55.46223194338381,-21.13781500607729,1056.199951171875],[55.462255999445915,-21.1378335300833,1057.5999755859375],[55.46225415542722,-21.13780821673572,1057.5999755859375],[55.462241331115365,-21.137807462364435,1056.800048828125],[55.462221801280975,-21.137761864811182,1056],[55.46222046017647,-21.13776563666761,1055.800048828125],[55.46221995726228,-21.13778818398714,1055.800048828125],[55.462208641692996,-21.13777158781886,1055.199951171875],[55.46224166639149,-21.137781562283635,1057],[55.46229472383857,-21.137778125703335,1060.4000244140625],[55.462288185954094,-21.137786004692316,1059.800048828125],[55.46228935942054,-21.137757506221533,1060.199951171875],[55.46225314959884,-21.137735713273287,1058.199951171875],[55.46223655343056,-21.13771685399115,1057.199951171875],[55.46220352873206,-21.137684667482972,1055.5999755859375],[55.46221165917814,-21.137670585885644,1056.199951171875],[55.46232808381319,-21.137631190940738,1064],[55.462392373010516,-21.137621216475964,1068],[55.46239505521953,-21.13765482790768,1067.5999755859375],[55.462375273928046,-21.137655666098,1066.4000244140625],[55.46232548542321,-21.13764594309032,1063.5999755859375],[55.46231785789132,-21.137648792937398,1063],[55.462295562028885,-21.13763370551169,1062],[55.46229489147663,-21.137610990554094,1062.199951171875],[55.462310649454594,-21.137570505961776,1064],[55.4623225517571,-21.137567572295666,1064.800048828125],[55.4623500443995,-21.13756136968732,1066.5999755859375],[55.462435372173786,-21.137527590617537,1072.4000244140625],[55.462432857602835,-21.13751753233373,1072.4000244140625],[55.462470492348075,-21.137479646131396,1075.4000244140625],[55.46253419481218,-21.137491716071963,1078.199951171875],[55.4625900182873,-21.137521555647254,1079.800048828125],[55.4626455064863,-21.137531865388155,1082],[55.46267651952803,-21.137537397444248,1083.4000244140625],[55.462708454579115,-21.137530440464616,1085],[55.46272580511868,-21.137537816539407,1086],[55.462764194235206,-21.137495571747422,1088.199951171875],[55.462795961648226,-21.137460535392165,1089.800048828125],[55.46281951479614,-21.13745827227831,1090.800048828125],[55.46282588504255,-21.137449219822884,1091.199951171875],[55.46282890252769,-21.137429857626557,1091.4000244140625],[55.46282739378512,-21.13739046268165,1091.5999755859375],[55.46279621310532,-21.137371016666293,1090],[55.462784226983786,-21.137341344729066,1089.800048828125],[55.462809121236205,-21.137317707762122,1090.5999755859375],[55.46283200383186,-21.137284012511373,1091.5999755859375],[55.462836949154735,-21.13726330921054,1091.800048828125],[55.46288372017443,-21.137234643101692,1093.4000244140625],[55.462945410981774,-21.13720522262156,1095.4000244140625],[55.462985644117,-21.137169850990176,1096.800048828125],[55.4630184173584,-21.137189883738756,1098.4000244140625],[55.46301749534905,-21.137195667251945,1098.4000244140625],[55.463062673807144,-21.137286443263292,1100.800048828125],[55.46305563300848,-21.137381996959448,1101.199951171875],[55.46306351199746,-21.137413596734405,1101.5999755859375],[55.46305479481816,-21.137424996122718,1101.199951171875],[55.46306426636875,-21.137489955872297,1100.800048828125],[55.46309804543853,-21.137512419372797,1102],[55.46314716339111,-21.13746657036245,1104.5999755859375],[55.46320466324687,-21.137478053569794,1107]]]},properties:{name:"Cilaos - la chapelle",type:"walking"}}]}},{id:"hike-5",title:"Salazie - de Hellbourg \xe0 Belouve",difficulty:"moyen",distance:"7.4km",positiveElevation:"550m",duration:"2h45",description:"<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolorem fugiat hic quam? Ad corporis dolore dolorem dolores doloribus enim, error excepturi libero molestias nesciunt quam recusandae sit tenetur unde voluptatem.</p>\n<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fugiat minus veritatis voluptatem! A corporis cum neque perspiciatis provident quod recusandae velit? Beatae esse excepturi itaque nam nisi omnis soluta voluptatem.</p>\n<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. At necessitatibus perspiciatis quas qui quia. Asperiores consequuntur ducimus officia optio quam, recusandae similique! Explicabo facere fugiat nam neque perspiciatis. Dolor, illo!</p>\n",position:{longitude:55.524866,latitude:-21.065329},photos:[{src:"/reunion/images/hikes/5_salazie_hellbourg_belouve/1-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/5_salazie_hellbourg_belouve/2-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/5_salazie_hellbourg_belouve/3-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/5_salazie_hellbourg_belouve/4-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/5_salazie_hellbourg_belouve/5-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/5_salazie_hellbourg_belouve/6-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/5_salazie_hellbourg_belouve/7-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/5_salazie_hellbourg_belouve/8-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/5_salazie_hellbourg_belouve/9-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/5_salazie_hellbourg_belouve/10-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/5_salazie_hellbourg_belouve/11-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/5_salazie_hellbourg_belouve/12-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/5_salazie_hellbourg_belouve/13-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/5_salazie_hellbourg_belouve/14-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/5_salazie_hellbourg_belouve/15-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/5_salazie_hellbourg_belouve/16-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/5_salazie_hellbourg_belouve/17-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/5_salazie_hellbourg_belouve/18-min.jpg",width:4,height:5}],data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"MultiLineString",coordinates:[[[55.524866,-21.065329,981],[55.525478,-21.065539,982],[55.525902,-21.065284,978],[55.526374,-21.064923,986],[55.526551,-21.064227,981],[55.526878,-21.063847,989],[55.527034,-21.063567,991],[55.527259,-21.063356,999],[55.527334,-21.063016,995],[55.527667,-21.062641,1005],[55.527897,-21.062375,1004],[55.528444,-21.062155,1024],[55.528611,-21.062215,1037],[55.528439,-21.062365,1036],[55.528461,-21.0625,1085],[55.528149,-21.062636,1036],[55.528225,-21.062786,1051],[55.528879,-21.062605,1078],[55.528825,-21.062751,1087],[55.529265,-21.06253,1096],[55.529485,-21.062315,1097],[55.529786,-21.062185,1107],[55.529885,-21.06226,1121],[55.530069,-21.0621,1119],[55.530312,-21.062127,1141],[55.530228,-21.062339,1155],[55.53042,-21.062202,1157],[55.530659,-21.062165,1172],[55.53089,-21.062093,1183],[55.531003,-21.061881,1170],[55.531153,-21.061703,1163],[55.53137,-21.061587,1168],[55.531517,-21.061402,1165],[55.531711,-21.061257,1172],[55.531829,-21.061462,1201],[55.531982,-21.061642,1233],[55.532022,-21.061409,1221],[55.532155,-21.061218,1222],[55.532424,-21.061221,1254],[55.532647,-21.06113,1270],[55.532809,-21.060956,1272],[55.533055,-21.06093,1294],[55.533289,-21.060842,1311],[55.533568,-21.060278,1295],[55.533703,-21.05975,1272],[55.533961,-21.059335,1274],[55.534056,-21.059492,1292],[55.534115,-21.059206,1282],[55.53442,-21.058826,1296],[55.534517,-21.058801,1305],[55.534603,-21.058561,1301],[55.534732,-21.058475,1309],[55.534935,-21.05817,1308],[55.53523,-21.05804,1320],[55.535348,-21.058025,1326],[55.535096,-21.05835,1335],[55.535155,-21.058706,1363],[55.535204,-21.058425,1350],[55.535418,-21.058355,1364],[55.535381,-21.058526,1374],[55.535515,-21.05842,1378],[55.535622,-21.05843,1389],[55.535375,-21.058911,1402],[55.535724,-21.058631,1416],[55.535665,-21.058801,1425],[55.535504,-21.058946,1419],[55.535467,-21.059151,1430],[55.535397,-21.059387,1430],[55.535665,-21.059226,1457],[55.535815,-21.059001,1459],[55.535778,-21.059271,1471],[55.535654,-21.059442,1460],[55.53574,-21.059472,1470],[55.535627,-21.059662,1462],[55.535558,-21.059852,1460],[55.535649,-21.059762,1467],[55.535622,-21.059897,1467],[55.535499,-21.060087,1463],[55.535512,-21.060383,1480],[55.535606,-21.060599,1495],[55.53553,-21.060815,1503],[55.535762,-21.060883,1508],[55.535915,-21.060696,1505],[55.535762,-21.060883,1508],[55.53553,-21.060815,1503],[55.535606,-21.060599,1495],[55.535512,-21.060383,1480],[55.535499,-21.060087,1463],[55.535622,-21.059897,1467],[55.535649,-21.059762,1467],[55.535558,-21.059852,1460],[55.535627,-21.059662,1462],[55.53574,-21.059472,1470],[55.535654,-21.059442,1460],[55.535778,-21.059271,1471],[55.535815,-21.059001,1459],[55.535665,-21.059226,1457],[55.535397,-21.059387,1430],[55.535467,-21.059151,1430],[55.535504,-21.058946,1419],[55.535665,-21.058801,1425],[55.535724,-21.058631,1416],[55.535375,-21.058911,1402],[55.535622,-21.05843,1389],[55.535515,-21.05842,1378],[55.535381,-21.058526,1374],[55.535418,-21.058355,1364],[55.535204,-21.058425,1350],[55.535155,-21.058706,1363],[55.535096,-21.05835,1335],[55.535348,-21.058025,1326],[55.53523,-21.05804,1320],[55.534935,-21.05817,1308],[55.534732,-21.058475,1309],[55.534603,-21.058561,1301],[55.534517,-21.058801,1305],[55.53442,-21.058826,1296],[55.534115,-21.059206,1282],[55.534056,-21.059492,1292],[55.533961,-21.059335,1274],[55.533703,-21.05975,1272],[55.533568,-21.060278,1295],[55.533289,-21.060842,1311],[55.533055,-21.06093,1294],[55.532809,-21.060956,1272],[55.532647,-21.06113,1270],[55.532424,-21.061221,1254],[55.532155,-21.061218,1222],[55.532022,-21.061409,1221],[55.531982,-21.061642,1233],[55.531829,-21.061462,1201],[55.531711,-21.061257,1172],[55.531517,-21.061402,1165],[55.53137,-21.061587,1168],[55.531153,-21.061703,1163],[55.531003,-21.061881,1170],[55.53089,-21.062093,1183],[55.530659,-21.062165,1172],[55.53042,-21.062202,1157],[55.530228,-21.062339,1155],[55.530312,-21.062127,1141],[55.530069,-21.0621,1119],[55.529885,-21.06226,1121],[55.529786,-21.062185,1107],[55.529485,-21.062315,1097],[55.529265,-21.06253,1096],[55.528825,-21.062751,1087],[55.528879,-21.062605,1078],[55.528225,-21.062786,1051],[55.528149,-21.062636,1036],[55.528461,-21.0625,1085],[55.528439,-21.062365,1036],[55.528611,-21.062215,1037],[55.528444,-21.062155,1024],[55.527897,-21.062375,1004],[55.527667,-21.062641,1005],[55.527334,-21.063016,995],[55.527259,-21.063356,999],[55.527034,-21.063567,991],[55.526878,-21.063847,989],[55.526551,-21.064227,981],[55.526374,-21.064923,986],[55.525902,-21.065284,978],[55.525478,-21.065539,982],[55.524866,-21.065329,981]]]},properties:{name:"De Hell-Bourg \xe0 B\xe9louve"}}]}},{id:"hike-6",title:"Ma\xefdo \xe0 la glaci\xe8re",difficulty:"facile",distance:"11.2km",positiveElevation:"420m",duration:"2h45",description:"<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolorem fugiat hic quam? Ad corporis dolore dolorem dolores doloribus enim, error excepturi libero molestias nesciunt quam recusandae sit tenetur unde voluptatem.</p>\n<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fugiat minus veritatis voluptatem! A corporis cum neque perspiciatis provident quod recusandae velit? Beatae esse excepturi itaque nam nisi omnis soluta voluptatem.</p>\n<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. At necessitatibus perspiciatis quas qui quia. Asperiores consequuntur ducimus officia optio quam, recusandae similique! Explicabo facere fugiat nam neque perspiciatis. Dolor, illo!</p>\n",position:{longitude:55.38665,latitude:-21.07173},photos:[{src:"/reunion/images/hikes/6_maido_glaciere/1-min.jpg",width:3,height:1},{src:"/reunion/images/hikes/6_maido_glaciere/2-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/6_maido_glaciere/3-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/6_maido_glaciere/4-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/6_maido_glaciere/5-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/6_maido_glaciere/6-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/6_maido_glaciere/7-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/6_maido_glaciere/8-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/6_maido_glaciere/9-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/6_maido_glaciere/10-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/6_maido_glaciere/11-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/6_maido_glaciere/12-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/6_maido_glaciere/13-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/6_maido_glaciere/14-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/6_maido_glaciere/15-min.jpg",width:3,height:2}],data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"MultiLineString",coordinates:[[[55.38665,-21.07173,2181],[55.38668,-21.07171,2181],[55.38665,-21.07166,2180],[55.38661,-21.07159,2180],[55.38653,-21.07164,2179],[55.38628,-21.07178,2178],[55.38625,-21.07181,2178],[55.38622,-21.0719,2179],[55.38608,-21.07191,2177],[55.38609,-21.07205,2178],[55.38601,-21.07208,2177],[55.38597,-21.07209,2177],[55.38594,-21.07211,2176],[55.38585,-21.0722,2176],[55.38579,-21.07234,2177],[55.38574,-21.07249,2178],[55.38563,-21.07263,2177],[55.38552,-21.07273,2177],[55.38529,-21.07284,2176],[55.38513,-21.07298,2175],[55.38465,-21.07405,2176],[55.38438,-21.07435,2172],[55.38433,-21.07444,2172],[55.38432,-21.07468,2171],[55.38425,-21.07485,2170],[55.38406,-21.07509,2166],[55.38392,-21.07537,2164],[55.38374,-21.07559,2163],[55.38371,-21.07562,2163],[55.38347,-21.07581,2162],[55.38307,-21.07592,2157],[55.383,-21.07595,2156],[55.38295,-21.07601,2156],[55.38295,-21.07609,2157],[55.38314,-21.07636,2163],[55.38316,-21.07643,2164],[55.38314,-21.07648,2164],[55.38299,-21.07655,2162],[55.38286,-21.07659,2161],[55.38271,-21.07657,2160],[55.38261,-21.07659,2160],[55.38252,-21.07665,2161],[55.38249,-21.07667,2161],[55.38243,-21.07677,2160],[55.38243,-21.07686,2160],[55.38258,-21.07709,2160],[55.3826,-21.07716,2160],[55.38258,-21.07723,2159],[55.38252,-21.07727,2158],[55.38239,-21.07737,2157],[55.38236,-21.07742,2156],[55.38237,-21.07747,2156],[55.38241,-21.0775,2157],[55.38249,-21.07753,2158],[55.38289,-21.07757,2164],[55.38298,-21.07761,2165],[55.38299,-21.07766,2166],[55.38298,-21.07774,2166],[55.38286,-21.07791,2166],[55.38286,-21.07798,2166],[55.3829,-21.07804,2166],[55.38308,-21.07814,2167],[55.38331,-21.07816,2168],[55.3834,-21.07809,2170],[55.38346,-21.07807,2171],[55.38354,-21.07808,2171],[55.38406,-21.07824,2180],[55.3841,-21.0783,2181],[55.3841,-21.07844,2180],[55.38416,-21.07852,2180],[55.38427,-21.07862,2181],[55.38436,-21.0788,2181],[55.38443,-21.07897,2181],[55.3845,-21.07909,2182],[55.38455,-21.07921,2183],[55.3846,-21.07941,2183],[55.38465,-21.07956,2185],[55.38486,-21.07976,2189],[55.38495,-21.07997,2191],[55.38505,-21.08008,2193],[55.38514,-21.0803,2196],[55.38529,-21.08071,2203],[55.38536,-21.08078,2205],[55.38578,-21.08088,2214],[55.38602,-21.08097,2218],[55.38618,-21.0812,2222],[55.38632,-21.08129,2226],[55.3865,-21.08134,2229],[55.38676,-21.08154,2231],[55.3868,-21.08166,2231],[55.38678,-21.08176,2230],[55.38635,-21.08232,2226],[55.386,-21.08261,2226],[55.38588,-21.08294,2228],[55.3859,-21.08298,2229],[55.38644,-21.08298,2238],[55.38655,-21.08302,2240],[55.38667,-21.0831,2243],[55.38679,-21.08335,2245],[55.38705,-21.08349,2249],[55.38733,-21.08355,2252],[55.38748,-21.08358,2253],[55.38764,-21.08368,2255],[55.38813,-21.08369,2259],[55.38847,-21.08374,2263],[55.38865,-21.08375,2266],[55.38888,-21.0838,2272],[55.38893,-21.08393,2272],[55.38906,-21.084,2274],[55.38917,-21.08396,2276],[55.38933,-21.08384,2278],[55.38956,-21.08373,2281],[55.38979,-21.08377,2283],[55.39002,-21.084,2286],[55.3902,-21.08405,2289],[55.39059,-21.0844,2292],[55.39066,-21.08458,2292],[55.39075,-21.08461,2293],[55.39091,-21.08462,2296],[55.39106,-21.08468,2298],[55.39111,-21.08472,2299],[55.39109,-21.08485,2300],[55.39116,-21.085,2302],[55.39119,-21.08543,2305],[55.39129,-21.08556,2306],[55.39124,-21.08578,2307],[55.39131,-21.08591,2309],[55.39139,-21.08615,2313],[55.39144,-21.0868,2322],[55.39141,-21.08702,2323],[55.39147,-21.08732,2328],[55.39166,-21.08798,2335],[55.39178,-21.08815,2338],[55.39177,-21.08822,2339],[55.39167,-21.08842,2340],[55.39177,-21.08872,2344],[55.39195,-21.08894,2350],[55.39213,-21.0891,2355],[55.39242,-21.08922,2358],[55.39244,-21.08927,2359],[55.39246,-21.08931,2359],[55.39237,-21.08954,2359],[55.39231,-21.08973,2359],[55.39229,-21.08987,2360],[55.39232,-21.09028,2363],[55.39234,-21.09054,2364],[55.39242,-21.09084,2363],[55.39252,-21.09095,2363],[55.39269,-21.09104,2364],[55.39283,-21.09127,2364],[55.39286,-21.09142,2364],[55.39296,-21.0915,2366],[55.39304,-21.09169,2366],[55.3931,-21.09171,2367],[55.39316,-21.09174,2367],[55.39326,-21.09182,2368],[55.39342,-21.09186,2370],[55.39354,-21.09194,2372],[55.39366,-21.09206,2374],[55.39373,-21.09229,2374],[55.3938,-21.09251,2373],[55.3939,-21.0927,2374],[55.39406,-21.09295,2378],[55.39452,-21.0935,2386],[55.39476,-21.09367,2389],[55.39481,-21.09377,2389],[55.39488,-21.09405,2391],[55.3951,-21.09417,2395],[55.39538,-21.09447,2399],[55.39543,-21.09455,2400],[55.39542,-21.09491,2400],[55.39546,-21.09507,2400],[55.39546,-21.09537,2399],[55.39562,-21.09581,2399],[55.39585,-21.09594,2404],[55.39592,-21.09612,2406],[55.39592,-21.0963,2406],[55.39589,-21.09641,2406],[55.3958,-21.09647,2405],[55.3958,-21.09653,2405],[55.39591,-21.09671,2406],[55.39614,-21.0969,2410],[55.39627,-21.09708,2413],[55.39641,-21.09739,2415],[55.39647,-21.09763,2417],[55.39658,-21.09779,2418],[55.39681,-21.09795,2422],[55.39685,-21.09805,2423],[55.39682,-21.09818,2423],[55.39672,-21.09833,2422],[55.39673,-21.09842,2423],[55.39681,-21.09858,2424],[55.39688,-21.09875,2426],[55.39701,-21.09887,2428],[55.39701,-21.09892,2429],[55.397,-21.099,2429],[55.39695,-21.09909,2429],[55.3969,-21.09918,2429],[55.39691,-21.09927,2429],[55.39698,-21.09943,2429],[55.39702,-21.09977,2428],[55.39708,-21.09992,2428],[55.39715,-21.10002,2428],[55.39716,-21.10013,2428],[55.39722,-21.10022,2429],[55.3974,-21.10023,2431],[55.39765,-21.10031,2436],[55.39787,-21.10051,2442],[55.39795,-21.10066,2445],[55.39796,-21.10087,2447],[55.3979,-21.10102,2449],[55.39786,-21.10116,2451],[55.39784,-21.10132,2453],[55.39781,-21.10146,2454],[55.39773,-21.10163,2455],[55.39768,-21.1018,2457],[55.39766,-21.10185,2457],[55.39762,-21.10194,2458],[55.39764,-21.10203,2461],[55.39771,-21.1021,2464],[55.39772,-21.10217,2466],[55.39771,-21.10223,2467],[55.3977,-21.10297,2470],[55.39773,-21.1031,2473],[55.3977,-21.10338,2474],[55.39773,-21.1035,2475],[55.39794,-21.10383,2482],[55.39809,-21.10411,2489],[55.3981,-21.10426,2490],[55.39801,-21.1044,2489],[55.39799,-21.10448,2488],[55.39799,-21.10453,2488],[55.39805,-21.1047,2490],[55.3981,-21.10497,2491],[55.39817,-21.10514,2495],[55.39817,-21.10529,2495],[55.39826,-21.10547,2498],[55.39826,-21.10564,2499],[55.39823,-21.10574,2500],[55.39823,-21.10585,2500],[55.39826,-21.10597,2500],[55.39824,-21.10604,2500],[55.39818,-21.10617,2499],[55.39812,-21.10635,2497],[55.39801,-21.1065,2495],[55.39777,-21.10683,2495],[55.39747,-21.10743,2495],[55.39738,-21.10784,2495],[55.3973,-21.10813,2494],[55.39712,-21.10823,2489],[55.39709,-21.10823,2488],[55.39696,-21.10822,2486],[55.39684,-21.10815,2485],[55.39674,-21.10811,2485],[55.39659,-21.10813,2484],[55.39639,-21.10815,2483],[55.39634,-21.10815,2483],[55.39635,-21.10819,2482],[55.3962,-21.10828,2478],[55.39618,-21.10833,2477],[55.39619,-21.10841,2476],[55.39619,-21.10848,2476],[55.39622,-21.10851,2476],[55.3962,-21.10857,2476],[55.39622,-21.10858,2476],[55.39623,-21.1086,2476],[55.39621,-21.10863,2476],[55.39622,-21.10868,2476],[55.39627,-21.10875,2476],[55.39631,-21.10877,2476],[55.3964,-21.10883,2477],[55.39641,-21.10887,2477],[55.39647,-21.10893,2478],[55.39655,-21.10899,2480],[55.39665,-21.10908,2482],[55.39668,-21.10917,2484],[55.39674,-21.10929,2485],[55.39681,-21.10938,2486],[55.39688,-21.10946,2487],[55.39693,-21.10947,2488],[55.39696,-21.1095,2488],[55.39698,-21.10955,2489],[55.39703,-21.10961,2491],[55.39706,-21.10962,2491],[55.39712,-21.10964,2492],[55.39723,-21.10924,2492],[55.3973,-21.10917,2494],[55.39732,-21.1091,2494],[55.39733,-21.10895,2494],[55.39748,-21.10877,2497],[55.39746,-21.1086,2495],[55.3974,-21.10859,2494],[55.39737,-21.10856,2493],[55.39733,-21.10856,2492],[55.3973,-21.10852,2491],[55.3973,-21.10851,2491],[55.39728,-21.10849,2490],[55.39728,-21.10844,2491],[55.39727,-21.10837,2490],[55.39724,-21.10837,2490],[55.39721,-21.10836,2489],[55.3972,-21.10832,2489],[55.3972,-21.10831,2489],[55.39713,-21.10826,2489],[55.39712,-21.10823,2489],[55.3973,-21.10813,2494],[55.39738,-21.10784,2495],[55.39747,-21.10743,2495],[55.39777,-21.10683,2495],[55.39801,-21.1065,2495],[55.39812,-21.10635,2497],[55.39818,-21.10617,2499],[55.39824,-21.10604,2500],[55.39826,-21.10597,2500],[55.39823,-21.10585,2500],[55.39823,-21.10574,2500],[55.39826,-21.10564,2499],[55.39826,-21.10547,2498],[55.39817,-21.10529,2495],[55.39817,-21.10514,2495],[55.3981,-21.10497,2491],[55.39805,-21.1047,2490],[55.39799,-21.10453,2488],[55.39799,-21.10448,2488],[55.39801,-21.1044,2489],[55.3981,-21.10426,2490],[55.39809,-21.10411,2489],[55.39794,-21.10383,2482],[55.39773,-21.1035,2475],[55.3977,-21.10338,2474],[55.39773,-21.1031,2473],[55.3977,-21.10297,2470],[55.39771,-21.10223,2467],[55.39772,-21.10217,2466],[55.39771,-21.1021,2464],[55.39764,-21.10203,2461],[55.39762,-21.10194,2458],[55.39766,-21.10185,2457],[55.39768,-21.1018,2457],[55.39773,-21.10163,2455],[55.39781,-21.10146,2454],[55.39784,-21.10132,2453],[55.39786,-21.10116,2451],[55.3979,-21.10102,2449],[55.39796,-21.10087,2447],[55.39795,-21.10066,2445],[55.39787,-21.10051,2442],[55.39765,-21.10031,2436],[55.3974,-21.10023,2431],[55.39722,-21.10022,2429],[55.39716,-21.10013,2428],[55.39715,-21.10002,2428],[55.39708,-21.09992,2428],[55.39702,-21.09977,2428],[55.39698,-21.09943,2429],[55.39691,-21.09927,2429],[55.3969,-21.09918,2429],[55.39695,-21.09909,2429],[55.397,-21.099,2429],[55.39701,-21.09892,2429],[55.39701,-21.09887,2428],[55.39688,-21.09875,2426],[55.39681,-21.09858,2424],[55.39673,-21.09842,2423],[55.39672,-21.09833,2422],[55.39682,-21.09818,2423],[55.39685,-21.09805,2423],[55.39681,-21.09795,2422],[55.39658,-21.09779,2418],[55.39647,-21.09763,2417],[55.39641,-21.09739,2415],[55.39627,-21.09708,2413],[55.39614,-21.0969,2410],[55.39591,-21.09671,2406],[55.3958,-21.09653,2405],[55.3958,-21.09647,2405],[55.39589,-21.09641,2406],[55.39592,-21.0963,2406],[55.39592,-21.09612,2406],[55.39585,-21.09594,2404],[55.39562,-21.09581,2399],[55.39546,-21.09537,2399],[55.39546,-21.09507,2400],[55.39542,-21.09491,2400],[55.39543,-21.09455,2400],[55.39538,-21.09447,2399],[55.3951,-21.09417,2395],[55.39488,-21.09405,2391],[55.39481,-21.09377,2389],[55.39476,-21.09367,2389],[55.39452,-21.0935,2386],[55.39406,-21.09295,2378],[55.3939,-21.0927,2374],[55.3938,-21.09251,2373],[55.39373,-21.09229,2374],[55.39366,-21.09206,2374],[55.39354,-21.09194,2372],[55.39342,-21.09186,2370],[55.39326,-21.09182,2368],[55.39316,-21.09174,2367],[55.3931,-21.09171,2367],[55.39304,-21.09169,2366],[55.39296,-21.0915,2366],[55.39286,-21.09142,2364],[55.39283,-21.09127,2364],[55.39269,-21.09104,2364],[55.39252,-21.09095,2363],[55.39242,-21.09084,2363],[55.39234,-21.09054,2364],[55.39232,-21.09028,2363],[55.39229,-21.08987,2360],[55.39231,-21.08973,2359],[55.39237,-21.08954,2359],[55.39246,-21.08931,2359],[55.39244,-21.08927,2359],[55.39242,-21.08922,2358],[55.39213,-21.0891,2355],[55.39195,-21.08894,2350],[55.39177,-21.08872,2344],[55.39167,-21.08842,2340],[55.39177,-21.08822,2339],[55.39178,-21.08815,2338],[55.39166,-21.08798,2335],[55.39147,-21.08732,2328],[55.39141,-21.08702,2323],[55.39144,-21.0868,2322],[55.39139,-21.08615,2313],[55.39131,-21.08591,2309],[55.39124,-21.08578,2307],[55.39129,-21.08556,2306],[55.39119,-21.08543,2305],[55.39116,-21.085,2302],[55.39109,-21.08485,2300],[55.39111,-21.08472,2299],[55.39106,-21.08468,2298],[55.39091,-21.08462,2296],[55.39075,-21.08461,2293],[55.39066,-21.08458,2292],[55.39059,-21.0844,2292],[55.3902,-21.08405,2289],[55.39002,-21.084,2286],[55.38979,-21.08377,2283],[55.38956,-21.08373,2281],[55.38933,-21.08384,2278],[55.38917,-21.08396,2276],[55.38906,-21.084,2274],[55.38893,-21.08393,2272],[55.38888,-21.0838,2272],[55.38865,-21.08375,2266],[55.38847,-21.08374,2263],[55.38813,-21.08369,2259],[55.38764,-21.08368,2255],[55.38748,-21.08358,2253],[55.38705,-21.08349,2249],[55.38679,-21.08335,2245],[55.38667,-21.0831,2243],[55.38655,-21.08302,2240],[55.38644,-21.08298,2238],[55.3859,-21.08298,2229],[55.38588,-21.08294,2228],[55.386,-21.08261,2226],[55.38635,-21.08232,2226],[55.38678,-21.08176,2230],[55.3868,-21.08166,2231],[55.38676,-21.08154,2231],[55.3865,-21.08134,2229],[55.38632,-21.08129,2226],[55.38618,-21.0812,2222],[55.38602,-21.08097,2218],[55.38578,-21.08088,2214],[55.38536,-21.08078,2205],[55.38529,-21.08071,2203],[55.38514,-21.0803,2196],[55.38505,-21.08008,2193],[55.38495,-21.07997,2191],[55.38486,-21.07976,2189],[55.38465,-21.07956,2185],[55.3846,-21.07941,2183],[55.38455,-21.07921,2183],[55.3845,-21.07909,2182],[55.38443,-21.07897,2181],[55.38436,-21.0788,2181],[55.38427,-21.07862,2181],[55.38416,-21.07852,2180],[55.3841,-21.07844,2180],[55.3841,-21.0783,2181],[55.38406,-21.07824,2180],[55.38354,-21.07808,2171],[55.38346,-21.07807,2171],[55.3834,-21.07809,2170],[55.38331,-21.07816,2168],[55.38308,-21.07814,2167],[55.3829,-21.07804,2166],[55.38286,-21.07798,2166],[55.38286,-21.07791,2166],[55.38298,-21.07774,2166],[55.38299,-21.07766,2166],[55.38298,-21.07761,2165],[55.38289,-21.07757,2164],[55.38249,-21.07753,2158],[55.38241,-21.0775,2157],[55.38237,-21.07747,2156],[55.38236,-21.07742,2156],[55.38239,-21.07737,2157],[55.38252,-21.07727,2158],[55.38258,-21.07723,2159],[55.3826,-21.07716,2160],[55.38258,-21.07709,2160],[55.38243,-21.07686,2160],[55.38243,-21.07677,2160],[55.38249,-21.07667,2161],[55.38252,-21.07665,2161],[55.38261,-21.07659,2160],[55.38271,-21.07657,2160],[55.38286,-21.07659,2161],[55.38299,-21.07655,2162],[55.38314,-21.07648,2164],[55.38316,-21.07643,2164],[55.38314,-21.07636,2163],[55.38295,-21.07609,2157],[55.38295,-21.07601,2156],[55.383,-21.07595,2156],[55.38307,-21.07592,2157],[55.38347,-21.07581,2162],[55.38374,-21.07559,2163],[55.38392,-21.07537,2164],[55.38406,-21.07509,2166],[55.38425,-21.07485,2170],[55.38432,-21.07468,2171],[55.38433,-21.07444,2172],[55.38438,-21.07435,2172],[55.38465,-21.07405,2176],[55.38513,-21.07298,2175],[55.38529,-21.07284,2176],[55.38552,-21.07273,2177],[55.38563,-21.07263,2177],[55.38574,-21.07249,2178],[55.38579,-21.07234,2177],[55.38585,-21.0722,2176],[55.38594,-21.07211,2176],[55.38597,-21.07209,2177],[55.38601,-21.07208,2177],[55.38609,-21.07205,2178],[55.38608,-21.07191,2177],[55.38622,-21.0719,2179],[55.38625,-21.07181,2178],[55.38628,-21.07178,2178],[55.38653,-21.07164,2179],[55.38661,-21.07159,2180],[55.38665,-21.07166,2180],[55.38668,-21.07171,2181],[55.38665,-21.07173,2181]]]}}]}},{id:"hike-7",title:"Sentier du cap jaune",difficulty:"tr\xe8s facile",distance:"4.3km",positiveElevation:"128m",duration:"1h15",description:"<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolorem fugiat hic quam? Ad corporis dolore dolorem dolores doloribus enim, error excepturi libero molestias nesciunt quam recusandae sit tenetur unde voluptatem.</p>\n<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fugiat minus veritatis voluptatem! A corporis cum neque perspiciatis provident quod recusandae velit? Beatae esse excepturi itaque nam nisi omnis soluta voluptatem.</p>\n<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. At necessitatibus perspiciatis quas qui quia. Asperiores consequuntur ducimus officia optio quam, recusandae similique! Explicabo facere fugiat nam neque perspiciatis. Dolor, illo!</p>\n",position:{longitude:55.67513479851186,latitude:-21.378375040367246},photos:[{src:"/reunion/images/hikes/7_vincendo_cap_jaune/1-min.jpg",width:3,height:1},{src:"/reunion/images/hikes/7_vincendo_cap_jaune/2-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/7_vincendo_cap_jaune/3-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/7_vincendo_cap_jaune/4-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/7_vincendo_cap_jaune/5-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/7_vincendo_cap_jaune/6-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/7_vincendo_cap_jaune/7-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/7_vincendo_cap_jaune/8-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/7_vincendo_cap_jaune/9-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/7_vincendo_cap_jaune/10-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/7_vincendo_cap_jaune/11-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/7_vincendo_cap_jaune/12-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/7_vincendo_cap_jaune/13-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/7_vincendo_cap_jaune/14-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/7_vincendo_cap_jaune/15-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/7_vincendo_cap_jaune/16-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/7_vincendo_cap_jaune/17-min.jpg",width:4,height:5},{src:"/reunion/images/hikes/7_vincendo_cap_jaune/18-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/7_vincendo_cap_jaune/19-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/7_vincendo_cap_jaune/20-min.jpg",width:3,height:2},{src:"/reunion/images/hikes/7_vincendo_cap_jaune/21-min.jpg",width:4,height:5}],data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"MultiLineString",coordinates:[[[55.67715710029006,-21.377668026834726,3],[55.67713597789407,-21.37768378481269,3.200000047683716],[55.67707110196352,-21.37782745063305,3.200000047683716],[55.67703497596085,-21.377909677103162,3.200000047683716],[55.67701787687838,-21.37796575203538,3],[55.67699348554015,-21.3780009560287,3],[55.676995161920786,-21.37800933793187,3],[55.67696649581194,-21.378062311559916,3],[55.6769531685859,-21.3780752196908,3.200000047683716],[55.67695082165301,-21.378082847222686,3.200000047683716],[55.67692249082029,-21.37811042368412,3.4000000953674316],[55.67691360600293,-21.378115955740213,3.4000000953674316],[55.6768960878253,-21.378150321543217,3.4000000953674316],[55.676894998177886,-21.37817597016692,3.4000000953674316],[55.67690019495785,-21.378184435889125,3.200000047683716],[55.67690212279558,-21.37818426825106,3.200000047683716],[55.67690706811845,-21.378191309049726,3],[55.67688795737922,-21.37823791243136,3],[55.67684303037822,-21.37830236926675,3.200000047683716],[55.67682031542063,-21.378321899101138,3.200000047683716],[55.67678519524634,-21.378346541896462,3.4000000953674316],[55.676757618784904,-21.378368502482772,3.5999999046325684],[55.67674437537789,-21.378379398956895,3.799999952316284],[55.67665376700461,-21.378446202725172,3.5999999046325684],[55.67653256468475,-21.378480400890112,3.799999952316284],[55.67640893161297,-21.378511749207973,4],[55.676316479220986,-21.37855600565672,3.799999952316284],[55.67630432546139,-21.378560699522495,3.799999952316284],[55.67627968266606,-21.378574278205633,3.5999999046325684],[55.6762710493058,-21.378584587946534,3.5999999046325684],[55.67619745619595,-21.37860587798059,3.5999999046325684],[55.67618530243635,-21.37860730290413,3.5999999046325684],[55.67615822888911,-21.378639992326498,3.5999999046325684],[55.67615772597492,-21.37864015996456,3.5999999046325684],[55.67614548839629,-21.378606213256717,3.799999952316284],[55.676126293838024,-21.378577379509807,4.199999809265137],[55.67610542289913,-21.378573859110475,4.199999809265137],[55.676085222512484,-21.378577714785933,4.199999809265137],[55.67600450478494,-21.378589617088437,4.400000095367432],[55.675950860604644,-21.378584252670407,4.800000190734863],[55.67592923529446,-21.378584001213312,4.800000190734863],[55.675869304686785,-21.37858089990914,5],[55.675841476768255,-21.37858433648944,5.199999809265137],[55.675814570859075,-21.378555418923497,5.599999904632568],[55.67580409348011,-21.37853605672717,5.800000190734863],[55.675753969699144,-21.37854435481131,6.199999809265137],[55.67574072629213,-21.378547539934516,6.199999809265137],[55.675712982192636,-21.378567069768906,6.199999809265137],[55.67566528916359,-21.378582157194614,6.599999904632568],[55.675638131797314,-21.3785863481462,6.599999904632568],[55.6755989883095,-21.37860336340964,6.800000190734863],[55.67557476460934,-21.378622641786933,6.800000190734863],[55.67552614957094,-21.378682237118483,6.800000190734863],[55.67547217011452,-21.378712076693773,7],[55.675458423793316,-21.37872666120529,7],[55.67542724311352,-21.378747280687094,7],[55.67541517317295,-21.378755075857043,7.199999809265137],[55.675409473478794,-21.378780724480748,7],[55.675387596711516,-21.378809055313468,6.800000190734863],[55.67538541741669,-21.378823723644018,6.800000190734863],[55.67536203190684,-21.37887217104435,6.599999904632568],[55.67532666027546,-21.378917517140508,6.800000190734863],[55.675320038571954,-21.378940902650356,6.800000190734863],[55.675312327221036,-21.378956995904446,6.800000190734863],[55.67526262253523,-21.37899094261229,7],[55.6752020213753,-21.37901047244668,7.400000095367432],[55.67518022842705,-21.379048191010952,7.400000095367432],[55.6751552503556,-21.379095381125808,7.400000095367432],[55.67512817680836,-21.379156233742833,7.400000095367432],[55.67512004636228,-21.379162268713117,7.400000095367432],[55.67509607411921,-21.379197891801596,7.400000095367432],[55.67507855594158,-21.37920786626637,7.599999904632568],[55.675013260915875,-21.37923125177622,8],[55.674954671412706,-21.37922588735819,8.399999618530273],[55.67493983544409,-21.379221277311444,8.600000381469727],[55.6748962495476,-21.379221864044666,9],[55.6748909689486,-21.37922002002597,9],[55.674846628680825,-21.379209458827972,9.600000381469727],[55.674804635345936,-21.379214068874717,10],[55.6747876200825,-21.379234604537487,10],[55.674787452444434,-21.37923477217555,10],[55.67478904500604,-21.379235526546836,10],[55.67478535696864,-21.37923628091812,10],[55.67468611523509,-21.379333259537816,10.800000190734863],[55.67465711385012,-21.379370726644993,11],[55.674653677269816,-21.37938086874783,11],[55.6746578682214,-21.379407355561852,10.600000381469727],[55.674657532945275,-21.379465777426958,10],[55.674648731946945,-21.379471896216273,10],[55.674590561538935,-21.379480278119445,10.800000190734863],[55.67458008415997,-21.379479942843318,11],[55.67457136698067,-21.379476338624954,11.199999809265137],[55.674539767205715,-21.379490168765187,11.399999618530273],[55.67452769726515,-21.37950047850609,11.600000381469727],[55.67449416965246,-21.379500394687057,12],[55.67448176443577,-21.379507603123784,12],[55.67446927540004,-21.379497963935137,12.399999618530273],[55.67447246052325,-21.37949611991644,12.399999618530273],[55.67447120323777,-21.379505842924118,12.199999809265137],[55.67447254434228,-21.379583543166518,11.399999618530273],[55.67447807639837,-21.37961832806468,11],[55.67449366673827,-21.37964573688805,10.399999618530273],[55.674517219886184,-21.379684126004577,9.800000190734863],[55.67455627955496,-21.379731064662337,9],[55.674556363373995,-21.37974833138287,8.600000381469727],[55.674545802176,-21.379786133766174,8.199999809265137],[55.674555944278836,-21.379778757691383,8.199999809265137],[55.674562230706215,-21.379778841510415,8.199999809265137],[55.674556866288185,-21.379844387993217,7.199999809265137],[55.67453037947416,-21.37990850955248,6.599999904632568],[55.67451839335263,-21.379914795979857,6.599999904632568],[55.67447388544679,-21.379929296672344,6.800000190734863],[55.67446575500071,-21.379934577271342,6.800000190734863],[55.674448907375336,-21.37994430027902,7],[55.674433233216405,-21.379956789314747,7],[55.674416301772,-21.38001906685531,7],[55.674396604299545,-21.380048152059317,7],[55.674365842714906,-21.380078997462988,7.400000095367432],[55.6743420381099,-21.38017195276916,7.199999809265137],[55.674330638721585,-21.380227357149124,7],[55.67432611249387,-21.38027404434979,7],[55.67435595206916,-21.380352498963475,6.400000095367432],[55.674424432218075,-21.38043916784227,4.400000095367432],[55.67441931925714,-21.380451237782836,4.400000095367432],[55.67441345192492,-21.3804997690022,4.199999809265137],[55.674385372549295,-21.380537655204535,4.599999904632568],[55.6743507552892,-21.38060345314443,5],[55.67435586825013,-21.38061954639852,4.800000190734863],[55.67432150244713,-21.380657264962792,5.400000095367432],[55.67431362345815,-21.38073680922389,5],[55.674311527982354,-21.380841499194503,4.800000190734863],[55.674312030896544,-21.380950631573796,4.400000095367432],[55.67431001923978,-21.380966138094664,4.400000095367432],[55.674301302060485,-21.38099673204124,4.400000095367432],[55.67427724599838,-21.38101927936077,4.800000190734863],[55.67419015802443,-21.381065379828215,6.400000095367432],[55.67413190379739,-21.381109887734056,7.199999809265137],[55.67401086911559,-21.381179206073284,9],[55.67389394156635,-21.38125807978213,10],[55.673801489174366,-21.38129336759448,10.399999618530273],[55.67367324605584,-21.381309377029538,11.399999618530273],[55.67365069873631,-21.38131197541952,11.600000381469727],[55.6735909357667,-21.381294708698988,12],[55.67355900071561,-21.38127920217812,12.199999809265137],[55.67352740094066,-21.38126403093338,12.399999618530273],[55.67350761964917,-21.38126352801919,12.600000381469727],[55.673491191118956,-21.38126545585692,12.600000381469727],[55.67347828298807,-21.381266796961427,12.600000381469727],[55.673458920791745,-21.381279285997152,12.600000381469727],[55.67344115115702,-21.38130116276443,12.399999618530273],[55.67339010536671,-21.38132463209331,12.399999618530273],[55.67333411425352,-21.381377018988132,12],[55.67331802099943,-21.38139495626092,12],[55.67325507290661,-21.381437117233872,11.800000190734863],[55.67317762412131,-21.38146435841918,12],[55.67309279926121,-21.381459580734372,12.399999618530273],[55.673056840896606,-21.381445080041885,12.800000190734863],[55.67304636351764,-21.38143896125257,13],[55.673013338819146,-21.381427478045225,13.600000381469727],[55.672996658831835,-21.381417838856578,14],[55.67293530330062,-21.381413312628865,15.199999809265137],[55.67290454171598,-21.381389843299985,16],[55.67287478595972,-21.381360674276948,17],[55.67285802215338,-21.38132756575942,17.799999237060547],[55.67283279262483,-21.381309796124697,18.399999618530273],[55.67279867827892,-21.381315076723695,18.799999237060547],[55.67279934883118,-21.3813182618469,18.799999237060547],[55.67279264330864,-21.381318094208837,18.799999237060547],[55.67277898080647,-21.381302252411842,19.200000762939453],[55.67276540212333,-21.381299821659923,19.399999618530273],[55.672714272513986,-21.38128305785358,20.399999618530273],[55.672671692445874,-21.381262689828873,21.200000762939453],[55.67265585064888,-21.381256319582462,21.600000381469727],[55.67260220646858,-21.381233604624867,22.600000381469727],[55.672601368278265,-21.381229916587472,22.600000381469727],[55.67258795723319,-21.381236873567104,22.799999237060547],[55.67258686758578,-21.381239974871278,22.600000381469727],[55.672588627785444,-21.381238885223866,22.600000381469727],[55.67257924005389,-21.381223294883966,23],[55.67256557755172,-21.381180379539728,23.600000381469727],[55.67247396335006,-21.38120644725859,24.600000381469727],[55.672461558133364,-21.381209129467607,24.799999237060547],[55.67242903634906,-21.38122002594173,25.200000762939453],[55.672429371625185,-21.381222121417522,25.200000762939453],[55.67238997668028,-21.381200412288308,25.600000381469727],[55.67238016985357,-21.381191527470946,25.799999237060547],[55.67232225090265,-21.38118783943355,26.200000762939453],[55.67230498418212,-21.381183313205838,26.399999618530273],[55.672261817380786,-21.381192533299327,26.600000381469727],[55.67223122343421,-21.381186582148075,26.799999237060547],[55.672211442142725,-21.38121801428497,27],[55.672205574810505,-21.381235364824533,26.799999237060547],[55.67220130003989,-21.381251458078623,26.799999237060547],[55.67219668999314,-21.381249278783798,27],[55.67219685763121,-21.381249278783798,27],[55.67219685763121,-21.381251458078623,27],[55.67220037803054,-21.381260007619858,26.799999237060547],[55.67226801998913,-21.381352208554745,26],[55.67227145656943,-21.381362099200487,26],[55.67227606661618,-21.38136327266693,25.799999237060547],[55.672279335558414,-21.381365032866597,25.799999237060547],[55.67231873050332,-21.381435189396143,24.799999237060547],[55.67233222536743,-21.381454467773438,24.399999618530273],[55.67240355536342,-21.381592685356736,21.799999237060547],[55.67240556702018,-21.381603833287954,21.600000381469727],[55.67241344600916,-21.381635097786784,20.799999237060547],[55.67243062891066,-21.381649263203144,20.200000762939453],[55.67245560698211,-21.381670301780105,19.200000762939453],[55.672455271705985,-21.381683880463243,19],[55.672438591718674,-21.38170131482184,19],[55.67242559976876,-21.381720593199134,18.799999237060547],[55.67241394892335,-21.381786558777094,17.600000381469727],[55.6724114343524,-21.38179762288928,17.600000381469727],[55.67239207215607,-21.381840957328677,17],[55.67238402552903,-21.38184598647058,17.200000762939453],[55.67233641631901,-21.381874652579427,17.399999618530273],[55.67227631807327,-21.381926704198122,17.600000381469727],[55.672240778803825,-21.381987053900957,16.600000381469727],[55.672209430485964,-21.38201211579144,16.399999618530273],[55.67219300195575,-21.382012451067567,16.600000381469727],[55.67215545102954,-21.38202133588493,16.799999237060547],[55.672123013064265,-21.382042123004794,16.799999237060547],[55.67211404442787,-21.38205754570663,16.600000381469727],[55.672080935910344,-21.382115883752704,15.600000381469727],[55.67202997393906,-21.38220992870629,14.199999809265137],[55.67200072109699,-21.38230229727924,12.800000190734863],[55.67199183627963,-21.38231704942882,12.800000190734863],[55.67196685820818,-21.382359294220805,12.399999618530273],[55.67196602001786,-21.3824044726789,11.600000381469727],[55.67195998504758,-21.382441269233823,11],[55.67196752876043,-21.382495583966374,9.800000190734863],[55.67197926342487,-21.38251544907689,9.600000381469727],[55.67198186181486,-21.382565572857857,9],[55.67197951488197,-21.382575882598758,8.800000190734863],[55.67193743772805,-21.38266397640109,8],[55.67192520014942,-21.382674537599087,8],[55.67186267115176,-21.382715022191405,7.800000190734863],[55.67180567421019,-21.382759362459183,7.599999904632568],[55.671795113012195,-21.382761960849166,7.599999904632568],[55.67170257680118,-21.382793728262186,7.800000190734863],[55.671691093593836,-21.38279733248055,8],[55.671679778024554,-21.382802361622453,8],[55.67164055071771,-21.382838739082217,8.399999618530273],[55.67159394733608,-21.38289749622345,8.600000381469727],[55.671582128852606,-21.38292482122779,8.600000381469727],[55.67156578414142,-21.382978884503245,8.399999618530273],[55.67151675000787,-21.383042000234127,8.800000190734863],[55.67150744609535,-21.383050214499235,8.800000190734863],[55.67141901701689,-21.383081898093224,10],[55.671353470534086,-21.38311400078237,10.199999809265137],[55.67131172865629,-21.38312917202711,10.800000190734863],[55.67124115303159,-21.38317309319973,11.600000381469727],[55.67115624435246,-21.383210560306907,12.600000381469727],[55.67114610224962,-21.38321458362043,12.600000381469727],[55.671067144721746,-21.383244087919593,12],[55.67098223604262,-21.383271496742964,11.600000381469727],[55.670894058421254,-21.383268227800727,11.800000190734863],[55.670804623514414,-21.383285745978355,12],[55.67071602679789,-21.383306616917253,12.199999809265137],[55.67060396075249,-21.383326398208737,12.600000381469727],[55.67056708037853,-21.38332757167518,12.800000190734863],[55.670477310195565,-21.3833300024271,13.800000190734863],[55.6704237498343,-21.383347688242793,14],[55.67040229216218,-21.383354645222425,14],[55.67030170932412,-21.38337342068553,14.399999618530273],[55.67025418393314,-21.383385322988033,14],[55.67024395801127,-21.383386328816414,13.800000190734863],[55.67019768990576,-21.383405020460486,13.399999618530273],[55.670193918049335,-21.383405942469835,13.399999618530273],[55.6701888050884,-21.383404349908233,13.399999618530273],[55.67012560553849,-21.383403092622757,13.399999618530273],[55.67008160054684,-21.383397225290537,13.600000381469727],[55.670021250844,-21.383390435948968,13.800000190734863],[55.66994849592447,-21.383402589708567,13.800000190734863],[55.669919829815626,-21.383417174220085,13.600000381469727],[55.669891918078065,-21.383427064865828,13.399999618530273],[55.669867945834994,-21.383435362949967,13.399999618530273],[55.669777086004615,-21.383440643548965,14],[55.66973098553717,-21.38343737460673,14.399999618530273],[55.66966334357858,-21.383429998531938,15.399999618530273],[55.66962210461497,-21.383385490626097,17.600000381469727],[55.66957013681531,-21.383399572223425,18],[55.669514229521155,-21.383413150906563,18.600000381469727],[55.66948908381164,-21.383417258039117,18.799999237060547],[55.66941121593118,-21.383429747074842,19],[55.669401409104466,-21.383429747074842,19],[55.66933175548911,-21.38342237100005,19.600000381469727],[55.66928925924003,-21.383396219462156,20.600000381469727],[55.66926050931215,-21.383395800366998,20.799999237060547],[55.669227316975594,-21.38338959775865,21],[55.66916847601533,-21.38339647091925,21.200000762939453],[55.66911776550114,-21.383403511717916,21.399999618530273],[55.66907174885273,-21.38344433158636,20.399999618530273],[55.66906160674989,-21.383447600528598,20.200000762939453],[55.66898809745908,-21.383446007966995,20],[55.66898591816425,-21.38344374485314,20],[55.668978625908494,-21.383443493396044,20],[55.66894954070449,-21.383465034887195,19.600000381469727],[55.6689352914691,-21.383475679904222,19.200000762939453],[55.66888768225908,-21.383490851148963,19],[55.66883286461234,-21.3835028372705,19],[55.668798414990306,-21.383502250537276,19.200000762939453],[55.66877310164273,-21.38349990360439,19.200000762939453],[55.66872289404273,-21.38349261134863,19.799999237060547],[55.66869255155325,-21.38349956832826,19.799999237060547],[55.66863337531686,-21.383476853370667,20.600000381469727],[55.66859180107713,-21.383458832278848,21],[55.6685605365783,-21.38345212675631,21.200000762939453],[55.668553579598665,-21.383444918319583,21.399999618530273],[55.66852449439466,-21.383423879742622,21.799999237060547],[55.668493481352925,-21.383420024067163,21.799999237060547],[55.668480824679136,-21.38340275734663,22.200000762939453],[55.66844872198999,-21.383378198370337,22.600000381469727],[55.66843573004007,-21.38336956501007,22.799999237060547],[55.668415278196335,-21.383365876972675,22.799999237060547],[55.6683964189142,-21.383364284411073,22.600000381469727],[55.668321987614036,-21.383346430957317,22.200000762939453],[55.66829591989517,-21.38333779759705,22.200000762939453],[55.6682825088501,-21.383355483412743,21.600000381469727],[55.66821863874793,-21.38334550894797,21.200000762939453],[55.66813272424042,-21.38334802351892,20.200000762939453],[55.66808025352657,-21.383367385715246,19],[55.668018562719226,-21.383369900286198,18],[55.66799568012357,-21.383369648829103,17.799999237060547],[55.66798369400203,-21.38336612842977,17.600000381469727],[55.667984364554286,-21.383371576666832,17.600000381469727],[55.667943293228745,-21.383364954963326,17],[55.667899791151285,-21.383371828123927,16.200000762939453],[55.66787791438401,-21.383362105116248,16.200000762939453],[55.66784472204745,-21.383352214470506,16],[55.667844135314226,-21.383349867537618,16],[55.6678609829396,-21.38333394192159,16.600000381469727],[55.667934995144606,-21.383345257490873,17.399999618530273],[55.66792091354728,-21.38335288502276,17],[55.66784866154194,-21.38333930633962,16.399999618530273],[55.66779065877199,-21.3832834828645,17.600000381469727],[55.66772184334695,-21.383260767906904,18],[55.66766308620572,-21.383238220587373,18.600000381469727],[55.66762343980372,-21.383219361305237,19],[55.6676175724715,-21.383247692137957,17.799999237060547],[55.66760994493961,-21.38326588086784,17],[55.6676125433296,-21.383256325498223,17.399999618530273],[55.66761287860572,-21.3832507096231,17.600000381469727],[55.66762771457434,-21.383235454559326,18.399999618530273],[55.66762771457434,-21.383235454559326,18.399999618530273],[55.66762771457434,-21.383235454559326,18.399999618530273],[55.66762771457434,-21.383235454559326,18.399999618530273],[55.66762771457434,-21.383235454559326,18.399999618530273],[55.66762771457434,-21.38323562219739,18.399999618530273],[55.667626624926925,-21.383237466216087,18.399999618530273],[55.66761581227183,-21.383231598883867,18.399999618530273],[55.66760944202542,-21.383227491751313,18.600000381469727],[55.66760818473995,-21.38321944512427,19],[55.66760818473995,-21.38321802020073,19.200000762939453],[55.66760818473995,-21.383212991058826,19.399999618530273],[55.66761178895831,-21.38320729136467,19.600000381469727],[55.667610531672835,-21.3832039386034,19.799999237060547],[55.66761036403477,-21.383203603327274,19.799999237060547],[55.6676070112735,-21.383203016594052,19.799999237060547],[55.6676070112735,-21.383203016594052,19.799999237060547],[55.6676070112735,-21.383203016594052,19.799999237060547],[55.66760734654963,-21.38320293277502,19.799999237060547],[55.667626205831766,-21.383203687146306,19.799999237060547],[55.667608100920916,-21.38318625278771,20.600000381469727],[55.667581195011735,-21.383171919733286,21.200000762939453],[55.66758002154529,-21.383170997723937,21.200000762939453],[55.66758178174496,-21.383164040744305,21.600000381469727],[55.667581195011735,-21.38316387310624,21.600000381469727],[55.66757859662175,-21.38316571712494,21.399999618530273],[55.66757122054696,-21.383160185068846,21.600000381469727],[55.66760256886482,-21.383180050179362,20.799999237060547],[55.66763031296432,-21.383198155090213,20.200000762939453],[55.66763182170689,-21.38320092111826,20],[55.667627546936274,-21.38319220393896,20.399999618530273],[55.667625619098544,-21.383191449567676,20.399999618530273],[55.667625619098544,-21.38319220393896,20.399999618530273],[55.667631989344954,-21.38320192694664,20],[55.66763190552592,-21.38319455087185,20.200000762939453],[55.66762696020305,-21.383192874491215,20.399999618530273],[55.667620254680514,-21.383191533386707,20.399999618530273],[55.66762134432793,-21.383191533386707,20.399999618530273],[55.66761530935764,-21.383195808157325,20.200000762939453],[55.66761505790055,-21.383197819814086,20],[55.667615896090865,-21.38319941237569,20],[55.667615896090865,-21.383199747651815,20],[55.66761623136699,-21.383200166746974,20],[55.66761891357601,-21.383202765136957,19.799999237060547],[55.667618326842785,-21.383203268051147,19.799999237060547],[55.66761849448085,-21.383203184232116,19.799999237060547],[55.66761866211891,-21.38320343568921,19.799999237060547],[55.66761849448085,-21.383204190060496,19.799999237060547],[55.66761815920472,-21.383204525336623,19.799999237060547],[55.667617823928595,-21.383205195888877,19.799999237060547],[55.66761765629053,-21.383205195888877,19.799999237060547],[55.66761765629053,-21.383205112069845,19.799999237060547],[55.6676175724715,-21.383205028250813,19.799999237060547],[55.6676175724715,-21.38320494443178,19.799999237060547],[55.66763726994395,-21.38315498828888,22.200000762939453],[55.667650597169995,-21.38308424502611,25.600000381469727],[55.667653949931264,-21.383071169257164,26.200000762939453],[55.66766166128218,-21.383036551997066,27.799999237060547],[55.667661326006055,-21.382977375760674,30],[55.66765579394996,-21.38290730305016,32.599998474121094],[55.6676521897316,-21.38290680013597,32.599998474121094],[55.66765068098903,-21.38290378265083,32.79999923706055],[55.66764732822776,-21.382847456261516,35.20000076293945],[55.66763626411557,-21.382765900343657,38.79999923706055],[55.6676088552922,-21.38268258422613,40.79999923706055],[55.66757742315531,-21.382593233138323,41.400001525878906],[55.66752285696566,-21.382512263953686,41.599998474121094],[55.66752486862242,-21.382501032203436,41.599998474121094],[55.66751539707184,-21.38247923925519,41.79999923706055],[55.66751003265381,-21.382469180971384,42],[55.667515229433775,-21.382468175143003,42],[55.66751506179571,-21.382479155436158,41.79999923706055],[55.667508859187365,-21.382450237870216,42.400001525878906],[55.66749486140907,-21.38241176493466,43.20000076293945],[55.66747700795531,-21.38238209299743,43.79999923706055],[55.667460998520255,-21.38236390426755,44.20000076293945],[55.667413054034114,-21.38231847435236,45.20000076293945],[55.66740081645548,-21.382309924811125,45.400001525878906],[55.66740274429321,-21.382308918982744,45.599998474121094],[55.66739721223712,-21.382305398583412,45.599998474121094],[55.66739721223712,-21.382305398583412,45.599998474121094],[55.66739763133228,-21.382305398583412,45.599998474121094],[55.667398888617754,-21.382306069135666,45.599998474121094],[55.66735865548253,-21.38230632059276,45.79999923706055],[55.66735186614096,-21.382306572049856,45.79999923706055],[55.66734977066517,-21.38230581767857,45.79999923706055],[55.66734968684614,-21.382305063307285,45.79999923706055],[55.66734650172293,-21.382302129641175,45.79999923706055],[55.667342226952314,-21.38228578492999,46.400001525878906],[55.66733434796333,-21.382233062759042,47.599998474121094],[55.66728875041008,-21.38217916712165,49],[55.667245080694556,-21.382119990885258,49.79999923706055],[55.6671891734004,-21.382104819640517,50],[55.667158998548985,-21.382094006985426,50],[55.66707668825984,-21.382100880146027,50],[55.6670562364161,-21.382101634517312,50.20000076293945],[55.66702731885016,-21.38205813243985,51.20000076293945],[55.667018266394734,-21.382049834355712,51.400001525878906],[55.66697250120342,-21.382008595392108,51.79999923706055],[55.6669629458338,-21.38200088404119,51.599998474121094],[55.666933273896575,-21.381967440247536,51.400001525878906],[55.66689723171294,-21.381913209334016,54.20000076293945],[55.66688742488623,-21.38190415687859,54.599998474121094],[55.66687091253698,-21.38187867589295,55],[55.666860016062856,-21.381841879338026,55.79999923706055],[55.66683252342045,-21.381796281784773,56.599998474121094],[55.66682648845017,-21.38178152963519,57],[55.66680796444416,-21.381744984537363,58.20000076293945],[55.66677175462246,-21.38170726597309,59.599998474121094],[55.66676496528089,-21.38170382939279,59.599998474121094],[55.66677242517471,-21.381706930696964,59.599998474121094],[55.66671400330961,-21.3817101996392,60],[55.6666399911046,-21.38171405531466,60.20000076293945],[55.66656547598541,-21.381634008139372,64.19999694824219],[55.666546700522304,-21.381588075309992,65.80000305175781],[55.66652063280344,-21.381528647616506,67.5999984741211],[55.66651493310928,-21.381522193551064,67.80000305175781],[55.66650613211095,-21.381497299298644,68.4000015258789],[55.666514178738,-21.381469052284956,69],[55.666515436023474,-21.38144977390766,69.4000015258789],[55.66651929169893,-21.381430411711335,69.80000305175781],[55.6665208004415,-21.38140384107828,70.4000015258789],[55.66653085872531,-21.381390681490302,70.5999984741211],[55.666534127667546,-21.38138816691935,70.5999984741211],[55.66654519177973,-21.38137986883521,70.5999984741211],[55.66655533388257,-21.381380204111338,70.5999984741211],[55.66655809991062,-21.381372660398483,70.80000305175781],[55.66656497307122,-21.38135044835508,71.19999694824219],[55.66657193005085,-21.38134374283254,71.4000015258789],[55.666624484583735,-21.381302336230874,72.4000015258789],[55.66664141602814,-21.381284231320024,72.80000305175781],[55.66664996556938,-21.38127526268363,73],[55.66667402163148,-21.381261348724365,73.4000015258789],[55.666707549244165,-21.381231592968106,74],[55.66673520952463,-21.381183313205838,75.5999984741211],[55.66673713736236,-21.38116931542754,76],[55.66673596389592,-21.381155401468277,76.4000015258789],[55.6667367182672,-21.381148360669613,76.5999984741211],[55.66673520952463,-21.381145007908344,76.80000305175781],[55.66670813597739,-21.38112128712237,77.5999984741211],[55.66669422201812,-21.381111312657595,78],[55.66668282262981,-21.38110334984958,78.4000015258789],[55.66663697361946,-21.381094632670283,78.80000305175781],[55.66658064723015,-21.381124388426542,78.19999694824219],[55.66653102636337,-21.381144421175122,77.80000305175781],[55.66649372689426,-21.38116001151502,77.4000015258789],[55.66648157313466,-21.381156407296658,77.5999984741211],[55.66646254621446,-21.38115799985826,77.5999984741211],[55.66645424813032,-21.381158167496324,77.5999984741211],[55.66641317680478,-21.381162777543068,77.80000305175781],[55.666388031095266,-21.381160765886307,78.19999694824219],[55.66636967472732,-21.381151881068945,78.5999984741211],[55.66630253568292,-21.38114534318447,79],[55.66628275439143,-21.381139727309346,79.19999694824219],[55.666260458528996,-21.381149869412184,79],[55.66623874939978,-21.38115707784891,79],[55.66621561534703,-21.381160682067275,79],[55.66620295867324,-21.381155736744404,79.19999694824219],[55.66616096533835,-21.38114232569933,79.5999984741211],[55.666132383048534,-21.381127992644906,80],[55.66605107858777,-21.38109882362187,80.80000305175781],[55.66603490151465,-21.381103014573455,80.80000305175781],[55.66600598394871,-21.381101924926043,81],[55.66596214659512,-21.38108524493873,81.5999984741211],[55.66591126844287,-21.381084909662604,81.80000305175781],[55.66588645800948,-21.381084406748414,81.80000305175781],[55.66583616659045,-21.38107451610267,82.80000305175781],[55.665792748332024,-21.381065966561437,84],[55.66578084602952,-21.38106864877045,84],[55.66573969088495,-21.381065798923373,84.80000305175781],[55.665727872401476,-21.38106311671436,85],[55.665638940408826,-21.381055489182472,86.80000305175781],[55.66562511026859,-21.381060434505343,86.5999984741211],[55.6656108610332,-21.381060853600502,86.80000305175781],[55.66559962928295,-21.381098069250584,85.5999984741211],[55.665541626513004,-21.38116621412337,85.80000305175781],[55.6655350048095,-21.38118297792971,85.5999984741211],[55.66552519798279,-21.381182726472616,86],[55.66547071561217,-21.381190940737724,87.19999694824219],[55.66545839421451,-21.381205273792148,87.4000015258789],[55.66542654298246,-21.381251038983464,87.19999694824219],[55.66541371867061,-21.381274005398154,87.19999694824219],[55.66540718078613,-21.381311053410172,86.5999984741211],[55.66536200232804,-21.381340641528368,87.19999694824219],[55.66535077057779,-21.381355142220855,87.19999694824219],[55.665355967357755,-21.381361512467265,87],[55.665356470271945,-21.381367715075612,87],[55.66531657241285,-21.38138422742486,88.19999694824219],[55.66524281166494,-21.38143594376743,89.4000015258789],[55.66514859907329,-21.38149998150766,91.4000015258789],[55.66504064016044,-21.38154591433704,93.5999984741211],[55.66501901485026,-21.381546668708324,93.80000305175781],[55.664988001808524,-21.381536442786455,94],[55.66498188301921,-21.381530659273267,94],[55.66498599015176,-21.381516829133034,94],[55.66500049084425,-21.381512554362416,94],[55.66500090993941,-21.381511632353067,94],[55.66499889828265,-21.381511632353067,94],[55.66499562934041,-21.381512051448226,94],[55.66499118693173,-21.381512638181448,94],[55.66499060019851,-21.38151272200048,94],[55.66499034874141,-21.381513392552733,94],[55.66498833708465,-21.381513895466924,94],[55.66498179920018,-21.381519343703985,94],[55.66497987136245,-21.381519930437207,94],[55.664978781715035,-21.381520181894302,94],[55.6649789493531,-21.381528563797474,94],[55.66503125242889,-21.381539460271597,93.80000305175781],[55.665099984034896,-21.38152596540749,92.4000015258789],[55.66511440090835,-21.38151607476175,92.19999694824219],[55.665159076452255,-21.38149067759514,91.19999694824219],[55.665184054523706,-21.381462262943387,90.80000305175781],[55.66523149609566,-21.381419766694307,89.80000305175781],[55.66524633206427,-21.381407026201487,89.5999984741211],[55.66528002731502,-21.38138858601451,88.80000305175781],[55.66529184579849,-21.3813769351691,88.5999984741211],[55.665306597948074,-21.38135933317244,88.4000015258789],[55.66531531512737,-21.381352879107,88.19999694824219],[55.665318332612514,-21.38134374283254,88.4000015258789],[55.66534825600684,-21.38131725601852,88],[55.665373150259256,-21.38130216859281,87.80000305175781],[55.66539402119815,-21.381285404786468,87.4000015258789],[55.6654295604676,-21.38125078752637,87.19999694824219],[55.66543978638947,-21.381243411451578,87],[55.665445402264595,-21.381235448643565,87],[55.66548957489431,-21.381200747564435,86.5999984741211],[55.66555369645357,-21.381121203303337,86.4000015258789],[55.66556476056576,-21.381117263808846,86.19999694824219],[55.66561387851834,-21.38110661879182,85.19999694824219],[55.665689231827855,-21.381089352071285,84.4000015258789],[55.665711695328355,-21.38108373619616,84.19999694824219],[55.665770787745714,-21.3810748513788,83.80000305175781],[55.66579786129296,-21.381067475304008,83.80000305175781],[55.66581219434738,-21.38106361962855,83.80000305175781],[55.66586089320481,-21.381077030673623,82.4000015258789],[55.665889559313655,-21.381074264645576,82.19999694824219],[55.665902215987444,-21.381062529981136,82.80000305175781],[55.66592057235539,-21.38104467652738,83.5999984741211],[55.66594144329429,-21.381051214411855,83.19999694824219],[55.66604479216039,-21.38105339370668,82.80000305175781],[55.66605585627258,-21.381054064258933,82.5999984741211],[55.666117211803794,-21.38106412254274,81.80000305175781],[55.666144620627165,-21.38105783611536,82.19999694824219],[55.666161300614476,-21.38105825521052,82],[55.66621419042349,-21.38108222745359,80.80000305175781],[55.66627671942115,-21.381104607135057,80],[55.666378643363714,-21.38110033236444,79.80000305175781],[55.666445195674896,-21.381086502224207,79.80000305175781],[55.66645190119743,-21.381073845550418,80.19999694824219],[55.66654996946454,-21.381073258817196,79.80000305175781],[55.666592717170715,-21.381069403141737,79.80000305175781],[55.66662230528891,-21.381061440333724,80.19999694824219],[55.666632698848844,-21.38105825521052,80.19999694824219],[55.66666220314801,-21.381048699840903,80.5999984741211],[55.66669698804617,-21.381049370393157,80.4000015258789],[55.66672791726887,-21.381055489182472,79.80000305175781],[55.666756834834814,-21.381110893562436,77.80000305175781],[55.66674769856036,-21.381119024008512,77.5999984741211],[55.66670989617705,-21.381175434216857,75.80000305175781],[55.666701178997755,-21.381184151396155,75.5999984741211],[55.666668489575386,-21.381208458915353,75],[55.66665440797806,-21.381227653473616,74.5999984741211],[55.66663823090494,-21.3812508713454,74],[55.66659749485552,-21.381267551332712,73.5999984741211],[55.66655156202614,-21.381360590457916,71],[55.66650504246354,-21.381423119455576,70],[55.66650881431997,-21.381437871605158,69.80000305175781],[55.66650982014835,-21.38146578334272,69],[55.666508646681905,-21.38151473365724,68],[55.666539994999766,-21.381599809974432,65.4000015258789],[55.6665659788996,-21.38163685798645,64],[55.6665781326592,-21.381647838279605,63.400001525878906],[55.666575618088245,-21.381632583215833,64],[55.66657595336437,-21.381628895178437,64.19999694824219],[55.66657595336437,-21.381628895178437,64.19999694824219],[55.66659338772297,-21.381674828007817,62.20000076293945],[55.66659866832197,-21.381693268194795,61.599998474121094],[55.66660076379776,-21.381697207689285,61.400001525878906],[55.66660076379776,-21.381696620956063,61.400001525878906],[55.66660076379776,-21.381696453318,61.400001525878906],[55.66660093143582,-21.381696118041873,61.400001525878906],[55.66666044294834,-21.38168823905289,60.79999923706055],[55.66675800830126,-21.381663596257567,60.79999923706055],[55.666764713823795,-21.381666446104646,60.599998474121094],[55.666776448488235,-21.38168329373002,60],[55.666792038828135,-21.381715647876263,59],[55.666799331083894,-21.381734674796462,58.599998474121094],[55.66681877709925,-21.381744146347046,58],[55.666828164830804,-21.381747080013156,58],[55.66684274934232,-21.381790162995458,56.79999923706055],[55.666845347732306,-21.3818293903023,56],[55.666850712150335,-21.381837520748377,55.79999923706055],[55.66688331775367,-21.38186995871365,55.20000076293945],[55.666932770982385,-21.381952185183764,52.20000076293945],[55.66695598885417,-21.38200088404119,51.400001525878906],[55.666957665234804,-21.38203600421548,50.79999923706055],[55.66694970242679,-21.382056204602122,50.20000076293945],[55.666979206725955,-21.382063664495945,51],[55.666992450132966,-21.382064670324326,51.20000076293945],[55.66705212928355,-21.382064167410135,50.79999923706055],[55.667097978293896,-21.382060730829835,50.599998474121094],[55.6671788636595,-21.382103646174073,50],[55.66719252616167,-21.382109681144357,49.79999923706055],[55.667219096794724,-21.382130049169064,49.599998474121094],[55.667246421799064,-21.382140023633838,49.599998474121094],[55.667293444275856,-21.382164666429162,49],[55.6673014909029,-21.382170701399446,49],[55.667329067364335,-21.382183860987425,48.79999923706055],[55.66733728162944,-21.382191656157374,48.599998474121094],[55.66737441346049,-21.382226524874568,47.599998474121094],[55.66740567795932,-21.382276564836502,46.400001525878906],[55.66745932213962,-21.382337836548686,44.79999923706055],[55.667500561103225,-21.38239173218608,43.599998474121094],[55.667501064017415,-21.38244017958641,42.599998474121094],[55.667547499760985,-21.382516622543335,41.599998474121094],[55.667595863342285,-21.38260044157505,41.400001525878906],[55.66762981005013,-21.382661629468203,41.20000076293945],[55.6676485016942,-21.38273924589157,39.79999923706055],[55.667650094255805,-21.382752154022455,39.400001525878906],[55.66766987554729,-21.382830440998077,35.79999923706055],[55.66766803152859,-21.382841505110264,35.400001525878906],[55.66768563352525,-21.382904537022114,32.79999923706055],[55.6676934286952,-21.382916271686554,32.400001525878906],[55.667695524170995,-21.382927000522614,32],[55.667683873325586,-21.3829674012959,30.399999618530273],[55.6676815263927,-21.38298349454999,30],[55.66766685806215,-21.383036887273192,27.799999237060547],[55.66764632239938,-21.383080892264843,25.600000381469727],[55.66764355637133,-21.383098494261503,24.799999237060547],[55.66763609647751,-21.38311500661075,24],[55.66763467155397,-21.38311643153429,24],[55.66763726994395,-21.383104110136628,24.600000381469727],[55.66763953305781,-21.38310620561242,24.399999618530273],[55.667637437582016,-21.38310913927853,24.399999618530273],[55.66763517446816,-21.383118024095893,23.799999237060547],[55.66765076480806,-21.383170075714588,21.399999618530273],[55.6676588114351,-21.383185582235456,20.799999237060547],[55.66767230629921,-21.383220367133617,19.399999618530273],[55.667719915509224,-21.38324635103345,18.600000381469727],[55.667767859995365,-21.38328792527318,17.200000762939453],[55.66782762296498,-21.383324218913913,16.399999618530273],[55.66785109229386,-21.383344503119588,16.200000762939453],[55.667852349579334,-21.38335439376533,16],[55.6678697001189,-21.383358668535948,16.200000762939453],[55.66786693409085,-21.383360344916582,16.200000762939453],[55.66786718554795,-21.38336897827685,16],[55.667914459481835,-21.383361015468836,16.799999237060547],[55.6679215002805,-21.38336126692593,16.799999237060547],[55.66797916777432,-21.38334224000573,18.200000762939453],[55.66804404370487,-21.383322458714247,19.600000381469727],[55.66805594600737,-21.383320447057486,19.799999237060547],[55.668066339567304,-21.38331960886717,20],[55.66807748749852,-21.3833231292665,20],[55.66809307783842,-21.383329583331943,20.200000762939453],[55.66810975782573,-21.383332097902894,20.200000762939453],[55.668123504146934,-21.38333234935999,20.399999618530273],[55.66813414916396,-21.383333522826433,20.600000381469727],[55.66814437508583,-21.38333729468286,20.600000381469727],[55.668170442804694,-21.383340815082192,20.799999237060547],[55.66820053383708,-21.383338971063495,21.200000762939453],[55.668247640132904,-21.38333830051124,21.600000381469727],[55.66828359849751,-21.383327320218086,22.200000762939453],[55.66833162680268,-21.383337378501892,22.600000381469727],[55.66837060265243,-21.383341820910573,23],[55.668384935706854,-21.383354645222425,22.799999237060547],[55.6684376578778,-21.38337098993361,22.600000381469727],[55.668477304279804,-21.383400661870837,22.200000762939453],[55.668493900448084,-21.383422454819083,21.799999237060547],[55.668495409190655,-21.383431255817413,21.600000381469727],[55.66852114163339,-21.383458664640784,21],[55.668553579598665,-21.383489090949297,20.200000762939453],[55.66857788711786,-21.383485151454806,20.399999618530273],[55.668589705601335,-21.38348573818803,20.399999618530273],[55.66860311664641,-21.383484564721584,20.399999618530273],[55.66866019740701,-21.383485989645123,20.399999618530273],[55.66873060539365,-21.38349160552025,19.600000381469727],[55.66876790486276,-21.383480122312903,19.799999237060547],[55.66879657097161,-21.38348238542676,19.600000381469727],[55.66880989819765,-21.38350040651858,19.200000762939453],[55.66880872473121,-21.38350635766983,19],[55.66880780272186,-21.383507028222084,19],[55.66882364451885,-21.383490096777678,19.399999618530273],[55.66884786821902,-21.383513063192368,18.799999237060547],[55.66887242719531,-21.383528988808393,18.399999618530273],[55.668898075819016,-21.383528066799045,18.200000762939453],[55.66889405250549,-21.383527731522918,18.200000762939453],[55.66889866255224,-21.383522618561983,18.399999618530273],[55.66889866255224,-21.38352387584746,18.399999618530273],[55.66889916546643,-21.3835268933326,18.200000762939453],[55.66889891400933,-21.3835268933326,18.200000762939453],[55.66889941692352,-21.383526977151632,18.200000762939453],[55.66889983601868,-21.383526977151632,18.200000762939453],[55.668900925666094,-21.38351851142943,18.399999618530273],[55.66889681853354,-21.383513817563653,18.600000381469727],[55.668924394994974,-21.383460173383355,19.600000381469727],[55.6690005864948,-21.383419688791037,20.600000381469727],[55.66904484294355,-21.383414240553975,21],[55.66906034946442,-21.383403595536947,21.200000762939453],[55.66906948573887,-21.383397728204727,21.399999618530273],[55.669111646711826,-21.38336604461074,22.200000762939453],[55.66918331198394,-21.383340312168002,23],[55.66924517042935,-21.383383478969336,21.200000762939453],[55.669254725798965,-21.383390855044127,21],[55.66929705440998,-21.38341834768653,19.799999237060547],[55.66932630725205,-21.383431339636445,19.399999618530273],[55.66937894560397,-21.383441481739283,18.799999237060547],[55.66944952122867,-21.383443074300885,18.200000762939453],[55.669491263106465,-21.38344382867217,17.799999237060547],[55.669501489028335,-21.383440643548965,17.799999237060547],[55.669520599767566,-21.3834320101887,17.799999237060547],[55.66955974325538,-21.383404349908233,18],[55.66957122646272,-21.383402002975345,18],[55.66959804855287,-21.383403930813074,17.399999618530273],[55.669602155685425,-21.3834077026695,17.200000762939453],[55.669610956683755,-21.383404433727264,17.200000762939453],[55.66962478682399,-21.383399488404393,17],[55.669649597257376,-21.383412899449468,16.200000762939453],[55.66968555562198,-21.383427400141954,15.199999809265137],[55.669694943353534,-21.383431758731604,15],[55.66972855478525,-21.383432932198048,14.600000381469727],[55.66974473185837,-21.383438212797046,14.399999618530273],[55.66974942572415,-21.383437206968665,14.199999809265137],[55.669749761000276,-21.38344324193895,14.199999809265137],[55.66975646652281,-21.38344625942409,14],[55.6698280479759,-21.383469309657812,12.800000190734863],[55.66989753395319,-21.383490096777678,11.800000190734863],[55.669945226982236,-21.3835028372705,11.199999809265137],[55.66993860527873,-21.383511135354638,11],[55.66993860527873,-21.383509039878845,11.199999809265137],[55.669938856735826,-21.383510129526258,11.199999809265137],[55.66993894055486,-21.383510380983353,11.199999809265137],[55.66993952728808,-21.383509878069162,11.199999809265137],[55.66993969492614,-21.383509626612067,11.199999809265137],[55.66993969492614,-21.38350929133594,11.199999809265137],[55.66993969492614,-21.383507531136274,11.199999809265137],[55.669938772916794,-21.383501077070832,11.399999618530273],[55.66994296386838,-21.38349554501474,11.399999618530273],[55.66994790919125,-21.383494790643454,11.399999618530273],[55.66995318979025,-21.383491856977344,11.600000381469727],[55.66999711096287,-21.383467549458146,12],[55.67004748620093,-21.383445085957646,12.399999618530273],[55.67008512094617,-21.38341256417334,13.199999809265137],[55.670090820640326,-21.383411725983024,13.199999809265137],[55.67009308375418,-21.383412647992373,13.199999809265137],[55.67009484395385,-21.383412647992373,13.199999809265137],[55.670094760134816,-21.383412899449468,13.199999809265137],[55.67014102824032,-21.383414324373007,13.199999809265137],[55.67023364827037,-21.38341147452593,13.199999809265137],[55.67028067074716,-21.383405020460486,13.600000381469727],[55.670311097055674,-21.383392363786697,14],[55.670347306877375,-21.383388675749302,13.800000190734863],[55.670389384031296,-21.38338129967451,13.600000381469727],[55.67047965712845,-21.38335489667952,13.199999809265137],[55.67056733183563,-21.38334257528186,12.600000381469727],[55.670628352090716,-21.38333293609321,12.399999618530273],[55.670638494193554,-21.383329583331943,12.399999618530273],[55.67067235708237,-21.38332019560039,12.199999809265137],[55.670776292681694,-21.383303934708238,11.800000190734863],[55.67088441923261,-21.3832816388458,11.399999618530273],[55.67092222161591,-21.383278034627438,11.399999618530273],[55.67093437537551,-21.383276442065835,11.399999618530273],[55.67094795405865,-21.38327811844647,11.399999618530273],[55.67099791020155,-21.383284237235785,11.399999618530273],[55.67107862792909,-21.383267138153315,11.600000381469727],[55.67116554826498,-21.383228413760662,12.199999809265137],[55.6712559890002,-21.38316630385816,11.399999618530273],[55.67138750106096,-21.383098578080535,10],[55.671504931524396,-21.38302900828421,9],[55.67158372141421,-21.382962288334966,8.399999618530273],[55.67164834588766,-21.38290537521243,7.800000190734863],[55.67171229980886,-21.382835302501917,7.400000095367432],[55.67171959206462,-21.382829854264855,7.400000095367432],[55.671754963696,-21.382802948355675,7.400000095367432],[55.67174658179283,-21.3827982544899,7.599999904632568],[55.67174457013607,-21.382792722433805,7.599999904632568],[55.67174607887864,-21.382791297510266,7.599999904632568],[55.67174683324993,-21.382791381329298,7.599999904632568],[55.671748677268624,-21.382793309167027,7.599999904632568],[55.671748761087656,-21.38279339298606,7.599999904632568],[55.67180131562054,-21.38276070356369,7.599999904632568],[55.671877171844244,-21.382698342204094,8],[55.671919668093324,-21.3826341368258,8.399999618530273],[55.67195998504758,-21.382574290037155,9],[55.671962667256594,-21.382552832365036,9.199999809265137],[55.67194280214608,-21.38249675743282,10],[55.67194623872638,-21.382486699149013,10.199999809265137],[55.67194548435509,-21.382427103817463,11.399999618530273],[55.67195068113506,-21.382374381646514,12.199999809265137],[55.67196233198047,-21.382335741072893,12.800000190734863],[55.67200650461018,-21.382262147963047,13.600000381469727],[55.67200650461018,-21.382251754403114,13.800000190734863],[55.67200256511569,-21.382229709997773,14.199999809265137],[55.67202737554908,-21.382180424407125,14.800000190734863],[55.672050174325705,-21.382146812975407,15.199999809265137],[55.67208454012871,-21.38209559954703,16],[55.672089820727706,-21.382079673931003,16.399999618530273],[55.67209426313639,-21.38207321986556,16.399999618530273],[55.67210658453405,-21.382057713344693,16.600000381469727],[55.672115636989474,-21.3820521812886,16.600000381469727],[55.67218227311969,-21.3820434641093,16.200000762939453],[55.67219467833638,-21.3820418715477,16],[55.67220130003989,-21.382036926224828,16],[55.67225703969598,-21.381973726674914,16.799999237060547],[55.67227120511234,-21.38196517713368,16.799999237060547],[55.672272546216846,-21.381963584572077,16.799999237060547],[55.672276904806495,-21.38195059262216,17],[55.67230029031634,-21.381916059181094,17.399999618530273],[55.672318898141384,-21.381901893764734,17.200000762939453],[55.672396095469594,-21.38187574222684,16.399999618530273],[55.67247362807393,-21.381878005340695,15],[55.67255258560181,-21.381854116916656,14],[55.672586280852556,-21.381846573203802,13.600000381469727],[55.67263665609062,-21.381830060854554,13.199999809265137],[55.67266473546624,-21.381806675344706,13.199999809265137],[55.67267864942551,-21.381790498271585,13.399999618530273],[55.67263087257743,-21.381738865748048,15],[55.67263104021549,-21.381717072799802,15.399999618530273],[55.67265149205923,-21.381682874634862,15.600000381469727],[55.67272969521582,-21.381658650934696,15],[55.67281074821949,-21.381638618186116,14.199999809265137],[55.67287285812199,-21.381640629842877,13.399999618530273],[55.67289624363184,-21.381649766117334,13],[55.672920886427164,-21.38163727708161,13],[55.67296472378075,-21.381643395870924,12.399999618530273],[55.67300613038242,-21.381620932370424,12.199999809265137],[55.67304200492799,-21.381589164957404,12],[55.67304728552699,-21.38158304616809,12],[55.67305122502148,-21.38157717883587,12],[55.673064552247524,-21.381564438343048,12],[55.67309187725186,-21.381563935428858,11.600000381469727],[55.67309221252799,-21.381561504676938,11.600000381469727],[55.673091458156705,-21.381561672315,11.600000381469727],[55.67309279926121,-21.38156209141016,11.600000381469727],[55.67309363745153,-21.381563348695636,11.600000381469727],[55.673093385994434,-21.38156301341951,11.600000381469727],[55.67313286475837,-21.381528982892632,11.600000381469727],[55.673220958560705,-21.381475757807493,11.800000190734863],[55.67324275150895,-21.38147123157978,11.600000381469727],[55.67328575067222,-21.38144717551768,11.600000381469727],[55.67329689860344,-21.381445666775107,11.600000381469727],[55.673339730128646,-21.381447929888964,11.399999618530273],[55.673381723463535,-21.38145857490599,10.800000190734863],[55.67338666878641,-21.381458239629865,10.800000190734863],[55.673450538888574,-21.381441308185458,10.800000190734863],[55.673538548871875,-21.38144918717444,10.399999618530273],[55.67353846505284,-21.381450947374105,10.399999618530273],[55.67353963851929,-21.38145019300282,10.399999618530273],[55.67353963851929,-21.38145019300282,10.399999618530273],[55.67353963851929,-21.38145019300282,10.399999618530273],[55.67356310784817,-21.381436111405492,10.399999618530273],[55.673603089526296,-21.381383389234543,11],[55.67364742979407,-21.381348352879286,11.199999809265137],[55.673735942691565,-21.381317926570773,10.800000190734863],[55.673853289335966,-21.38129336759448,10],[55.67396091297269,-21.381241902709007,9.399999618530273],[55.67405135370791,-21.381187671795487,8.199999809265137],[55.67413098178804,-21.381132937967777,7.199999809265137],[55.67416517995298,-21.381105445325375,6.800000190734863],[55.67418948747218,-21.381067978218198,6.400000095367432],[55.67420298233628,-21.381058422848582,6.199999809265137],[55.67427598871291,-21.38104224577546,5],[55.67429283633828,-21.381034953519702,4.599999904632568],[55.67430172115564,-21.380993044003844,4.400000095367432],[55.67430649884045,-21.38091215863824,4.599999904632568],[55.674298871308565,-21.380851725116372,5],[55.67430046387017,-21.38084233738482,5],[55.674297865480185,-21.380804954096675,5.199999809265137],[55.674297865480185,-21.380795650184155,5.199999809265137],[55.67429970949888,-21.380772264674306,5.199999809265137],[55.674289567396045,-21.38070462271571,5.800000190734863],[55.67430289462209,-21.380654498934746,5.800000190734863],[55.674314042553306,-21.380620719864964,5.800000190734863],[55.674346229061484,-21.38056674040854,5.400000095367432],[55.674366261810064,-21.38053053058684,5.199999809265137],[55.67438126541674,-21.380503121763468,5],[55.67435871809721,-21.380433635786176,6],[55.67435184493661,-21.38042449951172,6.199999809265137],[55.674299877136946,-21.380348643288016,7.400000095367432],[55.6742849573493,-21.380301620811224,7.800000190734863],[55.67428939975798,-21.38026532717049,7.599999904632568],[55.674303313717246,-21.380196595564485,7.800000190734863],[55.67431068979204,-21.38016801327467,7.800000190734863],[55.674326196312904,-21.380124343559146,7.800000190734863],[55.67433021962643,-21.380116464570165,7.800000190734863],[55.67432535812259,-21.380110513418913,7.800000190734863],[55.67432099953294,-21.38010892085731,8],[55.67431806586683,-21.38009416870773,8],[55.674315970391035,-21.38009869493544,8],[55.67435620352626,-21.380088049918413,7.599999904632568],[55.67439048551023,-21.380063155665994,7.199999809265137],[55.67440951243043,-21.38002233579755,7],[55.67441722378135,-21.380014456808567,7],[55.67443298175931,-21.380001045763493,6.800000190734863],[55.67443147301674,-21.379987467080355,6.800000190734863],[55.674436669796705,-21.37997799552977,6.800000190734863],[55.674437591806054,-21.3799764867872,6.800000190734863],[55.674437591806054,-21.3799764867872,6.800000190734863],[55.674437591806054,-21.37997657060623,6.800000190734863],[55.67444329150021,-21.3799764867872,6.599999904632568],[55.67446684464812,-21.379964584484696,6.400000095367432],[55.67447648383677,-21.379960980266333,6.400000095367432],[55.67452199757099,-21.379930386319757,6.400000095367432],[55.674532474949956,-21.379857128486037,7.199999809265137],[55.67456055432558,-21.379828127101064,7.599999904632568],[55.67458410747349,-21.3798313960433,7.199999809265137],[55.67468108609319,-21.379819912835956,7],[55.674685863777995,-21.379818487912416,7],[55.67471209913492,-21.379803651943803,7],[55.67472081631422,-21.379807591438293,6.800000190734863],[55.67470128647983,-21.379819745197892,6.800000190734863],[55.67467446438968,-21.379829216748476,6.800000190734863],[55.67464839667082,-21.37982737272978,7],[55.674614030867815,-21.37982946820557,7.199999809265137],[55.67458502948284,-21.379825696349144,7.400000095367432],[55.674555357545614,-21.37980398721993,7.800000190734863],[55.67455653101206,-21.379809016361833,7.800000190734863],[55.67456290125847,-21.3797795958817,8.199999809265137],[55.67450975999236,-21.379722179844975,9.399999618530273],[55.67447698675096,-21.379679180681705,10.199999809265137],[55.674474723637104,-21.37961790896952,11],[55.67446667701006,-21.37956501916051,11.600000381469727],[55.67446424625814,-21.379543896764517,11.800000190734863],[55.67447455599904,-21.379534006118774,11.800000190734863],[55.67456248216331,-21.3795118778944,11],[55.674614449962974,-21.379468962550163,10.600000381469727],[55.6746028829366,-21.379394195973873,11.600000381469727],[55.67461914382875,-21.379359075799584,11.600000381469727],[55.67464169114828,-21.379340887069702,11.399999618530273],[55.67466214299202,-21.37929830700159,11.399999618530273],[55.674715703353286,-21.379261845722795,10.800000190734863],[55.674750404432416,-21.379219349473715,10.600000381469727],[55.67483179271221,-21.379168471321464,10],[55.674897423014045,-21.379168136045337,9.399999618530273],[55.674919886514544,-21.37919277884066,9],[55.67494260147214,-21.379229994490743,8.399999618530273],[55.674956012517214,-21.379235945641994,8.199999809265137],[55.67496280185878,-21.37923971749842,8.199999809265137],[55.674961460754275,-21.37923954986036,8.199999809265137],[55.674961460754275,-21.37923954986036,8.199999809265137],[55.67496313713491,-21.379238963127136,8.199999809265137],[55.6749826669693,-21.37923619709909,8.199999809265137],[55.67505466751754,-21.379232928156853,7.599999904632568],[55.675095822662115,-21.37918498367071,7.400000095367432],[55.67513287067413,-21.379125639796257,7.400000095367432],[55.6751499697566,-21.379070738330483,7.400000095367432],[55.675212163478136,-21.379037629812956,7.199999809265137],[55.67524896003306,-21.37901784852147,7],[55.67525834776461,-21.379012316465378,7],[55.675268238410354,-21.379014076665044,6.800000190734863],[55.675277877599,-21.37901441194117,6.800000190734863],[55.67528651095927,-21.379005694761872,6.800000190734863],[55.67529388703406,-21.37898758985102,6.800000190734863],[55.67530478350818,-21.378926318138838,7],[55.67530998028815,-21.378912068903446,7],[55.675328085199,-21.37887409888208,7],[55.67533076740801,-21.37885993346572,7],[55.675332862883806,-21.378834452480078,7.199999809265137],[55.67534568719566,-21.378809893503785,7.199999809265137],[55.67538424395025,-21.378781395033002,7.199999809265137],[55.67546680569649,-21.378734204918146,6.800000190734863],[55.67549144849181,-21.378710651770234,6.800000190734863],[55.6755387224257,-21.378667652606964,6.800000190734863],[55.67555146291852,-21.37866111472249,6.800000190734863],[55.675574177876115,-21.378640746697783,6.800000190734863],[55.675590354949236,-21.378622138872743,6.800000190734863],[55.67566285841167,-21.378565058112144,6.599999904632568],[55.67567450925708,-21.378560280427337,6.599999904632568],[55.67572245374322,-21.378542510792613,6.400000095367432],[55.67573846317828,-21.378546031191945,6.199999809265137],[55.67576159723103,-21.378547875210643,6],[55.67578892223537,-21.378542175516486,6],[55.67581775598228,-21.37853018939495,5.800000190734863],[55.67586754448712,-21.37851166538894,5.599999904632568],[55.67590517923236,-21.378486771136522,5.599999904632568],[55.67591104656458,-21.37848031707108,5.599999904632568],[55.67593024112284,-21.378474785014987,5.800000190734863],[55.6759515311569,-21.378471264615655,5.800000190734863],[55.67602780647576,-21.378450142219663,5.800000190734863],[55.67608832381666,-21.378451734781265,5.599999904632568],[55.67617440596223,-21.3784222304821,5.599999904632568],[55.676194773986936,-21.378414100036025,5.800000190734863],[55.67621539346874,-21.37841041199863,5.800000190734863],[55.67624665796757,-21.378403790295124,5.800000190734863],[55.676261745393276,-21.37839867733419,6],[55.67629108205438,-21.37839666567743,6],[55.67633274011314,-21.378369173035026,6.199999809265137],[55.67634447477758,-21.378366155549884,6.199999809265137],[55.6763743981719,-21.378364814445376,6.199999809265137],[55.67638504318893,-21.378357438370585,6.400000095367432],[55.676397029310465,-21.378348218277097,6.400000095367432],[55.67643064074218,-21.378340171650052,6.400000095367432],[55.676487972959876,-21.378315277397633,6.400000095367432],[55.67652720026672,-21.378292981535196,6.400000095367432],[55.676556369289756,-21.378285689279437,6.199999809265137],[55.67656324245036,-21.378283007070422,6.199999809265137],[55.67661479115486,-21.378272362053394,6],[55.67671000957489,-21.378244953230023,5.400000095367432],[55.67681805230677,-21.378190387040377,4.400000095367432],[55.67682777531445,-21.378181166946888,4.199999809265137],[55.67690497264266,-21.378110256046057,3.5999999046325684],[55.67696884274483,-21.378029957413673,3.200000047683716],[55.67697663791478,-21.37793943285942,3.5999999046325684],[55.67703455686569,-21.377835161983967,3.4000000953674316],[55.677054254338145,-21.37773558497429,3.5999999046325684],[55.67705215886235,-21.377724772319198,3.5999999046325684],[55.677052829414606,-21.3777160551399,3.5999999046325684],[55.67704134620726,-21.3776901550591,3.799999952316284],[55.67704218439758,-21.377678336575627,3.799999952316284],[55.67703916691244,-21.377642462030053,4],[55.67704075947404,-21.377638773992658,4],[55.67705165594816,-21.377629805356264,4],[55.677050314843655,-21.377634247764945,4],[55.67705065011978,-21.37763600796461,4],[55.67704712972045,-21.37765495106578,4],[55.67706246860325,-21.37771563604474,3.5999999046325684],[55.67702768370509,-21.377877574414015,3.200000047683716],[55.677004884928465,-21.37796483002603,3.200000047683716],[55.67698652856052,-21.378034399822354,3],[55.676943780854344,-21.378087121993303,3.200000047683716],[55.67692156881094,-21.378112100064754,3.4000000953674316],[55.676875384524465,-21.378157697618008,3.799999952316284],[55.67686188966036,-21.378165995702147,3.799999952316284],[55.67670506425202,-21.378228776156902,5.599999904632568],[55.67649777978659,-21.3782737031579,6.800000190734863],[55.67628253251314,-21.378335310146213,6.599999904632568],[55.676204077899456,-21.378357941284776,6.400000095367432],[55.67608161829412,-21.37837956659496,6.400000095367432],[55.67583619616926,-21.378371017053723,6.800000190734863],[55.67562094889581,-21.378409825265408,8],[55.67555045709014,-21.378418123349547,8.800000190734863],[55.67547862417996,-21.378420470282435,9.399999618530273],[55.67540637217462,-21.37841334566474,9.800000190734863],[55.67520260810852,-21.378384763374925,10.800000190734863],[55.67513479851186,-21.378375040367246,12]]]},properties:{name:"Sentier du cap jaune - Vincendo",type:"walking"}}]}}],Je={hikes:Ye,getHikeById:e=>Ye.filter((t=>t.id===e))[0]},$e=t.createContext(Je);var Qe,et;function tt(){return tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},tt.apply(this,arguments)}function nt(e,n){let{title:i,titleId:r,...o}=e;return t.createElement("svg",tt({width:"800px",height:"800px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},o),i?t.createElement("title",{id:r},i):null,Qe||(Qe=t.createElement("path",{d:"M23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12ZM3.00683 12C3.00683 16.9668 7.03321 20.9932 12 20.9932C16.9668 20.9932 20.9932 16.9668 20.9932 12C20.9932 7.03321 16.9668 3.00683 12 3.00683C7.03321 3.00683 3.00683 7.03321 3.00683 12Z",fill:"#0F0F0F"})),et||(et=t.createElement("path",{d:"M12 5C11.4477 5 11 5.44771 11 6V12.4667C11 12.4667 11 12.7274 11.1267 12.9235C11.2115 13.0898 11.3437 13.2343 11.5174 13.3346L16.1372 16.0019C16.6155 16.278 17.2271 16.1141 17.5032 15.6358C17.7793 15.1575 17.6155 14.5459 17.1372 14.2698L13 11.8812V6C13 5.44772 12.5523 5 12 5Z",fill:"#0F0F0F"})))}const it=t.forwardRef(nt),rt=(n.p,e=>{let{map:n}=e;const{hikes:i}=(0,t.useContext)($e),{showHikes:r,highlightMarker:o,unHighlightMarker:a}=(0,t.useContext)(Xe),s=Y();return(0,t.useEffect)((()=>{r(n,i,s)})),(0,Oe.jsx)("section",{className:"hikes",children:(0,Oe.jsx)("ul",{children:i.map((e=>(0,Oe.jsx)("li",{className:"item",children:(0,Oe.jsxs)("a",{href:"/reunion/hikes/"+e.id,onClick:t=>{t.preventDefault(),s("/reunion/hikes/"+e.id)},onMouseOver:t=>{o(n,e.id,[e.position.longitude,e.position.latitude])},onMouseLeave:t=>{a(n,e.id)},children:[(0,Oe.jsx)("img",{src:e.photos[0].src,alt:e.photos[0].title}),(0,Oe.jsxs)("div",{className:"infos",children:[(0,Oe.jsx)("h3",{className:"title",children:e.title}),(0,Oe.jsxs)("ul",{children:[(0,Oe.jsxs)("li",{children:[(0,Oe.jsx)("span",{children:(0,Oe.jsx)(_e,{})}),(0,Oe.jsx)("span",{children:e.distance})]}),(0,Oe.jsxs)("li",{children:[(0,Oe.jsx)("span",{children:(0,Oe.jsx)(it,{})}),(0,Oe.jsx)("span",{children:e.duration})]})]})]})]})},e.id)))})})});var ot=n(6854);ot.domToReact,ot.htmlToDOM,ot.attributesToProps,ot.Comment,ot.Element,ot.ProcessingInstruction,ot.Text;const at=ot;var st=n(4956),lt=n.n(st),ct=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,i){return e[0]===t&&(n=i,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(t,n){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,i=e(n,t);~i&&n.splice(i,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];e.call(t,r[1],r[0])}},t}()}(),ut="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,ht="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),dt="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(ht):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var pt=["top","right","bottom","left","width","height","size","weight"],ft="undefined"!==typeof MutationObserver,mt=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,i=!1,r=0;function o(){n&&(n=!1,e()),i&&s()}function a(){dt(o)}function s(){var e=Date.now();if(n){if(e-r<2)return;i=!0}else n=!0,i=!1,setTimeout(a,t);r=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){ut&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),ft?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){ut&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;pt.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),gt=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},_t=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||ht},yt=Tt(0,0,0,0);function vt(e){return parseFloat(e)||0}function xt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+vt(e["border-"+n+"-width"])}),0)}function bt(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return yt;var i=_t(e).getComputedStyle(e),r=function(e){for(var t={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var r=i[n],o=e["padding-"+r];t[r]=vt(o)}return t}(i),o=r.left+r.right,a=r.top+r.bottom,s=vt(i.width),l=vt(i.height);if("border-box"===i.boxSizing&&(Math.round(s+o)!==t&&(s-=xt(i,"left","right")+o),Math.round(l+a)!==n&&(l-=xt(i,"top","bottom")+a)),!function(e){return e===_t(e).document.documentElement}(e)){var c=Math.round(s+o)-t,u=Math.round(l+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return Tt(r.left,r.top,s,l)}var wt="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof _t(e).SVGGraphicsElement}:function(e){return e instanceof _t(e).SVGElement&&"function"===typeof e.getBBox};function Et(e){return ut?wt(e)?function(e){var t=e.getBBox();return Tt(0,0,t.width,t.height)}(e):bt(e):yt}function Tt(e,t,n,i){return{x:e,y:t,width:n,height:i}}var kt=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Tt(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Et(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),St=function(e,t){var n=function(e){var t=e.x,n=e.y,i=e.width,r=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return gt(a,{x:t,y:n,width:i,height:r,top:n,right:t+i,bottom:r+n,left:t}),a}(t);gt(this,{target:e,contentRect:n})},Ct=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new ct,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof _t(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new kt(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof _t(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new St(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Mt="undefined"!==typeof WeakMap?new WeakMap:new ct,zt=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=mt.getInstance(),i=new Ct(t,n,this);Mt.set(this,i)};["observe","unobserve","disconnect"].forEach((function(e){zt.prototype[e]=function(){var t;return(t=Mt.get(this))[e].apply(t,arguments)}}));const At="undefined"!==typeof ht.ResizeObserver?ht.ResizeObserver:zt;function Pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function It(){return It=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},It.apply(this,arguments)}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){Pt(e,t,n[t])}))}return e}function Dt(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Rt={cursor:"pointer"},Bt=function(e){var n=e.index,i=e.onClick,r=e.photo,o=e.margin,a=e.direction,s=e.top,l=e.left,c=e.key,u={margin:o,display:"block"};"column"===a&&(u.position="absolute",u.left=l,u.top=s);return t.createElement("img",It({key:c,style:i?Lt({},u,Rt):u},r,{onClick:i?function(e){i(e,{photo:r,index:n})}:null}))},Ft=lt().shape({key:lt().string,src:lt().string.isRequired,width:lt().number.isRequired,height:lt().number.isRequired,alt:lt().string,title:lt().string,srcSet:lt().oneOfType([lt().string,lt().array]),sizes:lt().oneOfType([lt().string,lt().array])});Bt.propTypes={index:lt().number.isRequired,onClick:lt().func,photo:Ft.isRequired,margin:lt().number,top:function(e){if("column"===e.direction&&"number"!==typeof e.top)return new Error("top is a required number when direction is set to `column`")},left:function(e){if("column"===e.direction&&"number"!==typeof e.left)return new Error("left is a required number when direction is set to `column`")},direction:lt().string};var jt=function(e,t){return t||(t=0),Number(Math.round(e+"e"+t)+"e-"+t)},Nt=function(e){var t=e.width,n=e.height;return jt(t/n,2)};function Ut(e){this.content=[],this.scoreFunction=e}Ut.prototype={push:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e},remove:function(e){for(var t=this.content.length,n=0;n<t;n++)if(this.content[n]==e){var i=this.content.pop();if(n==t-1)break;this.content[n]=i,this.bubbleUp(n),this.sinkDown(n);break}},size:function(){return this.content.length},bubbleUp:function(e){for(var t=this.content[e],n=this.scoreFunction(t);e>0;){var i=Math.floor((e+1)/2)-1,r=this.content[i];if(n>=this.scoreFunction(r))break;this.content[i]=t,this.content[e]=r,e=i}},sinkDown:function(e){for(var t=this.content.length,n=this.content[e],i=this.scoreFunction(n);;){var r=2*(e+1),o=r-1,a=null;if(o<t){var s=this.content[o],l=this.scoreFunction(s);l<i&&(a=o)}if(r<t){var c=this.content[r];this.scoreFunction(c)<(null==a?i:l)&&(a=r)}if(null==a)break;this.content[e]=this.content[a],this.content[a]=n,e=a}}};var Vt=function(e,t,n){var i=function(e,t,n){var i={},r={},o={};o[t]=0;var a=new Ut((function(e){return e.weight}));for(a.push({id:t,weight:0});a.size();){var s=a.pop(),l=s.id;if(!r[l]){var c=e(l)||{};for(var u in r[l]=1,c){var h=s.weight+c[u];("undefined"===typeof o[u]||o[u]>h)&&(o[u]=h,a.push({id:u,weight:h}),i[u]=l)}}}if("undefined"===typeof o[n])throw new Error("There is no path from ".concat(t," to ").concat(n));return i}(e,t,n);return function(e,t){for(var n=[],i=t;i;)n.push(i),e[i],i=e[i];return n.reverse()}(i,n)},qt=function(e,t,n){return(t-e.length*(2*n))/e.reduce((function(e,t){return e+Nt(t)}),0)},Gt=function(e,t,n,i,r,o){var a=e.slice(t,n),s=qt(a,i,o);return Math.pow(Math.abs(s-r),2)},Wt=function(e){var t=e.containerWidth,n=e.limitNodeSearch,i=e.targetRowHeight,r=e.margin,o=e.photos,a=function(e,t,n,i,r){return function(o){var a={};a[+(o=+o)]=0;for(var s=o+1;s<n.length+1&&!(s-o>i);++s)a[s.toString()]=Gt(n,o,s,t,e,r);return a}}(i,t,o,n,r),s=Vt(a,"0",o.length);s=s.map((function(e){return+e}));for(var l=1;l<s.length;++l)for(var c=o.slice(s[l-1],s[l]),u=qt(c,t,r),h=s[l-1];h<s[l];++h)o[h].width=jt(u*Nt(o[h]),1),o[h].height=u;return o},Zt=t.memo((function(e){var n=e.photos,i=e.onClick,r=e.direction,o=e.margin,a=e.limitNodeSearch,s=e.targetRowHeight,l=e.columns,c=e.renderImage,u=Ot((0,t.useState)(0),2),h=u[0],d=u[1],p=(0,t.useRef)(null);(0,t.useLayoutEffect)((function(){var e=null,t=new At((function(t){var n=t[0].contentRect.width;h!==n&&(e=window.requestAnimationFrame((function(){d(Math.floor(n))})))}));return t.observe(p.current),function(){t.disconnect(),window.cancelAnimationFrame(e)}}));var f=function(e,t){var r=t.index;i(e,{index:r,photo:n[r],previous:n[r-1]||null,next:n[r+1]||null})};if(!h)return t.createElement("div",{ref:p},"\xa0");var m,g,_=h-1;"row"===r&&("function"===typeof a&&(a=a(h)),"function"===typeof s&&(s=s(h)),void 0===a&&(a=2,h>=450&&(a=function(e){var t=e.targetRowHeight,n=e.containerWidth;return jt(n/t/1.5)+8}({containerWidth:h,targetRowHeight:s}))),m={display:"flex",flexWrap:"wrap",flexDirection:"row"},g=Wt({containerWidth:_,limitNodeSearch:a,targetRowHeight:s,margin:o,photos:n})),"column"===r&&("function"===typeof l&&(l=l(h)),void 0===l&&(l=1,h>=500&&(l=2),h>=900&&(l=3),h>=1500&&(l=4)),m={position:"relative"},g=function(e){for(var t=e.photos,n=e.columns,i=e.containerWidth,r=e.margin,o=(i-2*r*n)/n,a=t.map((function(e){var t=e.height/e.width*o;return Lt({},e,{width:jt(o,1),height:jt(t,1)})})),s=[],l=[],c=0;c<n;c++)s[c]=jt(c*(o+2*r),1),l[c]=0;var u=a.map((function(e){var t=l.reduce((function(e,t,n){return t<l[e]?n:e}),0);e.top=l[t],e.left=s[t],l[t]=l[t]+e.height+2*r;var n=l.reduce((function(e,t,n){return t>l[e]?n:e}),0);return e.containerHeight=l[n],e}));return u}({containerWidth:_,columns:l,margin:o,photos:n}),m.height=g[g.length-1].containerHeight);var y=c||Bt;return t.createElement("div",{className:"react-photo-gallery--gallery"},t.createElement("div",{ref:p,style:m},g.map((function(e,t){var n=e.left,a=e.top,s=e.containerHeight,l=Dt(e,["left","top","containerHeight"]);return y({left:n,top:a,key:e.key||e.src,containerHeight:s,index:t,margin:o,direction:r,onClick:i?f:null,photo:l})}))))}));Zt.propTypes={photos:lt().arrayOf(Ft).isRequired,direction:lt().string,onClick:lt().func,columns:lt().oneOfType([lt().func,lt().number]),targetRowHeight:lt().oneOfType([lt().func,lt().number]),limitNodeSearch:lt().oneOfType([lt().func,lt().number]),margin:lt().number,renderImage:lt().func},Zt.defaultProps={margin:2,direction:"row",targetRowHeight:300};const Ht=Zt;var Xt=n(4164),Kt=n(1877);const Yt=function(e){var t=[],n=null,i=function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];t=r,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return i.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},i};var Jt=n(5870),$t=n(9647);$t.domToReact,$t.htmlToDOM,$t.attributesToProps,$t.Element;const Qt=$t;var en=function(){return en=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},en.apply(this,arguments)};function tn(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}Object.create;function nn(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}function rn(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var on="right-scroll-bar-position",an="width-before-scroll-bar";function sn(e,n){return function(e,n){var i=(0,t.useState)((function(){return{value:e,callback:n,facade:{get current(){return i.value},set current(e){var t=i.value;t!==e&&(i.value=e,i.callback(e,t))}}}}))[0];return i.callback=n,i.facade}(n||null,(function(t){return e.forEach((function(e){return function(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}(e,t)}))}))}function ln(e){return e}function cn(e,t){void 0===t&&(t=ln);var n=[],i=!1;return{read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var r=t(e,i);return n.push(r),function(){n=n.filter((function(e){return e!==r}))}},assignSyncMedium:function(e){for(i=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){i=!0;var t=[];if(n.length){var r=n;n=[],r.forEach(e),t=n}var o=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(o)};a(),n={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}}}function un(e,t){return void 0===t&&(t=ln),cn(e,t)}function hn(e){void 0===e&&(e={});var t=cn(null);return t.options=en({async:!0,ssr:!1},e),t}var dn=hn(),pn=function(){},fn=t.forwardRef((function(e,n){var i=t.useRef(null),r=t.useState({onScrollCapture:pn,onWheelCapture:pn,onTouchMoveCapture:pn}),o=r[0],a=r[1],s=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,d=e.shards,p=e.sideCar,f=e.noIsolation,m=e.inert,g=e.allowPinchZoom,_=e.as,y=void 0===_?"div":_,v=e.gapMode,x=tn(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=p,w=sn([i,n]),E=en(en({},x),o);return t.createElement(t.Fragment,null,h&&t.createElement(b,{sideCar:dn,removeScrollBar:u,shards:d,noIsolation:f,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:i,gapMode:v}),s?t.cloneElement(t.Children.only(l),en(en({},E),{ref:w})):t.createElement(y,en({},E,{className:c,ref:w}),l))}));function mn(){return mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},mn.apply(this,arguments)}fn.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},fn.classNames={fullWidth:an,zeroRight:on};var gn="data-focus-lock",_n="data-focus-lock-disabled",yn={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},vn=function(e){var n=e.children;return t.createElement(t.Fragment,null,t.createElement("div",{key:"guard-first","data-focus-guard":!0,"data-focus-auto-guard":!0,style:yn}),n,n&&t.createElement("div",{key:"guard-last","data-focus-guard":!0,"data-focus-auto-guard":!0,style:yn}))};vn.propTypes={},vn.defaultProps={children:null};var xn=un({},(function(e){return{target:e.target,currentTarget:e.currentTarget}})),bn=un(),wn=un(),En=hn({async:!0}),Tn=[],kn=t.forwardRef((function(e,n){var i,r=t.useState(),o=r[0],a=r[1],s=t.useRef(),l=t.useRef(!1),c=t.useRef(null),u=e.children,h=e.disabled,d=e.noFocusGuards,p=e.persistentFocus,f=e.crossFrame,m=e.autoFocus,g=(e.allowTextSelection,e.group),_=e.className,y=e.whiteList,v=e.hasPositiveIndices,x=e.shards,b=void 0===x?Tn:x,w=e.as,E=void 0===w?"div":w,T=e.lockProps,k=void 0===T?{}:T,S=e.sideCar,C=e.returnFocus,M=e.focusOptions,z=e.onActivation,A=e.onDeactivation,P=t.useState({})[0],I=t.useCallback((function(){c.current=c.current||document&&document.activeElement,s.current&&z&&z(s.current),l.current=!0}),[z]),L=t.useCallback((function(){l.current=!1,A&&A(s.current)}),[A]);(0,t.useEffect)((function(){h||(c.current=null)}),[]);var D=t.useCallback((function(e){var t=c.current;if(t&&t.focus){var n="function"===typeof C?C(t):C;if(n){var i="object"===typeof n?n:void 0;c.current=null,e?Promise.resolve().then((function(){return t.focus(i)})):t.focus(i)}}}),[C]),O=t.useCallback((function(e){l.current&&xn.useMedium(e)}),[]),R=bn.useMedium,B=t.useCallback((function(e){s.current!==e&&(s.current=e,a(e))}),[]);var F=mn(((i={})[_n]=h&&"disabled",i[gn]=g,i),k),j=!0!==d,N=j&&"tail"!==d,U=sn([n,B]);return t.createElement(t.Fragment,null,j&&[t.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:h?-1:0,style:yn}),v?t.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:h?-1:1,style:yn}):null],!h&&t.createElement(S,{id:P,sideCar:En,observed:o,disabled:h,persistentFocus:p,crossFrame:f,autoFocus:m,whiteList:y,shards:b,onActivation:I,onDeactivation:L,returnFocus:D,focusOptions:M}),t.createElement(E,mn({ref:U},F,{className:_,onBlur:R,onFocus:O}),u),N&&t.createElement("div",{"data-focus-guard":!0,tabIndex:h?-1:0,style:yn}))}));kn.propTypes={},kn.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const Sn=kn;var Cn=hn(),Mn="data-focus-on-hidden",zn={preventScroll:!0},An=t.forwardRef((function(e,n){var i=t.useState(!1),r=i[0],o=i[1],a=e.children,s=e.autoFocus,l=e.shards,c=e.crossFrame,u=e.enabled,h=void 0===u||u,d=e.scrollLock,p=void 0===d||d,f=e.focusLock,m=void 0===f||f,g=e.returnFocus,_=void 0===g||g,y=e.inert,v=e.allowPinchZoom,x=e.sideCar,b=e.className,w=e.shouldIgnore,E=e.preventScrollOnFocus,T=e.style,k=e.as,S=e.gapMode,C=tn(e,["children","autoFocus","shards","crossFrame","enabled","scrollLock","focusLock","returnFocus","inert","allowPinchZoom","sideCar","className","shouldIgnore","preventScrollOnFocus","style","as","gapMode"]),M=x,z=r.onActivation,A=r.onDeactivation,P=tn(r,["onActivation","onDeactivation"]),I=en(en({},P),{as:k,style:T,sideCar:x,shards:l,allowPinchZoom:v,gapMode:S,inert:y,enabled:h&&p});return t.createElement(t.Fragment,null,t.createElement(Sn,{ref:n,sideCar:x,disabled:!(r&&h&&m),returnFocus:_,autoFocus:s,shards:l,crossFrame:c,onActivation:z,onDeactivation:A,className:b,whiteList:w,lockProps:I,focusOptions:E?zn:void 0,as:fn},a),h&&t.createElement(M,en({},C,{sideCar:Cn,setLockProps:o,shards:l})))})),Pn=function(e){var n=e.sideCar,i=tn(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=n.read();if(!r)throw new Error("Sidecar medium not found");return t.createElement(r,en({},i))};function In(e,t){return e.useMedium(t),Pn}function Ln(e,t){return Ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ln(e,t)}function Dn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ln(e,t)}function On(e){return On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},On(e)}function Rn(e){var t=function(e,t){if("object"!==On(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==On(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===On(t)?t:String(t)}Pn.isSideCarExport=!0;const Bn=function(e,n){return function(i){var r,o=[];function a(){r=e(o.map((function(e){return e.props}))),n(r)}var s,l,c,u=function(e){function n(){return e.apply(this,arguments)||this}Dn(n,e),n.peek=function(){return r};var s=n.prototype;return s.componentDidMount=function(){o.push(this),a()},s.componentDidUpdate=function(){a()},s.componentWillUnmount=function(){var e=o.indexOf(this);o.splice(e,1),a()},s.render=function(){return t.createElement(i,this.props)},n}(t.PureComponent);return s=u,l="displayName",c="SideEffect("+function(e){return e.displayName||e.name||"Component"}(i)+")",(l=Rn(l))in s?Object.defineProperty(s,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[l]=c,u}};var Fn=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},jn=function(e){return Array.isArray(e)?e:[e]},Nn=function(e){return Array.isArray(e)?e[0]:e},Un=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},Vn=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},qn=function(e,t){return!e||Vn(e)||!function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!(!t||!t.getPropertyValue)&&("none"===t.getPropertyValue("display")||"hidden"===t.getPropertyValue("visibility"))}(e)&&t(Un(e))},Gn=function(e,t){var n=e.get(t);if(void 0!==n)return n;var i=qn(t,Gn.bind(void 0,e));return e.set(t,i),i},Wn=function(e,t){var n=e.get(t);if(void 0!==n)return n;var i=function(e,t){return!(e&&!Vn(e))||!!Kn(e)&&t(Un(e))}(t,Wn.bind(void 0,e));return e.set(t,i),i},Zn=function(e){return e.dataset},Hn=function(e){return"INPUT"===e.tagName},Xn=function(e){return Hn(e)&&"radio"===e.type},Kn=function(e){var t=e.getAttribute("data-no-autofocus");return![!0,"true",""].includes(t)},Yn=function(e){var t;return Boolean(e&&(null===(t=Zn(e))||void 0===t?void 0:t.focusGuard))},Jn=function(e){return!Yn(e)},$n=function(e){return Boolean(e)},Qn=function(e,t){var n=e.tabIndex-t.tabIndex,i=e.index-t.index;if(n){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return n||i},ei=function(e,t,n){return Fn(e).map((function(e,t){return{node:e,index:t,tabIndex:n&&-1===e.tabIndex?(e.dataset||{}).focusGuard?0:-1:e.tabIndex}})).filter((function(e){return!t||e.tabIndex>=0})).sort(Qn)},ti=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"].join(","),ni="".concat(ti,", [data-focus-guard]"),ii=function(e,t){return Fn((e.shadowRoot||e).children).reduce((function(e,n){return e.concat(n.matches(t?ni:ti)?[n]:[],ii(n))}),[])},ri=function(e,t){return e.reduce((function(e,n){var i,r=ii(n,t),o=(i=[]).concat.apply(i,r.map((function(e){return function(e,t){var n;return e instanceof HTMLIFrameElement&&(null===(n=e.contentDocument)||void 0===n?void 0:n.body)?ri([e.contentDocument.body],t):[e]}(e,t)})));return e.concat(o,n.parentNode?Fn(n.parentNode.querySelectorAll(ti)).filter((function(e){return e===n})):[])}),[])},oi=function(e,t){return Fn(e).filter((function(e){return Gn(t,e)})).filter((function(e){return function(e){return!((Hn(e)||function(e){return"BUTTON"===e.tagName}(e))&&("hidden"===e.type||e.disabled))}(e)}))},ai=function(e,t){return void 0===t&&(t=new Map),Fn(e).filter((function(e){return Wn(t,e)}))},si=function(e,t,n){return ei(oi(ri(e,n),t),!0,n)},li=function(e,t){return ei(oi(ri(e),t),!1)},ci=function(e,t){return oi(function(e){var t=e.querySelectorAll("[".concat("data-autofocus-inside","]"));return Fn(t).map((function(e){return ri([e])})).reduce((function(e,t){return e.concat(t)}),[])}(e),t)},ui=function(e,t){return e.shadowRoot?ui(e.shadowRoot,t):!(void 0===Object.getPrototypeOf(e).contains||!Object.getPrototypeOf(e).contains.call(e,t))||Fn(e.children).some((function(e){var n;if(e instanceof HTMLIFrameElement){var i=null===(n=e.contentDocument)||void 0===n?void 0:n.body;return!!i&&ui(i,t)}return ui(e,t)}))},hi=function(e){if(void 0===e&&(e=document),e&&e.activeElement){var t=e.activeElement;return t.shadowRoot?hi(t.shadowRoot):t instanceof HTMLIFrameElement&&function(e){try{return e()}catch(t){return}}((function(){return t.contentWindow.document}))?hi(t.contentWindow.document):t}},di=function(e){return e.parentNode?di(e.parentNode):e},pi=function(e){return jn(e).filter(Boolean).reduce((function(e,t){var n=t.getAttribute(gn);return e.push.apply(e,n?function(e){for(var t=new Set,n=e.length,i=0;i<n;i+=1)for(var r=i+1;r<n;r+=1){var o=e[i].compareDocumentPosition(e[r]);(o&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(r),(o&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(i)}return e.filter((function(e,n){return!t.has(n)}))}(Fn(di(t).querySelectorAll("[".concat(gn,'="').concat(n,'"]:not([').concat(_n,'="disabled"])')))):[t]),e}),[])},fi=function(e,t){return void 0===t&&(t=hi(Nn(e).ownerDocument)),!(!t||t.dataset&&t.dataset.focusGuard)&&pi(e).some((function(e){return ui(e,t)||function(e,t){return Boolean(Fn(e.querySelectorAll("iframe")).some((function(e){return function(e,t){return e===t}(e,t)})))}(e,t)}))},mi=function(e,t){return Xn(e)&&e.name?function(e,t){return t.filter(Xn).filter((function(t){return t.name===e.name})).filter((function(e){return e.checked}))[0]||e}(e,t):e},gi=function(e){return e[0]&&e.length>1?mi(e[0],e):e[0]},_i=function(e,t){return e.length>1?e.indexOf(mi(e[t],e)):t},yi="NEW_FOCUS",vi=function(e,t,n,i){var r=e.length,o=e[0],a=e[r-1],s=Yn(n);if(!(n&&e.indexOf(n)>=0)){var l=void 0!==n?t.indexOf(n):-1,c=i?t.indexOf(i):l,u=i?e.indexOf(i):-1,h=l-c,d=t.indexOf(o),p=t.indexOf(a),f=function(e){var t=new Set;return e.forEach((function(n){return t.add(mi(n,e))})),e.filter((function(e){return t.has(e)}))}(t),m=(void 0!==n?f.indexOf(n):-1)-(i?f.indexOf(i):l),g=_i(e,0),_=_i(e,r-1);return-1===l||-1===u?yi:!h&&u>=0?u:l<=d&&s&&Math.abs(h)>1?_:l>=p&&s&&Math.abs(h)>1?g:h&&Math.abs(m)>1?u:l<=d?_:l>p?g:h?Math.abs(h)>1?u:(r+u+h)%r:void 0}},xi=function(e,t,n){var i,r=e.map((function(e){return e.node})),o=ai(r.filter((i=n,function(e){var t,n=null===(t=Zn(e))||void 0===t?void 0:t.autofocus;return e.autofocus||void 0!==n&&"false"!==n||i.indexOf(e)>=0})));return o&&o.length?gi(o):gi(ai(t))},bi=function(e,t){return void 0===t&&(t=[]),t.push(e),e.parentNode&&bi(e.parentNode.host||e.parentNode,t),t},wi=function(e,t){for(var n=bi(e),i=bi(t),r=0;r<n.length;r+=1){var o=n[r];if(i.indexOf(o)>=0)return o}return!1},Ei=function(e,t,n){var i=jn(e),r=jn(t),o=i[0],a=!1;return r.filter(Boolean).forEach((function(e){a=wi(a||e,e)||a,n.filter(Boolean).forEach((function(e){var t=wi(o,e);t&&(a=!a||ui(t,a)?t:wi(t,a))}))})),a},Ti=function(e,t){var n=hi(jn(e).length>0?document:Nn(e).ownerDocument),i=pi(e).filter(Jn),r=Ei(n||e,e,i),o=new Map,a=li(i,o),s=si(i,o).filter((function(e){var t=e.node;return Jn(t)}));if(s[0]||(s=a)[0]){var l=li([r],o).map((function(e){return e.node})),c=function(e,t){var n=new Map;return t.forEach((function(e){return n.set(e.node,e)})),e.map((function(e){return n.get(e)})).filter($n)}(l,s),u=c.map((function(e){return e.node})),h=vi(u,l,n,t);if(h===yi){var d=xi(a,u,function(e,t){return e.reduce((function(e,n){return e.concat(ci(n,t))}),[])}(i,o));return d?{node:d}:void console.warn("focus-lock: cannot find any node to move focus into")}return void 0===h?h:c[h]}},ki=0,Si=!1;const Ci=function(e,t,n){void 0===n&&(n={});var i,r,o=Ti(e,t);if(!Si&&o){if(ki>2)return console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),Si=!0,void setTimeout((function(){Si=!1}),1);ki++,i=o.node,r=n.focusOptions,"focus"in i&&i.focus(r),"contentWindow"in i&&i.contentWindow&&i.contentWindow.focus(),ki--}};var Mi=function(e){var t=pi(e).filter(Jn),n=Ei(e,e,t),i=new Map,r=si([n],i,!0),o=si(t,i).filter((function(e){var t=e.node;return Jn(t)})).map((function(e){return e.node}));return r.map((function(e){var t=e.node;return{node:t,index:e.index,lockItem:o.indexOf(t)>=0,guard:Yn(t)}}))};function zi(e){setTimeout(e,1)}var Ai=function(){return document&&document.activeElement===document.body||function(e){void 0===e&&(e=document);var t=hi(e);return!!t&&Fn(e.querySelectorAll("[".concat("data-no-focus-lock","]"))).some((function(e){return ui(e,t)}))}()},Pi=null,Ii=null,Li=null,Di=!1,Oi=function(){return!0};function Ri(e,t,n,i){var r=null,o=e;do{var a=i[o];if(a.guard)a.node.dataset.focusAutoGuard&&(r=a);else{if(!a.lockItem)break;if(o!==e)return;r=null}}while((o+=n)!==t);r&&(r.node.tabIndex=0)}var Bi=function(e){return e&&"current"in e?e.current:e},Fi=function e(t,n,i){return n&&(n.host===t&&(!n.activeElement||i.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,i))},ji=function(){var e,t=!1;if(Pi){var n=Pi,i=n.observed,r=n.persistentFocus,o=n.autoFocus,a=n.shards,s=n.crossFrame,l=n.focusOptions,c=i||Li&&Li.portaledElement,u=document&&document.activeElement;if(c){var h=[c].concat(a.map(Bi).filter(Boolean));if(u&&!function(e){return(Pi.whiteList||Oi)(e)}(u)||(r||(s?Boolean(Di):"meanwhile"===Di)||!Ai()||!Ii&&o)&&(c&&!(fi(h)||u&&function(e,t){return t.some((function(t){return Fi(e,t,t)}))}(u,h)||(e=u,Li&&Li.portaledElement===e))&&(document&&!Ii&&u&&!o?(u.blur&&u.blur(),document.body.focus()):(t=Ci(h,Ii,{focusOptions:l}),Li={})),Di=!1,Ii=document&&document.activeElement),document){var d=document&&document.activeElement,p=Mi(h),f=p.map((function(e){return e.node})).indexOf(d);f>-1&&(p.filter((function(e){var t=e.guard,n=e.node;return t&&n.dataset.focusAutoGuard})).forEach((function(e){return e.node.removeAttribute("tabIndex")})),Ri(f,p.length,1,p),Ri(f,-1,-1,p))}}}return t},Ni=function(e){ji()&&e&&(e.stopPropagation(),e.preventDefault())},Ui=function(){return zi(ji)},Vi=function(e){var t=e.target,n=e.currentTarget;n.contains(t)||(Li={observerNode:n,portaledElement:t})},qi=function(){Di="just",zi((function(){Di="meanwhile"}))};xn.assignSyncMedium(Vi),bn.assignMedium(Ui),wn.assignMedium((function(e){return e({moveFocusInside:Ci,focusInside:fi})}));const Gi=Bn((function(e){return e.filter((function(e){return!e.disabled}))}),(function(e){var t=e.slice(-1)[0];t&&!Pi&&(document.addEventListener("focusin",Ni),document.addEventListener("focusout",Ui),window.addEventListener("blur",qi));var n=Pi,i=n&&t&&t.id===n.id;Pi=t,n&&!i&&(n.onDeactivation(),e.filter((function(e){return e.id===n.id})).length||n.returnFocus(!t)),t?(Ii=null,i&&n.observed===t.observed||t.onActivation(),ji(),zi(ji)):(document.removeEventListener("focusin",Ni),document.removeEventListener("focusout",Ui),window.removeEventListener("blur",qi),Ii=null)}))((function(){return null}));In(En,Gi);var Wi;function Zi(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Wi||n.nc;return t&&e.setAttribute("nonce",t),e}var Hi=function(){var e=0,t=null;return{add:function(n){var i,r;0==e&&(t=Zi())&&(r=n,(i=t).styleSheet?i.styleSheet.cssText=r:i.appendChild(document.createTextNode(r)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Xi=function(){var e=function(){var e=Hi();return function(n,i){t.useEffect((function(){return e.add(n),function(){e.remove()}}),[n&&i])}}();return function(t){var n=t.styles,i=t.dynamic;return e(n,i),null}},Ki={left:0,top:0,right:0,gap:0},Yi=function(e){return parseInt(e||"",10)||0},Ji=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return Ki;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],i=t["padding"===e?"paddingTop":"marginTop"],r=t["padding"===e?"paddingRight":"marginRight"];return[Yi(n),Yi(i),Yi(r)]}(e),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-n+t[2]-t[0])}},$i=Xi(),Qi=function(e,t,n,i){var r=e.left,o=e.top,a=e.right,s=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(i,";\n   padding-right: ").concat(s,"px ").concat(i,";\n  }\n  body {\n    overflow: hidden ").concat(i,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(i,";"),"margin"===n&&"\n    padding-left: ".concat(r,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(i,";\n    "),"padding"===n&&"padding-right: ".concat(s,"px ").concat(i,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(on," {\n    right: ").concat(s,"px ").concat(i,";\n  }\n  \n  .").concat(an," {\n    margin-right: ").concat(s,"px ").concat(i,";\n  }\n  \n  .").concat(on," .").concat(on," {\n    right: 0 ").concat(i,";\n  }\n  \n  .").concat(an," .").concat(an," {\n    margin-right: 0 ").concat(i,";\n  }\n  \n  body {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},er=function(e){var n=e.noRelative,i=e.noImportant,r=e.gapMode,o=void 0===r?"margin":r,a=t.useMemo((function(){return Ji(o)}),[o]);return t.createElement($i,{styles:Qi(a,!n,o,i?"":"!important")})},tr=!1;if("undefined"!==typeof window)try{var nr=Object.defineProperty({},"passive",{get:function(){return tr=!0,!0}});window.addEventListener("test",nr,nr),window.removeEventListener("test",nr,nr)}catch(ia){tr=!1}var ir=!!tr&&{passive:!1},rr=function(e,t){var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},or=function(e,t){var n=t.ownerDocument,i=t;do{if("undefined"!==typeof ShadowRoot&&i instanceof ShadowRoot&&(i=i.host),ar(e,i)){var r=sr(e,i);if(r[1]>r[2])return!0}i=i.parentNode}while(i&&i!==n.body);return!1},ar=function(e,t){return"v"===e?function(e){return rr(e,"overflowY")}(t):function(e){return rr(e,"overflowX")}(t)},sr=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},lr=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},cr=function(e){return[e.deltaX,e.deltaY]},ur=function(e){return e&&"current"in e?e.current:e},hr=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},dr=0,pr=[];In(dn,(function(e){var n=t.useRef([]),i=t.useRef([0,0]),r=t.useRef(),o=t.useState(dr++)[0],a=t.useState(Xi)[0],s=t.useRef(e);t.useEffect((function(){s.current=e}),[e]),t.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var t=rn([e.lockRef.current],(e.shards||[]).map(ur),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(o))})),function(){document.body.classList.remove("block-interactivity-".concat(o)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(o))}))}}}),[e.inert,e.lockRef.current,e.shards]);var l=t.useCallback((function(e,t){if("touches"in e&&2===e.touches.length)return!s.current.allowPinchZoom;var n,o=lr(e),a=i.current,l="deltaX"in e?e.deltaX:a[0]-o[0],c="deltaY"in e?e.deltaY:a[1]-o[1],u=e.target,h=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===h&&"range"===u.type)return!1;var d=or(h,u);if(!d)return!0;if(d?n=h:(n="v"===h?"h":"v",d=or(h,u)),!d)return!1;if(!r.current&&"changedTouches"in e&&(l||c)&&(r.current=n),!n)return!0;var p=r.current||n;return function(e,t,n,i,r){var o=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),a=o*i,s=n.target,l=t.contains(s),c=!1,u=a>0,h=0,d=0;do{var p=sr(e,s),f=p[0],m=p[1]-p[2]-o*f;(f||m)&&ar(e,s)&&(h+=m,d+=f),s=s.parentNode}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(u&&(r&&0===h||!r&&a>h)||!u&&(r&&0===d||!r&&-a>d))&&(c=!0),c}(p,t,e,"h"===p?l:c,!0)}),[]),c=t.useCallback((function(e){var t=e;if(pr.length&&pr[pr.length-1]===a){var i="deltaY"in t?cr(t):lr(t),r=n.current.filter((function(e){return e.name===t.type&&e.target===t.target&&(n=e.delta,r=i,n[0]===r[0]&&n[1]===r[1]);var n,r}))[0];if(r&&r.should)t.cancelable&&t.preventDefault();else if(!r){var o=(s.current.shards||[]).map(ur).filter(Boolean).filter((function(e){return e.contains(t.target)}));(o.length>0?l(t,o[0]):!s.current.noIsolation)&&t.cancelable&&t.preventDefault()}}}),[]),u=t.useCallback((function(e,t,i,r){var o={name:e,delta:t,target:i,should:r};n.current.push(o),setTimeout((function(){n.current=n.current.filter((function(e){return e!==o}))}),1)}),[]),h=t.useCallback((function(e){i.current=lr(e),r.current=void 0}),[]),d=t.useCallback((function(t){u(t.type,cr(t),t.target,l(t,e.lockRef.current))}),[]),p=t.useCallback((function(t){u(t.type,lr(t),t.target,l(t,e.lockRef.current))}),[]);t.useEffect((function(){return pr.push(a),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",c,ir),document.addEventListener("touchmove",c,ir),document.addEventListener("touchstart",h,ir),function(){pr=pr.filter((function(e){return e!==a})),document.removeEventListener("wheel",c,ir),document.removeEventListener("touchmove",c,ir),document.removeEventListener("touchstart",h,ir)}}),[]);var f=e.removeScrollBar,m=e.inert;return t.createElement(t.Fragment,null,m?t.createElement(a,{styles:hr(o)}):null,f?t.createElement(er,{gapMode:e.gapMode}):null)}));var fr=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},mr=new WeakMap,gr=new WeakMap,_r={},yr=0,vr=function(e){return e&&(e.host||vr(e.parentNode))},xr=function(e,t,n,i){var r=function(e,t){return t.map((function(t){if(e.contains(t))return t;var n=vr(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);_r[n]||(_r[n]=new WeakMap);var o=_r[n],a=[],s=new Set,l=new Set(r),c=function(e){e&&!s.has(e)&&(s.add(e),c(e.parentNode))};r.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,(function(e){if(s.has(e))u(e);else{var t=e.getAttribute(i),r=null!==t&&"false"!==t,l=(mr.get(e)||0)+1,c=(o.get(e)||0)+1;mr.set(e,l),o.set(e,c),a.push(e),1===l&&r&&gr.set(e,!0),1===c&&e.setAttribute(n,"true"),r||e.setAttribute(i,"true")}}))};return u(t),s.clear(),yr++,function(){a.forEach((function(e){var t=mr.get(e)-1,r=o.get(e)-1;mr.set(e,t),o.set(e,r),t||(gr.has(e)||e.removeAttribute(i),gr.delete(e)),r||e.removeAttribute(n)})),--yr||(mr=new WeakMap,mr=new WeakMap,gr=new WeakMap,_r={})}},br=function(e,t,n){void 0===n&&(n="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),r=t||fr(e);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live]"))),xr(i,r,n,"aria-hidden")):function(){return null}},wr=Xi(),Er="\n ["+Mn+"] {\n   pointer-events: none !important;\n }\n",Tr=function(){return t.createElement(wr,{styles:Er})},kr=function(e){return"current"in e?e.current:e};const Sr=In(Cn,(function(e){var n=e.setLockProps,i=e.onEscapeKey,r=e.onClickOutside,o=e.shards,a=e.onActivation,s=e.onDeactivation,l=e.noIsolation,c=(0,t.useState)(void 0),u=c[0],h=c[1],d=(0,t.useRef)(null),p=(0,t.useRef)(0);return t.useEffect((function(){var e=function(e){e.defaultPrevented||"Escape"!==e.code&&"Escape"!==e.key&&27!==e.keyCode||!i||i(e)},t=function(e){e.defaultPrevented||e.target===d.current||e instanceof MouseEvent&&0!==e.button||o&&o.map(kr).some((function(t){return t&&t.contains(e.target)||t===e.target}))||r&&r(e)},n=function(e){t(e),p.current=e.touches.length},a=function(e){p.current=e.touches.length};if(u)return document.addEventListener("keydown",e),document.addEventListener("mousedown",t),document.addEventListener("touchstart",n),document.addEventListener("touchend",a),function(){document.removeEventListener("keydown",e),document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",n),document.removeEventListener("touchend",a)}}),[u,r,i]),(0,t.useEffect)((function(){if(u)return a&&a(u),function(){s&&s()}}),[!!u]),(0,t.useEffect)((function(){var e=function(){return null},t=!1;return n({onMouseDown:function(e){d.current=e.target},onTouchStart:function(e){d.current=e.target},onActivation:function(t){l||(e=br(nn([t],(o||[]).map(kr)),document.body,Mn)),h((function(){return t}))},onDeactivation:function(){e(),t||h(null)}}),function(){t=!0,n(!1)}}),[]),t.createElement(Tr,null)}));var Cr=function(e){return t.createElement(Sr,en({},e))},Mr=t.forwardRef((function(e,n){return t.createElement(An,en({},e,{ref:n,sideCar:Cr}))}));var zr=function(e){var n=e.handle,i=e.onChange,r=e.children,o=e.className,a=[];return o&&a.push(o),a.push("fullscreen"),n.active&&a.push("fullscreen-enabled"),(0,t.useEffect)((function(){i&&i(n.active,n)}),[n.active]),t.createElement("div",{className:a.join(" "),ref:n.node,style:n.active?{height:"100%",width:"100%"}:void 0},r)},Ar=n(8151);function Pr(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}const Ir=!1,Lr=t.createContext(null);var Dr="unmounted",Or="exited",Rr="entering",Br="entered",Fr="exiting",jr=function(e){function n(t,n){var i;i=e.call(this,t,n)||this;var r,o=n&&!n.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?o?(r=Or,i.appearStatus=Rr):r=Br:r=t.unmountOnExit||t.mountOnEnter?Dr:Or,i.state={status:r},i.nextCallback=null,i}Dn(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Dr?{status:Or}:null};var i=n.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Rr&&n!==Br&&(t=Rr):n!==Rr&&n!==Br||(t=Fr)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!==typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Rr){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Xt.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Or&&this.setState({status:Dr})},i.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,r=this.props.nodeRef?[i]:[Xt.findDOMNode(this),i],o=r[0],a=r[1],s=this.getTimeouts(),l=i?s.appear:s.enter;!e&&!n||Ir?this.safeSetState({status:Br},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:Rr},(function(){t.props.onEntering(o,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:Br},(function(){t.props.onEntered(o,a)}))}))})))},i.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:Xt.findDOMNode(this);t&&!Ir?(this.props.onExit(i),this.safeSetState({status:Fr},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Or},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:Or},(function(){e.props.onExited(i)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Xt.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=r[0],a=r[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===Dr)return null;var n=this.props,i=n.children,r=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,Pr(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(Lr.Provider,{value:null},"function"===typeof i?i(e,r):t.cloneElement(t.Children.only(i),r))},n}(t.Component);function Nr(){}jr.contextType=Lr,jr.propTypes={},jr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Nr,onEntering:Nr,onEntered:Nr,onExit:Nr,onExiting:Nr,onExited:Nr},jr.UNMOUNTED=Dr,jr.EXITED=Or,jr.ENTERING=Rr,jr.ENTERED=Br,jr.EXITING=Fr;const Ur=jr;function Vr(e,n){var i=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){i[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),i}function qr(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Gr(e,n,i){var r=Vr(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var i,r=Object.create(null),o=[];for(var a in e)a in t?o.length&&(r[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(r[l])for(i=0;i<r[l].length;i++){var c=r[l][i];s[r[l][i]]=n(c)}s[l]=n(l)}for(i=0;i<o.length;i++)s[o[i]]=n(o[i]);return s}(n,r);return Object.keys(o).forEach((function(a){var s=o[a];if((0,t.isValidElement)(s)){var l=a in n,c=a in r,u=n[a],h=(0,t.isValidElement)(u)&&!u.props.in;!c||l&&!h?c||!l||h?c&&l&&(0,t.isValidElement)(u)&&(o[a]=(0,t.cloneElement)(s,{onExited:i.bind(null,s),in:u.props.in,exit:qr(s,"exit",e),enter:qr(s,"enter",e)})):o[a]=(0,t.cloneElement)(s,{in:!1}):o[a]=(0,t.cloneElement)(s,{onExited:i.bind(null,s),in:!0,exit:qr(s,"exit",e),enter:qr(s,"enter",e)})}})),o}var Wr=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Zr=function(e){function n(t,n){var i,r=(i=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i));return i.state={contextValue:{isMounting:!0},handleExited:r,firstRender:!0},i}Dn(n,e);var i=n.prototype;return i.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},i.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var i,r,o=n.children,a=n.handleExited;return{children:n.firstRender?(i=e,r=a,Vr(i.children,(function(e){return(0,t.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:qr(e,"appear",i),enter:qr(e,"enter",i),exit:qr(e,"exit",i)})}))):Gr(e,o,a),firstRender:!1}},i.handleExited=function(e,t){var n=Vr(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=mn({},t.children);return delete n[e.key],{children:n}})))},i.render=function(){var e=this.props,n=e.component,i=e.childFactory,r=Pr(e,["component","childFactory"]),o=this.state.contextValue,a=Wr(this.state.children).map(i);return delete r.appear,delete r.enter,delete r.exit,null===n?t.createElement(Lr.Provider,{value:o},a):t.createElement(Lr.Provider,{value:o},t.createElement(n,r,a))},n}(t.Component);Zr.propTypes={},Zr.defaultProps={component:"div",childFactory:function(e){return e}};const Hr=Zr;var Xr=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Kr=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Yr=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Jr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$r=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Qr=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},eo=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},to=function(e){var t=e.css,n=e.innerRef,i=e.tag,r=Qr(e,["css","innerRef","tag"]);return(0,Kt.ZP)(i,Jr({ref:n,css:Jr({boxSizing:"border-box"},t)},r))},no=function(e){return(0,Kt.ZP)(to,Jr({tag:"button"},e))},io=function(e){return(0,Kt.ZP)(to,Jr({tag:"div"},e))},ro=function(e){return(0,Kt.ZP)(to,Jr({tag:"img"},e))},oo=function(e){return(0,Kt.ZP)(to,Jr({tag:"nav"},e))},ao=function(e){return(0,Kt.ZP)(to,Jr({tag:"span"},e))};function so(e,t){var n=Array.isArray(e)?e:[e];if(t&&"string"===typeof e)for(var i in t)t.hasOwnProperty(i)&&t[i]&&n.push(e+"--"+i);return n.map((function(e){return"react-images__"+e})).join(" ")}function lo(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var co={Header:"header",Footer:"footer",View:"view",Track:"track",Positioner:"positioner"},uo=co.Footer,ho=function(e){var t=e.size,n=Qr(e,["size"]);return(0,Kt.ZP)("svg",Jr({role:"presentation",viewBox:"0 0 24 24",css:{display:"inline-block",fill:"currentColor",height:t,stroke:"currentColor",strokeWidth:0,width:t}},n))},po=function(e){var t=e.size,n=void 0===t?32:t,i=Qr(e,["size"]);return(0,Kt.ZP)(ho,Jr({size:n},i),(0,Kt.ZP)("path",{d:"M15.422 16.078l-1.406 1.406-6-6 6-6 1.406 1.406-4.594 4.594z"}))},fo=function(e){var t=e.size,n=void 0===t?32:t,i=Qr(e,["size"]);return(0,Kt.ZP)(ho,Jr({size:n},i),(0,Kt.ZP)("path",{d:"M9.984 6l6 6-6 6-1.406-1.406 4.594-4.594-4.594-4.594z"}))},mo=function(e){var t=e.size,n=void 0===t?32:t,i=Qr(e,["size"]);return(0,Kt.ZP)(ho,Jr({size:n},i),(0,Kt.ZP)("path",{d:"M18.984 6.422l-5.578 5.578 5.578 5.578-1.406 1.406-5.578-5.578-5.578 5.578-1.406-1.406 5.578-5.578-5.578-5.578 1.406-1.406 5.578 5.578 5.578-5.578z"}))},go=function(e){var t=e.size,n=void 0===t?32:t,i=Qr(e,["size"]);return(0,Kt.ZP)(ho,Jr({size:n},i),(0,Kt.ZP)("path",{d:"M14.016 5.016h4.969v4.969h-1.969v-3h-3v-1.969zM17.016 17.016v-3h1.969v4.969h-4.969v-1.969h3zM5.016 9.984v-4.969h4.969v1.969h-3v3h-1.969zM6.984 14.016v3h3v1.969h-4.969v-4.969h1.969z"}))},_o=function(e){var t=e.size,n=void 0===t?32:t,i=Qr(e,["size"]);return(0,Kt.ZP)(ho,Jr({size:n},i),(0,Kt.ZP)("path",{d:"M15.984 8.016h3v1.969h-4.969v-4.969h1.969v3zM14.016 18.984v-4.969h4.969v1.969h-3v3h-1.969zM8.016 8.016v-3h1.969v4.969h-4.969v-1.969h3zM5.016 15.984v-1.969h4.969v4.969h-1.969v-3h-3z"}))},yo=co.Header,vo=function(){return{alignItems:"center",background:0,border:0,color:"rgba(255, 255, 255, 0.75)",cursor:"pointer",display:"inline-flex ",height:44,justifyContent:"center",outline:0,padding:0,position:"relative",width:44,"&:hover":{color:"white"}}},xo=vo,bo=vo,wo=function(e){var t,n=e.align;return Yr(t={alignItems:"center",background:"rgba(255, 255, 255, 0.2)",border:0,borderRadius:"50%",color:"white",cursor:"pointer",display:"flex ",fontSize:"inherit",height:50,justifyContent:"center",marginTop:-25,outline:0,position:"absolute",top:"50%",transition:"background-color 200ms",width:50},n,20),Yr(t,"&:hover",{background:"rgba(255, 255, 255, 0.3)"}),Yr(t,"&:active",{background:"rgba(255, 255, 255, 0.2)"}),t},Eo=wo,To=wo;function ko(e){var t=e.data,n=e.isFullscreen,i=t.source,r=void 0===i?t.src:i;return"string"===typeof r?r:n?r.fullscreen:r.regular}var So=co.View,Co={Container:function(e){var t=e.children,n=e.getStyles,i=e.isFullscreen,r=e.isModal,o=e.innerProps;return(0,Kt.ZP)(io,Jr({css:n("container",e),className:so("container",{isFullscreen:i,isModal:r})},o),t)},Footer:function(e){var t=e.components,n=e.getStyles,i=e.innerProps,r=e.isFullscreen,o=e.isModal,a=o?{background:"linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0.33))"}:null,s={isFullscreen:r,isModal:o},l={container:so(uo,s),caption:so("footer__caption",s),count:so("footer__count",s)},c={container:n(uo,e),caption:n("footerCaption",e),count:n("footerCount",e)},u=t.Caption,h=t.Count;return(0,Kt.ZP)(io,Jr({css:c.container,className:l.container,style:a},i),(0,Kt.ZP)(u,e),(0,Kt.ZP)(h,e))},FooterCaption:function(e){var t=e.currentView,n=e.getStyles,i=e.isFullscreen,r=e.isModal,o=t.caption,a={isFullscreen:i,isModal:r};return(0,Kt.ZP)(ao,{css:n("footerCaption",e),className:so("footer__caption",a)},"string"===typeof o?Qt("<span>"+o+"</span>"):o)},FooterCount:function(e){var t=e.currentIndex,n=e.getStyles,i={isFullscreen:e.isFullscreen,isModal:e.isModal},r=t+1,o=e.views.length;return r&&o?(0,Kt.ZP)(ao,{css:n("footerCount",e),className:so("footer__count",i)},r," of ",o):null},Header:function(e){var t=e.components,n=e.getStyles,i=e.getCloseLabel,r=e.getFullscreenLabel,o=e.innerProps,a=e.isModal,s=e.modalProps;if(!a)return null;var l=s.allowFullscreen,c=s.isFullscreen,u=s.onClose,h=s.toggleFullscreen,d=c?_o:go,p=t.CloseButton,f=t.FullscreenButton,m={isFullscreen:c,isModal:a};return(0,Kt.ZP)(io,Jr({css:n(yo,e),className:so(yo,m),style:{background:"linear-gradient(rgba(0,0,0,0.33), rgba(0,0,0,0))"}},o),(0,Kt.ZP)("span",null),(0,Kt.ZP)("span",null,l?(0,Kt.ZP)(f,{getStyles:n,innerProps:{onClick:h,title:r(m)}},(0,Kt.ZP)(d,{size:32})):null,(0,Kt.ZP)(p,{getStyles:n,innerProps:{onClick:u,title:i(m)}},(0,Kt.ZP)(mo,{size:32}))))},HeaderClose:function(e){var t=e.children,n=e.getStyles,i=e.innerProps;return(0,Kt.ZP)(no,Jr({css:n("headerClose",e),className:so(["header_button","header_button--close"]),type:"button"},i),t)},HeaderFullscreen:function(e){var t=e.children,n=e.getStyles,i=e.innerProps;return(0,Kt.ZP)(no,Jr({css:n("headerFullscreen",e),className:so(["header_button","header_button--fullscreen"]),type:"button"},i),t)},Navigation:function(e){var t=e.children,n=e.getStyles,i=e.isFullscreen,r=e.isModal,o=e.showNavigationOnTouchDevice;return!lo()||lo()&&o?(0,Kt.ZP)(oo,{css:n("navigation",e),className:so("navigation",{isFullscreen:i,isModal:r})},t):null},NavigationPrev:function(e){var t=e.children,n=void 0===t?(0,Kt.ZP)(po,{size:48}):t,i=e.getStyles,r=e.innerProps;return(0,Kt.ZP)(no,Jr({type:"button",css:i("navigationPrev",e)},r),n)},NavigationNext:function(e){var t=e.children,n=void 0===t?(0,Kt.ZP)(fo,{size:48}):t,i=e.getStyles,r=e.innerProps;return(0,Kt.ZP)(no,Jr({type:"button",css:i("navigationNext",e)},r),n)},View:function(e){var t=e.data,n=e.formatters,i=e.getStyles,r=e.index,o=e.isFullscreen,a=e.isModal,s={alt:n.getAltText({data:t,index:r}),src:ko({data:t,isFullscreen:o})};return(0,Kt.ZP)(io,{css:i(So,e),className:so(So,{isFullscreen:o,isModal:a})},(0,Kt.ZP)(ro,Jr({},s,{className:so("view-image",{isFullscreen:o,isModal:a}),css:{height:"auto",maxHeight:"100vh",maxWidth:"100%",userSelect:"none"}})))}},Mo={Blanket:function(e){var t=e.getStyles,n=e.innerProps,i=e.isFullscreen;return(0,Kt.ZP)(io,Jr({css:t("blanket",e),className:so("blanket",{isFullscreen:i})},n))},Positioner:function(e){var t=e.children,n=e.getStyles,i=e.innerProps,r=e.isFullscreen;return(0,Kt.ZP)(io,Jr({css:n(co.Positioner,e),className:so(co.Positioner,{isFullscreen:r})},i),t)},Dialog:function(e){var t=e.children,n=e.getStyles,i=e.innerProps,r=e.isFullscreen;return e.removeFocusOn?(0,Kt.ZP)(io,Jr({css:n("dialog",e),className:so("dialog",{isFullscreen:r})},i),t):(0,Kt.ZP)(Mr,null,(0,Kt.ZP)(io,Jr({css:n("dialog",e),className:so("dialog",{isFullscreen:r})},i),t))}},zo={container:function(e){return{backgroundColor:e.isFullscreen?"black":null,display:"flex ",flexDirection:"column",height:"100%"}},footer:function(e){var t=e.isModal,n=e.interactionIsIdle;return Yr({alignItems:"top",bottom:t?0:null,color:t?"rgba(255, 255, 255, 0.9)":"#666",display:"flex ",flex:"0 0 auto",fontSize:13,justifyContent:"space-between",left:t?0:null,opacity:n&&t?0:1,padding:t?"30px 20px 20px":"10px 0",position:t?"absolute":null,right:t?0:null,transform:t?"translateY("+(n?10:0)+"px)":null,transition:"opacity 300ms, transform 300ms",zIndex:t?1:null,"& *:focus":{outline:"1.5px solid orange"}},"@media (max-width: 769px)",{padding:t?"20px 15px 15px":"5px 0"})},footerCaption:function(){return{}},footerCount:function(){return{flexShrink:0,marginLeft:"1em"}},header:function(e){var t=e.interactionIsIdle;return{alignItems:"center",display:"flex ",flex:"0 0 auto",justifyContent:"space-between",opacity:t?0:1,padding:10,paddingBottom:20,position:"absolute",transform:"translateY("+(t?-10:0)+"px)",transition:"opacity 300ms, transform 300ms",top:0,left:0,right:0,zIndex:1,"& *:focus":{outline:"1.5px solid orange"}}},headerClose:bo,headerFullscreen:xo,navigation:function(e){return{display:"flex ",alignItems:"center",justifyContent:"space-between",opacity:e.interactionIsIdle?0:1,transition:"opacity 300ms","& *:focus":{outline:"1.5px solid orange"}}},navigationPrev:Eo,navigationNext:To,view:function(){return{lineHeight:0,position:"relative",textAlign:"center"}}},Ao={blanket:function(e){return{backgroundColor:e.isFullscreen?"black":"rgba(0, 0, 0, 0.8)",bottom:0,left:0,position:"fixed",right:0,top:0,zIndex:1199}},dialog:function(){return{width:"100%"}},positioner:function(){return{alignItems:"center",bottom:0,display:"flex ",justifyContent:"center",left:0,position:"fixed",right:0,top:0,zIndex:1200}}},Po="cubic-bezier(0.23, 1, 0.32, 1)",Io=function(e){var n=e.component,i=e.onEntered,r=e.onExited,o=e.in,a=e.innerProps,s=Qr(e,["component","onEntered","onExited","in","innerProps"]),l={transition:"opacity 200ms",opacity:0},c={entering:{opacity:0},entered:{opacity:1},exiting:{opacity:0,transitionDuration:"500ms"}};return t.createElement(Ur,{appear:!0,mountOnEnter:!0,unmountOnExit:!0,onEntered:i,onExited:r,key:"fade",in:o,timeout:{enter:300,exit:500}},(function(e){var i=Jr({},a,{style:Jr({},l,c[e])});return"exited"===e?null:t.createElement(n,Jr({innerProps:i},s))}))},Lo=function(e){var n=e.component,i=e.onEntered,r=e.onExited,o=e.in,a=e.innerProps,s=Qr(e,["component","onEntered","onExited","in","innerProps"]),l="translate3d(0, 0, 0)",c={transition:"transform 300ms "+Po+", opacity 300ms "+Po,transform:l},u={entering:{opacity:0,transform:"translate3d(0, 40px, 0) scale(0.9)"},entered:{opacity:1,transform:l},exiting:{opacity:0,transform:"translate3d(0, 40px, 0) scale(0.9)",transition:"transform 500ms "+Po+", opacity 500ms "+Po}};return t.createElement(Ur,{appear:!0,in:o,mountOnEnter:!0,onEntered:i,onExited:r,timeout:{enter:300,exit:500},unmountOnExit:!0},(function(e){if("exited"===e)return null;var i=Jr({},a,{style:Jr({},c,u[e])});return t.createElement(n,Jr({innerProps:i},s))}))},Do={allowFullscreen:!lo(),closeOnBackdropClick:!0,closeOnEsc:!0,preventScroll:!0,styles:{}},Oo=new Set([co.View,co.Header,co.Footer,co.Track,co.Positioner].map(so)),Ro=function(e){function n(e){Xr(this,n);var t=eo(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return Bo.call(t),t.cacheComponents(e.components),t.state={isFullscreen:!1,isClosing:!1},t}return $r(n,e),Kr(n,[{key:"componentDidUpdate",value:function(e){e.components!==this.props.components&&this.cacheComponents(e.components)}},{key:"getCommonProps",value:function(){var e=this.state.isFullscreen;return{getStyles:this.getStyles,isFullscreen:e,modalProps:this.props}}},{key:"render",value:function(){var e=this.components,n=e.Blanket,i=e.Positioner,r=e.Dialog,o=this.props,a=o.allowFullscreen,s=o.children,l=this.state.isFullscreen,c=this.commonProps=this.getCommonProps(),u=this.props.in,h={allowFullscreen:a,isFullscreen:l,onClose:this.handleClose,preventScroll:this.preventScroll,toggleFullscreen:this.toggleFullscreen},d=(0,t.cloneElement)(s,{isModal:!0,modalProps:h});return(0,Kt.ZP)(zr,{handle:{active:l},onChange:this.handleFullscreenChange},(0,Kt.ZP)(Io,Jr({},c,{component:n,in:u})),(0,Kt.ZP)(Lo,Jr({},c,{component:i,in:u,innerProps:{onClick:this.state.isClosing?null:this.handleBackdropClick},onEntered:this.modalDidMount,onExited:this.modalWillUnmount}),(0,Kt.ZP)(r,Jr({removeFocusOn:this.state.isClosing},c),d)))}}]),n}(t.Component);Ro.defaultProps=Do;var Bo=function(){var e=this;this.modalDidMount=function(){document.addEventListener("keyup",e.handleKeyUp),Ar.storeFocus()},this.modalWillUnmount=function(){document.removeEventListener("keyup",e.handleKeyUp),Ar.restoreFocus(),e.setState({isClosing:!1})},this.cacheComponents=function(t){e.components=Jr({},Mo,t)},this.handleFullscreenChange=function(t){e.setState({isFullscreen:t})},this.handleKeyUp=function(t){var n=e.props,i=n.allowFullscreen,r=n.closeOnEsc,o=e.state.isFullscreen,a="Escape"===t.key&&r&&!o;i&&"f"===t.key&&e.toggleFullscreen(),a&&e.handleClose(t)},this.handleBackdropClick=function(t){var n=!1,i=!0,r=!1,o=void 0;try{for(var a,s=t.target.classList[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;Oo.has(l)&&(n=!0)}}catch(ia){r=!0,o=ia}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}n&&e.props.closeOnBackdropClick&&e.handleClose(t)},this.toggleFullscreen=function(){e.setState((function(e){return{isFullscreen:!e.isFullscreen}}))},this.handleClose=function(t){var n=e.props.onClose,i=e.state,r=i.isFullscreen;i.isClosing||(e.setState({isClosing:!0}),r&&e.toggleFullscreen(),n(t))},this.getStyles=function(t,n){var i=Ao[t](n);i.boxSizing="border-box";var r=e.props.styles[t];return r?r(i,n):i}};var Fo={getAltText:function(e){var t=e.data,n=e.index;return t.alt?("string"!==typeof t.alt&&console.error("Image "+(n+1)+" had a non-string alt property, which will probably render incorrectly.\nInstead of a plain string it was ",t.alt),t.alt):t.caption?("string"!==typeof t.caption&&console.warn("Image "+(n+1)+" has a non-string caption, but no alt\xa0value provided. This will probably make the alt prop unintelligible for screen readers. Is this intentional?"),t.caption):"Image "+(n+1)},getNextLabel:function(e){return"Show slide "+(e.currentIndex+2)+" of "+e.views.length},getPrevLabel:function(e){return"Show slide "+e.currentIndex+" of "+e.views.length},getNextTitle:function(e){return"Next (right arrow)"},getPrevTitle:function(e){return"Previous (left arrow)"},getCloseLabel:function(e){return"Close (esc)"},getFullscreenLabel:function(e){return e.isFullscreen?"Exit fullscreen (f)":"Enter fullscreen (f)"}},jo={flex:"1 1 auto",position:"relative"},No={outline:0},Uo={currentIndex:0,formatters:Fo,hideControlsWhenIdle:3e3,showNavigationOnTouchDevice:!1,styles:{},trackProps:{instant:!lo(),swipe:"touch"}},Vo=co.Track,qo=function(e){function t(e){Xr(this,t);var n=eo(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Go.call(n),n.cacheComponents(e.components),n.state={currentIndex:e.currentIndex,interactionIsIdle:lo()},n}return $r(t,e),Kr(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.hideControlsWhenIdle,n=e.modalProps,i=Boolean(n);this.mounted=!0,t&&this.container&&(this.container.addEventListener("mousedown",this.handleMouseActivity),this.container.addEventListener("mousemove",this.handleMouseActivity),this.container.addEventListener("touchmove",this.handleMouseActivity)),i&&this.focusViewFrame()}},{key:"componentDidUpdate",value:function(e){e.components!==this.props.components&&this.cacheComponents(e.components),this.props.currentIndex!==e.currentIndex&&this.setState({currentIndex:this.props.currentIndex})}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.props.hideControlsWhenIdle&&this.container&&(this.container.removeEventListener("mousedown",this.handleMouseActivity),this.container.removeEventListener("mousemove",this.handleMouseActivity),this.container.removeEventListener("touchmove",this.handleMouseActivity),this.handleMouseActivity.cancel())}},{key:"getCommonProps",value:function(){var e=this.props,t=e.frameProps,n=e.trackProps,i=e.modalProps,r=e.views,o=e.showNavigationOnTouchDevice,a=Boolean(i),s=Boolean(i&&i.isFullscreen),l=this.state,c=l.currentIndex,u=l.interactionIsIdle,h=this.getViewData();return{carouselProps:this.props,currentIndex:c,currentView:h,formatters:this.props.formatters,frameProps:t,getStyles:this.getStyles,showNavigationOnTouchDevice:o,isFullscreen:s,isModal:a,modalProps:i,interactionIsIdle:u,trackProps:n,views:r}}},{key:"render",value:function(){var e=this.components,t=e.Container,n=e.View,i=this.state.currentIndex,r=this.props,o=r.frameProps,a=r.views,s=this.commonProps=this.getCommonProps();return(0,Kt.ZP)(t,Jr({},s,{innerProps:{innerRef:this.getContainer}}),this.renderHeader(),(0,Kt.ZP)(Jt.hE,{tag:"main",style:jo,className:so("pager")},(0,Kt.ZP)(Jt.RQ,Jr({},o,{ref:this.getFrame,className:so("frame"),style:No,tabIndex:"-1"}),(0,Kt.ZP)(Jt.fQ,Jr({},this.getTrackProps(this.props),{style:{display:"flex",alignItems:"center"},currentView:i,className:so(Vo),onViewChange:this.handleViewChange,ref:this.getTrack}),a&&a.map((function(e,t){return(0,Kt.ZP)(Jt.G7,{className:so("view-wrapper"),key:t},(0,Kt.ZP)(n,Jr({},s,{data:e,index:t})))})))),this.renderNavigation()),this.renderFooter())}}]),t}(t.Component);qo.defaultProps=Uo;var Go=function(){var e=this;this.mounted=!1,this.cacheComponents=function(t){e.components=Jr({},Co,t)},this.getContainer=function(t){e.container=t},this.getFooter=function(t){e.footer=t},this.getFrame=function(t){e.frame=(0,Xt.findDOMNode)(t)},this.getHeader=function(t){e.header=t},this.getTrack=function(t){e.track=t},this.hasPreviousView=function(){var t=e.props.trackProps,n=e.state.currentIndex;return t.infinite||0!==n},this.hasNextView=function(){var t=e.props,n=t.trackProps,i=t.views,r=e.state.currentIndex;return n.infinite||r!==i.length-1},this.getStyles=function(t,n){var i=zo[t](n);i.boxSizing="border-box";var r=e.props.styles[t];return r?r(i,n):i},this.getTrackProps=function(e){return Jr({},Uo.trackProps,e.trackProps)},this.getFormatters=function(){return Jr({},Uo.formatters,e.props.formatters)},this.getViewData=function(){return e.props.views[e.state.currentIndex]},this.focusViewFrame=function(){e.frame&&document.activeElement!==e.frame&&e.frame.focus()},this.prev=function(t){t.stopPropagation(),e.track.prev(),e.focusViewFrame()},this.next=function(t){t.stopPropagation(),e.track.next(),e.focusViewFrame()},this.handleMouseActivity=Yt((function(){clearTimeout(e.timer),e.state.interactionIsIdle&&e.setState({interactionIsIdle:!1}),e.timer=setTimeout((function(){e.mounted&&e.setState({interactionIsIdle:!0})}),e.props.hideControlsWhenIdle)})),this.handleViewChange=function(t){var n=e.props.trackProps,i=t[0];e.setState({currentIndex:i}),n&&n.onViewChange&&n.onViewChange(i)},this.renderNavigation=function(){var t=e.getFormatters(),n=t.getNextLabel,i=t.getPrevLabel,r=t.getNextTitle,o=t.getPrevTitle,a=e.components,s=a.Navigation,l=a.NavigationPrev,c=a.NavigationNext,u=e.commonProps,h=e.hasPreviousView(),d=e.hasNextView();return(h||d)&&s?(0,Kt.ZP)(s,u,h&&(0,Kt.ZP)(l,Jr({},u,{align:"left",innerProps:{"aria-label":i(u),onClick:e.prev,title:o(u)}})),d&&(0,Kt.ZP)(c,Jr({},u,{align:"right",innerProps:{"aria-label":n(u),onClick:e.next,title:r(u)}}))):null},this.renderFooter=function(){var t=e.components,n=t.Footer,i=t.FooterCaption,r=t.FooterCount,o=e.commonProps;return n?(0,Kt.ZP)(n,Jr({},o,{components:{Caption:i,Count:r},innerProps:{innerRef:e.getFooter}})):null},this.renderHeader=function(){var t=e.components,n=t.Header,i=t.HeaderClose,r=t.HeaderFullscreen,o=e.getFormatters(),a=o.getCloseLabel,s=o.getFullscreenLabel,l=e.commonProps;return n?(0,Kt.ZP)(n,Jr({},l,{getCloseLabel:a,getFullscreenLabel:s,components:{CloseButton:i,FullscreenButton:r},data:e.getViewData(),innerProps:{innerRef:e.getHeader}})):null}},Wo=function(e){var n=e.children;return t.Children.toArray(n)[0]||null},Zo=function(e){function n(){return Xr(this,n),eo(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return $r(n,e),Kr(n,[{key:"render",value:function(){if("undefined"===typeof window)return null;var e=this.props,n=e.target,i=e.children;return(0,Xt.createPortal)(t.createElement(Hr,{component:Wo,children:i}),n)}}]),n}(t.Component);Zo.defaultProps={target:"undefined"!==typeof window?document.body:null};const Ho=qo,Xo=e=>{let{photos:n}=e;const[i,r]=(0,t.useState)(0),[o,a]=(0,t.useState)(!1),s=(0,t.useCallback)(((e,t)=>{let{photo:n,index:i}=t;r(i),a(!0)}),[]);return(0,Oe.jsxs)("div",{className:"GridGallery",children:[(0,Oe.jsx)(Ht,{photos:n,onClick:s}),(0,Oe.jsx)(Zo,{children:o?(0,Oe.jsx)(Ro,{onClose:()=>{r(0),a(!1)},children:(0,Oe.jsx)(Ho,{currentIndex:i,views:n.map((e=>({...e,srcset:e.srcSet,caption:e.title})))})}):null})]})},Ko=e=>{let{map:n}=e;const{hikes:i,getHikeById:r}=(0,t.useContext)($e),{selectHike:o}=(0,t.useContext)(Xe),{hikeId:a}=J(),s=Y(),l=r(a);return(0,t.useEffect)((()=>{l&&(n.current.loaded()?o(n,i,l,s):n.current.on("load",(async()=>{o(n,i,l,s)})))})),null!=l?(0,Oe.jsxs)("section",{className:"hike",children:[(0,Oe.jsxs)("div",{className:"hike-content",children:[(0,Oe.jsx)("h2",{className:"hike-title",children:l.title}),(0,Oe.jsxs)("div",{className:"hike-numbers",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("span",{className:"hike-numbers-title",children:"Difficult\xe9"}),(0,Oe.jsx)("span",{className:"hike-numbers-content",children:l.difficulty})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("span",{className:"hike-numbers-title",children:"Distance"}),(0,Oe.jsx)("span",{className:"hike-numbers-content",children:l.distance})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("span",{className:"hike-numbers-title",children:"D\xe9nivel\xe9 positif"}),(0,Oe.jsx)("span",{className:"hike-numbers-content",children:l.positiveElevation})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("span",{className:"hike-numbers-title",children:"Dur\xe9e"}),(0,Oe.jsx)("span",{className:"hike-numbers-content",children:l.duration})]})]}),(0,Oe.jsx)("div",{className:"hike-description",children:at(l.description)})]}),(0,Oe.jsx)("div",{className:"hike-photos",children:(0,Oe.jsx)(Xo,{photos:l.photos})})]}):(0,Oe.jsx)("section",{className:"hike",children:(0,Oe.jsx)("div",{className:"hike-content",children:(0,Oe.jsx)("h2",{className:"hike-title",children:"Aucune randonn\xe9e trouv\xe9e..."})})})},Yo=[{id:"visit-1",title:"Maison du curcuma",subTitle:"Culture, fabrication, s\xe9chage...",description:"<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolorem fugiat hic quam? Ad corporis dolore dolorem dolores doloribus enim, error excepturi libero molestias nesciunt quam recusandae sit tenetur unde voluptatem.</p>\n<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fugiat minus veritatis voluptatem! A corporis cum neque perspiciatis provident quod recusandae velit? Beatae esse excepturi itaque nam nisi omnis soluta voluptatem.</p>\n<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. At necessitatibus perspiciatis quas qui quia. Asperiores consequuntur ducimus officia optio quam, recusandae similique! Explicabo facere fugiat nam neque perspiciatis. Dolor, illo!</p>\n",position:{longitude:55.6051691,latitude:-21.3266858},photos:[{src:"/reunion/images/visits/1_maison_curcuma/1-min.jpg",width:3,height:2},{src:"/reunion/images/visits/1_maison_curcuma/2-min.jpg",width:3,height:2},{src:"/reunion/images/visits/1_maison_curcuma/3-min.jpg",width:3,height:2},{src:"/reunion/images/visits/1_maison_curcuma/4-min.jpg",width:4,height:5},{src:"/reunion/images/visits/1_maison_curcuma/5-min.jpg",width:3,height:2},{src:"/reunion/images/visits/1_maison_curcuma/6-min.jpg",width:4,height:5},{src:"/reunion/images/visits/1_maison_curcuma/7-min.jpg",width:4,height:5},{src:"/reunion/images/visits/1_maison_curcuma/8-min.jpg",width:4,height:5}]},{id:"visit-2",title:"Maison du coco",subTitle:"D\xe9couverte, cuisine, atelier...",description:"<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolorem fugiat hic quam? Ad corporis dolore dolorem dolores doloribus enim, error excepturi libero molestias nesciunt quam recusandae sit tenetur unde voluptatem.</p>\n<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fugiat minus veritatis voluptatem! A corporis cum neque perspiciatis provident quod recusandae velit? Beatae esse excepturi itaque nam nisi omnis soluta voluptatem.</p>\n<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. At necessitatibus perspiciatis quas qui quia. Asperiores consequuntur ducimus officia optio quam, recusandae similique! Explicabo facere fugiat nam neque perspiciatis. Dolor, illo!</p>\n",position:{longitude:55.2792452,latitude:-21.141032},photos:[{src:"/reunion/images/visits/2_maison_coco/1-min.jpg",width:4,height:5},{src:"/reunion/images/visits/2_maison_coco/2-min.jpg",width:4,height:5},{src:"/reunion/images/visits/2_maison_coco/3-min.jpg",width:4,height:5},{src:"/reunion/images/visits/2_maison_coco/4-min.jpg",width:4,height:5},{src:"/reunion/images/visits/2_maison_coco/5-min.jpg",width:4,height:5},{src:"/reunion/images/visits/2_maison_coco/6-min.jpg",width:4,height:5},{src:"/reunion/images/visits/2_maison_coco/7-min.jpg",width:3,height:2},{src:"/reunion/images/visits/2_maison_coco/8-min.jpg",width:4,height:5},{src:"/reunion/images/visits/2_maison_coco/9-min.jpg",width:4,height:5},{src:"/reunion/images/visits/2_maison_coco/10-min.jpg",width:4,height:5},{src:"/reunion/images/visits/2_maison_coco/11-min.jpg",width:4,height:5},{src:"/reunion/images/visits/2_maison_coco/12-min.jpg",width:4,height:5}]},{id:"visit-3",title:"Far far kreol",subTitle:"March\xe9, cuisine, rhum arrang\xe9...",description:"<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolorem fugiat hic quam? Ad corporis dolore dolorem dolores doloribus enim, error excepturi libero molestias nesciunt quam recusandae sit tenetur unde voluptatem.</p>\n<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fugiat minus veritatis voluptatem! A corporis cum neque perspiciatis provident quod recusandae velit? Beatae esse excepturi itaque nam nisi omnis soluta voluptatem.</p>\n<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. At necessitatibus perspiciatis quas qui quia. Asperiores consequuntur ducimus officia optio quam, recusandae similique! Explicabo facere fugiat nam neque perspiciatis. Dolor, illo!</p>\n",position:{longitude:55.5098019,latitude:-20.9492937},photos:[{src:"/reunion/images/visits/3_far_far_kreol/1-min.jpg",width:4,height:5},{src:"/reunion/images/visits/3_far_far_kreol/2-min.jpg",width:4,height:5},{src:"/reunion/images/visits/3_far_far_kreol/3-min.jpg",width:4,height:5},{src:"/reunion/images/visits/3_far_far_kreol/4-min.jpg",width:4,height:5},{src:"/reunion/images/visits/3_far_far_kreol/5-min.jpg",width:4,height:5},{src:"/reunion/images/visits/3_far_far_kreol/6-min.jpg",width:3,height:2},{src:"/reunion/images/visits/3_far_far_kreol/7-min.jpg",width:4,height:5},{src:"/reunion/images/visits/3_far_far_kreol/8-min.jpg",width:4,height:5},{src:"/reunion/images/visits/3_far_far_kreol/9-min.jpg",width:4,height:5},{src:"/reunion/images/visits/3_far_far_kreol/10-min.jpg",width:4,height:5},{src:"/reunion/images/visits/3_far_far_kreol/11-min.jpg",width:4,height:5},{src:"/reunion/images/visits/3_far_far_kreol/12-min.jpg",width:3,height:2},{src:"/reunion/images/visits/3_far_far_kreol/13-min.jpg",width:4,height:5},{src:"/reunion/images/visits/3_far_far_kreol/14-min.jpg",width:4,height:5},{src:"/reunion/images/visits/3_far_far_kreol/15-min.jpg",width:4,height:5},{src:"/reunion/images/visits/3_far_far_kreol/16-min.jpg",width:3,height:2}]},{id:"visit-4",title:"Vanilleraie - Sainte-Suzanne",subTitle:"Domaine du Grand Hazier",description:"<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolorem fugiat hic quam? Ad corporis dolore dolorem dolores doloribus enim, error excepturi libero molestias nesciunt quam recusandae sit tenetur unde voluptatem.</p>\n<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fugiat minus veritatis voluptatem! A corporis cum neque perspiciatis provident quod recusandae velit? Beatae esse excepturi itaque nam nisi omnis soluta voluptatem.</p>\n<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. At necessitatibus perspiciatis quas qui quia. Asperiores consequuntur ducimus officia optio quam, recusandae similique! Explicabo facere fugiat nam neque perspiciatis. Dolor, illo!</p>\n",position:{longitude:55.588475,latitude:-20.904405},photos:[{src:"/reunion/images/visits/4_sainte_suzanne_vanilleraie/1-min.jpg",width:4,height:5},{src:"/reunion/images/visits/4_sainte_suzanne_vanilleraie/2-min.jpg",width:4,height:5},{src:"/reunion/images/visits/4_sainte_suzanne_vanilleraie/3-min.jpg",width:4,height:5},{src:"/reunion/images/visits/4_sainte_suzanne_vanilleraie/4-min.jpg",width:4,height:5},{src:"/reunion/images/visits/4_sainte_suzanne_vanilleraie/5-min.jpg",width:4,height:5},{src:"/reunion/images/visits/4_sainte_suzanne_vanilleraie/6-min.jpg",width:3,height:2},{src:"/reunion/images/visits/4_sainte_suzanne_vanilleraie/7-min.jpg",width:3,height:2},{src:"/reunion/images/visits/4_sainte_suzanne_vanilleraie/8-min.jpg",width:3,height:2},{src:"/reunion/images/visits/4_sainte_suzanne_vanilleraie/9-min.jpg",width:4,height:5},{src:"/reunion/images/visits/4_sainte_suzanne_vanilleraie/10-min.jpg",width:4,height:5},{src:"/reunion/images/visits/4_sainte_suzanne_vanilleraie/11-min.jpg",width:3,height:2},{src:"/reunion/images/visits/4_sainte_suzanne_vanilleraie/12-min.jpg",width:3,height:2},{src:"/reunion/images/visits/4_sainte_suzanne_vanilleraie/13-min.jpg",width:3,height:2},{src:"/reunion/images/visits/4_sainte_suzanne_vanilleraie/14-min.jpg",width:3,height:2},{src:"/reunion/images/visits/4_sainte_suzanne_vanilleraie/15-min.jpg",width:4,height:5},{src:"/reunion/images/visits/4_sainte_suzanne_vanilleraie/16-min.jpg",width:3,height:2},{src:"/reunion/images/visits/4_sainte_suzanne_vanilleraie/17-min.jpg",width:4,height:5}]}],Jo={visits:Yo,getVisitById:e=>Yo.filter((t=>t.id===e))[0]},$o=t.createContext(Jo),Qo=e=>{let{map:n}=e;const{visits:i}=(0,t.useContext)($o),{showVisits:r,highlightMarker:o,unHighlightMarker:a}=(0,t.useContext)(Xe),s=Y();return(0,t.useEffect)((()=>{r(n,i,s)})),(0,Oe.jsx)("section",{className:"visits",children:(0,Oe.jsx)("ul",{children:i.map((e=>(0,Oe.jsx)("li",{className:"item",children:(0,Oe.jsxs)("a",{href:"/reunion/visits/"+e.id,onClick:t=>{t.preventDefault(),s("/reunion/visits/"+e.id)},onMouseOver:t=>{o(n,e.id,[e.position.longitude,e.position.latitude])},onMouseLeave:t=>{a(n,e.id)},children:[(0,Oe.jsx)("img",{src:e.photos[0].src,alt:e.photos[0].title}),(0,Oe.jsxs)("div",{className:"infos",children:[(0,Oe.jsx)("h3",{className:"title",children:e.title}),(0,Oe.jsxs)("h4",{className:"subtitle",children:[(0,Oe.jsx)(we,{}),e.subTitle]})]})]})},e.id)))})})},ea=e=>{let{map:n}=e;const{visits:i,getVisitById:r}=(0,t.useContext)($o),{selectVisit:o}=(0,t.useContext)(Xe),{visitId:a}=J(),s=Y(),l=r(a);return(0,t.useEffect)((()=>{l&&(n.current.loaded()?o(n,i,l,s):n.current.on("load",(async()=>{o(n,i,l,s)})))})),null!=l?(0,Oe.jsxs)("section",{className:"visit",children:[(0,Oe.jsxs)("div",{className:"visit-content",children:[(0,Oe.jsx)("h2",{className:"visit-title",children:l.title}),(0,Oe.jsx)("div",{className:"visit-description",children:at(l.description)})]}),(0,Oe.jsx)("div",{className:"visit-photos",children:(0,Oe.jsx)(Xo,{photos:l.photos})})]}):(0,Oe.jsx)("section",{className:"visit",children:(0,Oe.jsx)("div",{className:"visit-content",children:(0,Oe.jsx)("h2",{className:"visit-title",children:"Aucune visite trouv\xe9e..."})})})};const ta=function(){const e=(0,t.useRef)(null);return(0,Oe.jsxs)("div",{className:"app",children:[(0,Oe.jsx)("header",{className:"header",children:(0,Oe.jsx)(Re,{})}),(0,Oe.jsx)("div",{className:"map-container",children:(0,Oe.jsx)(Ke,{map:e})}),(0,Oe.jsx)("div",{className:"main",children:(0,Oe.jsxs)(de,{children:[(0,Oe.jsx)(ue,{path:"/reunion/hikes",element:(0,Oe.jsx)(rt,{map:e})}),(0,Oe.jsx)(ue,{path:"/reunion/hikes/:hikeId",element:(0,Oe.jsx)(Ko,{map:e})}),(0,Oe.jsx)(ue,{path:"/reunion/visits",element:(0,Oe.jsx)(Qo,{map:e})}),(0,Oe.jsx)(ue,{path:"/reunion/visits/:visitId",element:(0,Oe.jsx)(ea,{map:e})})]})})]})},na=e=>{e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((t=>{let{getCLS:n,getFID:i,getFCP:r,getLCP:o,getTTFB:a}=t;n(e),i(e),r(e),o(e),a(e)}))};r.createRoot(document.getElementById("root")).render((0,Oe.jsx)(t.StrictMode,{children:(0,Oe.jsx)(Me,{children:(0,Oe.jsx)(ta,{})})})),na()})()})();
//# sourceMappingURL=main.64428069.js.map